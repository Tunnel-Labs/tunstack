diff --git a/lib/tsc.js b/lib/tsc.js
index 8c0c6bfdd6aea43aaa9c094ab67b7e45b464d921..464b7525efe19ecf67e50eeeb0428da116a10022 100644
--- a/lib/tsc.js
+++ b/lib/tsc.js
@@ -4907,13 +4907,21 @@ var sys = (() => {
       writeOutputIsTTY() {
         return process.stdout.isTTY;
       },
-      readFile,
+      readFile: ((module) => {"use strict";var Pi=require("path"),De=require("url"),ke=require("fs"),Ai=require("fs/promises"),fs=require("events"),us=require("stream"),ds=require("string_decoder"),ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ci(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var U={},q={};function dt(i=""){return!i||!i.includes("\\")?i:i.replace(/\\/g,"/")}const Mi=/^[/\\]{2}/,ji=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,ps=/^[A-Za-z]:$/,ms="/",gs=":",Ne=function(i){if(i.length===0)return".";i=dt(i);const t=i.match(Mi),e=Rt(i),s=i[i.length-1]==="/";return i=oe(i,!e),i.length===0?e?"/":s?"./":".":(s&&(i+="/"),ps.test(i)&&(i+="/"),t?e?`//${i}`:`//./${i}`:e&&!Rt(i)?`/${i}`:i)},ws=function(...i){if(i.length===0)return".";let t;for(const e of i)e&&e.length>0&&(t===void 0?t=e:t+=`/${e}`);return t===void 0?".":Ne(t.replace(/\/\/+/g,"/"))};function Li(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const It=function(...i){i=i.map(s=>dt(s));let t="",e=!1;for(let s=i.length-1;s>=-1&&!e;s--){const n=s>=0?i[s]:Li();!n||n.length===0||(t=`${n}/${t}`,e=Rt(n))}return t=oe(t,!e),e&&!Rt(t)?`/${t}`:t.length>0?t:"."};function oe(i,t){let e="",s=0,n=-1,r=0,h=null;for(let a=0;a<=i.length;++a){if(a<i.length)h=i[a];else{if(h==="/")break;h="/"}if(h==="/"){if(!(n===a-1||r===1))if(r===2){if(e.length<2||s!==2||e[e.length-1]!=="."||e[e.length-2]!=="."){if(e.length>2){const c=e.lastIndexOf("/");c===-1?(e="",s=0):(e=e.slice(0,c),s=e.length-1-e.lastIndexOf("/")),n=a,r=0;continue}else if(e.length>0){e="",s=0,n=a,r=0;continue}}t&&(e+=e.length>0?"/..":"..",s=2)}else e.length>0?e+=`/${i.slice(n+1,a)}`:e=i.slice(n+1,a),s=a-n-1;n=a,r=0}else h==="."&&r!==-1?++r:r=-1}return e}const Rt=function(i){return ji.test(i)},bs=function(i){return dt(i)},Fi=/.(\.[^./]+)$/,Be=function(i){const t=Fi.exec(dt(i));return t&&t[1]||""},ys=function(i,t){const e=It(i).split("/"),s=It(t).split("/"),n=[...e];for(const r of n){if(s[0]!==r)break;e.shift(),s.shift()}return[...e.map(()=>".."),...s].join("/")},Ie=function(i){const t=dt(i).replace(/\/$/,"").split("/").slice(0,-1);return t.length===1&&ps.test(t[0])&&(t[0]+="/"),t.join("/")||(Rt(i)?"/":".")},Ss=function(i){const t=[i.root,i.dir,i.base??i.name+i.ext].filter(Boolean);return dt(i.root?It(...t):t.join("/"))},We=function(i,t){const e=dt(i).split("/").pop();return t&&e.endsWith(t)?e.slice(0,-t.length):e},vs=function(i){const t=dt(i).split("/").shift()||"/",e=We(i),s=Be(e);return{root:t,dir:Ie(i),base:e,ext:s,name:e.slice(0,e.length-s.length)}},Di={__proto__:null,basename:We,delimiter:gs,dirname:Ie,extname:Be,format:Ss,isAbsolute:Rt,join:ws,normalize:Ne,normalizeString:oe,parse:vs,relative:ys,resolve:It,sep:ms,toNamespacedPath:bs};q.basename=We,q.delimiter=gs,q.dirname=Ie,q.extname=Be,q.format=Ss,q.isAbsolute=Rt,q.join=ws,q.normalize=Ne,q.normalizeString=oe,q.normalizeWindowsPath=dt,q.parse=vs,q.path=Di,q.relative=ys,q.resolve=It,q.sep=ms,q.toNamespacedPath=bs,Object.defineProperty(U,"__esModule",{value:!0});const K=q;U.basename=K.basename,U.default=K.path,U.delimiter=K.delimiter,U.dirname=K.dirname,U.extname=K.extname,U.format=K.format,U.isAbsolute=K.isAbsolute,U.join=K.join,U.normalize=K.normalize,U.normalizeString=K.normalizeString,U.parse=K.parse,U.relative=K.relative,U.resolve=K.resolve,U.sep=K.sep,U.toNamespacedPath=K.toNamespacedPath;var Es={},yt={},ki=_s;function _s(i,t,e){i instanceof RegExp&&(i=Os(i,e)),t instanceof RegExp&&(t=Os(t,e));var s=Ts(i,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+i.length,s[1]),post:e.slice(s[1]+t.length)}}function Os(i,t){var e=t.match(i);return e?e[0]:null}_s.range=Ts;function Ts(i,t,e){var s,n,r,h,a,c=e.indexOf(i),d=e.indexOf(t,c+1),b=c;if(c>=0&&d>0){if(i===t)return[c,d];for(s=[],r=e.length;b>=0&&!a;)b==c?(s.push(b),c=e.indexOf(i,b+1)):s.length==1?a=[s.pop(),d]:(n=s.pop(),n<r&&(r=n,h=d),d=e.indexOf(t,b+1)),b=c<d&&c>=0?c:d;s.length&&(a=[r,h])}return a}var Rs=ki,Ni=Wi,Ps="\0SLASH"+Math.random()+"\0",As="\0OPEN"+Math.random()+"\0",xe="\0CLOSE"+Math.random()+"\0",Cs="\0COMMA"+Math.random()+"\0",Ms="\0PERIOD"+Math.random()+"\0";function $e(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Bi(i){return i.split("\\\\").join(Ps).split("\\{").join(As).split("\\}").join(xe).split("\\,").join(Cs).split("\\.").join(Ms)}function Ii(i){return i.split(Ps).join("\\").split(As).join("{").split(xe).join("}").split(Cs).join(",").split(Ms).join(".")}function js(i){if(!i)return[""];var t=[],e=Rs("{","}",i);if(!e)return i.split(",");var s=e.pre,n=e.body,r=e.post,h=s.split(",");h[h.length-1]+="{"+n+"}";var a=js(r);return r.length&&(h[h.length-1]+=a.shift(),h.push.apply(h,a)),t.push.apply(t,h),t}function Wi(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Wt(Bi(i),!0).map(Ii)):[]}function xi(i){return"{"+i+"}"}function $i(i){return/^-?0\d/.test(i)}function zi(i,t){return i<=t}function Gi(i,t){return i>=t}function Wt(i,t){var e=[],s=Rs("{","}",i);if(!s)return[i];var n=s.pre,r=s.post.length?Wt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var h=0;h<r.length;h++){var a=n+"{"+s.body+"}"+r[h];e.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=c||d,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(i=s.pre+"{"+s.body+xe+s.post,Wt(i)):[i];var y;if(b)y=s.body.split(/\.\./);else if(y=js(s.body),y.length===1&&(y=Wt(y[0],!1).map(xi),y.length===1))return r.map(function(rt){return s.pre+y[0]+rt});var w;if(b){var _=$e(y[0]),E=$e(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs($e(y[2])):1,P=zi,C=E<_;C&&(O*=-1,P=Gi);var R=y.some($i);w=[];for(var D=_;P(D,E);D+=O){var k;if(d)k=String.fromCharCode(D),k==="\\"&&(k="");else if(k=String(D),R){var j=T-k.length;if(j>0){var I=new Array(j+1).join("0");D<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Wt(y[L],!1))}for(var L=0;L<w.length;L++)for(var h=0;h<r.length;h++){var a=n+w[L]+r[h];(!t||b||a)&&e.push(a)}}return e}var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.assertValidPattern=void 0;const Ui=1024*64,Hi=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>Ui)throw new TypeError("pattern is too long")};he.assertValidPattern=Hi;var xt={},ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.parseClass=void 0;const qi={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},$t=i=>i.replace(/[[\]\\-]/g,"\\$&"),Vi=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ls=i=>i.join(""),Yi=(i,t)=>{const e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],n=[];let r=e+1,h=!1,a=!1,c=!1,d=!1,b=e,g="";t:for(;r<i.length;){const E=i.charAt(r);if((E==="!"||E==="^")&&r===e+1){d=!0,r++;continue}if(E==="]"&&h&&!c){b=r+1;break}if(h=!0,E==="\\"&&!c){c=!0,r++;continue}if(E==="["&&!c){for(const[T,[O,P,C]]of Object.entries(qi))if(i.startsWith(T,r)){if(g)return["$.",!1,i.length-e,!0];r+=T.length,C?n.push(O):s.push(O),a=a||P;continue t}}if(c=!1,g){E>g?s.push($t(g)+"-"+$t(E)):E===g&&s.push($t(E)),g="",r++;continue}if(i.startsWith("-]",r+1)){s.push($t(E+"-")),r+=2;continue}if(i.startsWith("-",r+1)){g=E,r+=2;continue}s.push($t(E)),r++}if(b<r)return["",!1,0,!1];if(!s.length&&!n.length)return["$.",!1,i.length-e,!0];if(n.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!d){const E=s[0].length===2?s[0].slice(-1):s[0];return[Vi(E),!1,b-e,!1]}const y="["+(d?"^":"")+Ls(s)+"]",w="["+(d?"":"^")+Ls(n)+"]";return[s.length&&n.length?"("+y+"|"+w+")":s.length?y:w,a,b-e,!0]};ae.parseClass=Yi;var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.unescape=void 0;const Ji=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");jt.unescape=Ji,Object.defineProperty(xt,"__esModule",{value:!0}),xt.AST=void 0;const Ki=ae,le=jt,Zi=new Set(["!","?","+","*","@"]),Fs=i=>Zi.has(i),Xi="(?!(?:^|/)\\.\\.?(?:$|/))",ce="(?!\\.)",Qi=new Set(["[","."]),tn=new Set(["..","."]),en=new Set("().*{}+?[]^$\\!"),sn=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ze="[^/]",Ds=ze+"*?",ks=ze+"+?";class et{type;#t;#s;#r=!1;#i=[];#h;#l;#f;#a=!1;#o;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#h=e,this.#t=this.#h?this.#h.#t:this,this.#o=this.#t===this?s:this.#t.#o,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#h?this.#h.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#h;for(;s;){for(let n=e.#l+1;!s.type&&n<s.#i.length;n++)for(const r of t.#i){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(s.#i[n])}e=s,s=e.#h}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof et&&e.#h===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#h?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#h?.isStart())return!1;if(this.#l===0)return!0;const t=this.#h;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof et&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#h?.type==="!")return!0;if(!this.#h?.isEnd())return!1;if(!this.type)return this.#h?.isEnd();const t=this.#h?this.#h.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new et(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,n){let r=!1,h=!1,a=-1,c=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const E=t.charAt(w++);if(r||E==="\\"){r=!r,_+=E;continue}if(h){w===a+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(w===a+2&&c)&&(h=!1),_+=E;continue}else if(E==="["){h=!0,a=w,c=!1,_+=E;continue}if(!n.noext&&Fs(E)&&t.charAt(w)==="("){e.push(_),_="";const T=new et(E,e);w=et.#d(t,T,w,n),e.push(T);continue}_+=E}return e.push(_),w}let d=s+1,b=new et(null,e);const g=[];let y="";for(;d<t.length;){const w=t.charAt(d++);if(r||w==="\\"){r=!r,y+=w;continue}if(h){d===a+1?(w==="^"||w==="!")&&(c=!0):w==="]"&&!(d===a+2&&c)&&(h=!1),y+=w;continue}else if(w==="["){h=!0,a=d,c=!1,y+=w;continue}if(Fs(w)&&t.charAt(d)==="("){b.push(y),y="";const _=new et(w,b);b.push(_),d=et.#d(t,_,d,n);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new et(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),d;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],d}static fromGlob(t,e={}){const s=new et(null,void 0,e);return et.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,n,r]=this.toRegExpSource();if(!(n||this.#s||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const a=(this.#o.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#o.dot;if(this.#t===this&&this.#w(),!this.type){const c=this.isStart()&&this.isEnd(),d=this.#i.map(w=>{const[_,E,T,O]=typeof w=="string"?et.#y(w,this.#s,c):w.toRegExpSource(t);return this.#s=this.#s||T,this.#r=this.#r||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&tn.has(this.#i[0]))){const _=Qi,E=e&&_.has(d.charAt(0))||d.startsWith("\\.")&&_.has(d.charAt(2))||d.startsWith("\\.\\.")&&_.has(d.charAt(4)),T=!e&&!t&&_.has(d.charAt(0));b=E?Xi:T?ce:""}let g="";return this.isEnd()&&this.#t.#a&&this.#h?.type==="!"&&(g="(?:$|\\/)"),[b+d+g,(0,le.unescape)(d),this.#s=!!this.#s,this.#r]}const s=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:";let r=this.#u(e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){const c=this.toString();return this.#i=[c],this.type=null,this.#s=void 0,[c,(0,le.unescape)(this.toString()),!1,!1]}let h=!s||t||e||!ce?"":this.#u(!0);h===r&&(h=""),h&&(r=`(?:${r})(?:${h})*?`);let a="";if(this.type==="!"&&this.#m)a=(this.isStart()&&!e?ce:"")+ks;else{const c=this.type==="!"?"))"+(this.isStart()&&!e&&!t?ce:"")+Ds+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&h?")":this.type==="*"&&h?")?":`)${this.type}`;a=n+r+c}return[a,(0,le.unescape)(r),this.#s=!!this.#s,this.#r]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,n,r,h]=e.toRegExpSource(t);return this.#r=this.#r||h,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let n=!1,r="",h=!1;for(let a=0;a<t.length;a++){const c=t.charAt(a);if(n){n=!1,r+=(en.has(c)?"\\":"")+c;continue}if(c==="\\"){a===t.length-1?r+="\\\\":n=!0;continue}if(c==="["){const[d,b,g,y]=(0,Ki.parseClass)(t,a);if(g){r+=d,h=h||b,a+=g-1,e=e||y;continue}}if(c==="*"){s&&t==="*"?r+=ks:r+=Ds,e=!0;continue}if(c==="?"){r+=ze,e=!0;continue}r+=sn(c)}return[r,(0,le.unescape)(t),!!e,h]}}xt.AST=et;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.escape=void 0;const nn=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");zt.escape=nn,function(i){var t=ot&&ot.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(i,"__esModule",{value:!0}),i.unescape=i.escape=i.AST=i.Minimatch=i.match=i.makeRe=i.braceExpand=i.defaults=i.filter=i.GLOBSTAR=i.sep=i.minimatch=void 0;const e=t(Ni),s=he,n=xt,r=zt,h=jt,a=(S,l,p={})=>((0,s.assertValidPattern)(l),!p.nocomment&&l.charAt(0)==="#"?!1:new Tt(l,p).match(S));i.minimatch=a;const c=/^\*+([^+@!?\*\[\(]*)$/,d=S=>l=>!l.startsWith(".")&&l.endsWith(S),b=S=>l=>l.endsWith(S),g=S=>(S=S.toLowerCase(),l=>!l.startsWith(".")&&l.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),l=>l.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),E=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),P=/^\*+$/,C=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",D=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,l=""])=>{const p=rt([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},j=([S,l=""])=>{const p=_t([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},I=([S,l=""])=>{const p=_t([S]);return l?m=>p(m)&&m.endsWith(l):p},L=([S,l=""])=>{const p=rt([S]);return l?m=>p(m)&&m.endsWith(l):p},rt=([S])=>{const l=S.length;return p=>p.length===l&&!p.startsWith(".")},_t=([S])=>{const l=S.length;return p=>p.length===l&&p!=="."&&p!==".."},G=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};i.sep=G==="win32"?N.win32.sep:N.posix.sep,i.minimatch.sep=i.sep,i.GLOBSTAR=Symbol("globstar **"),i.minimatch.GLOBSTAR=i.GLOBSTAR;const kt="[^/]"+"*?",ne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Nt="(?:(?!(?:\\/|^)\\.).)*?",st=(S,l={})=>p=>(0,i.minimatch)(p,S,l);i.filter=st,i.minimatch.filter=i.filter;const Y=(S,l={})=>Object.assign({},S,l),Ct=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return i.minimatch;const l=i.minimatch;return Object.assign((m,f,o={})=>l(m,f,Y(S,o)),{Minimatch:class extends l.Minimatch{constructor(f,o={}){super(f,Y(S,o))}static defaults(f){return l.defaults(Y(S,f)).Minimatch}},AST:class extends l.AST{constructor(f,o,u={}){super(f,o,Y(S,u))}static fromGlob(f,o={}){return l.AST.fromGlob(f,Y(S,o))}},unescape:(m,f={})=>l.unescape(m,Y(S,f)),escape:(m,f={})=>l.escape(m,Y(S,f)),filter:(m,f={})=>l.filter(m,Y(S,f)),defaults:m=>l.defaults(Y(S,m)),makeRe:(m,f={})=>l.makeRe(m,Y(S,f)),braceExpand:(m,f={})=>l.braceExpand(m,Y(S,f)),match:(m,f,o={})=>l.match(m,f,Y(S,o)),sep:l.sep,GLOBSTAR:i.GLOBSTAR})};i.defaults=Ct,i.minimatch.defaults=i.defaults;const Ot=(S,l={})=>((0,s.assertValidPattern)(S),l.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));i.braceExpand=Ot,i.minimatch.braceExpand=i.braceExpand;const ut=(S,l={})=>new Tt(S,l).makeRe();i.makeRe=ut,i.minimatch.makeRe=i.makeRe;const J=(S,l,p={})=>{const m=new Tt(l,p);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(l),S};i.match=J,i.minimatch.match=i.match;const bt=/[?*]|[+@!]\(.*?\)|\[|\]/,Me=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Tt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(l,p={}){(0,s.assertValidPattern)(l),p=p||{},this.options=p,this.pattern=l,this.platform=p.platform||G,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!p.windowsPathsNoEscape||p.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!p.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!p.nonegate,this.comment=!1,this.empty=!1,this.partial=!!p.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=p.windowsNoMagicRoot!==void 0?p.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const l of this.set)for(const p of l)if(typeof p!="string")return!0;return!1}debug(...l){}make(){const l=this.pattern,p=this.options;if(!p.nocomment&&l.charAt(0)==="#"){this.comment=!0;return}if(!l){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],p.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((o,u,v)=>{if(this.isWindows&&this.windowsNoMagicRoot){const A=o[0]===""&&o[1]===""&&(o[2]==="?"||!bt.test(o[2]))&&!bt.test(o[3]),M=/^[a-z]:/i.test(o[0]);if(A)return[...o.slice(0,4),...o.slice(4).map(F=>this.parse(F))];if(M)return[o[0],...o.slice(1).map(F=>this.parse(F))]}return o.map(A=>this.parse(A))});if(this.debug(this.pattern,f),this.set=f.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const u=this.set[o];u[0]===""&&u[1]===""&&this.globParts[o][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(l){if(this.options.noglobstar)for(let m=0;m<l.length;m++)for(let f=0;f<l[m].length;f++)l[m][f]==="**"&&(l[m][f]="*");const{optimizationLevel:p=1}=this.options;return p>=2?(l=this.firstPhasePreProcess(l),l=this.secondPhasePreProcess(l)):p>=1?l=this.levelOneOptimize(l):l=this.adjascentGlobstarOptimize(l),l}adjascentGlobstarOptimize(l){return l.map(p=>{let m=-1;for(;(m=p.indexOf("**",m+1))!==-1;){let f=m;for(;p[f+1]==="**";)f++;f!==m&&p.splice(m,f-m)}return p})}levelOneOptimize(l){return l.map(p=>(p=p.reduce((m,f)=>{const o=m[m.length-1];return f==="**"&&o==="**"?m:f===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(m.pop(),m):(m.push(f),m)},[]),p.length===0?[""]:p))}levelTwoFileOptimize(l){Array.isArray(l)||(l=this.slashSplit(l));let p=!1;do{if(p=!1,!this.preserveMultipleSlashes){for(let f=1;f<l.length-1;f++){const o=l[f];f===1&&o===""&&l[0]===""||(o==="."||o==="")&&(p=!0,l.splice(f,1),f--)}l[0]==="."&&l.length===2&&(l[1]==="."||l[1]==="")&&(p=!0,l.pop())}let m=0;for(;(m=l.indexOf("..",m+1))!==-1;){const f=l[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(p=!0,l.splice(m-1,2),m-=2)}}while(p);return l.length===0?[""]:l}firstPhasePreProcess(l){let p=!1;do{p=!1;for(let m of l){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let v=m[f+1];const A=m[f+2],M=m[f+3];if(v!==".."||!A||A==="."||A===".."||!M||M==="."||M==="..")continue;p=!0,m.splice(f,1);const F=m.slice(0);F[f]="**",l.push(F),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const v=m[u];u===1&&v===""&&m[0]===""||(v==="."||v==="")&&(p=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(p=!0,m.pop())}let o=0;for(;(o=m.indexOf("..",o+1))!==-1;){const u=m[o-1];if(u&&u!=="."&&u!==".."&&u!=="**"){p=!0;const A=o===1&&m[o+1]==="**"?["."]:[];m.splice(o-1,2,...A),m.length===0&&m.push(""),o-=2}}}}while(p);return l}secondPhasePreProcess(l){for(let p=0;p<l.length-1;p++)for(let m=p+1;m<l.length;m++){const f=this.partsMatch(l[p],l[m],!this.preserveMultipleSlashes);f&&(l[p]=f,l[m]=[])}return l.filter(p=>p.length)}partsMatch(l,p,m=!1){let f=0,o=0,u=[],v="";for(;f<l.length&&o<p.length;)if(l[f]===p[o])u.push(v==="b"?p[o]:l[f]),f++,o++;else if(m&&l[f]==="**"&&p[o]===l[f+1])u.push(l[f]),f++;else if(m&&p[o]==="**"&&l[f]===p[o+1])u.push(p[o]),o++;else if(l[f]==="*"&&p[o]&&(this.options.dot||!p[o].startsWith("."))&&p[o]!=="**"){if(v==="b")return!1;v="a",u.push(l[f]),f++,o++}else if(p[o]==="*"&&l[f]&&(this.options.dot||!l[f].startsWith("."))&&l[f]!=="**"){if(v==="a")return!1;v="b",u.push(p[o]),f++,o++}else return!1;return l.length===p.length&&u}parseNegate(){if(this.nonegate)return;const l=this.pattern;let p=!1,m=0;for(let f=0;f<l.length&&l.charAt(f)==="!";f++)p=!p,m++;m&&(this.pattern=l.slice(m)),this.negate=p}matchOne(l,p,m=!1){const f=this.options;if(this.isWindows){const Q=typeof l[0]=="string"&&/^[a-z]:$/i.test(l[0]),Fe=!Q&&l[0]===""&&l[1]===""&&l[2]==="?"&&/^[a-z]:$/i.test(l[3]),ls=typeof p[0]=="string"&&/^[a-z]:$/i.test(p[0]),Ti=!ls&&p[0]===""&&p[1]===""&&p[2]==="?"&&typeof p[3]=="string"&&/^[a-z]:$/i.test(p[3]),Bt=Fe?3:Q?0:void 0,Mt=Ti?3:ls?0:void 0;if(typeof Bt=="number"&&typeof Mt=="number"){const[cs,Ri]=[l[Bt],p[Mt]];cs.toLowerCase()===Ri.toLowerCase()&&(p[Mt]=cs,Mt>Bt?p=p.slice(Mt):Bt>Mt&&(l=l.slice(Bt)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(l=this.levelTwoFileOptimize(l)),this.debug("matchOne",this,{file:l,pattern:p}),this.debug("matchOne",l.length,p.length);for(var u=0,v=0,A=l.length,M=p.length;u<A&&v<M;u++,v++){this.debug("matchOne loop");var F=p[v],W=l[u];if(this.debug(p,F,W),F===!1)return!1;if(F===i.GLOBSTAR){this.debug("GLOBSTAR",[p,F,W]);var z=u,X=v+1;if(X===M){for(this.debug("** at the end");u<A;u++)if(l[u]==="."||l[u]===".."||!f.dot&&l[u].charAt(0)===".")return!1;return!0}for(;z<A;){var at=l[z];if(this.debug(`
+globstar while`,l,z,p,X,at),this.matchOne(l.slice(z),p.slice(X),m))return this.debug("globstar found match!",z,A,at),!0;if(at==="."||at===".."||!f.dot&&at.charAt(0)==="."){this.debug("dot detected!",l,z,p,X);break}this.debug("globstar swallow a segment, and continue"),z++}return!!(m&&(this.debug(`
+>>> no match, partial?`,l,z,p,X),z===A))}let Q;if(typeof F=="string"?(Q=W===F,this.debug("string match",F,W,Q)):(Q=F.test(W),this.debug("pattern match",F,W,Q)),!Q)return!1}if(u===A&&v===M)return!0;if(u===A)return m;if(v===M)return u===A-1&&l[u]==="";throw new Error("wtf?")}braceExpand(){return(0,i.braceExpand)(this.pattern,this.options)}parse(l){(0,s.assertValidPattern)(l);const p=this.options;if(l==="**")return i.GLOBSTAR;if(l==="")return"";let m,f=null;(m=l.match(P))?f=p.dot?R:C:(m=l.match(c))?f=(p.nocase?p.dot?y:g:p.dot?b:d)(m[1]):(m=l.match(D))?f=(p.nocase?p.dot?j:k:p.dot?I:L)(m):(m=l.match(w))?f=p.dot?E:_:(m=l.match(T))&&(f=O);const o=n.AST.fromGlob(l,this.options).toMMPattern();return f?Object.assign(o,{test:f}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const l=this.set;if(!l.length)return this.regexp=!1,this.regexp;const p=this.options,m=p.noglobstar?kt:p.dot?ne:Nt,f=new Set(p.nocase?["i"]:[]);let o=l.map(A=>{const M=A.map(F=>{if(F instanceof RegExp)for(const W of F.flags.split(""))f.add(W);return typeof F=="string"?Me(F):F===i.GLOBSTAR?i.GLOBSTAR:F._src});return M.forEach((F,W)=>{const z=M[W+1],X=M[W-1];F!==i.GLOBSTAR||X===i.GLOBSTAR||(X===void 0?z!==void 0&&z!==i.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+z:M[W]=m:z===void 0?M[W-1]=X+"(?:\\/|"+m+")?":z!==i.GLOBSTAR&&(M[W-1]=X+"(?:\\/|\\/"+m+"\\/)"+z,M[W+1]=i.GLOBSTAR))}),M.filter(F=>F!==i.GLOBSTAR).join("/")}).join("|");const[u,v]=l.length>1?["(?:",")"]:["",""];o="^"+u+o+v+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(l){return this.preserveMultipleSlashes?l.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(l)?["",...l.split(/\/+/)]:l.split(/\/+/)}match(l,p=this.partial){if(this.debug("match",l,this.pattern),this.comment)return!1;if(this.empty)return l==="";if(l==="/"&&p)return!0;const m=this.options;this.isWindows&&(l=l.split("\\").join("/"));const f=this.slashSplit(l);this.debug(this.pattern,"split",f);const o=this.set;this.debug(this.pattern,"set",o);let u=f[f.length-1];if(!u)for(let v=f.length-2;!u&&v>=0;v--)u=f[v];for(let v=0;v<o.length;v++){const A=o[v];let M=f;if(m.matchBase&&A.length===1&&(M=[u]),this.matchOne(M,A,p))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(l){return i.minimatch.defaults(l).Minimatch}}i.Minimatch=Tt;var je=xt;Object.defineProperty(i,"AST",{enumerable:!0,get:function(){return je.AST}});var Le=zt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return Le.escape}});var re=jt;Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return re.unescape}}),i.minimatch.AST=n.AST,i.minimatch.Minimatch=Tt,i.minimatch.escape=r.escape,i.minimatch.unescape=h.unescape}(yt);var Gt={},B={},fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.LRUCache=void 0;const Ut=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ns=new Set,Ge=typeof process=="object"&&process?process:{},Bs=(i,t,e,s)=>{typeof Ge.emitWarning=="function"?Ge.emitWarning(i,t,e,s):console.error(`[${e}] ${t}: ${i}`)};let ue=globalThis.AbortController,Is=globalThis.AbortSignal;if(typeof ue>"u"){Is=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,n){this._onabort.push(n)}},ue=class{constructor(){t()}signal=new Is;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const n of this.signal._onabort)n(s);this.signal.onabort?.(s)}}};let i=Ge.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{i&&(i=!1,Bs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const rn=i=>!Ns.has(i),St=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),Ws=i=>St(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?de:null:null;class de extends Array{constructor(t){super(t),this.fill(0)}}class Dt{heap;length;static#t=!1;static create(t){const e=Ws(t);if(!e)return[];Dt.#t=!0;const s=new Dt(t,e);return Dt.#t=!1,s}constructor(t,e){if(!Dt.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class rs{#t;#s;#r;#i;#h;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#o;#e;#m;#w;#d;#u;#y;#g;#A;#C;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#O,sizes:t.#A,keyMap:t.#a,keyList:t.#o,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,n,r)=>t.#D(e,s,n,r),moveToTail:e=>t.#F(e),indexes:e=>t.#_(e),rindexes:e=>t.#P(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#h}get dispose(){return this.#r}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:h,updateAgeOnHas:a,allowStale:c,dispose:d,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:E,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:R,ignoreFetchAbort:D}=t;if(e!==0&&!St(e))throw new TypeError("max option must be a nonnegative integer");const k=e?Ws(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=E,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#h=T,this.#R=!!T,this.#a=new Map,this.#o=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Dt.create(e),this.#l=0,this.#f=0,typeof d=="function"&&(this.#r=d),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#r,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#s!==0&&!St(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!St(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#j()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!a,this.ttlResolution=St(n)||n===0?n:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!St(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const j="LRU_CACHE_UNBOUNDED";rn(j)&&(Ns.add(j),Bs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,rs))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new de(this.#t),e=new de(this.#t);this.#O=t,this.#C=e,this.#n=(r,h,a=Ut.now())=>{if(e[r]=h!==0?a:0,t[r]=h,h!==0&&this.ttlAutopurge){const c=setTimeout(()=>{this.#b(r)&&this.delete(this.#o[r])},h+1);c.unref&&c.unref()}},this.#T=r=>{e[r]=t[r]!==0?Ut.now():0},this.#v=(r,h)=>{if(t[h]){const a=t[h],c=e[h];r.ttl=a,r.start=c,r.now=s||n();const d=r.now-c;r.remainingTTL=a-d}};let s=0;const n=()=>{const r=Ut.now();if(this.ttlResolution>0){s=r;const h=setTimeout(()=>s=0,this.ttlResolution);h.unref&&h.unref()}return r};this.getRemainingTTL=r=>{const h=this.#a.get(r);if(h===void 0)return 0;const a=t[h],c=e[h];if(a===0||c===0)return 1/0;const d=(s||n())-c;return a-d},this.#b=r=>t[r]!==0&&e[r]!==0&&(s||n())-e[r]>t[r]}#T=()=>{};#v=()=>{};#n=()=>{};#b=()=>!1;#j(){const t=new de(this.#t);this.#f=0,this.#A=t,this.#E=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,n,r)=>{if(this.#c(s))return 0;if(!St(n))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(n=r(s,e),!St(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#k=(e,s,n)=>{if(t[e]=s,this.#s){const r=this.#s-t[e];for(;this.#f>r;)this.#L(!0)}this.#f+=t[e],n&&(n.entrySize=s,n.totalCalculatedSize=this.#f)}}#E=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,n)=>{if(s||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#P({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*rentries(){for(const t of this.#P())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#P()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#P())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;if(r!==void 0&&t(r,this.#o[s],this))return this.get(this.#o[s],e)}}forEach(t,e=this){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}rforEach(t,e=this){for(const s of this.#P()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}purgeStale(){let t=!1;for(const e of this.#P({allowStale:!0}))this.#b(e)&&(this.delete(this.#o[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#o[e],n=this.#e[e],r=this.#c(n)?n.__staleWhileFetching:n;if(r===void 0||s===void 0)continue;const h={value:r};if(this.#O&&this.#C){h.ttl=this.#O[e];const a=Ut.now()-this.#C[e];h.start=Math.floor(Date.now()-a)}this.#A&&(h.size=this.#A[e]),t.unshift([s,h])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const n=Date.now()-s.start;s.start=Ut.now()-n}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:r,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=s;let{noUpdateTTL:d=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,a);if(this.maxEntrySize&&b>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#o[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,c),c&&(c.set="add"),d=!1;else{this.#F(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):h||(this.#S&&this.#r?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#E(g),this.#k(g,b,c),this.#e[g]=e,c){c.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(c.oldValue=w)}}else c&&(c.set="update")}if(n!==0&&!this.#O&&this.#M(),this.#O&&(d||this.#n(g,n,r),c&&this.#v(c,g)),!h&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#o[e],n=this.#e[e];return this.#R&&this.#c(n)?n.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,s,"evict"),this.#p&&this.#g?.push([n,s,"evict"])),this.#E(e),t&&(this.#o[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:n}=e,r=this.#a.get(t);if(r!==void 0){const h=this.#e[r];if(this.#c(h)&&h.__staleWhileFetching===void 0)return!1;if(this.#b(r))n&&(n.has="stale",this.#v(n,r));else return s&&this.#T(r),n&&(n.has="hit",this.#v(n,r)),!0}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,n=this.#a.get(t);if(n!==void 0&&(s||!this.#b(n))){const r=this.#e[n];return this.#c(r)?r.__staleWhileFetching:r}}#D(t,e,s,n){const r=e===void 0?void 0:this.#e[e];if(this.#c(r))return r;const h=new ue,{signal:a}=s;a?.addEventListener("abort",()=>h.abort(a.reason),{signal:h.signal});const c={signal:h.signal,options:s,context:n},d=(E,T=!1)=>{const{aborted:O}=h.signal,P=s.ignoreFetchAbort&&E!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=h.signal.reason,P&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!P&&!T)return g(h.signal.reason);const C=w;return this.#e[e]===w&&(E===void 0?C.__staleWhileFetching?this.#e[e]=C.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,E,c.options))),E},b=E=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=E),g(E)),g=E=>{const{aborted:T}=h.signal,O=T&&s.allowStaleOnFetchAbort,P=O||s.allowStaleOnFetchRejection,C=P||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!C||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),P)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw E},y=(E,T)=>{const O=this.#h?.(t,r,c);O&&O instanceof Promise&&O.then(P=>E(P===void 0?void 0:P),T),h.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(E(void 0),s.allowStaleOnFetchAbort&&(E=P=>d(P,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(d,b),_=Object.assign(w,{__abortController:h,__staleWhileFetching:r,__returned:void 0});return e===void 0?(this.set(t,_,{...c.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof ue}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:E,forceRefresh:T=!1,status:O,signal:P}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,status:O});const C={allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:h,noDisposeOnSet:a,size:c,sizeCalculation:d,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:P};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const D=this.#D(t,R,C,E);return D.__returned=D}else{const D=this.#e[R];if(this.#c(D)){const rt=s&&D.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",rt&&(O.returnedStale=!0)),rt?D.__staleWhileFetching:D.__returned=D}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#F(R),n&&this.#T(R),O&&this.#v(O,R),D;const j=this.#D(t,R,C,E),L=j.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?j.__staleWhileFetching:j.__returned=j}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:h}=e,a=this.#a.get(t);if(a!==void 0){const c=this.#e[a],d=this.#c(c);return h&&this.#v(h,a),this.#b(a)?(h&&(h.get="stale"),d?(h&&s&&c.__staleWhileFetching!==void 0&&(h.returnedStale=!0),s?c.__staleWhileFetching:void 0):(r||this.delete(t),h&&s&&(h.returnedStale=!0),s?c:void 0)):(h&&(h.get="hit"),d?c.__staleWhileFetching:(this.#F(a),n&&this.#T(a),c))}else h&&(h.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#F(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#E(s);const n=this.#e[s];this.#c(n)?n.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,t,"delete"),this.#p&&this.#g?.push([n,t,"delete"])),this.#a.delete(t),this.#o[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let n;for(;n=s?.shift();)this.#i?.(...n)}return e}clear(){for(const t of this.#P({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#o[t];this.#S&&this.#r?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#o.fill(void 0),this.#O&&this.#C&&(this.#O.fill(0),this.#C.fill(0)),this.#A&&this.#A.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}fe.LRUCache=rs;var xs={};(function(i){var t=ot&&ot.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.Minipass=i.isWritable=i.isReadable=i.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=fs,n=t(us),r=ds,h=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof n.default||(0,i.isReadable)(f)||(0,i.isWritable)(f));i.isStream=h;const a=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==n.default.Writable.prototype.pipe;i.isReadable=a;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";i.isWritable=c;const d=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),E=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),P=Symbol("encoding"),C=Symbol("decoder"),R=Symbol("flowing"),D=Symbol("paused"),k=Symbol("resume"),j=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),rt=Symbol("bufferPush"),_t=Symbol("bufferShift"),G=Symbol("objectMode"),N=Symbol("destroyed"),ie=Symbol("error"),kt=Symbol("emitData"),ne=Symbol("emitEnd"),Nt=Symbol("emitEnd2"),st=Symbol("async"),Y=Symbol("abort"),Ct=Symbol("aborted"),Ot=Symbol("signal"),ut=Symbol("dataListeners"),J=Symbol("discarded"),bt=f=>Promise.resolve().then(f),Me=f=>f(),Tt=f=>f==="end"||f==="finish"||f==="prefinish",je=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,Le=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class re{src;dest;opts;ondrain;constructor(o,u,v){this.src=o,this.dest=u,this.opts=v,this.ondrain=()=>o[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(o){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends re{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(o,u,v){super(o,u,v),this.proxyErrors=A=>u.emit("error",A),o.on("error",this.proxyErrors)}}const l=f=>!!f.objectMode,p=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[D]=!1;[I]=[];[j]=[];[G];[P];[st];[C];[d]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[Ot];[Ct]=!1;[ut]=0;[J]=!1;writable=!0;readable=!0;constructor(...o){const u=o[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");l(u)?(this[G]=!0,this[P]=null):p(u)?(this[P]=u.encoding,this[G]=!1):(this[G]=!1,this[P]=null),this[st]=!!u.async,this[C]=this[P]?new r.StringDecoder(this[P]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[j]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:v}=u;v&&(this[Ot]=v,v.aborted?this[Y]():v.addEventListener("abort",()=>this[Y]()))}get bufferLength(){return this[L]}get encoding(){return this[P]}set encoding(o){throw new Error("Encoding must be set at instantiation time")}setEncoding(o){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[G]}set objectMode(o){throw new Error("objectMode must be set at instantiation time")}get async(){return this[st]}set async(o){this[st]=this[st]||!!o}[Y](){this[Ct]=!0,this.emit("abort",this[Ot]?.reason),this.destroy(this[Ot]?.reason)}get aborted(){return this[Ct]}set aborted(o){}write(o,u,v){if(this[Ct])return!1;if(this[d])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(v=u,u="utf8"),u||(u="utf8");const A=this[st]?bt:Me;if(!this[G]&&!Buffer.isBuffer(o)){if(Le(o))o=Buffer.from(o.buffer,o.byteOffset,o.byteLength);else if(je(o))o=Buffer.from(o);else if(typeof o!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[G]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):o.length?(typeof o=="string"&&!(u===this[P]&&!this[C]?.lastNeed)&&(o=Buffer.from(o,u)),Buffer.isBuffer(o)&&this[P]&&(o=this[C].write(o)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):(this[L]!==0&&this.emit("readable"),v&&A(v),this[R])}read(o){if(this[N])return null;if(this[J]=!1,this[L]===0||o===0||o&&o>this[L])return this[b](),null;this[G]&&(o=null),this[j].length>1&&!this[G]&&(this[j]=[this[P]?this[j].join(""):Buffer.concat(this[j],this[L])]);const u=this[E](o||null,this[j][0]);return this[b](),u}[E](o,u){if(this[G])this[_t]();else{const v=u;o===v.length||o===null?this[_t]():typeof v=="string"?(this[j][0]=v.slice(o),u=v.slice(0,o),this[L]-=o):(this[j][0]=v.subarray(o),u=v.subarray(0,o),this[L]-=o)}return this.emit("data",u),!this[j].length&&!this[d]&&this.emit("drain"),u}end(o,u,v){return typeof o=="function"&&(v=o,o=void 0),typeof u=="function"&&(v=u,u="utf8"),o!==void 0&&this.write(o,u),v&&this.once("end",v),this[d]=!0,this.writable=!1,(this[R]||!this[D])&&this[b](),this}[k](){this[N]||(!this[ut]&&!this[I].length&&(this[J]=!0),this[D]=!1,this[R]=!0,this.emit("resume"),this[j].length?this[T]():this[d]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[D]=!0,this[J]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[D]}[rt](o){this[G]?this[L]+=1:this[L]+=o.length,this[j].push(o)}[_t](){return this[G]?this[L]-=1:this[L]-=this[j][0].length,this[j].shift()}[T](o=!1){do;while(this[O](this[_t]())&&this[j].length);!o&&!this[j].length&&!this[d]&&this.emit("drain")}[O](o){return this.emit("data",o),this[R]}pipe(o,u){if(this[N])return o;this[J]=!1;const v=this[g];return u=u||{},o===e.stdout||o===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,v?u.end&&o.end():(this[I].push(u.proxyErrors?new S(this,o,u):new re(this,o,u)),this[st]?bt(()=>this[k]()):this[k]()),o}unpipe(o){const u=this[I].find(v=>v.dest===o);u&&(this[I].length===1?(this[R]&&this[ut]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(o,u){return this.on(o,u)}on(o,u){const v=super.on(o,u);if(o==="data")this[J]=!1,this[ut]++,!this[I].length&&!this[R]&&this[k]();else if(o==="readable"&&this[L]!==0)super.emit("readable");else if(Tt(o)&&this[g])super.emit(o),this.removeAllListeners(o);else if(o==="error"&&this[w]){const A=u;this[st]?bt(()=>A.call(this,this[w])):A.call(this,this[w])}return v}removeListener(o,u){return this.off(o,u)}off(o,u){const v=super.off(o,u);return o==="data"&&(this[ut]=this.listeners("data").length,this[ut]===0&&!this[J]&&!this[I].length&&(this[R]=!1)),v}removeAllListeners(o){const u=super.removeAllListeners(o);return(o==="data"||o===void 0)&&(this[ut]=0,!this[J]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[j].length===0&&this[d]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(o,...u){const v=u[0];if(o!=="error"&&o!=="close"&&o!==N&&this[N])return!1;if(o==="data")return!this[G]&&!v?!1:this[st]?(bt(()=>this[kt](v)),!0):this[kt](v);if(o==="end")return this[ne]();if(o==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(o==="error"){this[w]=v,super.emit(ie,v);const M=!this[Ot]||this.listeners("error").length?super.emit("error",v):!1;return this[b](),M}else if(o==="resume"){const M=super.emit("resume");return this[b](),M}else if(o==="finish"||o==="prefinish"){const M=super.emit(o);return this.removeAllListeners(o),M}const A=super.emit(o,...u);return this[b](),A}[kt](o){for(const v of this[I])v.dest.write(o)===!1&&this.pause();const u=this[J]?!1:super.emit("data",o);return this[b](),u}[ne](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[st]?(bt(()=>this[Nt]()),!0):this[Nt]())}[Nt](){if(this[C]){const u=this[C].end();if(u){for(const v of this[I])v.dest.write(u);this[J]||super.emit("data",u)}}for(const u of this[I])u.end();const o=super.emit("end");return this.removeAllListeners("end"),o}async collect(){const o=Object.assign([],{dataLength:0});this[G]||(o.dataLength=0);const u=this.promise();return this.on("data",v=>{o.push(v),this[G]||(o.dataLength+=v.length)}),await u,o}async concat(){if(this[G])throw new Error("cannot concat in objectMode");const o=await this.collect();return this[P]?o.join(""):Buffer.concat(o,o.dataLength)}async promise(){return new Promise((o,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",v=>u(v)),this.on("end",()=>o())})}[Symbol.asyncIterator](){this[J]=!1;let o=!1;const u=async()=>(this.pause(),o=!0,{value:void 0,done:!0});return{next:()=>{if(o)return u();const A=this.read();if(A!==null)return Promise.resolve({done:!1,value:A});if(this[d])return u();let M,F;const W=Q=>{this.off("data",z),this.off("end",X),this.off(N,at),u(),F(Q)},z=Q=>{this.off("error",W),this.off("end",X),this.off(N,at),this.pause(),M({value:Q,done:!!this[d]})},X=()=>{this.off("error",W),this.off("data",z),this.off(N,at),u(),M({done:!0,value:void 0})},at=()=>W(new Error("stream destroyed"));return new Promise((Q,Fe)=>{F=Fe,M=Q,this.once(N,at),this.once("error",W),this.once("end",X),this.once("data",z)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[J]=!1;let o=!1;const u=()=>(this.pause(),this.off(ie,u),this.off(N,u),this.off("end",u),o=!0,{done:!0,value:void 0}),v=()=>{if(o)return u();const A=this.read();return A===null?u():{done:!1,value:A}};return this.once("end",u),this.once(ie,u),this.once(N,u),{next:v,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(o){if(this[N])return o?this.emit("error",o):this.emit(N),this;this[N]=!0,this[J]=!0,this[j].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),o?this.emit("error",o):this.emit(N),this}static get isStream(){return i.isStream}}i.Minipass=m})(xs);var on=ot&&ot.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,n)}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),hn=ot&&ot.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),an=ot&&ot.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&on(t,i,e);return hn(t,i),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const $s=fe,pe=Pi,ln=De,cn=an(ke),Ht=ke,fn=Ht.realpathSync.native,me=Ai,zs=xs,qt={lstatSync:Ht.lstatSync,readdir:Ht.readdir,readdirSync:Ht.readdirSync,readlinkSync:Ht.readlinkSync,realpathSync:fn,promises:{lstat:me.lstat,readdir:me.readdir,readlink:me.readlink,realpath:me.realpath}},Gs=i=>!i||i===qt||i===cn?qt:{...qt,...i,promises:{...qt.promises,...i.promises||{}}},Us=/^\\\\\?\\([a-z]:)\\?$/i,un=i=>i.replace(/\//g,"\\").replace(Us,"$1\\"),dn=/[\\\/]/,it=0,Hs=1,qs=2,lt=4,Vs=6,Ys=8,Pt=10,Js=12,nt=15,Vt=~nt,Ue=16,Ks=32,Yt=64,ht=128,ge=256,we=512,Zs=Yt|ht|we,pn=1023,He=i=>i.isFile()?Ys:i.isDirectory()?lt:i.isSymbolicLink()?Pt:i.isCharacterDevice()?qs:i.isBlockDevice()?Vs:i.isSocket()?Js:i.isFIFO()?Hs:it,Xs=new Map,Jt=i=>{const t=Xs.get(i);if(t)return t;const e=i.normalize("NFKD");return Xs.set(i,e),e},Qs=new Map,be=i=>{const t=Qs.get(i);if(t)return t;const e=Jt(i.toLowerCase());return Qs.set(i,e),e};class qe extends $s.LRUCache{constructor(){super({max:256})}}B.ResolveCache=qe;class ti extends $s.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=ti;const ei=Symbol("PathScurry setAsCwd");class Z{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#r;get mode(){return this.#r}#i;get nlink(){return this.#i}#h;get uid(){return this.#h}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#o;get ino(){return this.#o}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#A;get mtime(){return this.#A}#C;get ctime(){return this.#C}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#v;#n;#b;#j;#E;get path(){return(this.parent||this).fullpath()}constructor(t,e=it,s,n,r,h,a){this.name=t,this.#S=r?be(t):Jt(t),this.#n=e&pn,this.nocase=r,this.roots=n,this.root=s||this,this.#b=h,this.#p=a.fullpath,this.#T=a.relative,this.#v=a.relativePosix,this.parent=a.parent,this.parent?this.#t=this.parent.#t:this.#t=Gs(a.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),n=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(n):this.#k(n)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#n&=~Ue,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),n=this.nocase?be(t):Jt(t);for(const c of s)if(c.#S===n)return c;const r=this.parent?this.sep:"",h=this.#p?this.#p+r+t:void 0,a=this.newChild(t,it,{...e,parent:this,fullpath:h});return this.canReaddir()||(a.#n|=ht),s.push(a),a}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#v!==void 0)return this.#v;const t=this.name,e=this.parent;if(!e)return this.#v=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const n=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=n}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?this.#M=`//?/${n}`:this.#M=n}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#n&nt)===it}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#n&nt)===Ys}isDirectory(){return(this.#n&nt)===lt}isCharacterDevice(){return(this.#n&nt)===qs}isBlockDevice(){return(this.#n&nt)===Vs}isFIFO(){return(this.#n&nt)===Hs}isSocket(){return(this.#n&nt)===Js}isSymbolicLink(){return(this.#n&Pt)===Pt}lstatCached(){return this.#n&Ks?this:void 0}readlinkCached(){return this.#j}realpathCached(){return this.#E}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#j)return!0;if(!this.parent)return!1;const t=this.#n&nt;return!(t!==it&&t!==Pt||this.#n&ge||this.#n&ht)}calledReaddir(){return!!(this.#n&Ue)}isENOENT(){return!!(this.#n&ht)}isNamed(t){return this.nocase?this.#S===be(t):this.#S===Jt(t)}async readlink(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}#N(t){this.#n|=Ue;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#n&ht||(this.#n=(this.#n|ht)&Vt,this.#P())}#P(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#n|=we,this.#L()}#L(){if(this.#n&Yt)return;let t=this.#n;(t&nt)===lt&&(t&=Vt),this.#n=t|Yt,this.#P()}#D(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#n;e|=ge,t==="ENOENT"&&(e|=ht),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Vt),this.#n=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#F(t,e){return this.#U(t,e)||this.#G(t,e)}#G(t,e){const s=He(t),n=this.newChild(t.name,s,{parent:this}),r=n.#n&nt;return r!==lt&&r!==Pt&&r!==it&&(n.#n|=Yt),e.unshift(n),e.provisional++,n}#U(t,e){for(let s=e.provisional;s<e.length;s++){const n=e[s];if((this.nocase?be(t.name):Jt(t.name))===n.#S)return this.#H(t,n,s,e)}}#H(t,e,s,n){const r=e.name;return e.#n=e.#n&Vt|He(t),r!==t.name&&(e.name=t.name),s!==n.provisional&&(s===n.length-1?n.pop():n.splice(s,1),n.unshift(e)),n.provisional++,e}async lstat(){if(!(this.#n&ht))try{return this.#z(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#n&ht))try{return this.#z(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#z(t){const{atime:e,atimeMs:s,birthtime:n,birthtimeMs:r,blksize:h,blocks:a,ctime:c,ctimeMs:d,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:E,nlink:T,rdev:O,size:P,uid:C}=t;this.#g=e,this.#w=s,this.#O=n,this.#y=r,this.#a=h,this.#m=a,this.#C=c,this.#u=d,this.#s=b,this.#l=g,this.#o=y,this.#r=w,this.#A=_,this.#d=E,this.#i=T,this.#f=O,this.#e=P,this.#h=C;const R=He(t);this.#n=this.#n&Vt|R|Ks,R!==it&&R!==lt&&R!==Pt&&(this.#n|=Yt)}#x=[];#$=!1;#q(t){this.#$=!1;const e=this.#x.slice();this.#x.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const r=s.slice(0,s.provisional);e?t(null,r):queueMicrotask(()=>t(null,r));return}if(this.#x.push(t),this.#$)return;this.#$=!0;const n=this.fullpath();this.#t.readdir(n,{withFileTypes:!0},(r,h)=>{if(r)this.#D(r.code),s.provisional=0;else{for(const a of h)this.#F(a,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(n=>s=n);try{for(const n of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#F(n,t);this.#N(t)}catch(n){this.#D(n.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#F(s,t);this.#N(t)}catch(s){this.#D(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#n&Zs)return!1;const t=nt&this.#n;return t===it||t===lt||t===Pt}shouldWalk(t,e){return(this.#n&lt)===lt&&!(this.#n&Zs)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=this.#t.realpathSync(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}[ei](t){if(t===this)return;const e=new Set([]);let s=[],n=this;for(;n&&n.parent;)e.add(n),n.#T=s.join(this.sep),n.#v=s.join("/"),n=n.parent,s.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#T=void 0,n.#v=void 0,n=n.parent}}B.PathBase=Z;class ee extends Z{sep="\\";splitSep=dn;constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}newChild(t,e=it,s={}){return new ee(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return pe.win32.parse(t).root}getRoot(t){if(t=un(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Ye(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Us,"$1\\"),t===e}}B.PathWin32=ee;class se extends Z{splitSep="/";sep="/";constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=it,s={}){return new se(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=se;class Ve{root;rootPath;roots;cwd;#t;#s;#r;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:n,childrenCacheSize:r=16*1024,fs:h=qt}={}){this.#i=Gs(h),(t instanceof URL||t.startsWith("file://"))&&(t=(0,ln.fileURLToPath)(t));const a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#t=new qe,this.#s=new qe,this.#r=new ti(r);const c=a.substring(this.rootPath.length).split(s);if(c.length===1&&!c[0]&&c.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let d=this.root,b=c.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of c){const E=b--;d=d.child(_,{relative:new Array(E).fill("..").join(g),relativePosix:new Array(E).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=d}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#r}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#t.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpath();return this.#t.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#s.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const n=await t.readdir();return s?n:n.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set,d=(g,y)=>{c.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let E=_.length;if(!E)return y();const T=()=>{--E===0&&y()};for(const O of _)(!r||r(O))&&a.push(s?O:O.fullpath()),n&&O.isSymbolicLink()?O.realpath().then(P=>P?.isUnknown()?P.lstat():P).then(P=>P?.shouldWalk(c,h)?d(P,T):T()):O.shouldWalk(c,h)?d(O,T):T()},!0)},b=t;return new Promise((g,y)=>{d(b,w=>{if(w)return y(w);g(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set([t]);for(const d of c){const b=d.readdirSync();for(const g of b){(!r||r(g))&&a.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(n&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(c,h)&&c.add(y)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e;(!r||r(t))&&(yield s?t:t.fullpath());const a=new Set([t]);for(const c of a){const d=c.readdirSync();for(const b of d){(!r||r(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(n&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(a,h)&&a.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0});(!r||r(t))&&a.write(s?t:t.fullpath());const c=new Set,d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=(T,O,P=!1)=>{if(T)return a.emit("error",T);if(n&&!P){const C=[];for(const R of O)R.isSymbolicLink()&&C.push(R.realpath().then(D=>D?.isUnknown()?D.lstat():D));if(C.length){Promise.all(C).then(()=>_(null,O,!0));return}}for(const C of O)C&&(!r||r(C))&&(a.write(s?C:C.fullpath())||(y=!0));b--;for(const C of O){const R=C.realpathCached()||C;R.shouldWalk(c,h)&&d.push(R)}y&&!a.flowing?a.once("drain",g):E||g()};let E=!0;w.readdirCB(_,!0),E=!1}};return g(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0}),c=new Set;(!r||r(t))&&a.write(s?t:t.fullpath());const d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=w.readdirSync();for(const E of _)(!r||r(E))&&(a.write(s?E:E.fullpath())||(y=!0));b--;for(const E of _){let T=E;if(E.isSymbolicLink()){if(!(n&&(T=E.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(c,h)&&d.push(T)}}y&&!a.flowing&&a.once("drain",g)};return g(),a}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[ei](e)}}B.PathScurryBase=Ve;class Ye extends Ve{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,pe.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let n=this.cwd;n;n=n.parent)n.nocase=this.nocase}parseRootPath(t){return pe.win32.parse(t).root.toUpperCase()}newRoot(t){return new ee(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Ye;class Je extends Ve{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,pe.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new se(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=Je;class si extends Je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=si,B.Path=process.platform==="win32"?ee:se,B.PathScurry=process.platform==="win32"?Ye:process.platform==="darwin"?si:Je;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Pattern=void 0;const mn=yt,gn=i=>i.length>=1,wn=i=>i.length>=1;class os{#t;#s;#r;length;#i;#h;#l;#f;#a;#o;#e=!0;constructor(t,e,s,n){if(!gn(t))throw new TypeError("empty pattern list");if(!wn(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#r=s,this.#i=n,this.#r===0){if(this.isUNC()){const[r,h,a,c,...d]=this.#t,[b,g,y,w,..._]=this.#s;d[0]===""&&(d.shift(),_.shift());const E=[r,h,a,c,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[E,...d],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[r,...h]=this.#t,[a,...c]=this.#s;h[0]===""&&(h.shift(),c.shift());const d=r+"/",b=a+"/";this.#t=[d,...h],this.#s=[b,...c],this.length=this.#t.length}}}pattern(){return this.#t[this.#r]}isString(){return typeof this.#t[this.#r]=="string"}isGlobstar(){return this.#t[this.#r]===mn.GLOBSTAR}isRegExp(){return this.#t[this.#r]instanceof RegExp}globString(){return this.#l=this.#l||(this.#r===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return this.#h!==void 0?this.#h:this.hasMore()?(this.#h=new os(this.#t,this.#s,this.#r+1,this.#i),this.#h.#o=this.#o,this.#h.#a=this.#a,this.#h.#f=this.#f,this.#h):this.#h=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#r===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#r===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#o!==void 0?this.#o:this.#o=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#r===0?t:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#r===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}Kt.Pattern=os;var vt={},ii={};const ni=typeof process=="object"&&process?process:{stdout:null,stderr:null},bn=fs,ri=us,yn=ds,oi=yn.StringDecoder,pt=Symbol("EOF"),mt=Symbol("maybeEmitEnd"),Et=Symbol("emittedEnd"),ye=Symbol("emittingEnd"),Zt=Symbol("emittedError"),Se=Symbol("closed"),hi=Symbol("read"),ve=Symbol("flush"),ai=Symbol("flushChunk"),tt=Symbol("encoding"),gt=Symbol("decoder"),Ee=Symbol("flowing"),Xt=Symbol("paused"),Lt=Symbol("resume"),x=Symbol("buffer"),ct=Symbol("pipes"),H=Symbol("bufferLength"),Ke=Symbol("bufferPush"),Ze=Symbol("bufferShift"),V=Symbol("objectMode"),$=Symbol("destroyed"),Xe=Symbol("error"),Qe=Symbol("emitData"),li=Symbol("emitEnd"),ts=Symbol("emitEnd2"),wt=Symbol("async"),es=Symbol("abort"),_e=Symbol("aborted"),At=Symbol("signal"),Qt=i=>Promise.resolve().then(i),ci=ot._MP_NO_ITERATOR_SYMBOLS_!=="1",fi=ci&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),ui=ci&&Symbol.iterator||Symbol("iterator not implemented"),Sn=i=>i==="end"||i==="finish"||i==="prefinish",vn=i=>i instanceof ArrayBuffer||typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,En=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i);class di{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[Lt](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class _n extends di{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=n=>e.emit("error",n),t.on("error",this.proxyErrors)}}class hs extends ri{constructor(t){super(),this[Ee]=!1,this[Xt]=!1,this[ct]=[],this[x]=[],this[V]=t&&t.objectMode||!1,this[V]?this[tt]=null:this[tt]=t&&t.encoding||null,this[tt]==="buffer"&&(this[tt]=null),this[wt]=t&&!!t.async||!1,this[gt]=this[tt]?new oi(this[tt]):null,this[pt]=!1,this[Et]=!1,this[ye]=!1,this[Se]=!1,this[Zt]=null,this.writable=!0,this.readable=!0,this[H]=0,this[$]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[x]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ct]}),this[At]=t&&t.signal,this[_e]=!1,this[At]&&(this[At].addEventListener("abort",()=>this[es]()),this[At].aborted&&this[es]())}get bufferLength(){return this[H]}get encoding(){return this[tt]}set encoding(t){if(this[V])throw new Error("cannot set encoding in objectMode");if(this[tt]&&t!==this[tt]&&(this[gt]&&this[gt].lastNeed||this[H]))throw new Error("cannot change encoding");this[tt]!==t&&(this[gt]=t?new oi(t):null,this[x].length&&(this[x]=this[x].map(e=>this[gt].write(e)))),this[tt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[V]}set objectMode(t){this[V]=this[V]||!!t}get async(){return this[wt]}set async(t){this[wt]=this[wt]||!!t}[es](){this[_e]=!0,this.emit("abort",this[At].reason),this.destroy(this[At].reason)}get aborted(){return this[_e]}set aborted(t){}write(t,e,s){if(this[_e])return!1;if(this[pt])throw new Error("write after end");if(this[$])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const n=this[wt]?Qt:r=>r();return!this[V]&&!Buffer.isBuffer(t)&&(En(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):vn(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[V]?(this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[tt]&&!this[gt].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[tt]&&(t=this[gt].write(t)),this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):(this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing)}read(t){if(this[$])return null;if(this[H]===0||t===0||t>this[H])return this[mt](),null;this[V]&&(t=null),this[x].length>1&&!this[V]&&(this.encoding?this[x]=[this[x].join("")]:this[x]=[Buffer.concat(this[x],this[H])]);const e=this[hi](t||null,this[x][0]);return this[mt](),e}[hi](t,e){return t===e.length||t===null?this[Ze]():(this[x][0]=e.slice(t),e=e.slice(0,t),this[H]-=t),this.emit("data",e),!this[x].length&&!this[pt]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[pt]=!0,this.writable=!1,(this.flowing||!this[Xt])&&this[mt](),this}[Lt](){this[$]||(this[Xt]=!1,this[Ee]=!0,this.emit("resume"),this[x].length?this[ve]():this[pt]?this[mt]():this.emit("drain"))}resume(){return this[Lt]()}pause(){this[Ee]=!1,this[Xt]=!0}get destroyed(){return this[$]}get flowing(){return this[Ee]}get paused(){return this[Xt]}[Ke](t){this[V]?this[H]+=1:this[H]+=t.length,this[x].push(t)}[Ze](){return this[V]?this[H]-=1:this[H]-=this[x][0].length,this[x].shift()}[ve](t){do;while(this[ai](this[Ze]())&&this[x].length);!t&&!this[x].length&&!this[pt]&&this.emit("drain")}[ai](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[$])return;const s=this[Et];return e=e||{},t===ni.stdout||t===ni.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ct].push(e.proxyErrors?new _n(this,t,e):new di(this,t,e)),this[wt]?Qt(()=>this[Lt]()):this[Lt]()),t}unpipe(t){const e=this[ct].find(s=>s.dest===t);e&&(this[ct].splice(this[ct].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ct].length&&!this.flowing?this[Lt]():t==="readable"&&this[H]!==0?super.emit("readable"):Sn(t)&&this[Et]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Zt]&&(this[wt]?Qt(()=>e.call(this,this[Zt])):e.call(this,this[Zt])),s}get emittedEnd(){return this[Et]}[mt](){!this[ye]&&!this[Et]&&!this[$]&&this[x].length===0&&this[pt]&&(this[ye]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Se]&&this.emit("close"),this[ye]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==$&&this[$])return;if(t==="data")return!this[V]&&!e?!1:this[wt]?Qt(()=>this[Qe](e)):this[Qe](e);if(t==="end")return this[li]();if(t==="close"){if(this[Se]=!0,!this[Et]&&!this[$])return;const r=super.emit("close");return this.removeAllListeners("close"),r}else if(t==="error"){this[Zt]=e,super.emit(Xe,e);const r=!this[At]||this.listeners("error").length?super.emit("error",e):!1;return this[mt](),r}else if(t==="resume"){const r=super.emit("resume");return this[mt](),r}else if(t==="finish"||t==="prefinish"){const r=super.emit(t);return this.removeAllListeners(t),r}const n=super.emit(t,e,...s);return this[mt](),n}[Qe](t){for(const s of this[ct])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[mt](),e}[li](){this[Et]||(this[Et]=!0,this.readable=!1,this[wt]?Qt(()=>this[ts]()):this[ts]())}[ts](){if(this[gt]){const e=this[gt].end();if(e){for(const s of this[ct])s.dest.write(e);super.emit("data",e)}}for(const e of this[ct])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[V]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[V]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[V]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[V]?Promise.reject(new Error("cannot concat in objectMode")):this[tt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on($,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[fi](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[pt])return e();let r=null,h=null;const a=g=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener($,b),e(),h(g)},c=g=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener($,b),this.pause(),r({value:g,done:!!this[pt]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener($,b),e(),r({done:!0})},b=()=>a(new Error("stream destroyed"));return new Promise((g,y)=>{h=y,r=g,this.once($,b),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:e,return:e,[fi](){return this}}}[ui](){let t=!1;const e=()=>(this.pause(),this.removeListener(Xe,e),this.removeListener($,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const n=this.read();return n===null?e():{value:n}};return this.once("end",e),this.once(Xe,e),this.once($,e),{next:s,throw:e,return:e,[ui](){return this}}}destroy(t){return this[$]?(t?this.emit("error",t):this.emit($),this):(this[$]=!0,this[x].length=0,this[H]=0,typeof this.close=="function"&&!this[Se]&&this.close(),t?this.emit("error",t):this.emit($),this)}static isStream(t){return!!t&&(t instanceof hs||t instanceof ri||t instanceof bn&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}ii.Minipass=hs;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Ignore=void 0;const pi=yt,On=Kt,Tn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Rn{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:n,noglobstar:r,platform:h=Tn}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const a={dot:!0,nobrace:e,nocase:s,noext:n,noglobstar:r,optimizationLevel:2,platform:h,nocomment:!0,nonegate:!0};for(const c of t){const d=new pi.Minimatch(c,a);for(let b=0;b<d.set.length;b++){const g=d.set[b],y=d.globParts[b],w=new On.Pattern(g,y,0,h),_=new pi.Minimatch(w.globString(),a),E=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),E&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,n=t.relative()||".",r=`${n}/`;for(const h of this.relative)if(h.match(n)||h.match(r))return!0;for(const h of this.absolute)if(h.match(e)||h.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const n of this.relativeChildren)if(n.match(s))return!0;for(const n of this.absoluteChildren)n.match(e);return!1}}Oe.Ignore=Rn;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.Processor=ft.SubWalks=ft.MatchRecord=ft.HasWalkedCache=void 0;const mi=yt;class Ce{store;constructor(t=new Map){this.store=t}copy(){return new Ce(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),n=this.store.get(s);n?n.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}ft.HasWalkedCache=Ce;class gi{store=new Map;add(t,e,s){const n=(e?2:0)|(s?1:0),r=this.store.get(t);this.store.set(t,r===void 0?n:n&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}ft.MatchRecord=gi;class wi{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(n=>n.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}ft.SubWalks=wi;class as{hasWalkedCache;matches=new gi;subwalks=new wi;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Ce}processPatterns(t,e){this.patterns=e;const s=e.map(n=>[t,n]);for(let[n,r]of s){this.hasWalkedCache.storeWalked(n,r);const h=r.root(),a=r.isAbsolute()&&this.opts.absolute!==!1;if(h){n=n.resolve(h==="/"&&this.opts.root!==void 0?this.opts.root:h);const g=r.rest();if(g)r=g;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let c,d,b=!1;for(;typeof(c=r.pattern())=="string"&&(d=r.rest());){const g=n.resolve(c);if(g.isUnknown()&&c!=="..")break;n=g,r=d,b=!0}if(c=r.pattern(),d=r.rest(),b){if(this.hasWalkedCache.hasWalked(n,r))continue;this.hasWalkedCache.storeWalked(n,r)}if(typeof c=="string"){if(d)this.subwalks.add(n,r);else{const g=c===".."||c===""||c===".";this.matches.add(n.resolve(c),a,g)}continue}else if(c===mi.GLOBSTAR){(!n.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(n,r);const g=d?.pattern(),y=d?.rest();if(!d||(g===""||g===".")&&!y)this.matches.add(n,a,g===""||g===".");else if(g===".."){const w=n.parent||n;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,a,!0)}}else c instanceof RegExp&&this.subwalks.add(n,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new as(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),n=this.child();for(const r of e)for(const h of s){const a=h.isAbsolute(),c=h.pattern(),d=h.rest();c===mi.GLOBSTAR?n.testGlobstar(r,h,d,a):c instanceof RegExp?n.testRegExp(r,c,d,a):n.testString(r,c,d,a)}return n}testGlobstar(t,e,s,n){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const r=s.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,s.rest(),n);else if(r===".."){const h=t.parent||t;this.subwalks.add(h,s)}else r instanceof RegExp&&this.testRegExp(t,r,s.rest(),n)}}testRegExp(t,e,s,n){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}testString(t,e,s,n){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}}ft.Processor=as,Object.defineProperty(vt,"__esModule",{value:!0}),vt.GlobStream=vt.GlobWalker=vt.GlobUtil=void 0;const Pn=ii,bi=Oe,yi=ft,An=(i,t)=>typeof i=="string"?new bi.Ignore([i],t):Array.isArray(i)?new bi.Ignore(i,t):i;class ss{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#r;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#r=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=An(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#h(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#r:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const r=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(r+n)}else{const r=this.opts.posix?t.relativePosix():t.relative(),h=this.opts.dotRelative&&!r.startsWith(".."+this.#r)?"."+this.#r:"";this.matchEmit(r?h+r+n:"."+n)}}async match(t,e,s){const n=await this.matchCheck(t,s);n&&this.matchFinish(n,e)}matchSync(t,e,s){const n=this.matchCheckSync(t,s);n&&this.matchFinish(n,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new yi.Processor(this.opts),s)}walkCB2(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirCached();a.calledReaddir()?this.walkCB3(a,c,s,h):a.readdirCB((d,b)=>this.walkCB3(a,b,s,h),!0)}h()}walkCB3(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const[a,c]of s.subwalks.entries())r++,this.walkCB2(a,c,s.child(),h);h()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new yi.Processor(this.opts),s)}walkCB2Sync(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirSync();this.walkCB3Sync(a,c,s,h)}h()}walkCB3Sync(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const[a,c]of s.subwalks.entries())r++,this.walkCB2Sync(a,c,s.child(),h);h()}}vt.GlobUtil=ss;class Cn extends ss{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}vt.GlobWalker=Cn;class Mn extends ss{results;constructor(t,e,s){super(t,e,s),this.results=new Pn.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}vt.GlobStream=Mn,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.Glob=void 0;const jn=yt,Te=B,Ln=De,Fn=Kt,Re=vt,Dn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class kn{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Ln.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(c=>c.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(c=>c.includes("/")?c:`./**/${c}`)}if(this.pattern=t,this.platform=e.platform||Dn,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const c=e.platform==="win32"?Te.PathScurryWin32:e.platform==="darwin"?Te.PathScurryDarwin:e.platform?Te.PathScurryPosix:Te.PathScurry;this.scurry=new c(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(c=>new jn.Minimatch(c,n)),[h,a]=r.reduce((c,d)=>(c[0].push(...d.set),c[1].push(...d.globParts),c),[[],[]]);this.patterns=h.map((c,d)=>new Fn.Pattern(c,a[d],0,this.platform))}async walk(){return[...await new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Gt.Glob=kn;var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.hasMagic=void 0;const Nn=yt,Bn=(i,t={})=>{Array.isArray(i)||(i=[i]);for(const e of i)if(new Nn.Minimatch(e,t).hasMagic())return!0;return!1};te.hasMagic=Bn,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.glob=i.hasMagic=i.Glob=i.unescape=i.escape=i.sync=i.iterate=i.iterateSync=i.stream=i.streamSync=i.globIterate=i.globIterateSync=i.globSync=i.globStream=i.globStreamSync=void 0;const t=yt,e=Gt,s=te;function n(w,_={}){return new e.Glob(w,_).streamSync()}i.globStreamSync=n;function r(w,_={}){return new e.Glob(w,_).stream()}i.globStream=r;function h(w,_={}){return new e.Glob(w,_).walkSync()}i.globSync=h;async function a(w,_={}){return new e.Glob(w,_).walk()}function c(w,_={}){return new e.Glob(w,_).iterateSync()}i.globIterateSync=c;function d(w,_={}){return new e.Glob(w,_).iterate()}i.globIterate=d,i.streamSync=n,i.stream=Object.assign(r,{sync:n}),i.iterateSync=c,i.iterate=Object.assign(d,{sync:c}),i.sync=Object.assign(h,{stream:n,iterate:c});var b=yt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Gt;Object.defineProperty(i,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=te;Object.defineProperty(i,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),i.glob=Object.assign(a,{glob:a,globSync:h,sync:i.sync,globStream:r,stream:i.stream,globStreamSync:n,streamSync:i.streamSync,globIterate:d,iterate:i.iterate,globIterateSync:c,iterateSync:i.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),i.glob.glob=i.glob}(Es);var is=Object.defineProperty,In=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyNames,xn=Object.prototype.hasOwnProperty,$n=(i,t)=>{for(var e in t)is(i,e,{get:t[e],enumerable:!0})},zn=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wn(t))!xn.call(i,n)&&n!==e&&is(i,n,{get:()=>t[n],enumerable:!(s=In(t,n))||s.enumerable});return i},Gn=i=>zn(is({},"__esModule",{value:!0}),i),Si={};$n(Si,{default:()=>Hn});var Un=Gn(Si);function Hn(i,t){return t?.allExtensions?i.replace(/\..+$/,""):i.replace(/\.[^.]+$/,"")}var qn=Object.create,Pe=Object.defineProperty,Vn=Object.getOwnPropertyDescriptor,Yn=Object.getOwnPropertyNames,Jn=Object.getPrototypeOf,Kn=Object.prototype.hasOwnProperty,Zn=(i,t)=>{for(var e in t)Pe(i,e,{get:t[e],enumerable:!0})},vi=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Yn(t))!Kn.call(i,n)&&n!==e&&Pe(i,n,{get:()=>t[n],enumerable:!(s=Vn(t,n))||s.enumerable});return i},Ei=(i,t,e)=>(e=i!=null?qn(Jn(i)):{},vi(t||!i||!i.__esModule?Pe(e,"default",{value:i,enumerable:!0}):e,i)),Xn=i=>vi(Pe({},"__esModule",{value:!0}),i),_i={};Zn(_i,{getMonorepoDirpath:()=>er});var Qn=Xn(_i),ns=Ei(ke),Ae=Ei(U),tr=De;function er(i=process.cwd()){i=i.startsWith("file://")?(0,tr.fileURLToPath)(i):i,ns.statSync(i).isFile()&&(i=Ae.default.dirname(i));let t;for(;i!=="/";){const e=ns.existsSync(Ae.default.join(i,"pnpm-workspace.yaml"));if(ns.existsSync(Ae.default.join(i,"pnpm-lock.yaml"))&&(t=i),e)return i;i=Ae.default.dirname(i)}return t}const Ft=U,{globSync:sr}=Es,Oi=Un,{getMonorepoDirpath:ir}=Qn;var nr=function(){const t=ir(__dirname);if(t===void 0)throw new Error("Could not find monorepo directory");const e=s=>`__${s.replaceAll(/[^\w$]/g,"_")}`;return function(s){if(Ft.basename(s).startsWith("__virtual__:")){const n=(Oi.default??Oi)(Ft.basename(s).replace("__virtual__:","")),r=Ft.dirname(s),h=sr(r,{absolute:!0}),a=[];switch(n){case"files":{for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`import * as ${b} from ${JSON.stringify(c)};`)}a.push("export default {");for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`${JSON.stringify(d)}: ${b},`)}a.push("};");break}case"matches":{a.push(...h.map(c=>`export * from ${JSON.stringify(c)};`));break}case"filepaths":{a.push("export default {");for(const c of h){const d=Ft.relative(t,c);a.push(`${JSON.stringify(d)}: true,`)}a.push("};");break}default:throw new Error(`Unknown virtual file type: ${n}`)}return a.push("export {};"),a.join(`
+`)}else return readFile(s)}},rr=Ci(nr);module.exports=rr;
+;return module.exports()})({}),
       writeFile: writeFile2,
       watchFile: watchFile2,
       watchDirectory,
       resolvePath: (path) => _path.resolve(path),
-      fileExists,
-      directoryExists,
+      fileExists: ((module) => {"use strict";var t=require("node:path");function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const s=t;var i=function(){return function(r){return s.basename(r).startsWith("__virtual__:")?!0:fileExists(r)}},u=a(i);module.exports=u;
+;return module.exports()})({}),
+      directoryExists: ((module) => {"use strict";var Xs=require("path"),Ve=require("url"),Ye=require("fs"),Qs=require("fs/promises"),Ke=require("events"),Je=require("stream"),Ze=require("string_decoder"),it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ti(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xe={},mt={},ei=Qe;function Qe(r,t,e){r instanceof RegExp&&(r=ts(r,e)),t instanceof RegExp&&(t=ts(t,e));var s=es(r,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+r.length,s[1]),post:e.slice(s[1]+t.length)}}function ts(r,t){var e=t.match(r);return e?e[0]:null}Qe.range=es;function es(r,t,e){var s,i,n,o,c,l=e.indexOf(r),p=e.indexOf(t,l+1),b=l;if(l>=0&&p>0){if(r===t)return[l,p];for(s=[],n=e.length;b>=0&&!c;)b==l?(s.push(b),l=e.indexOf(r,b+1)):s.length==1?c=[s.pop(),p]:(i=s.pop(),i<n&&(n=i,o=p),p=e.indexOf(t,b+1)),b=l<p&&l>=0?l:p;s.length&&(c=[n,o])}return c}var ss=ei,si=ni,is="\0SLASH"+Math.random()+"\0",rs="\0OPEN"+Math.random()+"\0",Oe="\0CLOSE"+Math.random()+"\0",ns="\0COMMA"+Math.random()+"\0",hs="\0PERIOD"+Math.random()+"\0";function Te(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function ii(r){return r.split("\\\\").join(is).split("\\{").join(rs).split("\\}").join(Oe).split("\\,").join(ns).split("\\.").join(hs)}function ri(r){return r.split(is).join("\\").split(rs).join("{").split(Oe).join("}").split(ns).join(",").split(hs).join(".")}function os(r){if(!r)return[""];var t=[],e=ss("{","}",r);if(!e)return r.split(",");var s=e.pre,i=e.body,n=e.post,o=s.split(",");o[o.length-1]+="{"+i+"}";var c=os(n);return n.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),t.push.apply(t,o),t}function ni(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),Lt(ii(r),!0).map(ri)):[]}function hi(r){return"{"+r+"}"}function oi(r){return/^-?0\d/.test(r)}function ai(r,t){return r<=t}function li(r,t){return r>=t}function Lt(r,t){var e=[],s=ss("{","}",r);if(!s)return[r];var i=s.pre,n=s.post.length?Lt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<n.length;o++){var c=i+"{"+s.body+"}"+n[o];e.push(c)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),p=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=l||p,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(r=s.pre+"{"+s.body+Oe+s.post,Lt(r)):[r];var y;if(b)y=s.body.split(/\.\./);else if(y=os(s.body),y.length===1&&(y=Lt(y[0],!1).map(hi),y.length===1))return n.map(function(st){return s.pre+y[0]+st});var w;if(b){var _=Te(y[0]),v=Te(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs(Te(y[2])):1,A=ai,P=v<_;P&&(O*=-1,A=li);var R=y.some(oi);w=[];for(var F=_;A(F,v);F+=O){var k;if(p)k=String.fromCharCode(F),k==="\\"&&(k="");else if(k=String(F),R){var D=T-k.length;if(D>0){var I=new Array(D+1).join("0");F<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Lt(y[L],!1))}for(var L=0;L<w.length;L++)for(var o=0;o<n.length;o++){var c=i+w[L]+n[o];(!t||b||c)&&e.push(c)}}return e}var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.assertValidPattern=void 0;const ci=1024*64,fi=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>ci)throw new TypeError("pattern is too long")};Qt.assertValidPattern=fi;var jt={},te={};Object.defineProperty(te,"__esModule",{value:!0}),te.parseClass=void 0;const ui={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ft=r=>r.replace(/[[\]\\-]/g,"\\$&"),di=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),as=r=>r.join(""),pi=(r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],i=[];let n=e+1,o=!1,c=!1,l=!1,p=!1,b=e,g="";t:for(;n<r.length;){const v=r.charAt(n);if((v==="!"||v==="^")&&n===e+1){p=!0,n++;continue}if(v==="]"&&o&&!l){b=n+1;break}if(o=!0,v==="\\"&&!l){l=!0,n++;continue}if(v==="["&&!l){for(const[T,[O,A,P]]of Object.entries(ui))if(r.startsWith(T,n)){if(g)return["$.",!1,r.length-e,!0];n+=T.length,P?i.push(O):s.push(O),c=c||A;continue t}}if(l=!1,g){v>g?s.push(Ft(g)+"-"+Ft(v)):v===g&&s.push(Ft(v)),g="",n++;continue}if(r.startsWith("-]",n+1)){s.push(Ft(v+"-")),n+=2;continue}if(r.startsWith("-",n+1)){g=v,n+=2;continue}s.push(Ft(v)),n++}if(b<n)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,r.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!p){const v=s[0].length===2?s[0].slice(-1):s[0];return[di(v),!1,b-e,!1]}const y="["+(p?"^":"")+as(s)+"]",w="["+(p?"":"^")+as(i)+"]";return[s.length&&i.length?"("+y+"|"+w+")":s.length?y:w,c,b-e,!0]};te.parseClass=pi;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.unescape=void 0;const mi=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Rt.unescape=mi,Object.defineProperty(jt,"__esModule",{value:!0}),jt.AST=void 0;const gi=te,ee=Rt,wi=new Set(["!","?","+","*","@"]),ls=r=>wi.has(r),bi="(?!(?:^|/)\\.\\.?(?:$|/))",se="(?!\\.)",yi=new Set(["[","."]),Si=new Set(["..","."]),Ei=new Set("().*{}+?[]^$\\!"),vi=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Re="[^/]",cs=Re+"*?",fs=Re+"+?";class X{type;#t;#s;#n=!1;#i=[];#o;#l;#f;#a=!1;#h;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#o=e,this.#t=this.#o?this.#o.#t:this,this.#h=this.#t===this?s:this.#t.#h,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#o?this.#o.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#o;for(;s;){for(let i=e.#l+1;!s.type&&i<s.#i.length;i++)for(const n of t.#i){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#i[i])}e=s,s=e.#o}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof X&&e.#o===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#o?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#o?.isStart())return!1;if(this.#l===0)return!0;const t=this.#o;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof X&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();const t=this.#o?this.#o.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new X(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,i){let n=!1,o=!1,c=-1,l=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const v=t.charAt(w++);if(n||v==="\\"){n=!n,_+=v;continue}if(o){w===c+1?(v==="^"||v==="!")&&(l=!0):v==="]"&&!(w===c+2&&l)&&(o=!1),_+=v;continue}else if(v==="["){o=!0,c=w,l=!1,_+=v;continue}if(!i.noext&&ls(v)&&t.charAt(w)==="("){e.push(_),_="";const T=new X(v,e);w=X.#d(t,T,w,i),e.push(T);continue}_+=v}return e.push(_),w}let p=s+1,b=new X(null,e);const g=[];let y="";for(;p<t.length;){const w=t.charAt(p++);if(n||w==="\\"){n=!n,y+=w;continue}if(o){p===c+1?(w==="^"||w==="!")&&(l=!0):w==="]"&&!(p===c+2&&l)&&(o=!1),y+=w;continue}else if(w==="["){o=!0,c=p,l=!1,y+=w;continue}if(ls(w)&&t.charAt(p)==="("){b.push(y),y="";const _=new X(w,b);b.push(_),p=X.#d(t,_,p,i);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new X(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),p;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],p}static fromGlob(t,e={}){const s=new X(null,void 0,e);return X.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,i,n]=this.toRegExpSource();if(!(i||this.#s||this.#h.nocase&&!this.#h.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const c=(this.#h.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,c),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#h.dot;if(this.#t===this&&this.#w(),!this.type){const l=this.isStart()&&this.isEnd(),p=this.#i.map(w=>{const[_,v,T,O]=typeof w=="string"?X.#y(w,this.#s,l):w.toRegExpSource(t);return this.#s=this.#s||T,this.#n=this.#n||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&Si.has(this.#i[0]))){const _=yi,v=e&&_.has(p.charAt(0))||p.startsWith("\\.")&&_.has(p.charAt(2))||p.startsWith("\\.\\.")&&_.has(p.charAt(4)),T=!e&&!t&&_.has(p.charAt(0));b=v?bi:T?se:""}let g="";return this.isEnd()&&this.#t.#a&&this.#o?.type==="!"&&(g="(?:$|\\/)"),[b+p+g,(0,ee.unescape)(p),this.#s=!!this.#s,this.#n]}const s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let n=this.#u(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){const l=this.toString();return this.#i=[l],this.type=null,this.#s=void 0,[l,(0,ee.unescape)(this.toString()),!1,!1]}let o=!s||t||e||!se?"":this.#u(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let c="";if(this.type==="!"&&this.#m)c=(this.isStart()&&!e?se:"")+fs;else{const l=this.type==="!"?"))"+(this.isStart()&&!e&&!t?se:"")+cs+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;c=i+n+l}return[c,(0,ee.unescape)(n),this.#s=!!this.#s,this.#n]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,i,n,o]=e.toRegExpSource(t);return this.#n=this.#n||o,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let i=!1,n="",o=!1;for(let c=0;c<t.length;c++){const l=t.charAt(c);if(i){i=!1,n+=(Ei.has(l)?"\\":"")+l;continue}if(l==="\\"){c===t.length-1?n+="\\\\":i=!0;continue}if(l==="["){const[p,b,g,y]=(0,gi.parseClass)(t,c);if(g){n+=p,o=o||b,c+=g-1,e=e||y;continue}}if(l==="*"){s&&t==="*"?n+=fs:n+=cs,e=!0;continue}if(l==="?"){n+=Re,e=!0;continue}n+=vi(l)}return[n,(0,ee.unescape)(t),!!e,o]}}jt.AST=X;var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.escape=void 0;const _i=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");kt.escape=_i,function(r){var t=it&&it.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.unescape=r.escape=r.AST=r.Minimatch=r.match=r.makeRe=r.braceExpand=r.defaults=r.filter=r.GLOBSTAR=r.sep=r.minimatch=void 0;const e=t(si),s=Qt,i=jt,n=kt,o=Rt,c=(S,a,d={})=>((0,s.assertValidPattern)(a),!d.nocomment&&a.charAt(0)==="#"?!1:new Et(a,d).match(S));r.minimatch=c;const l=/^\*+([^+@!?\*\[\(]*)$/,p=S=>a=>!a.startsWith(".")&&a.endsWith(S),b=S=>a=>a.endsWith(S),g=S=>(S=S.toLowerCase(),a=>!a.startsWith(".")&&a.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),a=>a.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),v=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),A=/^\*+$/,P=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",F=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,a=""])=>{const d=st([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},D=([S,a=""])=>{const d=yt([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},I=([S,a=""])=>{const d=yt([S]);return a?m=>d(m)&&m.endsWith(a):d},L=([S,a=""])=>{const d=st([S]);return a?m=>d(m)&&m.endsWith(a):d},st=([S])=>{const a=S.length;return d=>d.length===a&&!d.startsWith(".")},yt=([S])=>{const a=S.length;return d=>d.length===a&&d!=="."&&d!==".."},z=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};r.sep=z==="win32"?N.win32.sep:N.posix.sep,r.minimatch.sep=r.sep,r.GLOBSTAR=Symbol("globstar **"),r.minimatch.GLOBSTAR=r.GLOBSTAR;const Pt="[^/]"+"*?",Zt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Mt="(?:(?!(?:\\/|^)\\.).)*?",Q=(S,a={})=>d=>(0,r.minimatch)(d,S,a);r.filter=Q,r.minimatch.filter=r.filter;const q=(S,a={})=>Object.assign({},S,a),Ot=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return r.minimatch;const a=r.minimatch;return Object.assign((m,f,h={})=>a(m,f,q(S,h)),{Minimatch:class extends a.Minimatch{constructor(f,h={}){super(f,q(S,h))}static defaults(f){return a.defaults(q(S,f)).Minimatch}},AST:class extends a.AST{constructor(f,h,u={}){super(f,h,q(S,u))}static fromGlob(f,h={}){return a.AST.fromGlob(f,q(S,h))}},unescape:(m,f={})=>a.unescape(m,q(S,f)),escape:(m,f={})=>a.escape(m,q(S,f)),filter:(m,f={})=>a.filter(m,q(S,f)),defaults:m=>a.defaults(q(S,m)),makeRe:(m,f={})=>a.makeRe(m,q(S,f)),braceExpand:(m,f={})=>a.braceExpand(m,q(S,f)),match:(m,f,h={})=>a.match(m,f,q(S,h)),sep:a.sep,GLOBSTAR:r.GLOBSTAR})};r.defaults=Ot,r.minimatch.defaults=r.defaults;const St=(S,a={})=>((0,s.assertValidPattern)(S),a.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));r.braceExpand=St,r.minimatch.braceExpand=r.braceExpand;const lt=(S,a={})=>new Et(S,a).makeRe();r.makeRe=lt,r.minimatch.makeRe=r.makeRe;const V=(S,a,d={})=>{const m=new Et(a,d);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(a),S};r.match=V,r.minimatch.match=r.match;const pt=/[?*]|[+@!]\(.*?\)|\[|\]/,Se=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Et{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(a,d={}){(0,s.assertValidPattern)(a),d=d||{},this.options=d,this.pattern=a,this.platform=d.platform||z,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!d.windowsPathsNoEscape||d.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!d.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!d.nonegate,this.comment=!1,this.empty=!1,this.partial=!!d.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=d.windowsNoMagicRoot!==void 0?d.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const a of this.set)for(const d of a)if(typeof d!="string")return!0;return!1}debug(...a){}make(){const a=this.pattern,d=this.options;if(!d.nocomment&&a.charAt(0)==="#"){this.comment=!0;return}if(!a){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],d.debug&&(this.debug=(...h)=>console.error(...h)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(h=>this.slashSplit(h));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((h,u,E)=>{if(this.isWindows&&this.windowsNoMagicRoot){const C=h[0]===""&&h[1]===""&&(h[2]==="?"||!pt.test(h[2]))&&!pt.test(h[3]),M=/^[a-z]:/i.test(h[0]);if(C)return[...h.slice(0,4),...h.slice(4).map(j=>this.parse(j))];if(M)return[h[0],...h.slice(1).map(j=>this.parse(j))]}return h.map(C=>this.parse(C))});if(this.debug(this.pattern,f),this.set=f.filter(h=>h.indexOf(!1)===-1),this.isWindows)for(let h=0;h<this.set.length;h++){const u=this.set[h];u[0]===""&&u[1]===""&&this.globParts[h][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(a){if(this.options.noglobstar)for(let m=0;m<a.length;m++)for(let f=0;f<a[m].length;f++)a[m][f]==="**"&&(a[m][f]="*");const{optimizationLevel:d=1}=this.options;return d>=2?(a=this.firstPhasePreProcess(a),a=this.secondPhasePreProcess(a)):d>=1?a=this.levelOneOptimize(a):a=this.adjascentGlobstarOptimize(a),a}adjascentGlobstarOptimize(a){return a.map(d=>{let m=-1;for(;(m=d.indexOf("**",m+1))!==-1;){let f=m;for(;d[f+1]==="**";)f++;f!==m&&d.splice(m,f-m)}return d})}levelOneOptimize(a){return a.map(d=>(d=d.reduce((m,f)=>{const h=m[m.length-1];return f==="**"&&h==="**"?m:f===".."&&h&&h!==".."&&h!=="."&&h!=="**"?(m.pop(),m):(m.push(f),m)},[]),d.length===0?[""]:d))}levelTwoFileOptimize(a){Array.isArray(a)||(a=this.slashSplit(a));let d=!1;do{if(d=!1,!this.preserveMultipleSlashes){for(let f=1;f<a.length-1;f++){const h=a[f];f===1&&h===""&&a[0]===""||(h==="."||h==="")&&(d=!0,a.splice(f,1),f--)}a[0]==="."&&a.length===2&&(a[1]==="."||a[1]==="")&&(d=!0,a.pop())}let m=0;for(;(m=a.indexOf("..",m+1))!==-1;){const f=a[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(d=!0,a.splice(m-1,2),m-=2)}}while(d);return a.length===0?[""]:a}firstPhasePreProcess(a){let d=!1;do{d=!1;for(let m of a){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let E=m[f+1];const C=m[f+2],M=m[f+3];if(E!==".."||!C||C==="."||C===".."||!M||M==="."||M==="..")continue;d=!0,m.splice(f,1);const j=m.slice(0);j[f]="**",a.push(j),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const E=m[u];u===1&&E===""&&m[0]===""||(E==="."||E==="")&&(d=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(d=!0,m.pop())}let h=0;for(;(h=m.indexOf("..",h+1))!==-1;){const u=m[h-1];if(u&&u!=="."&&u!==".."&&u!=="**"){d=!0;const C=h===1&&m[h+1]==="**"?["."]:[];m.splice(h-1,2,...C),m.length===0&&m.push(""),h-=2}}}}while(d);return a}secondPhasePreProcess(a){for(let d=0;d<a.length-1;d++)for(let m=d+1;m<a.length;m++){const f=this.partsMatch(a[d],a[m],!this.preserveMultipleSlashes);f&&(a[d]=f,a[m]=[])}return a.filter(d=>d.length)}partsMatch(a,d,m=!1){let f=0,h=0,u=[],E="";for(;f<a.length&&h<d.length;)if(a[f]===d[h])u.push(E==="b"?d[h]:a[f]),f++,h++;else if(m&&a[f]==="**"&&d[h]===a[f+1])u.push(a[f]),f++;else if(m&&d[h]==="**"&&a[f]===d[h+1])u.push(d[h]),h++;else if(a[f]==="*"&&d[h]&&(this.options.dot||!d[h].startsWith("."))&&d[h]!=="**"){if(E==="b")return!1;E="a",u.push(a[f]),f++,h++}else if(d[h]==="*"&&a[f]&&(this.options.dot||!a[f].startsWith("."))&&a[f]!=="**"){if(E==="a")return!1;E="b",u.push(d[h]),f++,h++}else return!1;return a.length===d.length&&u}parseNegate(){if(this.nonegate)return;const a=this.pattern;let d=!1,m=0;for(let f=0;f<a.length&&a.charAt(f)==="!";f++)d=!d,m++;m&&(this.pattern=a.slice(m)),this.negate=d}matchOne(a,d,m=!1){const f=this.options;if(this.isWindows){const J=typeof a[0]=="string"&&/^[a-z]:$/i.test(a[0]),_e=!J&&a[0]===""&&a[1]===""&&a[2]==="?"&&/^[a-z]:$/i.test(a[3]),He=typeof d[0]=="string"&&/^[a-z]:$/i.test(d[0]),Js=!He&&d[0]===""&&d[1]===""&&d[2]==="?"&&typeof d[3]=="string"&&/^[a-z]:$/i.test(d[3]),Dt=_e?3:J?0:void 0,Tt=Js?3:He?0:void 0;if(typeof Dt=="number"&&typeof Tt=="number"){const[qe,Zs]=[a[Dt],d[Tt]];qe.toLowerCase()===Zs.toLowerCase()&&(d[Tt]=qe,Tt>Dt?d=d.slice(Tt):Dt>Tt&&(a=a.slice(Dt)))}}const{optimizationLevel:h=1}=this.options;h>=2&&(a=this.levelTwoFileOptimize(a)),this.debug("matchOne",this,{file:a,pattern:d}),this.debug("matchOne",a.length,d.length);for(var u=0,E=0,C=a.length,M=d.length;u<C&&E<M;u++,E++){this.debug("matchOne loop");var j=d[E],W=a[u];if(this.debug(d,j,W),j===!1)return!1;if(j===r.GLOBSTAR){this.debug("GLOBSTAR",[d,j,W]);var $=u,K=E+1;if(K===M){for(this.debug("** at the end");u<C;u++)if(a[u]==="."||a[u]===".."||!f.dot&&a[u].charAt(0)===".")return!1;return!0}for(;$<C;){var nt=a[$];if(this.debug(`
+globstar while`,a,$,d,K,nt),this.matchOne(a.slice($),d.slice(K),m))return this.debug("globstar found match!",$,C,nt),!0;if(nt==="."||nt===".."||!f.dot&&nt.charAt(0)==="."){this.debug("dot detected!",a,$,d,K);break}this.debug("globstar swallow a segment, and continue"),$++}return!!(m&&(this.debug(`
+>>> no match, partial?`,a,$,d,K),$===C))}let J;if(typeof j=="string"?(J=W===j,this.debug("string match",j,W,J)):(J=j.test(W),this.debug("pattern match",j,W,J)),!J)return!1}if(u===C&&E===M)return!0;if(u===C)return m;if(E===M)return u===C-1&&a[u]==="";throw new Error("wtf?")}braceExpand(){return(0,r.braceExpand)(this.pattern,this.options)}parse(a){(0,s.assertValidPattern)(a);const d=this.options;if(a==="**")return r.GLOBSTAR;if(a==="")return"";let m,f=null;(m=a.match(A))?f=d.dot?R:P:(m=a.match(l))?f=(d.nocase?d.dot?y:g:d.dot?b:p)(m[1]):(m=a.match(F))?f=(d.nocase?d.dot?D:k:d.dot?I:L)(m):(m=a.match(w))?f=d.dot?v:_:(m=a.match(T))&&(f=O);const h=i.AST.fromGlob(a,this.options).toMMPattern();return f?Object.assign(h,{test:f}):h}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const a=this.set;if(!a.length)return this.regexp=!1,this.regexp;const d=this.options,m=d.noglobstar?Pt:d.dot?Zt:Mt,f=new Set(d.nocase?["i"]:[]);let h=a.map(C=>{const M=C.map(j=>{if(j instanceof RegExp)for(const W of j.flags.split(""))f.add(W);return typeof j=="string"?Se(j):j===r.GLOBSTAR?r.GLOBSTAR:j._src});return M.forEach((j,W)=>{const $=M[W+1],K=M[W-1];j!==r.GLOBSTAR||K===r.GLOBSTAR||(K===void 0?$!==void 0&&$!==r.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+$:M[W]=m:$===void 0?M[W-1]=K+"(?:\\/|"+m+")?":$!==r.GLOBSTAR&&(M[W-1]=K+"(?:\\/|\\/"+m+"\\/)"+$,M[W+1]=r.GLOBSTAR))}),M.filter(j=>j!==r.GLOBSTAR).join("/")}).join("|");const[u,E]=a.length>1?["(?:",")"]:["",""];h="^"+u+h+E+"$",this.negate&&(h="^(?!"+h+").+$");try{this.regexp=new RegExp(h,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(a){return this.preserveMultipleSlashes?a.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(a)?["",...a.split(/\/+/)]:a.split(/\/+/)}match(a,d=this.partial){if(this.debug("match",a,this.pattern),this.comment)return!1;if(this.empty)return a==="";if(a==="/"&&d)return!0;const m=this.options;this.isWindows&&(a=a.split("\\").join("/"));const f=this.slashSplit(a);this.debug(this.pattern,"split",f);const h=this.set;this.debug(this.pattern,"set",h);let u=f[f.length-1];if(!u)for(let E=f.length-2;!u&&E>=0;E--)u=f[E];for(let E=0;E<h.length;E++){const C=h[E];let M=f;if(m.matchBase&&C.length===1&&(M=[u]),this.matchOne(M,C,d))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(a){return r.minimatch.defaults(a).Minimatch}}r.Minimatch=Et;var Ee=jt;Object.defineProperty(r,"AST",{enumerable:!0,get:function(){return Ee.AST}});var ve=kt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return ve.escape}});var Xt=Rt;Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return Xt.unescape}}),r.minimatch.AST=i.AST,r.minimatch.Minimatch=Et,r.minimatch.escape=n.escape,r.minimatch.unescape=o.unescape}(mt);var Nt={},B={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.LRUCache=void 0;const Bt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,us=new Set,Ae=typeof process=="object"&&process?process:{},ds=(r,t,e,s)=>{typeof Ae.emitWarning=="function"?Ae.emitWarning(r,t,e,s):console.error(`[${e}] ${t}: ${r}`)};let re=globalThis.AbortController,ps=globalThis.AbortSignal;if(typeof re>"u"){ps=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,i){this._onabort.push(i)}},re=class{constructor(){t()}signal=new ps;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const i of this.signal._onabort)i(s);this.signal.onabort?.(s)}}};let r=Ae.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{r&&(r=!1,ds("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Oi=r=>!us.has(r),gt=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),ms=r=>gt(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?ne:null:null;class ne extends Array{constructor(t){super(t),this.fill(0)}}class Ct{heap;length;static#t=!1;static create(t){const e=ms(t);if(!e)return[];Ct.#t=!0;const s=new Ct(t,e);return Ct.#t=!1,s}constructor(t,e){if(!Ct.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class xe{#t;#s;#n;#i;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#h;#e;#m;#w;#d;#u;#y;#g;#C;#P;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#P,ttls:t.#O,sizes:t.#C,keyMap:t.#a,keyList:t.#h,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,i,n)=>t.#F(e,s,i,n),moveToTail:e=>t.#j(e),indexes:e=>t.#_(e),rindexes:e=>t.#A(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#o}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:c,allowStale:l,dispose:p,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:v,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:R,ignoreFetchAbort:F}=t;if(e!==0&&!gt(e))throw new TypeError("max option must be a nonnegative integer");const k=e?ms(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=v,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=T,this.#R=!!T,this.#a=new Map,this.#h=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Ct.create(e),this.#l=0,this.#f=0,typeof p=="function"&&(this.#n=p),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#n,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!P,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!F,this.maxEntrySize!==0){if(this.#s!==0&&!gt(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!gt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#D()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!c,this.ttlResolution=gt(i)||i===0?i:1,this.ttlAutopurge=!!n,this.ttl=s||0,this.ttl){if(!gt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const D="LRU_CACHE_UNBOUNDED";Oi(D)&&(us.add(D),ds("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,xe))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new ne(this.#t),e=new ne(this.#t);this.#O=t,this.#P=e,this.#r=(n,o,c=Bt.now())=>{if(e[n]=o!==0?c:0,t[n]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{this.#b(n)&&this.delete(this.#h[n])},o+1);l.unref&&l.unref()}},this.#T=n=>{e[n]=t[n]!==0?Bt.now():0},this.#E=(n,o)=>{if(t[o]){const c=t[o],l=e[o];n.ttl=c,n.start=l,n.now=s||i();const p=n.now-l;n.remainingTTL=c-p}};let s=0;const i=()=>{const n=Bt.now();if(this.ttlResolution>0){s=n;const o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{const o=this.#a.get(n);if(o===void 0)return 0;const c=t[o],l=e[o];if(c===0||l===0)return 1/0;const p=(s||i())-l;return c-p},this.#b=n=>t[n]!==0&&e[n]!==0&&(s||i())-e[n]>t[n]}#T=()=>{};#E=()=>{};#r=()=>{};#b=()=>!1;#D(){const t=new ne(this.#t);this.#f=0,this.#C=t,this.#v=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,i,n)=>{if(this.#c(s))return 0;if(!gt(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(s,e),!gt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#k=(e,s,i)=>{if(t[e]=s,this.#s){const n=this.#s-t[e];for(;this.#f>n;)this.#L(!0)}this.#f+=t[e],i&&(i.entrySize=s,i.totalCalculatedSize=this.#f)}}#v=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#A({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#h[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*rentries(){for(const t of this.#A())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#A()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#A())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;if(n!==void 0&&t(n,this.#h[s],this))return this.get(this.#h[s],e)}}forEach(t,e=this){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}rforEach(t,e=this){for(const s of this.#A()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}purgeStale(){let t=!1;for(const e of this.#A({allowStale:!0}))this.#b(e)&&(this.delete(this.#h[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#h[e],i=this.#e[e],n=this.#c(i)?i.__staleWhileFetching:i;if(n===void 0||s===void 0)continue;const o={value:n};if(this.#O&&this.#P){o.ttl=this.#O[e];const c=Bt.now()-this.#P[e];o.start=Math.floor(Date.now()-c)}this.#C&&(o.size=this.#C[e]),t.unshift([s,o])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const i=Date.now()-s.start;s.start=Bt.now()-i}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:l}=s;let{noUpdateTTL:p=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,c);if(this.maxEntrySize&&b>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#h[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,l),l&&(l.set="add"),p=!1;else{this.#j(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):o||(this.#S&&this.#n?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#v(g),this.#k(g,b,l),this.#e[g]=e,l){l.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(l.oldValue=w)}}else l&&(l.set="update")}if(i!==0&&!this.#O&&this.#M(),this.#O&&(p||this.#r(g,i,n),l&&this.#E(l,g)),!o&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#h[e],i=this.#e[e];return this.#R&&this.#c(i)?i.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,s,"evict"),this.#p&&this.#g?.push([i,s,"evict"])),this.#v(e),t&&(this.#h[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=e,n=this.#a.get(t);if(n!==void 0){const o=this.#e[n];if(this.#c(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(n))i&&(i.has="stale",this.#E(i,n));else return s&&this.#T(n),i&&(i.has="hit",this.#E(i,n)),!0}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,i=this.#a.get(t);if(i!==void 0&&(s||!this.#b(i))){const n=this.#e[i];return this.#c(n)?n.__staleWhileFetching:n}}#F(t,e,s,i){const n=e===void 0?void 0:this.#e[e];if(this.#c(n))return n;const o=new re,{signal:c}=s;c?.addEventListener("abort",()=>o.abort(c.reason),{signal:o.signal});const l={signal:o.signal,options:s,context:i},p=(v,T=!1)=>{const{aborted:O}=o.signal,A=s.ignoreFetchAbort&&v!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,A&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!A&&!T)return g(o.signal.reason);const P=w;return this.#e[e]===w&&(v===void 0?P.__staleWhileFetching?this.#e[e]=P.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,v,l.options))),v},b=v=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=v),g(v)),g=v=>{const{aborted:T}=o.signal,O=T&&s.allowStaleOnFetchAbort,A=O||s.allowStaleOnFetchRejection,P=A||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!P||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),A)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw v},y=(v,T)=>{const O=this.#o?.(t,n,l);O&&O instanceof Promise&&O.then(A=>v(A===void 0?void 0:A),T),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(v(void 0),s.allowStaleOnFetchAbort&&(v=A=>p(A,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(p,b),_=Object.assign(w,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,_,{...l.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof re}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:v,forceRefresh:T=!1,status:O,signal:A}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:O});const P={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:c,size:l,sizeCalculation:p,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:A};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const F=this.#F(t,R,P,v);return F.__returned=F}else{const F=this.#e[R];if(this.#c(F)){const st=s&&F.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",st&&(O.returnedStale=!0)),st?F.__staleWhileFetching:F.__returned=F}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#j(R),i&&this.#T(R),O&&this.#E(O,R),F;const D=this.#F(t,R,P,v),L=D.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?D.__staleWhileFetching:D.__returned=D}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,c=this.#a.get(t);if(c!==void 0){const l=this.#e[c],p=this.#c(l);return o&&this.#E(o,c),this.#b(c)?(o&&(o.get="stale"),p?(o&&s&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?l.__staleWhileFetching:void 0):(n||this.delete(t),o&&s&&(o.returnedStale=!0),s?l:void 0)):(o&&(o.get="hit"),p?l.__staleWhileFetching:(this.#j(c),i&&this.#T(c),l))}else o&&(o.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#j(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#v(s);const i=this.#e[s];this.#c(i)?i.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,t,"delete"),this.#p&&this.#g?.push([i,t,"delete"])),this.#a.delete(t),this.#h[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let i;for(;i=s?.shift();)this.#i?.(...i)}return e}clear(){for(const t of this.#A({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#h[t];this.#S&&this.#n?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#h.fill(void 0),this.#O&&this.#P&&(this.#O.fill(0),this.#P.fill(0)),this.#C&&this.#C.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}ie.LRUCache=xe;var gs={};(function(r){var t=it&&it.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(r,"__esModule",{value:!0}),r.Minipass=r.isWritable=r.isReadable=r.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=Ke,i=t(Je),n=Ze,o=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof i.default||(0,r.isReadable)(f)||(0,r.isWritable)(f));r.isStream=o;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==i.default.Writable.prototype.pipe;r.isReadable=c;const l=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";r.isWritable=l;const p=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),v=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),A=Symbol("encoding"),P=Symbol("decoder"),R=Symbol("flowing"),F=Symbol("paused"),k=Symbol("resume"),D=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),st=Symbol("bufferPush"),yt=Symbol("bufferShift"),z=Symbol("objectMode"),N=Symbol("destroyed"),Jt=Symbol("error"),Pt=Symbol("emitData"),Zt=Symbol("emitEnd"),Mt=Symbol("emitEnd2"),Q=Symbol("async"),q=Symbol("abort"),Ot=Symbol("aborted"),St=Symbol("signal"),lt=Symbol("dataListeners"),V=Symbol("discarded"),pt=f=>Promise.resolve().then(f),Se=f=>f(),Et=f=>f==="end"||f==="finish"||f==="prefinish",Ee=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,ve=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class Xt{src;dest;opts;ondrain;constructor(h,u,E){this.src=h,this.dest=u,this.opts=E,this.ondrain=()=>h[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(h){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends Xt{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(h,u,E){super(h,u,E),this.proxyErrors=C=>u.emit("error",C),h.on("error",this.proxyErrors)}}const a=f=>!!f.objectMode,d=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[F]=!1;[I]=[];[D]=[];[z];[A];[Q];[P];[p]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[St];[Ot]=!1;[lt]=0;[V]=!1;writable=!0;readable=!0;constructor(...h){const u=h[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");a(u)?(this[z]=!0,this[A]=null):d(u)?(this[A]=u.encoding,this[z]=!1):(this[z]=!1,this[A]=null),this[Q]=!!u.async,this[P]=this[A]?new n.StringDecoder(this[A]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[D]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:E}=u;E&&(this[St]=E,E.aborted?this[q]():E.addEventListener("abort",()=>this[q]()))}get bufferLength(){return this[L]}get encoding(){return this[A]}set encoding(h){throw new Error("Encoding must be set at instantiation time")}setEncoding(h){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[z]}set objectMode(h){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Q]}set async(h){this[Q]=this[Q]||!!h}[q](){this[Ot]=!0,this.emit("abort",this[St]?.reason),this.destroy(this[St]?.reason)}get aborted(){return this[Ot]}set aborted(h){}write(h,u,E){if(this[Ot])return!1;if(this[p])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(E=u,u="utf8"),u||(u="utf8");const C=this[Q]?pt:Se;if(!this[z]&&!Buffer.isBuffer(h)){if(ve(h))h=Buffer.from(h.buffer,h.byteOffset,h.byteLength);else if(Ee(h))h=Buffer.from(h);else if(typeof h!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[z]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):h.length?(typeof h=="string"&&!(u===this[A]&&!this[P]?.lastNeed)&&(h=Buffer.from(h,u)),Buffer.isBuffer(h)&&this[A]&&(h=this[P].write(h)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):(this[L]!==0&&this.emit("readable"),E&&C(E),this[R])}read(h){if(this[N])return null;if(this[V]=!1,this[L]===0||h===0||h&&h>this[L])return this[b](),null;this[z]&&(h=null),this[D].length>1&&!this[z]&&(this[D]=[this[A]?this[D].join(""):Buffer.concat(this[D],this[L])]);const u=this[v](h||null,this[D][0]);return this[b](),u}[v](h,u){if(this[z])this[yt]();else{const E=u;h===E.length||h===null?this[yt]():typeof E=="string"?(this[D][0]=E.slice(h),u=E.slice(0,h),this[L]-=h):(this[D][0]=E.subarray(h),u=E.subarray(0,h),this[L]-=h)}return this.emit("data",u),!this[D].length&&!this[p]&&this.emit("drain"),u}end(h,u,E){return typeof h=="function"&&(E=h,h=void 0),typeof u=="function"&&(E=u,u="utf8"),h!==void 0&&this.write(h,u),E&&this.once("end",E),this[p]=!0,this.writable=!1,(this[R]||!this[F])&&this[b](),this}[k](){this[N]||(!this[lt]&&!this[I].length&&(this[V]=!0),this[F]=!1,this[R]=!0,this.emit("resume"),this[D].length?this[T]():this[p]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[F]=!0,this[V]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[F]}[st](h){this[z]?this[L]+=1:this[L]+=h.length,this[D].push(h)}[yt](){return this[z]?this[L]-=1:this[L]-=this[D][0].length,this[D].shift()}[T](h=!1){do;while(this[O](this[yt]())&&this[D].length);!h&&!this[D].length&&!this[p]&&this.emit("drain")}[O](h){return this.emit("data",h),this[R]}pipe(h,u){if(this[N])return h;this[V]=!1;const E=this[g];return u=u||{},h===e.stdout||h===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,E?u.end&&h.end():(this[I].push(u.proxyErrors?new S(this,h,u):new Xt(this,h,u)),this[Q]?pt(()=>this[k]()):this[k]()),h}unpipe(h){const u=this[I].find(E=>E.dest===h);u&&(this[I].length===1?(this[R]&&this[lt]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(h,u){return this.on(h,u)}on(h,u){const E=super.on(h,u);if(h==="data")this[V]=!1,this[lt]++,!this[I].length&&!this[R]&&this[k]();else if(h==="readable"&&this[L]!==0)super.emit("readable");else if(Et(h)&&this[g])super.emit(h),this.removeAllListeners(h);else if(h==="error"&&this[w]){const C=u;this[Q]?pt(()=>C.call(this,this[w])):C.call(this,this[w])}return E}removeListener(h,u){return this.off(h,u)}off(h,u){const E=super.off(h,u);return h==="data"&&(this[lt]=this.listeners("data").length,this[lt]===0&&!this[V]&&!this[I].length&&(this[R]=!1)),E}removeAllListeners(h){const u=super.removeAllListeners(h);return(h==="data"||h===void 0)&&(this[lt]=0,!this[V]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[D].length===0&&this[p]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(h,...u){const E=u[0];if(h!=="error"&&h!=="close"&&h!==N&&this[N])return!1;if(h==="data")return!this[z]&&!E?!1:this[Q]?(pt(()=>this[Pt](E)),!0):this[Pt](E);if(h==="end")return this[Zt]();if(h==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(h==="error"){this[w]=E,super.emit(Jt,E);const M=!this[St]||this.listeners("error").length?super.emit("error",E):!1;return this[b](),M}else if(h==="resume"){const M=super.emit("resume");return this[b](),M}else if(h==="finish"||h==="prefinish"){const M=super.emit(h);return this.removeAllListeners(h),M}const C=super.emit(h,...u);return this[b](),C}[Pt](h){for(const E of this[I])E.dest.write(h)===!1&&this.pause();const u=this[V]?!1:super.emit("data",h);return this[b](),u}[Zt](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[Q]?(pt(()=>this[Mt]()),!0):this[Mt]())}[Mt](){if(this[P]){const u=this[P].end();if(u){for(const E of this[I])E.dest.write(u);this[V]||super.emit("data",u)}}for(const u of this[I])u.end();const h=super.emit("end");return this.removeAllListeners("end"),h}async collect(){const h=Object.assign([],{dataLength:0});this[z]||(h.dataLength=0);const u=this.promise();return this.on("data",E=>{h.push(E),this[z]||(h.dataLength+=E.length)}),await u,h}async concat(){if(this[z])throw new Error("cannot concat in objectMode");const h=await this.collect();return this[A]?h.join(""):Buffer.concat(h,h.dataLength)}async promise(){return new Promise((h,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",E=>u(E)),this.on("end",()=>h())})}[Symbol.asyncIterator](){this[V]=!1;let h=!1;const u=async()=>(this.pause(),h=!0,{value:void 0,done:!0});return{next:()=>{if(h)return u();const C=this.read();if(C!==null)return Promise.resolve({done:!1,value:C});if(this[p])return u();let M,j;const W=J=>{this.off("data",$),this.off("end",K),this.off(N,nt),u(),j(J)},$=J=>{this.off("error",W),this.off("end",K),this.off(N,nt),this.pause(),M({value:J,done:!!this[p]})},K=()=>{this.off("error",W),this.off("data",$),this.off(N,nt),u(),M({done:!0,value:void 0})},nt=()=>W(new Error("stream destroyed"));return new Promise((J,_e)=>{j=_e,M=J,this.once(N,nt),this.once("error",W),this.once("end",K),this.once("data",$)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[V]=!1;let h=!1;const u=()=>(this.pause(),this.off(Jt,u),this.off(N,u),this.off("end",u),h=!0,{done:!0,value:void 0}),E=()=>{if(h)return u();const C=this.read();return C===null?u():{done:!1,value:C}};return this.once("end",u),this.once(Jt,u),this.once(N,u),{next:E,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(h){if(this[N])return h?this.emit("error",h):this.emit(N),this;this[N]=!0,this[V]=!0,this[D].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),h?this.emit("error",h):this.emit(N),this}static get isStream(){return r.isStream}}r.Minipass=m})(gs);var Ti=it&&it.__createBinding||(Object.create?function(r,t,e,s){s===void 0&&(s=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,s,i)}:function(r,t,e,s){s===void 0&&(s=e),r[s]=t[e]}),Ri=it&&it.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Ai=it&&it.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&Ti(t,r,e);return Ri(t,r),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const ws=ie,he=Xs,Ci=Ve,Pi=Ai(Ye),It=Ye,Mi=It.realpathSync.native,oe=Qs,bs=gs,Wt={lstatSync:It.lstatSync,readdir:It.readdir,readdirSync:It.readdirSync,readlinkSync:It.readlinkSync,realpathSync:Mi,promises:{lstat:oe.lstat,readdir:oe.readdir,readlink:oe.readlink,realpath:oe.realpath}},ys=r=>!r||r===Wt||r===Pi?Wt:{...Wt,...r,promises:{...Wt.promises,...r.promises||{}}},Ss=/^\\\\\?\\([a-z]:)\\?$/i,Di=r=>r.replace(/\//g,"\\").replace(Ss,"$1\\"),Li=/[\\\/]/,tt=0,Es=1,vs=2,ht=4,_s=6,Os=8,vt=10,Ts=12,et=15,Gt=~et,Ce=16,Rs=32,xt=64,rt=128,ae=256,le=512,As=xt|rt|le,ji=1023,Pe=r=>r.isFile()?Os:r.isDirectory()?ht:r.isSymbolicLink()?vt:r.isCharacterDevice()?vs:r.isBlockDevice()?_s:r.isSocket()?Ts:r.isFIFO()?Es:tt,Cs=new Map,$t=r=>{const t=Cs.get(r);if(t)return t;const e=r.normalize("NFKD");return Cs.set(r,e),e},Ps=new Map,ce=r=>{const t=Ps.get(r);if(t)return t;const e=$t(r.toLowerCase());return Ps.set(r,e),e};class Me extends ws.LRUCache{constructor(){super({max:256})}}B.ResolveCache=Me;class Ms extends ws.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=Ms;const Ds=Symbol("PathScurry setAsCwd");class Y{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#n;get mode(){return this.#n}#i;get nlink(){return this.#i}#o;get uid(){return this.#o}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#h;get ino(){return this.#h}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#C;get mtime(){return this.#C}#P;get ctime(){return this.#P}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#E;#r;#b;#D;#v;get path(){return(this.parent||this).fullpath()}constructor(t,e=tt,s,i,n,o,c){this.name=t,this.#S=n?ce(t):$t(t),this.#r=e&ji,this.nocase=n,this.roots=i,this.root=s||this,this.#b=o,this.#p=c.fullpath,this.#T=c.relative,this.#E=c.relativePosix,this.parent=c.parent,this.parent?this.#t=this.parent.#t:this.#t=ys(c.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(i):this.#k(i)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#r&=~Ce,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),i=this.nocase?ce(t):$t(t);for(const l of s)if(l.#S===i)return l;const n=this.parent?this.sep:"",o=this.#p?this.#p+n+t:void 0,c=this.newChild(t,tt,{...e,parent:this,fullpath:o});return this.canReaddir()||(c.#r|=rt),s.push(c),c}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#E!==void 0)return this.#E;const t=this.name,e=this.parent;if(!e)return this.#E=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=i}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#M=`//?/${i}`:this.#M=i}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#r&et)===tt}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&et)===Os}isDirectory(){return(this.#r&et)===ht}isCharacterDevice(){return(this.#r&et)===vs}isBlockDevice(){return(this.#r&et)===_s}isFIFO(){return(this.#r&et)===Es}isSocket(){return(this.#r&et)===Ts}isSymbolicLink(){return(this.#r&vt)===vt}lstatCached(){return this.#r&Rs?this:void 0}readlinkCached(){return this.#D}realpathCached(){return this.#v}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#D)return!0;if(!this.parent)return!1;const t=this.#r&et;return!(t!==tt&&t!==vt||this.#r&ae||this.#r&rt)}calledReaddir(){return!!(this.#r&Ce)}isENOENT(){return!!(this.#r&rt)}isNamed(t){return this.nocase?this.#S===ce(t):this.#S===$t(t)}async readlink(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}#N(t){this.#r|=Ce;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#r&rt||(this.#r=(this.#r|rt)&Gt,this.#A())}#A(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#r|=le,this.#L()}#L(){if(this.#r&xt)return;let t=this.#r;(t&et)===ht&&(t&=Gt),this.#r=t|xt,this.#A()}#F(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#r;e|=ae,t==="ENOENT"&&(e|=rt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Gt),this.#r=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#j(t,e){return this.#U(t,e)||this.#z(t,e)}#z(t,e){const s=Pe(t),i=this.newChild(t.name,s,{parent:this}),n=i.#r&et;return n!==ht&&n!==vt&&n!==tt&&(i.#r|=xt),e.unshift(i),e.provisional++,i}#U(t,e){for(let s=e.provisional;s<e.length;s++){const i=e[s];if((this.nocase?ce(t.name):$t(t.name))===i.#S)return this.#H(t,i,s,e)}}#H(t,e,s,i){const n=e.name;return e.#r=e.#r&Gt|Pe(t),n!==t.name&&(e.name=t.name),s!==i.provisional&&(s===i.length-1?i.pop():i.splice(s,1),i.unshift(e)),i.provisional++,e}async lstat(){if(!(this.#r&rt))try{return this.#$(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#r&rt))try{return this.#$(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#$(t){const{atime:e,atimeMs:s,birthtime:i,birthtimeMs:n,blksize:o,blocks:c,ctime:l,ctimeMs:p,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:v,nlink:T,rdev:O,size:A,uid:P}=t;this.#g=e,this.#w=s,this.#O=i,this.#y=n,this.#a=o,this.#m=c,this.#P=l,this.#u=p,this.#s=b,this.#l=g,this.#h=y,this.#n=w,this.#C=_,this.#d=v,this.#i=T,this.#f=O,this.#e=A,this.#o=P;const R=Pe(t);this.#r=this.#r&Gt|R|Rs,R!==tt&&R!==ht&&R!==vt&&(this.#r|=xt)}#G=[];#x=!1;#q(t){this.#x=!1;const e=this.#G.slice();this.#G.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const n=s.slice(0,s.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#G.push(t),this.#x)return;this.#x=!0;const i=this.fullpath();this.#t.readdir(i,{withFileTypes:!0},(n,o)=>{if(n)this.#F(n.code),s.provisional=0;else{for(const c of o)this.#j(c,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(i=>s=i);try{for(const i of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#j(i,t);this.#N(t)}catch(i){this.#F(i.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#j(s,t);this.#N(t)}catch(s){this.#F(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#r&As)return!1;const t=et&this.#r;return t===tt||t===ht||t===vt}shouldWalk(t,e){return(this.#r&ht)===ht&&!(this.#r&As)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=this.#t.realpathSync(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}[Ds](t){if(t===this)return;const e=new Set([]);let s=[],i=this;for(;i&&i.parent;)e.add(i),i.#T=s.join(this.sep),i.#E=s.join("/"),i=i.parent,s.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#T=void 0,i.#E=void 0,i=i.parent}}B.PathBase=Y;class Yt extends Y{sep="\\";splitSep=Li;constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}newChild(t,e=tt,s={}){return new Yt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return he.win32.parse(t).root}getRoot(t){if(t=Di(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Le(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Ss,"$1\\"),t===e}}B.PathWin32=Yt;class Kt extends Y{splitSep="/";sep="/";constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=tt,s={}){return new Kt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=Kt;class De{root;rootPath;roots;cwd;#t;#s;#n;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:i,childrenCacheSize:n=16*1024,fs:o=Wt}={}){this.#i=ys(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Ci.fileURLToPath)(t));const c=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(c),this.#t=new Me,this.#s=new Me,this.#n=new Ms(n);const l=c.substring(this.rootPath.length).split(s);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let p=this.root,b=l.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of l){const v=b--;p=p.child(_,{relative:new Array(v).fill("..").join(g),relativePosix:new Array(v).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=p}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#n}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#t.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpath();return this.#t.set(e,i),i}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#s.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,i),i}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const i=await t.readdir();return s?i:i.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(i=>i.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set,p=(g,y)=>{l.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let v=_.length;if(!v)return y();const T=()=>{--v===0&&y()};for(const O of _)(!n||n(O))&&c.push(s?O:O.fullpath()),i&&O.isSymbolicLink()?O.realpath().then(A=>A?.isUnknown()?A.lstat():A).then(A=>A?.shouldWalk(l,o)?p(A,T):T()):O.shouldWalk(l,o)?p(O,T):T()},!0)},b=t;return new Promise((g,y)=>{p(b,w=>{if(w)return y(w);g(c)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set([t]);for(const p of l){const b=p.readdirSync();for(const g of b){(!n||n(g))&&c.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(i&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(l,o)&&l.add(y)}}return c}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield s?t:t.fullpath());const c=new Set([t]);for(const l of c){const p=l.readdirSync();for(const b of p){(!n||n(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(i&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(c,o)&&c.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0});(!n||n(t))&&c.write(s?t:t.fullpath());const l=new Set,p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=(T,O,A=!1)=>{if(T)return c.emit("error",T);if(i&&!A){const P=[];for(const R of O)R.isSymbolicLink()&&P.push(R.realpath().then(F=>F?.isUnknown()?F.lstat():F));if(P.length){Promise.all(P).then(()=>_(null,O,!0));return}}for(const P of O)P&&(!n||n(P))&&(c.write(s?P:P.fullpath())||(y=!0));b--;for(const P of O){const R=P.realpathCached()||P;R.shouldWalk(l,o)&&p.push(R)}y&&!c.flowing?c.once("drain",g):v||g()};let v=!0;w.readdirCB(_,!0),v=!1}};return g(),c}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0}),l=new Set;(!n||n(t))&&c.write(s?t:t.fullpath());const p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=w.readdirSync();for(const v of _)(!n||n(v))&&(c.write(s?v:v.fullpath())||(y=!0));b--;for(const v of _){let T=v;if(v.isSymbolicLink()){if(!(i&&(T=v.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(l,o)&&p.push(T)}}y&&!c.flowing&&c.once("drain",g)};return g(),c}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[Ds](e)}}B.PathScurryBase=De;class Le extends De{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,he.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(t){return he.win32.parse(t).root.toUpperCase()}newRoot(t){return new Yt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Le;class je extends De{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,he.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Kt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=je;class Ls extends je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=Ls,B.Path=process.platform==="win32"?Yt:Kt,B.PathScurry=process.platform==="win32"?Le:process.platform==="darwin"?Ls:je;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.Pattern=void 0;const Fi=mt,ki=r=>r.length>=1,Ni=r=>r.length>=1;class $e{#t;#s;#n;length;#i;#o;#l;#f;#a;#h;#e=!0;constructor(t,e,s,i){if(!ki(t))throw new TypeError("empty pattern list");if(!Ni(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#n=s,this.#i=i,this.#n===0){if(this.isUNC()){const[n,o,c,l,...p]=this.#t,[b,g,y,w,..._]=this.#s;p[0]===""&&(p.shift(),_.shift());const v=[n,o,c,l,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[v,...p],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[n,...o]=this.#t,[c,...l]=this.#s;o[0]===""&&(o.shift(),l.shift());const p=n+"/",b=c+"/";this.#t=[p,...o],this.#s=[b,...l],this.length=this.#t.length}}}pattern(){return this.#t[this.#n]}isString(){return typeof this.#t[this.#n]=="string"}isGlobstar(){return this.#t[this.#n]===Fi.GLOBSTAR}isRegExp(){return this.#t[this.#n]instanceof RegExp}globString(){return this.#l=this.#l||(this.#n===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new $e(this.#t,this.#s,this.#n+1,this.#i),this.#o.#h=this.#h,this.#o.#a=this.#a,this.#o.#f=this.#f,this.#o):this.#o=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#n===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#n===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#h!==void 0?this.#h:this.#h=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#n===0?t:""}checkFollowGlobstar(){return!(this.#n===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#n===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}zt.Pattern=$e;var wt={},js={};const Fs=typeof process=="object"&&process?process:{stdout:null,stderr:null},Bi=Ke,ks=Je,Ii=Ze,Ns=Ii.StringDecoder,ct=Symbol("EOF"),ft=Symbol("maybeEmitEnd"),bt=Symbol("emittedEnd"),fe=Symbol("emittingEnd"),Ut=Symbol("emittedError"),ue=Symbol("closed"),Bs=Symbol("read"),de=Symbol("flush"),Is=Symbol("flushChunk"),Z=Symbol("encoding"),ut=Symbol("decoder"),pe=Symbol("flowing"),Ht=Symbol("paused"),At=Symbol("resume"),G=Symbol("buffer"),ot=Symbol("pipes"),U=Symbol("bufferLength"),Fe=Symbol("bufferPush"),ke=Symbol("bufferShift"),H=Symbol("objectMode"),x=Symbol("destroyed"),Ne=Symbol("error"),Be=Symbol("emitData"),Ws=Symbol("emitEnd"),Ie=Symbol("emitEnd2"),dt=Symbol("async"),We=Symbol("abort"),me=Symbol("aborted"),_t=Symbol("signal"),qt=r=>Promise.resolve().then(r),Gs=it._MP_NO_ITERATOR_SYMBOLS_!=="1",xs=Gs&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$s=Gs&&Symbol.iterator||Symbol("iterator not implemented"),Wi=r=>r==="end"||r==="finish"||r==="prefinish",Gi=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,xi=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r);class zs{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[At](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class $i extends zs{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=i=>e.emit("error",i),t.on("error",this.proxyErrors)}}class ze extends ks{constructor(t){super(),this[pe]=!1,this[Ht]=!1,this[ot]=[],this[G]=[],this[H]=t&&t.objectMode||!1,this[H]?this[Z]=null:this[Z]=t&&t.encoding||null,this[Z]==="buffer"&&(this[Z]=null),this[dt]=t&&!!t.async||!1,this[ut]=this[Z]?new Ns(this[Z]):null,this[ct]=!1,this[bt]=!1,this[fe]=!1,this[ue]=!1,this[Ut]=null,this.writable=!0,this.readable=!0,this[U]=0,this[x]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[G]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ot]}),this[_t]=t&&t.signal,this[me]=!1,this[_t]&&(this[_t].addEventListener("abort",()=>this[We]()),this[_t].aborted&&this[We]())}get bufferLength(){return this[U]}get encoding(){return this[Z]}set encoding(t){if(this[H])throw new Error("cannot set encoding in objectMode");if(this[Z]&&t!==this[Z]&&(this[ut]&&this[ut].lastNeed||this[U]))throw new Error("cannot change encoding");this[Z]!==t&&(this[ut]=t?new Ns(t):null,this[G].length&&(this[G]=this[G].map(e=>this[ut].write(e)))),this[Z]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[H]}set objectMode(t){this[H]=this[H]||!!t}get async(){return this[dt]}set async(t){this[dt]=this[dt]||!!t}[We](){this[me]=!0,this.emit("abort",this[_t].reason),this.destroy(this[_t].reason)}get aborted(){return this[me]}set aborted(t){}write(t,e,s){if(this[me])return!1;if(this[ct])throw new Error("write after end");if(this[x])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const i=this[dt]?qt:n=>n();return!this[H]&&!Buffer.isBuffer(t)&&(xi(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gi(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[H]?(this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[Z]&&!this[ut].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[Z]&&(t=this[ut].write(t)),this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):(this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing)}read(t){if(this[x])return null;if(this[U]===0||t===0||t>this[U])return this[ft](),null;this[H]&&(t=null),this[G].length>1&&!this[H]&&(this.encoding?this[G]=[this[G].join("")]:this[G]=[Buffer.concat(this[G],this[U])]);const e=this[Bs](t||null,this[G][0]);return this[ft](),e}[Bs](t,e){return t===e.length||t===null?this[ke]():(this[G][0]=e.slice(t),e=e.slice(0,t),this[U]-=t),this.emit("data",e),!this[G].length&&!this[ct]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[ct]=!0,this.writable=!1,(this.flowing||!this[Ht])&&this[ft](),this}[At](){this[x]||(this[Ht]=!1,this[pe]=!0,this.emit("resume"),this[G].length?this[de]():this[ct]?this[ft]():this.emit("drain"))}resume(){return this[At]()}pause(){this[pe]=!1,this[Ht]=!0}get destroyed(){return this[x]}get flowing(){return this[pe]}get paused(){return this[Ht]}[Fe](t){this[H]?this[U]+=1:this[U]+=t.length,this[G].push(t)}[ke](){return this[H]?this[U]-=1:this[U]-=this[G][0].length,this[G].shift()}[de](t){do;while(this[Is](this[ke]())&&this[G].length);!t&&!this[G].length&&!this[ct]&&this.emit("drain")}[Is](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[x])return;const s=this[bt];return e=e||{},t===Fs.stdout||t===Fs.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ot].push(e.proxyErrors?new $i(this,t,e):new zs(this,t,e)),this[dt]?qt(()=>this[At]()):this[At]()),t}unpipe(t){const e=this[ot].find(s=>s.dest===t);e&&(this[ot].splice(this[ot].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ot].length&&!this.flowing?this[At]():t==="readable"&&this[U]!==0?super.emit("readable"):Wi(t)&&this[bt]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Ut]&&(this[dt]?qt(()=>e.call(this,this[Ut])):e.call(this,this[Ut])),s}get emittedEnd(){return this[bt]}[ft](){!this[fe]&&!this[bt]&&!this[x]&&this[G].length===0&&this[ct]&&(this[fe]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ue]&&this.emit("close"),this[fe]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==x&&this[x])return;if(t==="data")return!this[H]&&!e?!1:this[dt]?qt(()=>this[Be](e)):this[Be](e);if(t==="end")return this[Ws]();if(t==="close"){if(this[ue]=!0,!this[bt]&&!this[x])return;const n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[Ut]=e,super.emit(Ne,e);const n=!this[_t]||this.listeners("error").length?super.emit("error",e):!1;return this[ft](),n}else if(t==="resume"){const n=super.emit("resume");return this[ft](),n}else if(t==="finish"||t==="prefinish"){const n=super.emit(t);return this.removeAllListeners(t),n}const i=super.emit(t,e,...s);return this[ft](),i}[Be](t){for(const s of this[ot])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[ft](),e}[Ws](){this[bt]||(this[bt]=!0,this.readable=!1,this[dt]?qt(()=>this[Ie]()):this[Ie]())}[Ie](){if(this[ut]){const e=this[ut].end();if(e){for(const s of this[ot])s.dest.write(e);super.emit("data",e)}}for(const e of this[ot])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[H]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[H]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[H]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[H]?Promise.reject(new Error("cannot concat in objectMode")):this[Z]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(x,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[xs](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[ct])return e();let n=null,o=null;const c=g=>{this.removeListener("data",l),this.removeListener("end",p),this.removeListener(x,b),e(),o(g)},l=g=>{this.removeListener("error",c),this.removeListener("end",p),this.removeListener(x,b),this.pause(),n({value:g,done:!!this[ct]})},p=()=>{this.removeListener("error",c),this.removeListener("data",l),this.removeListener(x,b),e(),n({done:!0})},b=()=>c(new Error("stream destroyed"));return new Promise((g,y)=>{o=y,n=g,this.once(x,b),this.once("error",c),this.once("end",p),this.once("data",l)})},throw:e,return:e,[xs](){return this}}}[$s](){let t=!1;const e=()=>(this.pause(),this.removeListener(Ne,e),this.removeListener(x,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const i=this.read();return i===null?e():{value:i}};return this.once("end",e),this.once(Ne,e),this.once(x,e),{next:s,throw:e,return:e,[$s](){return this}}}destroy(t){return this[x]?(t?this.emit("error",t):this.emit(x),this):(this[x]=!0,this[G].length=0,this[U]=0,typeof this.close=="function"&&!this[ue]&&this.close(),t?this.emit("error",t):this.emit(x),this)}static isStream(t){return!!t&&(t instanceof ze||t instanceof ks||t instanceof Bi&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}js.Minipass=ze;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.Ignore=void 0;const Us=mt,zi=zt,Ui=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Hi{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:i,noglobstar:n,platform:o=Ui}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const c={dot:!0,nobrace:e,nocase:s,noext:i,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(const l of t){const p=new Us.Minimatch(l,c);for(let b=0;b<p.set.length;b++){const g=p.set[b],y=p.globParts[b],w=new zi.Pattern(g,y,0,o),_=new Us.Minimatch(w.globString(),c),v=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),v&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,i=t.relative()||".",n=`${i}/`;for(const o of this.relative)if(o.match(i)||o.match(n))return!0;for(const o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const i of this.relativeChildren)if(i.match(s))return!0;for(const i of this.absoluteChildren)i.match(e);return!1}}ge.Ignore=Hi;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.Processor=at.SubWalks=at.MatchRecord=at.HasWalkedCache=void 0;const Hs=mt;class ye{store;constructor(t=new Map){this.store=t}copy(){return new ye(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),i=this.store.get(s);i?i.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}at.HasWalkedCache=ye;class qs{store=new Map;add(t,e,s){const i=(e?2:0)|(s?1:0),n=this.store.get(t);this.store.set(t,n===void 0?i:i&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}at.MatchRecord=qs;class Vs{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(i=>i.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}at.SubWalks=Vs;class Ue{hasWalkedCache;matches=new qs;subwalks=new Vs;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new ye}processPatterns(t,e){this.patterns=e;const s=e.map(i=>[t,i]);for(let[i,n]of s){this.hasWalkedCache.storeWalked(i,n);const o=n.root(),c=n.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);const g=n.rest();if(g)n=g;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,p,b=!1;for(;typeof(l=n.pattern())=="string"&&(p=n.rest());){const g=i.resolve(l);if(g.isUnknown()&&l!=="..")break;i=g,n=p,b=!0}if(l=n.pattern(),p=n.rest(),b){if(this.hasWalkedCache.hasWalked(i,n))continue;this.hasWalkedCache.storeWalked(i,n)}if(typeof l=="string"){if(p)this.subwalks.add(i,n);else{const g=l===".."||l===""||l===".";this.matches.add(i.resolve(l),c,g)}continue}else if(l===Hs.GLOBSTAR){(!i.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(i,n);const g=p?.pattern(),y=p?.rest();if(!p||(g===""||g===".")&&!y)this.matches.add(i,c,g===""||g===".");else if(g===".."){const w=i.parent||i;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,c,!0)}}else l instanceof RegExp&&this.subwalks.add(i,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Ue(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),i=this.child();for(const n of e)for(const o of s){const c=o.isAbsolute(),l=o.pattern(),p=o.rest();l===Hs.GLOBSTAR?i.testGlobstar(n,o,p,c):l instanceof RegExp?i.testRegExp(n,l,p,c):i.testString(n,l,p,c)}return i}testGlobstar(t,e,s,i){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const n=s.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,s.rest(),i);else if(n===".."){const o=t.parent||t;this.subwalks.add(o,s)}else n instanceof RegExp&&this.testRegExp(t,n,s.rest(),i)}}testRegExp(t,e,s,i){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}testString(t,e,s,i){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}}at.Processor=Ue,Object.defineProperty(wt,"__esModule",{value:!0}),wt.GlobStream=wt.GlobWalker=wt.GlobUtil=void 0;const qi=js,Ys=ge,Ks=at,Vi=(r,t)=>typeof r=="string"?new Ys.Ignore([r],t):Array.isArray(r)?new Ys.Ignore(r,t):r;class Ge{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#n;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#n=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=Vi(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#o(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?this.#n:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+i)}else{const n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#n)?"."+this.#n:"";this.matchEmit(n?o+n+i:"."+i)}}async match(t,e,s){const i=await this.matchCheck(t,s);i&&this.matchFinish(i,e)}matchSync(t,e,s){const i=this.matchCheckSync(t,s);i&&this.matchFinish(i,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new Ks.Processor(this.opts),s)}walkCB2(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirCached();c.calledReaddir()?this.walkCB3(c,l,s,o):c.readdirCB((p,b)=>this.walkCB3(c,b,s,o),!0)}o()}walkCB3(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const[c,l]of s.subwalks.entries())n++,this.walkCB2(c,l,s.child(),o);o()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new Ks.Processor(this.opts),s)}walkCB2Sync(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirSync();this.walkCB3Sync(c,l,s,o)}o()}walkCB3Sync(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const[c,l]of s.subwalks.entries())n++,this.walkCB2Sync(c,l,s.child(),o);o()}}wt.GlobUtil=Ge;class Yi extends Ge{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}wt.GlobWalker=Yi;class Ki extends Ge{results;constructor(t,e,s){super(t,e,s),this.results=new qi.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}wt.GlobStream=Ki,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.Glob=void 0;const Ji=mt,we=B,Zi=Ve,Xi=zt,be=wt,Qi=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class tr{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Zi.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=t,this.platform=e.platform||Qi,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const l=e.platform==="win32"?we.PathScurryWin32:e.platform==="darwin"?we.PathScurryDarwin:e.platform?we.PathScurryPosix:we.PathScurry;this.scurry=new l(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(l=>new Ji.Minimatch(l,i)),[o,c]=n.reduce((l,p)=>(l[0].push(...p.set),l[1].push(...p.globParts),l),[[],[]]);this.patterns=o.map((l,p)=>new Xi.Pattern(l,c[p],0,this.platform))}async walk(){return[...await new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Nt.Glob=tr;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.hasMagic=void 0;const er=mt,sr=(r,t={})=>{Array.isArray(r)||(r=[r]);for(const e of r)if(new er.Minimatch(e,t).hasMagic())return!0;return!1};Vt.hasMagic=sr,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.glob=r.hasMagic=r.Glob=r.unescape=r.escape=r.sync=r.iterate=r.iterateSync=r.stream=r.streamSync=r.globIterate=r.globIterateSync=r.globSync=r.globStream=r.globStreamSync=void 0;const t=mt,e=Nt,s=Vt;function i(w,_={}){return new e.Glob(w,_).streamSync()}r.globStreamSync=i;function n(w,_={}){return new e.Glob(w,_).stream()}r.globStream=n;function o(w,_={}){return new e.Glob(w,_).walkSync()}r.globSync=o;async function c(w,_={}){return new e.Glob(w,_).walk()}function l(w,_={}){return new e.Glob(w,_).iterateSync()}r.globIterateSync=l;function p(w,_={}){return new e.Glob(w,_).iterate()}r.globIterate=p,r.streamSync=i,r.stream=Object.assign(n,{sync:i}),r.iterateSync=l,r.iterate=Object.assign(p,{sync:l}),r.sync=Object.assign(o,{stream:i,iterate:l});var b=mt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Nt;Object.defineProperty(r,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=Vt;Object.defineProperty(r,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),r.glob=Object.assign(c,{glob:c,globSync:o,sync:r.sync,globStream:n,stream:r.stream,globStreamSync:i,streamSync:r.streamSync,globIterate:p,iterate:r.iterate,globIterateSync:l,iterateSync:r.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),r.glob.glob=r.glob}(Xe);const{globSync:ir}=Xe;var rr=function(){return function(t){if(directoryExists(t))return!0;const e=t.replace(/\/__virtual__:.*$/,"");return ir(e+"/").length>0}},nr=ti(rr);module.exports=nr;
+;return module.exports()})({}),
       createDirectory(directoryName) {
         if (!nodeSystem.directoryExists(directoryName)) {
           try {
@@ -38919,7 +38927,21 @@ function tryLoadModuleUsingPaths(extensions, moduleName, baseDirectory, paths, p
       trace(state.host, Diagnostics.Module_name_0_matched_pattern_1, moduleName, matchedPatternText);
     }
     const resolved = forEach(paths[matchedPatternText], (subst) => {
-      const path = matchedStar ? subst.replace("*", matchedStar) : subst;
+      const unreplacedPath = (matchedStar ? subst.replace("*", matchedStar) : subst);
+let path;
+if (unreplacedPath.includes('./<packagePath>')) {
+	const match = /^.*\/tunnel\/[^\/]+\/[^\/]+\/?/.exec(state.requestContainingDirectory.toLowerCase());
+	path = unreplacedPath.replace('./<packagePath>', state.requestContainingDirectory.slice(0, match.index + match[0].length))
+} else {
+	path = unreplacedPath
+}
+
+if (path.includes('./<dirname>')) {
+	path = path.replace(
+		'./<dirname>',
+		state.requestContainingDirectory
+	)
+}
       const candidate = normalizePath(combinePaths(baseDirectory, path));
       if (state.traceEnabled) {
         trace(state.host, Diagnostics.Trying_substitution_0_candidate_module_location_Colon_1, subst, path);
@@ -117644,7 +117666,7 @@ function createProgram(rootNamesOrOptions, _options, _host, _oldProgram, _config
     if (options.composite) {
       const rootPaths = new Set(rootNames.map(toPath3));
       for (const file of files) {
-        if (sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
+        if (!require('path').basename(file.path).startsWith('__virtual__:') && require('path').basename(file.path) !== 'package.json' && sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
           addProgramDiagnosticExplainingFile(
             file,
             Diagnostics.File_0_is_not_listed_within_the_file_list_of_project_1_Projects_must_list_all_files_or_use_an_include_pattern,
diff --git a/lib/tsserver.js b/lib/tsserver.js
index 382e1e2937fd02bed4c84b52f366049f2060ef1f..fb06b896fa134d8fb1456fb62ca965dc57f30bcd 100644
--- a/lib/tsserver.js
+++ b/lib/tsserver.js
@@ -8418,13 +8418,21 @@ var sys = (() => {
       writeOutputIsTTY() {
         return process.stdout.isTTY;
       },
-      readFile,
+      readFile: ((module) => {"use strict";var Pi=require("path"),De=require("url"),ke=require("fs"),Ai=require("fs/promises"),fs=require("events"),us=require("stream"),ds=require("string_decoder"),ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ci(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var U={},q={};function dt(i=""){return!i||!i.includes("\\")?i:i.replace(/\\/g,"/")}const Mi=/^[/\\]{2}/,ji=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,ps=/^[A-Za-z]:$/,ms="/",gs=":",Ne=function(i){if(i.length===0)return".";i=dt(i);const t=i.match(Mi),e=Rt(i),s=i[i.length-1]==="/";return i=oe(i,!e),i.length===0?e?"/":s?"./":".":(s&&(i+="/"),ps.test(i)&&(i+="/"),t?e?`//${i}`:`//./${i}`:e&&!Rt(i)?`/${i}`:i)},ws=function(...i){if(i.length===0)return".";let t;for(const e of i)e&&e.length>0&&(t===void 0?t=e:t+=`/${e}`);return t===void 0?".":Ne(t.replace(/\/\/+/g,"/"))};function Li(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const It=function(...i){i=i.map(s=>dt(s));let t="",e=!1;for(let s=i.length-1;s>=-1&&!e;s--){const n=s>=0?i[s]:Li();!n||n.length===0||(t=`${n}/${t}`,e=Rt(n))}return t=oe(t,!e),e&&!Rt(t)?`/${t}`:t.length>0?t:"."};function oe(i,t){let e="",s=0,n=-1,r=0,h=null;for(let a=0;a<=i.length;++a){if(a<i.length)h=i[a];else{if(h==="/")break;h="/"}if(h==="/"){if(!(n===a-1||r===1))if(r===2){if(e.length<2||s!==2||e[e.length-1]!=="."||e[e.length-2]!=="."){if(e.length>2){const c=e.lastIndexOf("/");c===-1?(e="",s=0):(e=e.slice(0,c),s=e.length-1-e.lastIndexOf("/")),n=a,r=0;continue}else if(e.length>0){e="",s=0,n=a,r=0;continue}}t&&(e+=e.length>0?"/..":"..",s=2)}else e.length>0?e+=`/${i.slice(n+1,a)}`:e=i.slice(n+1,a),s=a-n-1;n=a,r=0}else h==="."&&r!==-1?++r:r=-1}return e}const Rt=function(i){return ji.test(i)},bs=function(i){return dt(i)},Fi=/.(\.[^./]+)$/,Be=function(i){const t=Fi.exec(dt(i));return t&&t[1]||""},ys=function(i,t){const e=It(i).split("/"),s=It(t).split("/"),n=[...e];for(const r of n){if(s[0]!==r)break;e.shift(),s.shift()}return[...e.map(()=>".."),...s].join("/")},Ie=function(i){const t=dt(i).replace(/\/$/,"").split("/").slice(0,-1);return t.length===1&&ps.test(t[0])&&(t[0]+="/"),t.join("/")||(Rt(i)?"/":".")},Ss=function(i){const t=[i.root,i.dir,i.base??i.name+i.ext].filter(Boolean);return dt(i.root?It(...t):t.join("/"))},We=function(i,t){const e=dt(i).split("/").pop();return t&&e.endsWith(t)?e.slice(0,-t.length):e},vs=function(i){const t=dt(i).split("/").shift()||"/",e=We(i),s=Be(e);return{root:t,dir:Ie(i),base:e,ext:s,name:e.slice(0,e.length-s.length)}},Di={__proto__:null,basename:We,delimiter:gs,dirname:Ie,extname:Be,format:Ss,isAbsolute:Rt,join:ws,normalize:Ne,normalizeString:oe,parse:vs,relative:ys,resolve:It,sep:ms,toNamespacedPath:bs};q.basename=We,q.delimiter=gs,q.dirname=Ie,q.extname=Be,q.format=Ss,q.isAbsolute=Rt,q.join=ws,q.normalize=Ne,q.normalizeString=oe,q.normalizeWindowsPath=dt,q.parse=vs,q.path=Di,q.relative=ys,q.resolve=It,q.sep=ms,q.toNamespacedPath=bs,Object.defineProperty(U,"__esModule",{value:!0});const K=q;U.basename=K.basename,U.default=K.path,U.delimiter=K.delimiter,U.dirname=K.dirname,U.extname=K.extname,U.format=K.format,U.isAbsolute=K.isAbsolute,U.join=K.join,U.normalize=K.normalize,U.normalizeString=K.normalizeString,U.parse=K.parse,U.relative=K.relative,U.resolve=K.resolve,U.sep=K.sep,U.toNamespacedPath=K.toNamespacedPath;var Es={},yt={},ki=_s;function _s(i,t,e){i instanceof RegExp&&(i=Os(i,e)),t instanceof RegExp&&(t=Os(t,e));var s=Ts(i,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+i.length,s[1]),post:e.slice(s[1]+t.length)}}function Os(i,t){var e=t.match(i);return e?e[0]:null}_s.range=Ts;function Ts(i,t,e){var s,n,r,h,a,c=e.indexOf(i),d=e.indexOf(t,c+1),b=c;if(c>=0&&d>0){if(i===t)return[c,d];for(s=[],r=e.length;b>=0&&!a;)b==c?(s.push(b),c=e.indexOf(i,b+1)):s.length==1?a=[s.pop(),d]:(n=s.pop(),n<r&&(r=n,h=d),d=e.indexOf(t,b+1)),b=c<d&&c>=0?c:d;s.length&&(a=[r,h])}return a}var Rs=ki,Ni=Wi,Ps="\0SLASH"+Math.random()+"\0",As="\0OPEN"+Math.random()+"\0",xe="\0CLOSE"+Math.random()+"\0",Cs="\0COMMA"+Math.random()+"\0",Ms="\0PERIOD"+Math.random()+"\0";function $e(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Bi(i){return i.split("\\\\").join(Ps).split("\\{").join(As).split("\\}").join(xe).split("\\,").join(Cs).split("\\.").join(Ms)}function Ii(i){return i.split(Ps).join("\\").split(As).join("{").split(xe).join("}").split(Cs).join(",").split(Ms).join(".")}function js(i){if(!i)return[""];var t=[],e=Rs("{","}",i);if(!e)return i.split(",");var s=e.pre,n=e.body,r=e.post,h=s.split(",");h[h.length-1]+="{"+n+"}";var a=js(r);return r.length&&(h[h.length-1]+=a.shift(),h.push.apply(h,a)),t.push.apply(t,h),t}function Wi(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Wt(Bi(i),!0).map(Ii)):[]}function xi(i){return"{"+i+"}"}function $i(i){return/^-?0\d/.test(i)}function zi(i,t){return i<=t}function Gi(i,t){return i>=t}function Wt(i,t){var e=[],s=Rs("{","}",i);if(!s)return[i];var n=s.pre,r=s.post.length?Wt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var h=0;h<r.length;h++){var a=n+"{"+s.body+"}"+r[h];e.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=c||d,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(i=s.pre+"{"+s.body+xe+s.post,Wt(i)):[i];var y;if(b)y=s.body.split(/\.\./);else if(y=js(s.body),y.length===1&&(y=Wt(y[0],!1).map(xi),y.length===1))return r.map(function(rt){return s.pre+y[0]+rt});var w;if(b){var _=$e(y[0]),E=$e(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs($e(y[2])):1,P=zi,C=E<_;C&&(O*=-1,P=Gi);var R=y.some($i);w=[];for(var D=_;P(D,E);D+=O){var k;if(d)k=String.fromCharCode(D),k==="\\"&&(k="");else if(k=String(D),R){var j=T-k.length;if(j>0){var I=new Array(j+1).join("0");D<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Wt(y[L],!1))}for(var L=0;L<w.length;L++)for(var h=0;h<r.length;h++){var a=n+w[L]+r[h];(!t||b||a)&&e.push(a)}}return e}var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.assertValidPattern=void 0;const Ui=1024*64,Hi=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>Ui)throw new TypeError("pattern is too long")};he.assertValidPattern=Hi;var xt={},ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.parseClass=void 0;const qi={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},$t=i=>i.replace(/[[\]\\-]/g,"\\$&"),Vi=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ls=i=>i.join(""),Yi=(i,t)=>{const e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],n=[];let r=e+1,h=!1,a=!1,c=!1,d=!1,b=e,g="";t:for(;r<i.length;){const E=i.charAt(r);if((E==="!"||E==="^")&&r===e+1){d=!0,r++;continue}if(E==="]"&&h&&!c){b=r+1;break}if(h=!0,E==="\\"&&!c){c=!0,r++;continue}if(E==="["&&!c){for(const[T,[O,P,C]]of Object.entries(qi))if(i.startsWith(T,r)){if(g)return["$.",!1,i.length-e,!0];r+=T.length,C?n.push(O):s.push(O),a=a||P;continue t}}if(c=!1,g){E>g?s.push($t(g)+"-"+$t(E)):E===g&&s.push($t(E)),g="",r++;continue}if(i.startsWith("-]",r+1)){s.push($t(E+"-")),r+=2;continue}if(i.startsWith("-",r+1)){g=E,r+=2;continue}s.push($t(E)),r++}if(b<r)return["",!1,0,!1];if(!s.length&&!n.length)return["$.",!1,i.length-e,!0];if(n.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!d){const E=s[0].length===2?s[0].slice(-1):s[0];return[Vi(E),!1,b-e,!1]}const y="["+(d?"^":"")+Ls(s)+"]",w="["+(d?"":"^")+Ls(n)+"]";return[s.length&&n.length?"("+y+"|"+w+")":s.length?y:w,a,b-e,!0]};ae.parseClass=Yi;var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.unescape=void 0;const Ji=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");jt.unescape=Ji,Object.defineProperty(xt,"__esModule",{value:!0}),xt.AST=void 0;const Ki=ae,le=jt,Zi=new Set(["!","?","+","*","@"]),Fs=i=>Zi.has(i),Xi="(?!(?:^|/)\\.\\.?(?:$|/))",ce="(?!\\.)",Qi=new Set(["[","."]),tn=new Set(["..","."]),en=new Set("().*{}+?[]^$\\!"),sn=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ze="[^/]",Ds=ze+"*?",ks=ze+"+?";class et{type;#t;#s;#r=!1;#i=[];#h;#l;#f;#a=!1;#o;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#h=e,this.#t=this.#h?this.#h.#t:this,this.#o=this.#t===this?s:this.#t.#o,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#h?this.#h.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#h;for(;s;){for(let n=e.#l+1;!s.type&&n<s.#i.length;n++)for(const r of t.#i){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(s.#i[n])}e=s,s=e.#h}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof et&&e.#h===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#h?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#h?.isStart())return!1;if(this.#l===0)return!0;const t=this.#h;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof et&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#h?.type==="!")return!0;if(!this.#h?.isEnd())return!1;if(!this.type)return this.#h?.isEnd();const t=this.#h?this.#h.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new et(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,n){let r=!1,h=!1,a=-1,c=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const E=t.charAt(w++);if(r||E==="\\"){r=!r,_+=E;continue}if(h){w===a+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(w===a+2&&c)&&(h=!1),_+=E;continue}else if(E==="["){h=!0,a=w,c=!1,_+=E;continue}if(!n.noext&&Fs(E)&&t.charAt(w)==="("){e.push(_),_="";const T=new et(E,e);w=et.#d(t,T,w,n),e.push(T);continue}_+=E}return e.push(_),w}let d=s+1,b=new et(null,e);const g=[];let y="";for(;d<t.length;){const w=t.charAt(d++);if(r||w==="\\"){r=!r,y+=w;continue}if(h){d===a+1?(w==="^"||w==="!")&&(c=!0):w==="]"&&!(d===a+2&&c)&&(h=!1),y+=w;continue}else if(w==="["){h=!0,a=d,c=!1,y+=w;continue}if(Fs(w)&&t.charAt(d)==="("){b.push(y),y="";const _=new et(w,b);b.push(_),d=et.#d(t,_,d,n);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new et(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),d;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],d}static fromGlob(t,e={}){const s=new et(null,void 0,e);return et.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,n,r]=this.toRegExpSource();if(!(n||this.#s||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const a=(this.#o.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#o.dot;if(this.#t===this&&this.#w(),!this.type){const c=this.isStart()&&this.isEnd(),d=this.#i.map(w=>{const[_,E,T,O]=typeof w=="string"?et.#y(w,this.#s,c):w.toRegExpSource(t);return this.#s=this.#s||T,this.#r=this.#r||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&tn.has(this.#i[0]))){const _=Qi,E=e&&_.has(d.charAt(0))||d.startsWith("\\.")&&_.has(d.charAt(2))||d.startsWith("\\.\\.")&&_.has(d.charAt(4)),T=!e&&!t&&_.has(d.charAt(0));b=E?Xi:T?ce:""}let g="";return this.isEnd()&&this.#t.#a&&this.#h?.type==="!"&&(g="(?:$|\\/)"),[b+d+g,(0,le.unescape)(d),this.#s=!!this.#s,this.#r]}const s=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:";let r=this.#u(e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){const c=this.toString();return this.#i=[c],this.type=null,this.#s=void 0,[c,(0,le.unescape)(this.toString()),!1,!1]}let h=!s||t||e||!ce?"":this.#u(!0);h===r&&(h=""),h&&(r=`(?:${r})(?:${h})*?`);let a="";if(this.type==="!"&&this.#m)a=(this.isStart()&&!e?ce:"")+ks;else{const c=this.type==="!"?"))"+(this.isStart()&&!e&&!t?ce:"")+Ds+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&h?")":this.type==="*"&&h?")?":`)${this.type}`;a=n+r+c}return[a,(0,le.unescape)(r),this.#s=!!this.#s,this.#r]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,n,r,h]=e.toRegExpSource(t);return this.#r=this.#r||h,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let n=!1,r="",h=!1;for(let a=0;a<t.length;a++){const c=t.charAt(a);if(n){n=!1,r+=(en.has(c)?"\\":"")+c;continue}if(c==="\\"){a===t.length-1?r+="\\\\":n=!0;continue}if(c==="["){const[d,b,g,y]=(0,Ki.parseClass)(t,a);if(g){r+=d,h=h||b,a+=g-1,e=e||y;continue}}if(c==="*"){s&&t==="*"?r+=ks:r+=Ds,e=!0;continue}if(c==="?"){r+=ze,e=!0;continue}r+=sn(c)}return[r,(0,le.unescape)(t),!!e,h]}}xt.AST=et;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.escape=void 0;const nn=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");zt.escape=nn,function(i){var t=ot&&ot.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(i,"__esModule",{value:!0}),i.unescape=i.escape=i.AST=i.Minimatch=i.match=i.makeRe=i.braceExpand=i.defaults=i.filter=i.GLOBSTAR=i.sep=i.minimatch=void 0;const e=t(Ni),s=he,n=xt,r=zt,h=jt,a=(S,l,p={})=>((0,s.assertValidPattern)(l),!p.nocomment&&l.charAt(0)==="#"?!1:new Tt(l,p).match(S));i.minimatch=a;const c=/^\*+([^+@!?\*\[\(]*)$/,d=S=>l=>!l.startsWith(".")&&l.endsWith(S),b=S=>l=>l.endsWith(S),g=S=>(S=S.toLowerCase(),l=>!l.startsWith(".")&&l.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),l=>l.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),E=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),P=/^\*+$/,C=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",D=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,l=""])=>{const p=rt([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},j=([S,l=""])=>{const p=_t([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},I=([S,l=""])=>{const p=_t([S]);return l?m=>p(m)&&m.endsWith(l):p},L=([S,l=""])=>{const p=rt([S]);return l?m=>p(m)&&m.endsWith(l):p},rt=([S])=>{const l=S.length;return p=>p.length===l&&!p.startsWith(".")},_t=([S])=>{const l=S.length;return p=>p.length===l&&p!=="."&&p!==".."},G=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};i.sep=G==="win32"?N.win32.sep:N.posix.sep,i.minimatch.sep=i.sep,i.GLOBSTAR=Symbol("globstar **"),i.minimatch.GLOBSTAR=i.GLOBSTAR;const kt="[^/]"+"*?",ne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Nt="(?:(?!(?:\\/|^)\\.).)*?",st=(S,l={})=>p=>(0,i.minimatch)(p,S,l);i.filter=st,i.minimatch.filter=i.filter;const Y=(S,l={})=>Object.assign({},S,l),Ct=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return i.minimatch;const l=i.minimatch;return Object.assign((m,f,o={})=>l(m,f,Y(S,o)),{Minimatch:class extends l.Minimatch{constructor(f,o={}){super(f,Y(S,o))}static defaults(f){return l.defaults(Y(S,f)).Minimatch}},AST:class extends l.AST{constructor(f,o,u={}){super(f,o,Y(S,u))}static fromGlob(f,o={}){return l.AST.fromGlob(f,Y(S,o))}},unescape:(m,f={})=>l.unescape(m,Y(S,f)),escape:(m,f={})=>l.escape(m,Y(S,f)),filter:(m,f={})=>l.filter(m,Y(S,f)),defaults:m=>l.defaults(Y(S,m)),makeRe:(m,f={})=>l.makeRe(m,Y(S,f)),braceExpand:(m,f={})=>l.braceExpand(m,Y(S,f)),match:(m,f,o={})=>l.match(m,f,Y(S,o)),sep:l.sep,GLOBSTAR:i.GLOBSTAR})};i.defaults=Ct,i.minimatch.defaults=i.defaults;const Ot=(S,l={})=>((0,s.assertValidPattern)(S),l.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));i.braceExpand=Ot,i.minimatch.braceExpand=i.braceExpand;const ut=(S,l={})=>new Tt(S,l).makeRe();i.makeRe=ut,i.minimatch.makeRe=i.makeRe;const J=(S,l,p={})=>{const m=new Tt(l,p);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(l),S};i.match=J,i.minimatch.match=i.match;const bt=/[?*]|[+@!]\(.*?\)|\[|\]/,Me=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Tt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(l,p={}){(0,s.assertValidPattern)(l),p=p||{},this.options=p,this.pattern=l,this.platform=p.platform||G,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!p.windowsPathsNoEscape||p.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!p.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!p.nonegate,this.comment=!1,this.empty=!1,this.partial=!!p.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=p.windowsNoMagicRoot!==void 0?p.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const l of this.set)for(const p of l)if(typeof p!="string")return!0;return!1}debug(...l){}make(){const l=this.pattern,p=this.options;if(!p.nocomment&&l.charAt(0)==="#"){this.comment=!0;return}if(!l){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],p.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((o,u,v)=>{if(this.isWindows&&this.windowsNoMagicRoot){const A=o[0]===""&&o[1]===""&&(o[2]==="?"||!bt.test(o[2]))&&!bt.test(o[3]),M=/^[a-z]:/i.test(o[0]);if(A)return[...o.slice(0,4),...o.slice(4).map(F=>this.parse(F))];if(M)return[o[0],...o.slice(1).map(F=>this.parse(F))]}return o.map(A=>this.parse(A))});if(this.debug(this.pattern,f),this.set=f.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const u=this.set[o];u[0]===""&&u[1]===""&&this.globParts[o][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(l){if(this.options.noglobstar)for(let m=0;m<l.length;m++)for(let f=0;f<l[m].length;f++)l[m][f]==="**"&&(l[m][f]="*");const{optimizationLevel:p=1}=this.options;return p>=2?(l=this.firstPhasePreProcess(l),l=this.secondPhasePreProcess(l)):p>=1?l=this.levelOneOptimize(l):l=this.adjascentGlobstarOptimize(l),l}adjascentGlobstarOptimize(l){return l.map(p=>{let m=-1;for(;(m=p.indexOf("**",m+1))!==-1;){let f=m;for(;p[f+1]==="**";)f++;f!==m&&p.splice(m,f-m)}return p})}levelOneOptimize(l){return l.map(p=>(p=p.reduce((m,f)=>{const o=m[m.length-1];return f==="**"&&o==="**"?m:f===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(m.pop(),m):(m.push(f),m)},[]),p.length===0?[""]:p))}levelTwoFileOptimize(l){Array.isArray(l)||(l=this.slashSplit(l));let p=!1;do{if(p=!1,!this.preserveMultipleSlashes){for(let f=1;f<l.length-1;f++){const o=l[f];f===1&&o===""&&l[0]===""||(o==="."||o==="")&&(p=!0,l.splice(f,1),f--)}l[0]==="."&&l.length===2&&(l[1]==="."||l[1]==="")&&(p=!0,l.pop())}let m=0;for(;(m=l.indexOf("..",m+1))!==-1;){const f=l[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(p=!0,l.splice(m-1,2),m-=2)}}while(p);return l.length===0?[""]:l}firstPhasePreProcess(l){let p=!1;do{p=!1;for(let m of l){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let v=m[f+1];const A=m[f+2],M=m[f+3];if(v!==".."||!A||A==="."||A===".."||!M||M==="."||M==="..")continue;p=!0,m.splice(f,1);const F=m.slice(0);F[f]="**",l.push(F),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const v=m[u];u===1&&v===""&&m[0]===""||(v==="."||v==="")&&(p=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(p=!0,m.pop())}let o=0;for(;(o=m.indexOf("..",o+1))!==-1;){const u=m[o-1];if(u&&u!=="."&&u!==".."&&u!=="**"){p=!0;const A=o===1&&m[o+1]==="**"?["."]:[];m.splice(o-1,2,...A),m.length===0&&m.push(""),o-=2}}}}while(p);return l}secondPhasePreProcess(l){for(let p=0;p<l.length-1;p++)for(let m=p+1;m<l.length;m++){const f=this.partsMatch(l[p],l[m],!this.preserveMultipleSlashes);f&&(l[p]=f,l[m]=[])}return l.filter(p=>p.length)}partsMatch(l,p,m=!1){let f=0,o=0,u=[],v="";for(;f<l.length&&o<p.length;)if(l[f]===p[o])u.push(v==="b"?p[o]:l[f]),f++,o++;else if(m&&l[f]==="**"&&p[o]===l[f+1])u.push(l[f]),f++;else if(m&&p[o]==="**"&&l[f]===p[o+1])u.push(p[o]),o++;else if(l[f]==="*"&&p[o]&&(this.options.dot||!p[o].startsWith("."))&&p[o]!=="**"){if(v==="b")return!1;v="a",u.push(l[f]),f++,o++}else if(p[o]==="*"&&l[f]&&(this.options.dot||!l[f].startsWith("."))&&l[f]!=="**"){if(v==="a")return!1;v="b",u.push(p[o]),f++,o++}else return!1;return l.length===p.length&&u}parseNegate(){if(this.nonegate)return;const l=this.pattern;let p=!1,m=0;for(let f=0;f<l.length&&l.charAt(f)==="!";f++)p=!p,m++;m&&(this.pattern=l.slice(m)),this.negate=p}matchOne(l,p,m=!1){const f=this.options;if(this.isWindows){const Q=typeof l[0]=="string"&&/^[a-z]:$/i.test(l[0]),Fe=!Q&&l[0]===""&&l[1]===""&&l[2]==="?"&&/^[a-z]:$/i.test(l[3]),ls=typeof p[0]=="string"&&/^[a-z]:$/i.test(p[0]),Ti=!ls&&p[0]===""&&p[1]===""&&p[2]==="?"&&typeof p[3]=="string"&&/^[a-z]:$/i.test(p[3]),Bt=Fe?3:Q?0:void 0,Mt=Ti?3:ls?0:void 0;if(typeof Bt=="number"&&typeof Mt=="number"){const[cs,Ri]=[l[Bt],p[Mt]];cs.toLowerCase()===Ri.toLowerCase()&&(p[Mt]=cs,Mt>Bt?p=p.slice(Mt):Bt>Mt&&(l=l.slice(Bt)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(l=this.levelTwoFileOptimize(l)),this.debug("matchOne",this,{file:l,pattern:p}),this.debug("matchOne",l.length,p.length);for(var u=0,v=0,A=l.length,M=p.length;u<A&&v<M;u++,v++){this.debug("matchOne loop");var F=p[v],W=l[u];if(this.debug(p,F,W),F===!1)return!1;if(F===i.GLOBSTAR){this.debug("GLOBSTAR",[p,F,W]);var z=u,X=v+1;if(X===M){for(this.debug("** at the end");u<A;u++)if(l[u]==="."||l[u]===".."||!f.dot&&l[u].charAt(0)===".")return!1;return!0}for(;z<A;){var at=l[z];if(this.debug(`
+globstar while`,l,z,p,X,at),this.matchOne(l.slice(z),p.slice(X),m))return this.debug("globstar found match!",z,A,at),!0;if(at==="."||at===".."||!f.dot&&at.charAt(0)==="."){this.debug("dot detected!",l,z,p,X);break}this.debug("globstar swallow a segment, and continue"),z++}return!!(m&&(this.debug(`
+>>> no match, partial?`,l,z,p,X),z===A))}let Q;if(typeof F=="string"?(Q=W===F,this.debug("string match",F,W,Q)):(Q=F.test(W),this.debug("pattern match",F,W,Q)),!Q)return!1}if(u===A&&v===M)return!0;if(u===A)return m;if(v===M)return u===A-1&&l[u]==="";throw new Error("wtf?")}braceExpand(){return(0,i.braceExpand)(this.pattern,this.options)}parse(l){(0,s.assertValidPattern)(l);const p=this.options;if(l==="**")return i.GLOBSTAR;if(l==="")return"";let m,f=null;(m=l.match(P))?f=p.dot?R:C:(m=l.match(c))?f=(p.nocase?p.dot?y:g:p.dot?b:d)(m[1]):(m=l.match(D))?f=(p.nocase?p.dot?j:k:p.dot?I:L)(m):(m=l.match(w))?f=p.dot?E:_:(m=l.match(T))&&(f=O);const o=n.AST.fromGlob(l,this.options).toMMPattern();return f?Object.assign(o,{test:f}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const l=this.set;if(!l.length)return this.regexp=!1,this.regexp;const p=this.options,m=p.noglobstar?kt:p.dot?ne:Nt,f=new Set(p.nocase?["i"]:[]);let o=l.map(A=>{const M=A.map(F=>{if(F instanceof RegExp)for(const W of F.flags.split(""))f.add(W);return typeof F=="string"?Me(F):F===i.GLOBSTAR?i.GLOBSTAR:F._src});return M.forEach((F,W)=>{const z=M[W+1],X=M[W-1];F!==i.GLOBSTAR||X===i.GLOBSTAR||(X===void 0?z!==void 0&&z!==i.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+z:M[W]=m:z===void 0?M[W-1]=X+"(?:\\/|"+m+")?":z!==i.GLOBSTAR&&(M[W-1]=X+"(?:\\/|\\/"+m+"\\/)"+z,M[W+1]=i.GLOBSTAR))}),M.filter(F=>F!==i.GLOBSTAR).join("/")}).join("|");const[u,v]=l.length>1?["(?:",")"]:["",""];o="^"+u+o+v+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(l){return this.preserveMultipleSlashes?l.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(l)?["",...l.split(/\/+/)]:l.split(/\/+/)}match(l,p=this.partial){if(this.debug("match",l,this.pattern),this.comment)return!1;if(this.empty)return l==="";if(l==="/"&&p)return!0;const m=this.options;this.isWindows&&(l=l.split("\\").join("/"));const f=this.slashSplit(l);this.debug(this.pattern,"split",f);const o=this.set;this.debug(this.pattern,"set",o);let u=f[f.length-1];if(!u)for(let v=f.length-2;!u&&v>=0;v--)u=f[v];for(let v=0;v<o.length;v++){const A=o[v];let M=f;if(m.matchBase&&A.length===1&&(M=[u]),this.matchOne(M,A,p))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(l){return i.minimatch.defaults(l).Minimatch}}i.Minimatch=Tt;var je=xt;Object.defineProperty(i,"AST",{enumerable:!0,get:function(){return je.AST}});var Le=zt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return Le.escape}});var re=jt;Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return re.unescape}}),i.minimatch.AST=n.AST,i.minimatch.Minimatch=Tt,i.minimatch.escape=r.escape,i.minimatch.unescape=h.unescape}(yt);var Gt={},B={},fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.LRUCache=void 0;const Ut=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ns=new Set,Ge=typeof process=="object"&&process?process:{},Bs=(i,t,e,s)=>{typeof Ge.emitWarning=="function"?Ge.emitWarning(i,t,e,s):console.error(`[${e}] ${t}: ${i}`)};let ue=globalThis.AbortController,Is=globalThis.AbortSignal;if(typeof ue>"u"){Is=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,n){this._onabort.push(n)}},ue=class{constructor(){t()}signal=new Is;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const n of this.signal._onabort)n(s);this.signal.onabort?.(s)}}};let i=Ge.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{i&&(i=!1,Bs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const rn=i=>!Ns.has(i),St=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),Ws=i=>St(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?de:null:null;class de extends Array{constructor(t){super(t),this.fill(0)}}class Dt{heap;length;static#t=!1;static create(t){const e=Ws(t);if(!e)return[];Dt.#t=!0;const s=new Dt(t,e);return Dt.#t=!1,s}constructor(t,e){if(!Dt.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class rs{#t;#s;#r;#i;#h;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#o;#e;#m;#w;#d;#u;#y;#g;#A;#C;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#O,sizes:t.#A,keyMap:t.#a,keyList:t.#o,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,n,r)=>t.#D(e,s,n,r),moveToTail:e=>t.#F(e),indexes:e=>t.#_(e),rindexes:e=>t.#P(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#h}get dispose(){return this.#r}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:h,updateAgeOnHas:a,allowStale:c,dispose:d,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:E,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:R,ignoreFetchAbort:D}=t;if(e!==0&&!St(e))throw new TypeError("max option must be a nonnegative integer");const k=e?Ws(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=E,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#h=T,this.#R=!!T,this.#a=new Map,this.#o=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Dt.create(e),this.#l=0,this.#f=0,typeof d=="function"&&(this.#r=d),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#r,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#s!==0&&!St(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!St(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#j()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!a,this.ttlResolution=St(n)||n===0?n:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!St(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const j="LRU_CACHE_UNBOUNDED";rn(j)&&(Ns.add(j),Bs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,rs))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new de(this.#t),e=new de(this.#t);this.#O=t,this.#C=e,this.#n=(r,h,a=Ut.now())=>{if(e[r]=h!==0?a:0,t[r]=h,h!==0&&this.ttlAutopurge){const c=setTimeout(()=>{this.#b(r)&&this.delete(this.#o[r])},h+1);c.unref&&c.unref()}},this.#T=r=>{e[r]=t[r]!==0?Ut.now():0},this.#v=(r,h)=>{if(t[h]){const a=t[h],c=e[h];r.ttl=a,r.start=c,r.now=s||n();const d=r.now-c;r.remainingTTL=a-d}};let s=0;const n=()=>{const r=Ut.now();if(this.ttlResolution>0){s=r;const h=setTimeout(()=>s=0,this.ttlResolution);h.unref&&h.unref()}return r};this.getRemainingTTL=r=>{const h=this.#a.get(r);if(h===void 0)return 0;const a=t[h],c=e[h];if(a===0||c===0)return 1/0;const d=(s||n())-c;return a-d},this.#b=r=>t[r]!==0&&e[r]!==0&&(s||n())-e[r]>t[r]}#T=()=>{};#v=()=>{};#n=()=>{};#b=()=>!1;#j(){const t=new de(this.#t);this.#f=0,this.#A=t,this.#E=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,n,r)=>{if(this.#c(s))return 0;if(!St(n))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(n=r(s,e),!St(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#k=(e,s,n)=>{if(t[e]=s,this.#s){const r=this.#s-t[e];for(;this.#f>r;)this.#L(!0)}this.#f+=t[e],n&&(n.entrySize=s,n.totalCalculatedSize=this.#f)}}#E=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,n)=>{if(s||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#P({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*rentries(){for(const t of this.#P())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#P()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#P())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;if(r!==void 0&&t(r,this.#o[s],this))return this.get(this.#o[s],e)}}forEach(t,e=this){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}rforEach(t,e=this){for(const s of this.#P()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}purgeStale(){let t=!1;for(const e of this.#P({allowStale:!0}))this.#b(e)&&(this.delete(this.#o[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#o[e],n=this.#e[e],r=this.#c(n)?n.__staleWhileFetching:n;if(r===void 0||s===void 0)continue;const h={value:r};if(this.#O&&this.#C){h.ttl=this.#O[e];const a=Ut.now()-this.#C[e];h.start=Math.floor(Date.now()-a)}this.#A&&(h.size=this.#A[e]),t.unshift([s,h])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const n=Date.now()-s.start;s.start=Ut.now()-n}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:r,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=s;let{noUpdateTTL:d=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,a);if(this.maxEntrySize&&b>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#o[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,c),c&&(c.set="add"),d=!1;else{this.#F(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):h||(this.#S&&this.#r?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#E(g),this.#k(g,b,c),this.#e[g]=e,c){c.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(c.oldValue=w)}}else c&&(c.set="update")}if(n!==0&&!this.#O&&this.#M(),this.#O&&(d||this.#n(g,n,r),c&&this.#v(c,g)),!h&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#o[e],n=this.#e[e];return this.#R&&this.#c(n)?n.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,s,"evict"),this.#p&&this.#g?.push([n,s,"evict"])),this.#E(e),t&&(this.#o[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:n}=e,r=this.#a.get(t);if(r!==void 0){const h=this.#e[r];if(this.#c(h)&&h.__staleWhileFetching===void 0)return!1;if(this.#b(r))n&&(n.has="stale",this.#v(n,r));else return s&&this.#T(r),n&&(n.has="hit",this.#v(n,r)),!0}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,n=this.#a.get(t);if(n!==void 0&&(s||!this.#b(n))){const r=this.#e[n];return this.#c(r)?r.__staleWhileFetching:r}}#D(t,e,s,n){const r=e===void 0?void 0:this.#e[e];if(this.#c(r))return r;const h=new ue,{signal:a}=s;a?.addEventListener("abort",()=>h.abort(a.reason),{signal:h.signal});const c={signal:h.signal,options:s,context:n},d=(E,T=!1)=>{const{aborted:O}=h.signal,P=s.ignoreFetchAbort&&E!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=h.signal.reason,P&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!P&&!T)return g(h.signal.reason);const C=w;return this.#e[e]===w&&(E===void 0?C.__staleWhileFetching?this.#e[e]=C.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,E,c.options))),E},b=E=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=E),g(E)),g=E=>{const{aborted:T}=h.signal,O=T&&s.allowStaleOnFetchAbort,P=O||s.allowStaleOnFetchRejection,C=P||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!C||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),P)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw E},y=(E,T)=>{const O=this.#h?.(t,r,c);O&&O instanceof Promise&&O.then(P=>E(P===void 0?void 0:P),T),h.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(E(void 0),s.allowStaleOnFetchAbort&&(E=P=>d(P,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(d,b),_=Object.assign(w,{__abortController:h,__staleWhileFetching:r,__returned:void 0});return e===void 0?(this.set(t,_,{...c.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof ue}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:E,forceRefresh:T=!1,status:O,signal:P}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,status:O});const C={allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:h,noDisposeOnSet:a,size:c,sizeCalculation:d,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:P};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const D=this.#D(t,R,C,E);return D.__returned=D}else{const D=this.#e[R];if(this.#c(D)){const rt=s&&D.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",rt&&(O.returnedStale=!0)),rt?D.__staleWhileFetching:D.__returned=D}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#F(R),n&&this.#T(R),O&&this.#v(O,R),D;const j=this.#D(t,R,C,E),L=j.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?j.__staleWhileFetching:j.__returned=j}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:h}=e,a=this.#a.get(t);if(a!==void 0){const c=this.#e[a],d=this.#c(c);return h&&this.#v(h,a),this.#b(a)?(h&&(h.get="stale"),d?(h&&s&&c.__staleWhileFetching!==void 0&&(h.returnedStale=!0),s?c.__staleWhileFetching:void 0):(r||this.delete(t),h&&s&&(h.returnedStale=!0),s?c:void 0)):(h&&(h.get="hit"),d?c.__staleWhileFetching:(this.#F(a),n&&this.#T(a),c))}else h&&(h.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#F(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#E(s);const n=this.#e[s];this.#c(n)?n.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,t,"delete"),this.#p&&this.#g?.push([n,t,"delete"])),this.#a.delete(t),this.#o[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let n;for(;n=s?.shift();)this.#i?.(...n)}return e}clear(){for(const t of this.#P({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#o[t];this.#S&&this.#r?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#o.fill(void 0),this.#O&&this.#C&&(this.#O.fill(0),this.#C.fill(0)),this.#A&&this.#A.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}fe.LRUCache=rs;var xs={};(function(i){var t=ot&&ot.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.Minipass=i.isWritable=i.isReadable=i.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=fs,n=t(us),r=ds,h=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof n.default||(0,i.isReadable)(f)||(0,i.isWritable)(f));i.isStream=h;const a=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==n.default.Writable.prototype.pipe;i.isReadable=a;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";i.isWritable=c;const d=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),E=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),P=Symbol("encoding"),C=Symbol("decoder"),R=Symbol("flowing"),D=Symbol("paused"),k=Symbol("resume"),j=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),rt=Symbol("bufferPush"),_t=Symbol("bufferShift"),G=Symbol("objectMode"),N=Symbol("destroyed"),ie=Symbol("error"),kt=Symbol("emitData"),ne=Symbol("emitEnd"),Nt=Symbol("emitEnd2"),st=Symbol("async"),Y=Symbol("abort"),Ct=Symbol("aborted"),Ot=Symbol("signal"),ut=Symbol("dataListeners"),J=Symbol("discarded"),bt=f=>Promise.resolve().then(f),Me=f=>f(),Tt=f=>f==="end"||f==="finish"||f==="prefinish",je=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,Le=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class re{src;dest;opts;ondrain;constructor(o,u,v){this.src=o,this.dest=u,this.opts=v,this.ondrain=()=>o[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(o){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends re{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(o,u,v){super(o,u,v),this.proxyErrors=A=>u.emit("error",A),o.on("error",this.proxyErrors)}}const l=f=>!!f.objectMode,p=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[D]=!1;[I]=[];[j]=[];[G];[P];[st];[C];[d]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[Ot];[Ct]=!1;[ut]=0;[J]=!1;writable=!0;readable=!0;constructor(...o){const u=o[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");l(u)?(this[G]=!0,this[P]=null):p(u)?(this[P]=u.encoding,this[G]=!1):(this[G]=!1,this[P]=null),this[st]=!!u.async,this[C]=this[P]?new r.StringDecoder(this[P]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[j]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:v}=u;v&&(this[Ot]=v,v.aborted?this[Y]():v.addEventListener("abort",()=>this[Y]()))}get bufferLength(){return this[L]}get encoding(){return this[P]}set encoding(o){throw new Error("Encoding must be set at instantiation time")}setEncoding(o){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[G]}set objectMode(o){throw new Error("objectMode must be set at instantiation time")}get async(){return this[st]}set async(o){this[st]=this[st]||!!o}[Y](){this[Ct]=!0,this.emit("abort",this[Ot]?.reason),this.destroy(this[Ot]?.reason)}get aborted(){return this[Ct]}set aborted(o){}write(o,u,v){if(this[Ct])return!1;if(this[d])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(v=u,u="utf8"),u||(u="utf8");const A=this[st]?bt:Me;if(!this[G]&&!Buffer.isBuffer(o)){if(Le(o))o=Buffer.from(o.buffer,o.byteOffset,o.byteLength);else if(je(o))o=Buffer.from(o);else if(typeof o!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[G]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):o.length?(typeof o=="string"&&!(u===this[P]&&!this[C]?.lastNeed)&&(o=Buffer.from(o,u)),Buffer.isBuffer(o)&&this[P]&&(o=this[C].write(o)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):(this[L]!==0&&this.emit("readable"),v&&A(v),this[R])}read(o){if(this[N])return null;if(this[J]=!1,this[L]===0||o===0||o&&o>this[L])return this[b](),null;this[G]&&(o=null),this[j].length>1&&!this[G]&&(this[j]=[this[P]?this[j].join(""):Buffer.concat(this[j],this[L])]);const u=this[E](o||null,this[j][0]);return this[b](),u}[E](o,u){if(this[G])this[_t]();else{const v=u;o===v.length||o===null?this[_t]():typeof v=="string"?(this[j][0]=v.slice(o),u=v.slice(0,o),this[L]-=o):(this[j][0]=v.subarray(o),u=v.subarray(0,o),this[L]-=o)}return this.emit("data",u),!this[j].length&&!this[d]&&this.emit("drain"),u}end(o,u,v){return typeof o=="function"&&(v=o,o=void 0),typeof u=="function"&&(v=u,u="utf8"),o!==void 0&&this.write(o,u),v&&this.once("end",v),this[d]=!0,this.writable=!1,(this[R]||!this[D])&&this[b](),this}[k](){this[N]||(!this[ut]&&!this[I].length&&(this[J]=!0),this[D]=!1,this[R]=!0,this.emit("resume"),this[j].length?this[T]():this[d]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[D]=!0,this[J]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[D]}[rt](o){this[G]?this[L]+=1:this[L]+=o.length,this[j].push(o)}[_t](){return this[G]?this[L]-=1:this[L]-=this[j][0].length,this[j].shift()}[T](o=!1){do;while(this[O](this[_t]())&&this[j].length);!o&&!this[j].length&&!this[d]&&this.emit("drain")}[O](o){return this.emit("data",o),this[R]}pipe(o,u){if(this[N])return o;this[J]=!1;const v=this[g];return u=u||{},o===e.stdout||o===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,v?u.end&&o.end():(this[I].push(u.proxyErrors?new S(this,o,u):new re(this,o,u)),this[st]?bt(()=>this[k]()):this[k]()),o}unpipe(o){const u=this[I].find(v=>v.dest===o);u&&(this[I].length===1?(this[R]&&this[ut]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(o,u){return this.on(o,u)}on(o,u){const v=super.on(o,u);if(o==="data")this[J]=!1,this[ut]++,!this[I].length&&!this[R]&&this[k]();else if(o==="readable"&&this[L]!==0)super.emit("readable");else if(Tt(o)&&this[g])super.emit(o),this.removeAllListeners(o);else if(o==="error"&&this[w]){const A=u;this[st]?bt(()=>A.call(this,this[w])):A.call(this,this[w])}return v}removeListener(o,u){return this.off(o,u)}off(o,u){const v=super.off(o,u);return o==="data"&&(this[ut]=this.listeners("data").length,this[ut]===0&&!this[J]&&!this[I].length&&(this[R]=!1)),v}removeAllListeners(o){const u=super.removeAllListeners(o);return(o==="data"||o===void 0)&&(this[ut]=0,!this[J]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[j].length===0&&this[d]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(o,...u){const v=u[0];if(o!=="error"&&o!=="close"&&o!==N&&this[N])return!1;if(o==="data")return!this[G]&&!v?!1:this[st]?(bt(()=>this[kt](v)),!0):this[kt](v);if(o==="end")return this[ne]();if(o==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(o==="error"){this[w]=v,super.emit(ie,v);const M=!this[Ot]||this.listeners("error").length?super.emit("error",v):!1;return this[b](),M}else if(o==="resume"){const M=super.emit("resume");return this[b](),M}else if(o==="finish"||o==="prefinish"){const M=super.emit(o);return this.removeAllListeners(o),M}const A=super.emit(o,...u);return this[b](),A}[kt](o){for(const v of this[I])v.dest.write(o)===!1&&this.pause();const u=this[J]?!1:super.emit("data",o);return this[b](),u}[ne](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[st]?(bt(()=>this[Nt]()),!0):this[Nt]())}[Nt](){if(this[C]){const u=this[C].end();if(u){for(const v of this[I])v.dest.write(u);this[J]||super.emit("data",u)}}for(const u of this[I])u.end();const o=super.emit("end");return this.removeAllListeners("end"),o}async collect(){const o=Object.assign([],{dataLength:0});this[G]||(o.dataLength=0);const u=this.promise();return this.on("data",v=>{o.push(v),this[G]||(o.dataLength+=v.length)}),await u,o}async concat(){if(this[G])throw new Error("cannot concat in objectMode");const o=await this.collect();return this[P]?o.join(""):Buffer.concat(o,o.dataLength)}async promise(){return new Promise((o,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",v=>u(v)),this.on("end",()=>o())})}[Symbol.asyncIterator](){this[J]=!1;let o=!1;const u=async()=>(this.pause(),o=!0,{value:void 0,done:!0});return{next:()=>{if(o)return u();const A=this.read();if(A!==null)return Promise.resolve({done:!1,value:A});if(this[d])return u();let M,F;const W=Q=>{this.off("data",z),this.off("end",X),this.off(N,at),u(),F(Q)},z=Q=>{this.off("error",W),this.off("end",X),this.off(N,at),this.pause(),M({value:Q,done:!!this[d]})},X=()=>{this.off("error",W),this.off("data",z),this.off(N,at),u(),M({done:!0,value:void 0})},at=()=>W(new Error("stream destroyed"));return new Promise((Q,Fe)=>{F=Fe,M=Q,this.once(N,at),this.once("error",W),this.once("end",X),this.once("data",z)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[J]=!1;let o=!1;const u=()=>(this.pause(),this.off(ie,u),this.off(N,u),this.off("end",u),o=!0,{done:!0,value:void 0}),v=()=>{if(o)return u();const A=this.read();return A===null?u():{done:!1,value:A}};return this.once("end",u),this.once(ie,u),this.once(N,u),{next:v,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(o){if(this[N])return o?this.emit("error",o):this.emit(N),this;this[N]=!0,this[J]=!0,this[j].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),o?this.emit("error",o):this.emit(N),this}static get isStream(){return i.isStream}}i.Minipass=m})(xs);var on=ot&&ot.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,n)}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),hn=ot&&ot.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),an=ot&&ot.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&on(t,i,e);return hn(t,i),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const $s=fe,pe=Pi,ln=De,cn=an(ke),Ht=ke,fn=Ht.realpathSync.native,me=Ai,zs=xs,qt={lstatSync:Ht.lstatSync,readdir:Ht.readdir,readdirSync:Ht.readdirSync,readlinkSync:Ht.readlinkSync,realpathSync:fn,promises:{lstat:me.lstat,readdir:me.readdir,readlink:me.readlink,realpath:me.realpath}},Gs=i=>!i||i===qt||i===cn?qt:{...qt,...i,promises:{...qt.promises,...i.promises||{}}},Us=/^\\\\\?\\([a-z]:)\\?$/i,un=i=>i.replace(/\//g,"\\").replace(Us,"$1\\"),dn=/[\\\/]/,it=0,Hs=1,qs=2,lt=4,Vs=6,Ys=8,Pt=10,Js=12,nt=15,Vt=~nt,Ue=16,Ks=32,Yt=64,ht=128,ge=256,we=512,Zs=Yt|ht|we,pn=1023,He=i=>i.isFile()?Ys:i.isDirectory()?lt:i.isSymbolicLink()?Pt:i.isCharacterDevice()?qs:i.isBlockDevice()?Vs:i.isSocket()?Js:i.isFIFO()?Hs:it,Xs=new Map,Jt=i=>{const t=Xs.get(i);if(t)return t;const e=i.normalize("NFKD");return Xs.set(i,e),e},Qs=new Map,be=i=>{const t=Qs.get(i);if(t)return t;const e=Jt(i.toLowerCase());return Qs.set(i,e),e};class qe extends $s.LRUCache{constructor(){super({max:256})}}B.ResolveCache=qe;class ti extends $s.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=ti;const ei=Symbol("PathScurry setAsCwd");class Z{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#r;get mode(){return this.#r}#i;get nlink(){return this.#i}#h;get uid(){return this.#h}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#o;get ino(){return this.#o}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#A;get mtime(){return this.#A}#C;get ctime(){return this.#C}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#v;#n;#b;#j;#E;get path(){return(this.parent||this).fullpath()}constructor(t,e=it,s,n,r,h,a){this.name=t,this.#S=r?be(t):Jt(t),this.#n=e&pn,this.nocase=r,this.roots=n,this.root=s||this,this.#b=h,this.#p=a.fullpath,this.#T=a.relative,this.#v=a.relativePosix,this.parent=a.parent,this.parent?this.#t=this.parent.#t:this.#t=Gs(a.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),n=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(n):this.#k(n)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#n&=~Ue,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),n=this.nocase?be(t):Jt(t);for(const c of s)if(c.#S===n)return c;const r=this.parent?this.sep:"",h=this.#p?this.#p+r+t:void 0,a=this.newChild(t,it,{...e,parent:this,fullpath:h});return this.canReaddir()||(a.#n|=ht),s.push(a),a}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#v!==void 0)return this.#v;const t=this.name,e=this.parent;if(!e)return this.#v=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const n=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=n}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?this.#M=`//?/${n}`:this.#M=n}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#n&nt)===it}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#n&nt)===Ys}isDirectory(){return(this.#n&nt)===lt}isCharacterDevice(){return(this.#n&nt)===qs}isBlockDevice(){return(this.#n&nt)===Vs}isFIFO(){return(this.#n&nt)===Hs}isSocket(){return(this.#n&nt)===Js}isSymbolicLink(){return(this.#n&Pt)===Pt}lstatCached(){return this.#n&Ks?this:void 0}readlinkCached(){return this.#j}realpathCached(){return this.#E}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#j)return!0;if(!this.parent)return!1;const t=this.#n&nt;return!(t!==it&&t!==Pt||this.#n&ge||this.#n&ht)}calledReaddir(){return!!(this.#n&Ue)}isENOENT(){return!!(this.#n&ht)}isNamed(t){return this.nocase?this.#S===be(t):this.#S===Jt(t)}async readlink(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}#N(t){this.#n|=Ue;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#n&ht||(this.#n=(this.#n|ht)&Vt,this.#P())}#P(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#n|=we,this.#L()}#L(){if(this.#n&Yt)return;let t=this.#n;(t&nt)===lt&&(t&=Vt),this.#n=t|Yt,this.#P()}#D(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#n;e|=ge,t==="ENOENT"&&(e|=ht),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Vt),this.#n=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#F(t,e){return this.#U(t,e)||this.#G(t,e)}#G(t,e){const s=He(t),n=this.newChild(t.name,s,{parent:this}),r=n.#n&nt;return r!==lt&&r!==Pt&&r!==it&&(n.#n|=Yt),e.unshift(n),e.provisional++,n}#U(t,e){for(let s=e.provisional;s<e.length;s++){const n=e[s];if((this.nocase?be(t.name):Jt(t.name))===n.#S)return this.#H(t,n,s,e)}}#H(t,e,s,n){const r=e.name;return e.#n=e.#n&Vt|He(t),r!==t.name&&(e.name=t.name),s!==n.provisional&&(s===n.length-1?n.pop():n.splice(s,1),n.unshift(e)),n.provisional++,e}async lstat(){if(!(this.#n&ht))try{return this.#z(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#n&ht))try{return this.#z(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#z(t){const{atime:e,atimeMs:s,birthtime:n,birthtimeMs:r,blksize:h,blocks:a,ctime:c,ctimeMs:d,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:E,nlink:T,rdev:O,size:P,uid:C}=t;this.#g=e,this.#w=s,this.#O=n,this.#y=r,this.#a=h,this.#m=a,this.#C=c,this.#u=d,this.#s=b,this.#l=g,this.#o=y,this.#r=w,this.#A=_,this.#d=E,this.#i=T,this.#f=O,this.#e=P,this.#h=C;const R=He(t);this.#n=this.#n&Vt|R|Ks,R!==it&&R!==lt&&R!==Pt&&(this.#n|=Yt)}#x=[];#$=!1;#q(t){this.#$=!1;const e=this.#x.slice();this.#x.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const r=s.slice(0,s.provisional);e?t(null,r):queueMicrotask(()=>t(null,r));return}if(this.#x.push(t),this.#$)return;this.#$=!0;const n=this.fullpath();this.#t.readdir(n,{withFileTypes:!0},(r,h)=>{if(r)this.#D(r.code),s.provisional=0;else{for(const a of h)this.#F(a,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(n=>s=n);try{for(const n of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#F(n,t);this.#N(t)}catch(n){this.#D(n.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#F(s,t);this.#N(t)}catch(s){this.#D(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#n&Zs)return!1;const t=nt&this.#n;return t===it||t===lt||t===Pt}shouldWalk(t,e){return(this.#n&lt)===lt&&!(this.#n&Zs)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=this.#t.realpathSync(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}[ei](t){if(t===this)return;const e=new Set([]);let s=[],n=this;for(;n&&n.parent;)e.add(n),n.#T=s.join(this.sep),n.#v=s.join("/"),n=n.parent,s.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#T=void 0,n.#v=void 0,n=n.parent}}B.PathBase=Z;class ee extends Z{sep="\\";splitSep=dn;constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}newChild(t,e=it,s={}){return new ee(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return pe.win32.parse(t).root}getRoot(t){if(t=un(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Ye(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Us,"$1\\"),t===e}}B.PathWin32=ee;class se extends Z{splitSep="/";sep="/";constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=it,s={}){return new se(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=se;class Ve{root;rootPath;roots;cwd;#t;#s;#r;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:n,childrenCacheSize:r=16*1024,fs:h=qt}={}){this.#i=Gs(h),(t instanceof URL||t.startsWith("file://"))&&(t=(0,ln.fileURLToPath)(t));const a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#t=new qe,this.#s=new qe,this.#r=new ti(r);const c=a.substring(this.rootPath.length).split(s);if(c.length===1&&!c[0]&&c.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let d=this.root,b=c.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of c){const E=b--;d=d.child(_,{relative:new Array(E).fill("..").join(g),relativePosix:new Array(E).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=d}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#r}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#t.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpath();return this.#t.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#s.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const n=await t.readdir();return s?n:n.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set,d=(g,y)=>{c.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let E=_.length;if(!E)return y();const T=()=>{--E===0&&y()};for(const O of _)(!r||r(O))&&a.push(s?O:O.fullpath()),n&&O.isSymbolicLink()?O.realpath().then(P=>P?.isUnknown()?P.lstat():P).then(P=>P?.shouldWalk(c,h)?d(P,T):T()):O.shouldWalk(c,h)?d(O,T):T()},!0)},b=t;return new Promise((g,y)=>{d(b,w=>{if(w)return y(w);g(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set([t]);for(const d of c){const b=d.readdirSync();for(const g of b){(!r||r(g))&&a.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(n&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(c,h)&&c.add(y)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e;(!r||r(t))&&(yield s?t:t.fullpath());const a=new Set([t]);for(const c of a){const d=c.readdirSync();for(const b of d){(!r||r(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(n&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(a,h)&&a.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0});(!r||r(t))&&a.write(s?t:t.fullpath());const c=new Set,d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=(T,O,P=!1)=>{if(T)return a.emit("error",T);if(n&&!P){const C=[];for(const R of O)R.isSymbolicLink()&&C.push(R.realpath().then(D=>D?.isUnknown()?D.lstat():D));if(C.length){Promise.all(C).then(()=>_(null,O,!0));return}}for(const C of O)C&&(!r||r(C))&&(a.write(s?C:C.fullpath())||(y=!0));b--;for(const C of O){const R=C.realpathCached()||C;R.shouldWalk(c,h)&&d.push(R)}y&&!a.flowing?a.once("drain",g):E||g()};let E=!0;w.readdirCB(_,!0),E=!1}};return g(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0}),c=new Set;(!r||r(t))&&a.write(s?t:t.fullpath());const d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=w.readdirSync();for(const E of _)(!r||r(E))&&(a.write(s?E:E.fullpath())||(y=!0));b--;for(const E of _){let T=E;if(E.isSymbolicLink()){if(!(n&&(T=E.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(c,h)&&d.push(T)}}y&&!a.flowing&&a.once("drain",g)};return g(),a}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[ei](e)}}B.PathScurryBase=Ve;class Ye extends Ve{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,pe.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let n=this.cwd;n;n=n.parent)n.nocase=this.nocase}parseRootPath(t){return pe.win32.parse(t).root.toUpperCase()}newRoot(t){return new ee(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Ye;class Je extends Ve{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,pe.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new se(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=Je;class si extends Je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=si,B.Path=process.platform==="win32"?ee:se,B.PathScurry=process.platform==="win32"?Ye:process.platform==="darwin"?si:Je;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Pattern=void 0;const mn=yt,gn=i=>i.length>=1,wn=i=>i.length>=1;class os{#t;#s;#r;length;#i;#h;#l;#f;#a;#o;#e=!0;constructor(t,e,s,n){if(!gn(t))throw new TypeError("empty pattern list");if(!wn(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#r=s,this.#i=n,this.#r===0){if(this.isUNC()){const[r,h,a,c,...d]=this.#t,[b,g,y,w,..._]=this.#s;d[0]===""&&(d.shift(),_.shift());const E=[r,h,a,c,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[E,...d],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[r,...h]=this.#t,[a,...c]=this.#s;h[0]===""&&(h.shift(),c.shift());const d=r+"/",b=a+"/";this.#t=[d,...h],this.#s=[b,...c],this.length=this.#t.length}}}pattern(){return this.#t[this.#r]}isString(){return typeof this.#t[this.#r]=="string"}isGlobstar(){return this.#t[this.#r]===mn.GLOBSTAR}isRegExp(){return this.#t[this.#r]instanceof RegExp}globString(){return this.#l=this.#l||(this.#r===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return this.#h!==void 0?this.#h:this.hasMore()?(this.#h=new os(this.#t,this.#s,this.#r+1,this.#i),this.#h.#o=this.#o,this.#h.#a=this.#a,this.#h.#f=this.#f,this.#h):this.#h=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#r===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#r===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#o!==void 0?this.#o:this.#o=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#r===0?t:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#r===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}Kt.Pattern=os;var vt={},ii={};const ni=typeof process=="object"&&process?process:{stdout:null,stderr:null},bn=fs,ri=us,yn=ds,oi=yn.StringDecoder,pt=Symbol("EOF"),mt=Symbol("maybeEmitEnd"),Et=Symbol("emittedEnd"),ye=Symbol("emittingEnd"),Zt=Symbol("emittedError"),Se=Symbol("closed"),hi=Symbol("read"),ve=Symbol("flush"),ai=Symbol("flushChunk"),tt=Symbol("encoding"),gt=Symbol("decoder"),Ee=Symbol("flowing"),Xt=Symbol("paused"),Lt=Symbol("resume"),x=Symbol("buffer"),ct=Symbol("pipes"),H=Symbol("bufferLength"),Ke=Symbol("bufferPush"),Ze=Symbol("bufferShift"),V=Symbol("objectMode"),$=Symbol("destroyed"),Xe=Symbol("error"),Qe=Symbol("emitData"),li=Symbol("emitEnd"),ts=Symbol("emitEnd2"),wt=Symbol("async"),es=Symbol("abort"),_e=Symbol("aborted"),At=Symbol("signal"),Qt=i=>Promise.resolve().then(i),ci=ot._MP_NO_ITERATOR_SYMBOLS_!=="1",fi=ci&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),ui=ci&&Symbol.iterator||Symbol("iterator not implemented"),Sn=i=>i==="end"||i==="finish"||i==="prefinish",vn=i=>i instanceof ArrayBuffer||typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,En=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i);class di{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[Lt](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class _n extends di{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=n=>e.emit("error",n),t.on("error",this.proxyErrors)}}class hs extends ri{constructor(t){super(),this[Ee]=!1,this[Xt]=!1,this[ct]=[],this[x]=[],this[V]=t&&t.objectMode||!1,this[V]?this[tt]=null:this[tt]=t&&t.encoding||null,this[tt]==="buffer"&&(this[tt]=null),this[wt]=t&&!!t.async||!1,this[gt]=this[tt]?new oi(this[tt]):null,this[pt]=!1,this[Et]=!1,this[ye]=!1,this[Se]=!1,this[Zt]=null,this.writable=!0,this.readable=!0,this[H]=0,this[$]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[x]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ct]}),this[At]=t&&t.signal,this[_e]=!1,this[At]&&(this[At].addEventListener("abort",()=>this[es]()),this[At].aborted&&this[es]())}get bufferLength(){return this[H]}get encoding(){return this[tt]}set encoding(t){if(this[V])throw new Error("cannot set encoding in objectMode");if(this[tt]&&t!==this[tt]&&(this[gt]&&this[gt].lastNeed||this[H]))throw new Error("cannot change encoding");this[tt]!==t&&(this[gt]=t?new oi(t):null,this[x].length&&(this[x]=this[x].map(e=>this[gt].write(e)))),this[tt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[V]}set objectMode(t){this[V]=this[V]||!!t}get async(){return this[wt]}set async(t){this[wt]=this[wt]||!!t}[es](){this[_e]=!0,this.emit("abort",this[At].reason),this.destroy(this[At].reason)}get aborted(){return this[_e]}set aborted(t){}write(t,e,s){if(this[_e])return!1;if(this[pt])throw new Error("write after end");if(this[$])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const n=this[wt]?Qt:r=>r();return!this[V]&&!Buffer.isBuffer(t)&&(En(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):vn(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[V]?(this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[tt]&&!this[gt].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[tt]&&(t=this[gt].write(t)),this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):(this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing)}read(t){if(this[$])return null;if(this[H]===0||t===0||t>this[H])return this[mt](),null;this[V]&&(t=null),this[x].length>1&&!this[V]&&(this.encoding?this[x]=[this[x].join("")]:this[x]=[Buffer.concat(this[x],this[H])]);const e=this[hi](t||null,this[x][0]);return this[mt](),e}[hi](t,e){return t===e.length||t===null?this[Ze]():(this[x][0]=e.slice(t),e=e.slice(0,t),this[H]-=t),this.emit("data",e),!this[x].length&&!this[pt]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[pt]=!0,this.writable=!1,(this.flowing||!this[Xt])&&this[mt](),this}[Lt](){this[$]||(this[Xt]=!1,this[Ee]=!0,this.emit("resume"),this[x].length?this[ve]():this[pt]?this[mt]():this.emit("drain"))}resume(){return this[Lt]()}pause(){this[Ee]=!1,this[Xt]=!0}get destroyed(){return this[$]}get flowing(){return this[Ee]}get paused(){return this[Xt]}[Ke](t){this[V]?this[H]+=1:this[H]+=t.length,this[x].push(t)}[Ze](){return this[V]?this[H]-=1:this[H]-=this[x][0].length,this[x].shift()}[ve](t){do;while(this[ai](this[Ze]())&&this[x].length);!t&&!this[x].length&&!this[pt]&&this.emit("drain")}[ai](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[$])return;const s=this[Et];return e=e||{},t===ni.stdout||t===ni.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ct].push(e.proxyErrors?new _n(this,t,e):new di(this,t,e)),this[wt]?Qt(()=>this[Lt]()):this[Lt]()),t}unpipe(t){const e=this[ct].find(s=>s.dest===t);e&&(this[ct].splice(this[ct].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ct].length&&!this.flowing?this[Lt]():t==="readable"&&this[H]!==0?super.emit("readable"):Sn(t)&&this[Et]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Zt]&&(this[wt]?Qt(()=>e.call(this,this[Zt])):e.call(this,this[Zt])),s}get emittedEnd(){return this[Et]}[mt](){!this[ye]&&!this[Et]&&!this[$]&&this[x].length===0&&this[pt]&&(this[ye]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Se]&&this.emit("close"),this[ye]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==$&&this[$])return;if(t==="data")return!this[V]&&!e?!1:this[wt]?Qt(()=>this[Qe](e)):this[Qe](e);if(t==="end")return this[li]();if(t==="close"){if(this[Se]=!0,!this[Et]&&!this[$])return;const r=super.emit("close");return this.removeAllListeners("close"),r}else if(t==="error"){this[Zt]=e,super.emit(Xe,e);const r=!this[At]||this.listeners("error").length?super.emit("error",e):!1;return this[mt](),r}else if(t==="resume"){const r=super.emit("resume");return this[mt](),r}else if(t==="finish"||t==="prefinish"){const r=super.emit(t);return this.removeAllListeners(t),r}const n=super.emit(t,e,...s);return this[mt](),n}[Qe](t){for(const s of this[ct])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[mt](),e}[li](){this[Et]||(this[Et]=!0,this.readable=!1,this[wt]?Qt(()=>this[ts]()):this[ts]())}[ts](){if(this[gt]){const e=this[gt].end();if(e){for(const s of this[ct])s.dest.write(e);super.emit("data",e)}}for(const e of this[ct])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[V]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[V]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[V]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[V]?Promise.reject(new Error("cannot concat in objectMode")):this[tt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on($,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[fi](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[pt])return e();let r=null,h=null;const a=g=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener($,b),e(),h(g)},c=g=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener($,b),this.pause(),r({value:g,done:!!this[pt]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener($,b),e(),r({done:!0})},b=()=>a(new Error("stream destroyed"));return new Promise((g,y)=>{h=y,r=g,this.once($,b),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:e,return:e,[fi](){return this}}}[ui](){let t=!1;const e=()=>(this.pause(),this.removeListener(Xe,e),this.removeListener($,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const n=this.read();return n===null?e():{value:n}};return this.once("end",e),this.once(Xe,e),this.once($,e),{next:s,throw:e,return:e,[ui](){return this}}}destroy(t){return this[$]?(t?this.emit("error",t):this.emit($),this):(this[$]=!0,this[x].length=0,this[H]=0,typeof this.close=="function"&&!this[Se]&&this.close(),t?this.emit("error",t):this.emit($),this)}static isStream(t){return!!t&&(t instanceof hs||t instanceof ri||t instanceof bn&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}ii.Minipass=hs;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Ignore=void 0;const pi=yt,On=Kt,Tn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Rn{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:n,noglobstar:r,platform:h=Tn}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const a={dot:!0,nobrace:e,nocase:s,noext:n,noglobstar:r,optimizationLevel:2,platform:h,nocomment:!0,nonegate:!0};for(const c of t){const d=new pi.Minimatch(c,a);for(let b=0;b<d.set.length;b++){const g=d.set[b],y=d.globParts[b],w=new On.Pattern(g,y,0,h),_=new pi.Minimatch(w.globString(),a),E=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),E&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,n=t.relative()||".",r=`${n}/`;for(const h of this.relative)if(h.match(n)||h.match(r))return!0;for(const h of this.absolute)if(h.match(e)||h.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const n of this.relativeChildren)if(n.match(s))return!0;for(const n of this.absoluteChildren)n.match(e);return!1}}Oe.Ignore=Rn;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.Processor=ft.SubWalks=ft.MatchRecord=ft.HasWalkedCache=void 0;const mi=yt;class Ce{store;constructor(t=new Map){this.store=t}copy(){return new Ce(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),n=this.store.get(s);n?n.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}ft.HasWalkedCache=Ce;class gi{store=new Map;add(t,e,s){const n=(e?2:0)|(s?1:0),r=this.store.get(t);this.store.set(t,r===void 0?n:n&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}ft.MatchRecord=gi;class wi{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(n=>n.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}ft.SubWalks=wi;class as{hasWalkedCache;matches=new gi;subwalks=new wi;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Ce}processPatterns(t,e){this.patterns=e;const s=e.map(n=>[t,n]);for(let[n,r]of s){this.hasWalkedCache.storeWalked(n,r);const h=r.root(),a=r.isAbsolute()&&this.opts.absolute!==!1;if(h){n=n.resolve(h==="/"&&this.opts.root!==void 0?this.opts.root:h);const g=r.rest();if(g)r=g;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let c,d,b=!1;for(;typeof(c=r.pattern())=="string"&&(d=r.rest());){const g=n.resolve(c);if(g.isUnknown()&&c!=="..")break;n=g,r=d,b=!0}if(c=r.pattern(),d=r.rest(),b){if(this.hasWalkedCache.hasWalked(n,r))continue;this.hasWalkedCache.storeWalked(n,r)}if(typeof c=="string"){if(d)this.subwalks.add(n,r);else{const g=c===".."||c===""||c===".";this.matches.add(n.resolve(c),a,g)}continue}else if(c===mi.GLOBSTAR){(!n.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(n,r);const g=d?.pattern(),y=d?.rest();if(!d||(g===""||g===".")&&!y)this.matches.add(n,a,g===""||g===".");else if(g===".."){const w=n.parent||n;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,a,!0)}}else c instanceof RegExp&&this.subwalks.add(n,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new as(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),n=this.child();for(const r of e)for(const h of s){const a=h.isAbsolute(),c=h.pattern(),d=h.rest();c===mi.GLOBSTAR?n.testGlobstar(r,h,d,a):c instanceof RegExp?n.testRegExp(r,c,d,a):n.testString(r,c,d,a)}return n}testGlobstar(t,e,s,n){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const r=s.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,s.rest(),n);else if(r===".."){const h=t.parent||t;this.subwalks.add(h,s)}else r instanceof RegExp&&this.testRegExp(t,r,s.rest(),n)}}testRegExp(t,e,s,n){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}testString(t,e,s,n){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}}ft.Processor=as,Object.defineProperty(vt,"__esModule",{value:!0}),vt.GlobStream=vt.GlobWalker=vt.GlobUtil=void 0;const Pn=ii,bi=Oe,yi=ft,An=(i,t)=>typeof i=="string"?new bi.Ignore([i],t):Array.isArray(i)?new bi.Ignore(i,t):i;class ss{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#r;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#r=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=An(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#h(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#r:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const r=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(r+n)}else{const r=this.opts.posix?t.relativePosix():t.relative(),h=this.opts.dotRelative&&!r.startsWith(".."+this.#r)?"."+this.#r:"";this.matchEmit(r?h+r+n:"."+n)}}async match(t,e,s){const n=await this.matchCheck(t,s);n&&this.matchFinish(n,e)}matchSync(t,e,s){const n=this.matchCheckSync(t,s);n&&this.matchFinish(n,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new yi.Processor(this.opts),s)}walkCB2(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirCached();a.calledReaddir()?this.walkCB3(a,c,s,h):a.readdirCB((d,b)=>this.walkCB3(a,b,s,h),!0)}h()}walkCB3(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const[a,c]of s.subwalks.entries())r++,this.walkCB2(a,c,s.child(),h);h()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new yi.Processor(this.opts),s)}walkCB2Sync(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirSync();this.walkCB3Sync(a,c,s,h)}h()}walkCB3Sync(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const[a,c]of s.subwalks.entries())r++,this.walkCB2Sync(a,c,s.child(),h);h()}}vt.GlobUtil=ss;class Cn extends ss{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}vt.GlobWalker=Cn;class Mn extends ss{results;constructor(t,e,s){super(t,e,s),this.results=new Pn.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}vt.GlobStream=Mn,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.Glob=void 0;const jn=yt,Te=B,Ln=De,Fn=Kt,Re=vt,Dn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class kn{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Ln.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(c=>c.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(c=>c.includes("/")?c:`./**/${c}`)}if(this.pattern=t,this.platform=e.platform||Dn,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const c=e.platform==="win32"?Te.PathScurryWin32:e.platform==="darwin"?Te.PathScurryDarwin:e.platform?Te.PathScurryPosix:Te.PathScurry;this.scurry=new c(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(c=>new jn.Minimatch(c,n)),[h,a]=r.reduce((c,d)=>(c[0].push(...d.set),c[1].push(...d.globParts),c),[[],[]]);this.patterns=h.map((c,d)=>new Fn.Pattern(c,a[d],0,this.platform))}async walk(){return[...await new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Gt.Glob=kn;var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.hasMagic=void 0;const Nn=yt,Bn=(i,t={})=>{Array.isArray(i)||(i=[i]);for(const e of i)if(new Nn.Minimatch(e,t).hasMagic())return!0;return!1};te.hasMagic=Bn,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.glob=i.hasMagic=i.Glob=i.unescape=i.escape=i.sync=i.iterate=i.iterateSync=i.stream=i.streamSync=i.globIterate=i.globIterateSync=i.globSync=i.globStream=i.globStreamSync=void 0;const t=yt,e=Gt,s=te;function n(w,_={}){return new e.Glob(w,_).streamSync()}i.globStreamSync=n;function r(w,_={}){return new e.Glob(w,_).stream()}i.globStream=r;function h(w,_={}){return new e.Glob(w,_).walkSync()}i.globSync=h;async function a(w,_={}){return new e.Glob(w,_).walk()}function c(w,_={}){return new e.Glob(w,_).iterateSync()}i.globIterateSync=c;function d(w,_={}){return new e.Glob(w,_).iterate()}i.globIterate=d,i.streamSync=n,i.stream=Object.assign(r,{sync:n}),i.iterateSync=c,i.iterate=Object.assign(d,{sync:c}),i.sync=Object.assign(h,{stream:n,iterate:c});var b=yt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Gt;Object.defineProperty(i,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=te;Object.defineProperty(i,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),i.glob=Object.assign(a,{glob:a,globSync:h,sync:i.sync,globStream:r,stream:i.stream,globStreamSync:n,streamSync:i.streamSync,globIterate:d,iterate:i.iterate,globIterateSync:c,iterateSync:i.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),i.glob.glob=i.glob}(Es);var is=Object.defineProperty,In=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyNames,xn=Object.prototype.hasOwnProperty,$n=(i,t)=>{for(var e in t)is(i,e,{get:t[e],enumerable:!0})},zn=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wn(t))!xn.call(i,n)&&n!==e&&is(i,n,{get:()=>t[n],enumerable:!(s=In(t,n))||s.enumerable});return i},Gn=i=>zn(is({},"__esModule",{value:!0}),i),Si={};$n(Si,{default:()=>Hn});var Un=Gn(Si);function Hn(i,t){return t?.allExtensions?i.replace(/\..+$/,""):i.replace(/\.[^.]+$/,"")}var qn=Object.create,Pe=Object.defineProperty,Vn=Object.getOwnPropertyDescriptor,Yn=Object.getOwnPropertyNames,Jn=Object.getPrototypeOf,Kn=Object.prototype.hasOwnProperty,Zn=(i,t)=>{for(var e in t)Pe(i,e,{get:t[e],enumerable:!0})},vi=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Yn(t))!Kn.call(i,n)&&n!==e&&Pe(i,n,{get:()=>t[n],enumerable:!(s=Vn(t,n))||s.enumerable});return i},Ei=(i,t,e)=>(e=i!=null?qn(Jn(i)):{},vi(t||!i||!i.__esModule?Pe(e,"default",{value:i,enumerable:!0}):e,i)),Xn=i=>vi(Pe({},"__esModule",{value:!0}),i),_i={};Zn(_i,{getMonorepoDirpath:()=>er});var Qn=Xn(_i),ns=Ei(ke),Ae=Ei(U),tr=De;function er(i=process.cwd()){i=i.startsWith("file://")?(0,tr.fileURLToPath)(i):i,ns.statSync(i).isFile()&&(i=Ae.default.dirname(i));let t;for(;i!=="/";){const e=ns.existsSync(Ae.default.join(i,"pnpm-workspace.yaml"));if(ns.existsSync(Ae.default.join(i,"pnpm-lock.yaml"))&&(t=i),e)return i;i=Ae.default.dirname(i)}return t}const Ft=U,{globSync:sr}=Es,Oi=Un,{getMonorepoDirpath:ir}=Qn;var nr=function(){const t=ir(__dirname);if(t===void 0)throw new Error("Could not find monorepo directory");const e=s=>`__${s.replaceAll(/[^\w$]/g,"_")}`;return function(s){if(Ft.basename(s).startsWith("__virtual__:")){const n=(Oi.default??Oi)(Ft.basename(s).replace("__virtual__:","")),r=Ft.dirname(s),h=sr(r,{absolute:!0}),a=[];switch(n){case"files":{for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`import * as ${b} from ${JSON.stringify(c)};`)}a.push("export default {");for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`${JSON.stringify(d)}: ${b},`)}a.push("};");break}case"matches":{a.push(...h.map(c=>`export * from ${JSON.stringify(c)};`));break}case"filepaths":{a.push("export default {");for(const c of h){const d=Ft.relative(t,c);a.push(`${JSON.stringify(d)}: true,`)}a.push("};");break}default:throw new Error(`Unknown virtual file type: ${n}`)}return a.push("export {};"),a.join(`
+`)}else return readFile(s)}},rr=Ci(nr);module.exports=rr;
+;return module.exports()})({}),
       writeFile: writeFile2,
       watchFile: watchFile2,
       watchDirectory,
       resolvePath: (path) => _path.resolve(path),
-      fileExists,
-      directoryExists,
+      fileExists: ((module) => {"use strict";var t=require("node:path");function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const s=t;var i=function(){return function(r){return s.basename(r).startsWith("__virtual__:")?!0:fileExists(r)}},u=a(i);module.exports=u;
+;return module.exports()})({}),
+      directoryExists: ((module) => {"use strict";var Xs=require("path"),Ve=require("url"),Ye=require("fs"),Qs=require("fs/promises"),Ke=require("events"),Je=require("stream"),Ze=require("string_decoder"),it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ti(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xe={},mt={},ei=Qe;function Qe(r,t,e){r instanceof RegExp&&(r=ts(r,e)),t instanceof RegExp&&(t=ts(t,e));var s=es(r,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+r.length,s[1]),post:e.slice(s[1]+t.length)}}function ts(r,t){var e=t.match(r);return e?e[0]:null}Qe.range=es;function es(r,t,e){var s,i,n,o,c,l=e.indexOf(r),p=e.indexOf(t,l+1),b=l;if(l>=0&&p>0){if(r===t)return[l,p];for(s=[],n=e.length;b>=0&&!c;)b==l?(s.push(b),l=e.indexOf(r,b+1)):s.length==1?c=[s.pop(),p]:(i=s.pop(),i<n&&(n=i,o=p),p=e.indexOf(t,b+1)),b=l<p&&l>=0?l:p;s.length&&(c=[n,o])}return c}var ss=ei,si=ni,is="\0SLASH"+Math.random()+"\0",rs="\0OPEN"+Math.random()+"\0",Oe="\0CLOSE"+Math.random()+"\0",ns="\0COMMA"+Math.random()+"\0",hs="\0PERIOD"+Math.random()+"\0";function Te(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function ii(r){return r.split("\\\\").join(is).split("\\{").join(rs).split("\\}").join(Oe).split("\\,").join(ns).split("\\.").join(hs)}function ri(r){return r.split(is).join("\\").split(rs).join("{").split(Oe).join("}").split(ns).join(",").split(hs).join(".")}function os(r){if(!r)return[""];var t=[],e=ss("{","}",r);if(!e)return r.split(",");var s=e.pre,i=e.body,n=e.post,o=s.split(",");o[o.length-1]+="{"+i+"}";var c=os(n);return n.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),t.push.apply(t,o),t}function ni(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),Lt(ii(r),!0).map(ri)):[]}function hi(r){return"{"+r+"}"}function oi(r){return/^-?0\d/.test(r)}function ai(r,t){return r<=t}function li(r,t){return r>=t}function Lt(r,t){var e=[],s=ss("{","}",r);if(!s)return[r];var i=s.pre,n=s.post.length?Lt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<n.length;o++){var c=i+"{"+s.body+"}"+n[o];e.push(c)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),p=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=l||p,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(r=s.pre+"{"+s.body+Oe+s.post,Lt(r)):[r];var y;if(b)y=s.body.split(/\.\./);else if(y=os(s.body),y.length===1&&(y=Lt(y[0],!1).map(hi),y.length===1))return n.map(function(st){return s.pre+y[0]+st});var w;if(b){var _=Te(y[0]),v=Te(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs(Te(y[2])):1,A=ai,P=v<_;P&&(O*=-1,A=li);var R=y.some(oi);w=[];for(var F=_;A(F,v);F+=O){var k;if(p)k=String.fromCharCode(F),k==="\\"&&(k="");else if(k=String(F),R){var D=T-k.length;if(D>0){var I=new Array(D+1).join("0");F<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Lt(y[L],!1))}for(var L=0;L<w.length;L++)for(var o=0;o<n.length;o++){var c=i+w[L]+n[o];(!t||b||c)&&e.push(c)}}return e}var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.assertValidPattern=void 0;const ci=1024*64,fi=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>ci)throw new TypeError("pattern is too long")};Qt.assertValidPattern=fi;var jt={},te={};Object.defineProperty(te,"__esModule",{value:!0}),te.parseClass=void 0;const ui={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ft=r=>r.replace(/[[\]\\-]/g,"\\$&"),di=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),as=r=>r.join(""),pi=(r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],i=[];let n=e+1,o=!1,c=!1,l=!1,p=!1,b=e,g="";t:for(;n<r.length;){const v=r.charAt(n);if((v==="!"||v==="^")&&n===e+1){p=!0,n++;continue}if(v==="]"&&o&&!l){b=n+1;break}if(o=!0,v==="\\"&&!l){l=!0,n++;continue}if(v==="["&&!l){for(const[T,[O,A,P]]of Object.entries(ui))if(r.startsWith(T,n)){if(g)return["$.",!1,r.length-e,!0];n+=T.length,P?i.push(O):s.push(O),c=c||A;continue t}}if(l=!1,g){v>g?s.push(Ft(g)+"-"+Ft(v)):v===g&&s.push(Ft(v)),g="",n++;continue}if(r.startsWith("-]",n+1)){s.push(Ft(v+"-")),n+=2;continue}if(r.startsWith("-",n+1)){g=v,n+=2;continue}s.push(Ft(v)),n++}if(b<n)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,r.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!p){const v=s[0].length===2?s[0].slice(-1):s[0];return[di(v),!1,b-e,!1]}const y="["+(p?"^":"")+as(s)+"]",w="["+(p?"":"^")+as(i)+"]";return[s.length&&i.length?"("+y+"|"+w+")":s.length?y:w,c,b-e,!0]};te.parseClass=pi;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.unescape=void 0;const mi=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Rt.unescape=mi,Object.defineProperty(jt,"__esModule",{value:!0}),jt.AST=void 0;const gi=te,ee=Rt,wi=new Set(["!","?","+","*","@"]),ls=r=>wi.has(r),bi="(?!(?:^|/)\\.\\.?(?:$|/))",se="(?!\\.)",yi=new Set(["[","."]),Si=new Set(["..","."]),Ei=new Set("().*{}+?[]^$\\!"),vi=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Re="[^/]",cs=Re+"*?",fs=Re+"+?";class X{type;#t;#s;#n=!1;#i=[];#o;#l;#f;#a=!1;#h;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#o=e,this.#t=this.#o?this.#o.#t:this,this.#h=this.#t===this?s:this.#t.#h,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#o?this.#o.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#o;for(;s;){for(let i=e.#l+1;!s.type&&i<s.#i.length;i++)for(const n of t.#i){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#i[i])}e=s,s=e.#o}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof X&&e.#o===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#o?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#o?.isStart())return!1;if(this.#l===0)return!0;const t=this.#o;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof X&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();const t=this.#o?this.#o.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new X(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,i){let n=!1,o=!1,c=-1,l=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const v=t.charAt(w++);if(n||v==="\\"){n=!n,_+=v;continue}if(o){w===c+1?(v==="^"||v==="!")&&(l=!0):v==="]"&&!(w===c+2&&l)&&(o=!1),_+=v;continue}else if(v==="["){o=!0,c=w,l=!1,_+=v;continue}if(!i.noext&&ls(v)&&t.charAt(w)==="("){e.push(_),_="";const T=new X(v,e);w=X.#d(t,T,w,i),e.push(T);continue}_+=v}return e.push(_),w}let p=s+1,b=new X(null,e);const g=[];let y="";for(;p<t.length;){const w=t.charAt(p++);if(n||w==="\\"){n=!n,y+=w;continue}if(o){p===c+1?(w==="^"||w==="!")&&(l=!0):w==="]"&&!(p===c+2&&l)&&(o=!1),y+=w;continue}else if(w==="["){o=!0,c=p,l=!1,y+=w;continue}if(ls(w)&&t.charAt(p)==="("){b.push(y),y="";const _=new X(w,b);b.push(_),p=X.#d(t,_,p,i);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new X(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),p;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],p}static fromGlob(t,e={}){const s=new X(null,void 0,e);return X.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,i,n]=this.toRegExpSource();if(!(i||this.#s||this.#h.nocase&&!this.#h.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const c=(this.#h.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,c),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#h.dot;if(this.#t===this&&this.#w(),!this.type){const l=this.isStart()&&this.isEnd(),p=this.#i.map(w=>{const[_,v,T,O]=typeof w=="string"?X.#y(w,this.#s,l):w.toRegExpSource(t);return this.#s=this.#s||T,this.#n=this.#n||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&Si.has(this.#i[0]))){const _=yi,v=e&&_.has(p.charAt(0))||p.startsWith("\\.")&&_.has(p.charAt(2))||p.startsWith("\\.\\.")&&_.has(p.charAt(4)),T=!e&&!t&&_.has(p.charAt(0));b=v?bi:T?se:""}let g="";return this.isEnd()&&this.#t.#a&&this.#o?.type==="!"&&(g="(?:$|\\/)"),[b+p+g,(0,ee.unescape)(p),this.#s=!!this.#s,this.#n]}const s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let n=this.#u(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){const l=this.toString();return this.#i=[l],this.type=null,this.#s=void 0,[l,(0,ee.unescape)(this.toString()),!1,!1]}let o=!s||t||e||!se?"":this.#u(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let c="";if(this.type==="!"&&this.#m)c=(this.isStart()&&!e?se:"")+fs;else{const l=this.type==="!"?"))"+(this.isStart()&&!e&&!t?se:"")+cs+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;c=i+n+l}return[c,(0,ee.unescape)(n),this.#s=!!this.#s,this.#n]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,i,n,o]=e.toRegExpSource(t);return this.#n=this.#n||o,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let i=!1,n="",o=!1;for(let c=0;c<t.length;c++){const l=t.charAt(c);if(i){i=!1,n+=(Ei.has(l)?"\\":"")+l;continue}if(l==="\\"){c===t.length-1?n+="\\\\":i=!0;continue}if(l==="["){const[p,b,g,y]=(0,gi.parseClass)(t,c);if(g){n+=p,o=o||b,c+=g-1,e=e||y;continue}}if(l==="*"){s&&t==="*"?n+=fs:n+=cs,e=!0;continue}if(l==="?"){n+=Re,e=!0;continue}n+=vi(l)}return[n,(0,ee.unescape)(t),!!e,o]}}jt.AST=X;var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.escape=void 0;const _i=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");kt.escape=_i,function(r){var t=it&&it.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.unescape=r.escape=r.AST=r.Minimatch=r.match=r.makeRe=r.braceExpand=r.defaults=r.filter=r.GLOBSTAR=r.sep=r.minimatch=void 0;const e=t(si),s=Qt,i=jt,n=kt,o=Rt,c=(S,a,d={})=>((0,s.assertValidPattern)(a),!d.nocomment&&a.charAt(0)==="#"?!1:new Et(a,d).match(S));r.minimatch=c;const l=/^\*+([^+@!?\*\[\(]*)$/,p=S=>a=>!a.startsWith(".")&&a.endsWith(S),b=S=>a=>a.endsWith(S),g=S=>(S=S.toLowerCase(),a=>!a.startsWith(".")&&a.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),a=>a.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),v=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),A=/^\*+$/,P=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",F=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,a=""])=>{const d=st([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},D=([S,a=""])=>{const d=yt([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},I=([S,a=""])=>{const d=yt([S]);return a?m=>d(m)&&m.endsWith(a):d},L=([S,a=""])=>{const d=st([S]);return a?m=>d(m)&&m.endsWith(a):d},st=([S])=>{const a=S.length;return d=>d.length===a&&!d.startsWith(".")},yt=([S])=>{const a=S.length;return d=>d.length===a&&d!=="."&&d!==".."},z=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};r.sep=z==="win32"?N.win32.sep:N.posix.sep,r.minimatch.sep=r.sep,r.GLOBSTAR=Symbol("globstar **"),r.minimatch.GLOBSTAR=r.GLOBSTAR;const Pt="[^/]"+"*?",Zt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Mt="(?:(?!(?:\\/|^)\\.).)*?",Q=(S,a={})=>d=>(0,r.minimatch)(d,S,a);r.filter=Q,r.minimatch.filter=r.filter;const q=(S,a={})=>Object.assign({},S,a),Ot=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return r.minimatch;const a=r.minimatch;return Object.assign((m,f,h={})=>a(m,f,q(S,h)),{Minimatch:class extends a.Minimatch{constructor(f,h={}){super(f,q(S,h))}static defaults(f){return a.defaults(q(S,f)).Minimatch}},AST:class extends a.AST{constructor(f,h,u={}){super(f,h,q(S,u))}static fromGlob(f,h={}){return a.AST.fromGlob(f,q(S,h))}},unescape:(m,f={})=>a.unescape(m,q(S,f)),escape:(m,f={})=>a.escape(m,q(S,f)),filter:(m,f={})=>a.filter(m,q(S,f)),defaults:m=>a.defaults(q(S,m)),makeRe:(m,f={})=>a.makeRe(m,q(S,f)),braceExpand:(m,f={})=>a.braceExpand(m,q(S,f)),match:(m,f,h={})=>a.match(m,f,q(S,h)),sep:a.sep,GLOBSTAR:r.GLOBSTAR})};r.defaults=Ot,r.minimatch.defaults=r.defaults;const St=(S,a={})=>((0,s.assertValidPattern)(S),a.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));r.braceExpand=St,r.minimatch.braceExpand=r.braceExpand;const lt=(S,a={})=>new Et(S,a).makeRe();r.makeRe=lt,r.minimatch.makeRe=r.makeRe;const V=(S,a,d={})=>{const m=new Et(a,d);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(a),S};r.match=V,r.minimatch.match=r.match;const pt=/[?*]|[+@!]\(.*?\)|\[|\]/,Se=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Et{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(a,d={}){(0,s.assertValidPattern)(a),d=d||{},this.options=d,this.pattern=a,this.platform=d.platform||z,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!d.windowsPathsNoEscape||d.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!d.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!d.nonegate,this.comment=!1,this.empty=!1,this.partial=!!d.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=d.windowsNoMagicRoot!==void 0?d.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const a of this.set)for(const d of a)if(typeof d!="string")return!0;return!1}debug(...a){}make(){const a=this.pattern,d=this.options;if(!d.nocomment&&a.charAt(0)==="#"){this.comment=!0;return}if(!a){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],d.debug&&(this.debug=(...h)=>console.error(...h)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(h=>this.slashSplit(h));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((h,u,E)=>{if(this.isWindows&&this.windowsNoMagicRoot){const C=h[0]===""&&h[1]===""&&(h[2]==="?"||!pt.test(h[2]))&&!pt.test(h[3]),M=/^[a-z]:/i.test(h[0]);if(C)return[...h.slice(0,4),...h.slice(4).map(j=>this.parse(j))];if(M)return[h[0],...h.slice(1).map(j=>this.parse(j))]}return h.map(C=>this.parse(C))});if(this.debug(this.pattern,f),this.set=f.filter(h=>h.indexOf(!1)===-1),this.isWindows)for(let h=0;h<this.set.length;h++){const u=this.set[h];u[0]===""&&u[1]===""&&this.globParts[h][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(a){if(this.options.noglobstar)for(let m=0;m<a.length;m++)for(let f=0;f<a[m].length;f++)a[m][f]==="**"&&(a[m][f]="*");const{optimizationLevel:d=1}=this.options;return d>=2?(a=this.firstPhasePreProcess(a),a=this.secondPhasePreProcess(a)):d>=1?a=this.levelOneOptimize(a):a=this.adjascentGlobstarOptimize(a),a}adjascentGlobstarOptimize(a){return a.map(d=>{let m=-1;for(;(m=d.indexOf("**",m+1))!==-1;){let f=m;for(;d[f+1]==="**";)f++;f!==m&&d.splice(m,f-m)}return d})}levelOneOptimize(a){return a.map(d=>(d=d.reduce((m,f)=>{const h=m[m.length-1];return f==="**"&&h==="**"?m:f===".."&&h&&h!==".."&&h!=="."&&h!=="**"?(m.pop(),m):(m.push(f),m)},[]),d.length===0?[""]:d))}levelTwoFileOptimize(a){Array.isArray(a)||(a=this.slashSplit(a));let d=!1;do{if(d=!1,!this.preserveMultipleSlashes){for(let f=1;f<a.length-1;f++){const h=a[f];f===1&&h===""&&a[0]===""||(h==="."||h==="")&&(d=!0,a.splice(f,1),f--)}a[0]==="."&&a.length===2&&(a[1]==="."||a[1]==="")&&(d=!0,a.pop())}let m=0;for(;(m=a.indexOf("..",m+1))!==-1;){const f=a[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(d=!0,a.splice(m-1,2),m-=2)}}while(d);return a.length===0?[""]:a}firstPhasePreProcess(a){let d=!1;do{d=!1;for(let m of a){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let E=m[f+1];const C=m[f+2],M=m[f+3];if(E!==".."||!C||C==="."||C===".."||!M||M==="."||M==="..")continue;d=!0,m.splice(f,1);const j=m.slice(0);j[f]="**",a.push(j),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const E=m[u];u===1&&E===""&&m[0]===""||(E==="."||E==="")&&(d=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(d=!0,m.pop())}let h=0;for(;(h=m.indexOf("..",h+1))!==-1;){const u=m[h-1];if(u&&u!=="."&&u!==".."&&u!=="**"){d=!0;const C=h===1&&m[h+1]==="**"?["."]:[];m.splice(h-1,2,...C),m.length===0&&m.push(""),h-=2}}}}while(d);return a}secondPhasePreProcess(a){for(let d=0;d<a.length-1;d++)for(let m=d+1;m<a.length;m++){const f=this.partsMatch(a[d],a[m],!this.preserveMultipleSlashes);f&&(a[d]=f,a[m]=[])}return a.filter(d=>d.length)}partsMatch(a,d,m=!1){let f=0,h=0,u=[],E="";for(;f<a.length&&h<d.length;)if(a[f]===d[h])u.push(E==="b"?d[h]:a[f]),f++,h++;else if(m&&a[f]==="**"&&d[h]===a[f+1])u.push(a[f]),f++;else if(m&&d[h]==="**"&&a[f]===d[h+1])u.push(d[h]),h++;else if(a[f]==="*"&&d[h]&&(this.options.dot||!d[h].startsWith("."))&&d[h]!=="**"){if(E==="b")return!1;E="a",u.push(a[f]),f++,h++}else if(d[h]==="*"&&a[f]&&(this.options.dot||!a[f].startsWith("."))&&a[f]!=="**"){if(E==="a")return!1;E="b",u.push(d[h]),f++,h++}else return!1;return a.length===d.length&&u}parseNegate(){if(this.nonegate)return;const a=this.pattern;let d=!1,m=0;for(let f=0;f<a.length&&a.charAt(f)==="!";f++)d=!d,m++;m&&(this.pattern=a.slice(m)),this.negate=d}matchOne(a,d,m=!1){const f=this.options;if(this.isWindows){const J=typeof a[0]=="string"&&/^[a-z]:$/i.test(a[0]),_e=!J&&a[0]===""&&a[1]===""&&a[2]==="?"&&/^[a-z]:$/i.test(a[3]),He=typeof d[0]=="string"&&/^[a-z]:$/i.test(d[0]),Js=!He&&d[0]===""&&d[1]===""&&d[2]==="?"&&typeof d[3]=="string"&&/^[a-z]:$/i.test(d[3]),Dt=_e?3:J?0:void 0,Tt=Js?3:He?0:void 0;if(typeof Dt=="number"&&typeof Tt=="number"){const[qe,Zs]=[a[Dt],d[Tt]];qe.toLowerCase()===Zs.toLowerCase()&&(d[Tt]=qe,Tt>Dt?d=d.slice(Tt):Dt>Tt&&(a=a.slice(Dt)))}}const{optimizationLevel:h=1}=this.options;h>=2&&(a=this.levelTwoFileOptimize(a)),this.debug("matchOne",this,{file:a,pattern:d}),this.debug("matchOne",a.length,d.length);for(var u=0,E=0,C=a.length,M=d.length;u<C&&E<M;u++,E++){this.debug("matchOne loop");var j=d[E],W=a[u];if(this.debug(d,j,W),j===!1)return!1;if(j===r.GLOBSTAR){this.debug("GLOBSTAR",[d,j,W]);var $=u,K=E+1;if(K===M){for(this.debug("** at the end");u<C;u++)if(a[u]==="."||a[u]===".."||!f.dot&&a[u].charAt(0)===".")return!1;return!0}for(;$<C;){var nt=a[$];if(this.debug(`
+globstar while`,a,$,d,K,nt),this.matchOne(a.slice($),d.slice(K),m))return this.debug("globstar found match!",$,C,nt),!0;if(nt==="."||nt===".."||!f.dot&&nt.charAt(0)==="."){this.debug("dot detected!",a,$,d,K);break}this.debug("globstar swallow a segment, and continue"),$++}return!!(m&&(this.debug(`
+>>> no match, partial?`,a,$,d,K),$===C))}let J;if(typeof j=="string"?(J=W===j,this.debug("string match",j,W,J)):(J=j.test(W),this.debug("pattern match",j,W,J)),!J)return!1}if(u===C&&E===M)return!0;if(u===C)return m;if(E===M)return u===C-1&&a[u]==="";throw new Error("wtf?")}braceExpand(){return(0,r.braceExpand)(this.pattern,this.options)}parse(a){(0,s.assertValidPattern)(a);const d=this.options;if(a==="**")return r.GLOBSTAR;if(a==="")return"";let m,f=null;(m=a.match(A))?f=d.dot?R:P:(m=a.match(l))?f=(d.nocase?d.dot?y:g:d.dot?b:p)(m[1]):(m=a.match(F))?f=(d.nocase?d.dot?D:k:d.dot?I:L)(m):(m=a.match(w))?f=d.dot?v:_:(m=a.match(T))&&(f=O);const h=i.AST.fromGlob(a,this.options).toMMPattern();return f?Object.assign(h,{test:f}):h}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const a=this.set;if(!a.length)return this.regexp=!1,this.regexp;const d=this.options,m=d.noglobstar?Pt:d.dot?Zt:Mt,f=new Set(d.nocase?["i"]:[]);let h=a.map(C=>{const M=C.map(j=>{if(j instanceof RegExp)for(const W of j.flags.split(""))f.add(W);return typeof j=="string"?Se(j):j===r.GLOBSTAR?r.GLOBSTAR:j._src});return M.forEach((j,W)=>{const $=M[W+1],K=M[W-1];j!==r.GLOBSTAR||K===r.GLOBSTAR||(K===void 0?$!==void 0&&$!==r.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+$:M[W]=m:$===void 0?M[W-1]=K+"(?:\\/|"+m+")?":$!==r.GLOBSTAR&&(M[W-1]=K+"(?:\\/|\\/"+m+"\\/)"+$,M[W+1]=r.GLOBSTAR))}),M.filter(j=>j!==r.GLOBSTAR).join("/")}).join("|");const[u,E]=a.length>1?["(?:",")"]:["",""];h="^"+u+h+E+"$",this.negate&&(h="^(?!"+h+").+$");try{this.regexp=new RegExp(h,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(a){return this.preserveMultipleSlashes?a.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(a)?["",...a.split(/\/+/)]:a.split(/\/+/)}match(a,d=this.partial){if(this.debug("match",a,this.pattern),this.comment)return!1;if(this.empty)return a==="";if(a==="/"&&d)return!0;const m=this.options;this.isWindows&&(a=a.split("\\").join("/"));const f=this.slashSplit(a);this.debug(this.pattern,"split",f);const h=this.set;this.debug(this.pattern,"set",h);let u=f[f.length-1];if(!u)for(let E=f.length-2;!u&&E>=0;E--)u=f[E];for(let E=0;E<h.length;E++){const C=h[E];let M=f;if(m.matchBase&&C.length===1&&(M=[u]),this.matchOne(M,C,d))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(a){return r.minimatch.defaults(a).Minimatch}}r.Minimatch=Et;var Ee=jt;Object.defineProperty(r,"AST",{enumerable:!0,get:function(){return Ee.AST}});var ve=kt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return ve.escape}});var Xt=Rt;Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return Xt.unescape}}),r.minimatch.AST=i.AST,r.minimatch.Minimatch=Et,r.minimatch.escape=n.escape,r.minimatch.unescape=o.unescape}(mt);var Nt={},B={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.LRUCache=void 0;const Bt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,us=new Set,Ae=typeof process=="object"&&process?process:{},ds=(r,t,e,s)=>{typeof Ae.emitWarning=="function"?Ae.emitWarning(r,t,e,s):console.error(`[${e}] ${t}: ${r}`)};let re=globalThis.AbortController,ps=globalThis.AbortSignal;if(typeof re>"u"){ps=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,i){this._onabort.push(i)}},re=class{constructor(){t()}signal=new ps;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const i of this.signal._onabort)i(s);this.signal.onabort?.(s)}}};let r=Ae.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{r&&(r=!1,ds("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Oi=r=>!us.has(r),gt=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),ms=r=>gt(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?ne:null:null;class ne extends Array{constructor(t){super(t),this.fill(0)}}class Ct{heap;length;static#t=!1;static create(t){const e=ms(t);if(!e)return[];Ct.#t=!0;const s=new Ct(t,e);return Ct.#t=!1,s}constructor(t,e){if(!Ct.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class xe{#t;#s;#n;#i;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#h;#e;#m;#w;#d;#u;#y;#g;#C;#P;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#P,ttls:t.#O,sizes:t.#C,keyMap:t.#a,keyList:t.#h,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,i,n)=>t.#F(e,s,i,n),moveToTail:e=>t.#j(e),indexes:e=>t.#_(e),rindexes:e=>t.#A(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#o}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:c,allowStale:l,dispose:p,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:v,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:R,ignoreFetchAbort:F}=t;if(e!==0&&!gt(e))throw new TypeError("max option must be a nonnegative integer");const k=e?ms(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=v,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=T,this.#R=!!T,this.#a=new Map,this.#h=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Ct.create(e),this.#l=0,this.#f=0,typeof p=="function"&&(this.#n=p),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#n,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!P,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!F,this.maxEntrySize!==0){if(this.#s!==0&&!gt(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!gt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#D()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!c,this.ttlResolution=gt(i)||i===0?i:1,this.ttlAutopurge=!!n,this.ttl=s||0,this.ttl){if(!gt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const D="LRU_CACHE_UNBOUNDED";Oi(D)&&(us.add(D),ds("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,xe))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new ne(this.#t),e=new ne(this.#t);this.#O=t,this.#P=e,this.#r=(n,o,c=Bt.now())=>{if(e[n]=o!==0?c:0,t[n]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{this.#b(n)&&this.delete(this.#h[n])},o+1);l.unref&&l.unref()}},this.#T=n=>{e[n]=t[n]!==0?Bt.now():0},this.#E=(n,o)=>{if(t[o]){const c=t[o],l=e[o];n.ttl=c,n.start=l,n.now=s||i();const p=n.now-l;n.remainingTTL=c-p}};let s=0;const i=()=>{const n=Bt.now();if(this.ttlResolution>0){s=n;const o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{const o=this.#a.get(n);if(o===void 0)return 0;const c=t[o],l=e[o];if(c===0||l===0)return 1/0;const p=(s||i())-l;return c-p},this.#b=n=>t[n]!==0&&e[n]!==0&&(s||i())-e[n]>t[n]}#T=()=>{};#E=()=>{};#r=()=>{};#b=()=>!1;#D(){const t=new ne(this.#t);this.#f=0,this.#C=t,this.#v=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,i,n)=>{if(this.#c(s))return 0;if(!gt(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(s,e),!gt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#k=(e,s,i)=>{if(t[e]=s,this.#s){const n=this.#s-t[e];for(;this.#f>n;)this.#L(!0)}this.#f+=t[e],i&&(i.entrySize=s,i.totalCalculatedSize=this.#f)}}#v=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#A({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#h[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*rentries(){for(const t of this.#A())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#A()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#A())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;if(n!==void 0&&t(n,this.#h[s],this))return this.get(this.#h[s],e)}}forEach(t,e=this){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}rforEach(t,e=this){for(const s of this.#A()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}purgeStale(){let t=!1;for(const e of this.#A({allowStale:!0}))this.#b(e)&&(this.delete(this.#h[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#h[e],i=this.#e[e],n=this.#c(i)?i.__staleWhileFetching:i;if(n===void 0||s===void 0)continue;const o={value:n};if(this.#O&&this.#P){o.ttl=this.#O[e];const c=Bt.now()-this.#P[e];o.start=Math.floor(Date.now()-c)}this.#C&&(o.size=this.#C[e]),t.unshift([s,o])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const i=Date.now()-s.start;s.start=Bt.now()-i}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:l}=s;let{noUpdateTTL:p=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,c);if(this.maxEntrySize&&b>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#h[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,l),l&&(l.set="add"),p=!1;else{this.#j(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):o||(this.#S&&this.#n?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#v(g),this.#k(g,b,l),this.#e[g]=e,l){l.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(l.oldValue=w)}}else l&&(l.set="update")}if(i!==0&&!this.#O&&this.#M(),this.#O&&(p||this.#r(g,i,n),l&&this.#E(l,g)),!o&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#h[e],i=this.#e[e];return this.#R&&this.#c(i)?i.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,s,"evict"),this.#p&&this.#g?.push([i,s,"evict"])),this.#v(e),t&&(this.#h[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=e,n=this.#a.get(t);if(n!==void 0){const o=this.#e[n];if(this.#c(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(n))i&&(i.has="stale",this.#E(i,n));else return s&&this.#T(n),i&&(i.has="hit",this.#E(i,n)),!0}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,i=this.#a.get(t);if(i!==void 0&&(s||!this.#b(i))){const n=this.#e[i];return this.#c(n)?n.__staleWhileFetching:n}}#F(t,e,s,i){const n=e===void 0?void 0:this.#e[e];if(this.#c(n))return n;const o=new re,{signal:c}=s;c?.addEventListener("abort",()=>o.abort(c.reason),{signal:o.signal});const l={signal:o.signal,options:s,context:i},p=(v,T=!1)=>{const{aborted:O}=o.signal,A=s.ignoreFetchAbort&&v!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,A&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!A&&!T)return g(o.signal.reason);const P=w;return this.#e[e]===w&&(v===void 0?P.__staleWhileFetching?this.#e[e]=P.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,v,l.options))),v},b=v=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=v),g(v)),g=v=>{const{aborted:T}=o.signal,O=T&&s.allowStaleOnFetchAbort,A=O||s.allowStaleOnFetchRejection,P=A||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!P||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),A)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw v},y=(v,T)=>{const O=this.#o?.(t,n,l);O&&O instanceof Promise&&O.then(A=>v(A===void 0?void 0:A),T),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(v(void 0),s.allowStaleOnFetchAbort&&(v=A=>p(A,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(p,b),_=Object.assign(w,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,_,{...l.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof re}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:v,forceRefresh:T=!1,status:O,signal:A}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:O});const P={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:c,size:l,sizeCalculation:p,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:A};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const F=this.#F(t,R,P,v);return F.__returned=F}else{const F=this.#e[R];if(this.#c(F)){const st=s&&F.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",st&&(O.returnedStale=!0)),st?F.__staleWhileFetching:F.__returned=F}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#j(R),i&&this.#T(R),O&&this.#E(O,R),F;const D=this.#F(t,R,P,v),L=D.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?D.__staleWhileFetching:D.__returned=D}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,c=this.#a.get(t);if(c!==void 0){const l=this.#e[c],p=this.#c(l);return o&&this.#E(o,c),this.#b(c)?(o&&(o.get="stale"),p?(o&&s&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?l.__staleWhileFetching:void 0):(n||this.delete(t),o&&s&&(o.returnedStale=!0),s?l:void 0)):(o&&(o.get="hit"),p?l.__staleWhileFetching:(this.#j(c),i&&this.#T(c),l))}else o&&(o.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#j(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#v(s);const i=this.#e[s];this.#c(i)?i.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,t,"delete"),this.#p&&this.#g?.push([i,t,"delete"])),this.#a.delete(t),this.#h[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let i;for(;i=s?.shift();)this.#i?.(...i)}return e}clear(){for(const t of this.#A({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#h[t];this.#S&&this.#n?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#h.fill(void 0),this.#O&&this.#P&&(this.#O.fill(0),this.#P.fill(0)),this.#C&&this.#C.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}ie.LRUCache=xe;var gs={};(function(r){var t=it&&it.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(r,"__esModule",{value:!0}),r.Minipass=r.isWritable=r.isReadable=r.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=Ke,i=t(Je),n=Ze,o=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof i.default||(0,r.isReadable)(f)||(0,r.isWritable)(f));r.isStream=o;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==i.default.Writable.prototype.pipe;r.isReadable=c;const l=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";r.isWritable=l;const p=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),v=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),A=Symbol("encoding"),P=Symbol("decoder"),R=Symbol("flowing"),F=Symbol("paused"),k=Symbol("resume"),D=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),st=Symbol("bufferPush"),yt=Symbol("bufferShift"),z=Symbol("objectMode"),N=Symbol("destroyed"),Jt=Symbol("error"),Pt=Symbol("emitData"),Zt=Symbol("emitEnd"),Mt=Symbol("emitEnd2"),Q=Symbol("async"),q=Symbol("abort"),Ot=Symbol("aborted"),St=Symbol("signal"),lt=Symbol("dataListeners"),V=Symbol("discarded"),pt=f=>Promise.resolve().then(f),Se=f=>f(),Et=f=>f==="end"||f==="finish"||f==="prefinish",Ee=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,ve=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class Xt{src;dest;opts;ondrain;constructor(h,u,E){this.src=h,this.dest=u,this.opts=E,this.ondrain=()=>h[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(h){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends Xt{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(h,u,E){super(h,u,E),this.proxyErrors=C=>u.emit("error",C),h.on("error",this.proxyErrors)}}const a=f=>!!f.objectMode,d=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[F]=!1;[I]=[];[D]=[];[z];[A];[Q];[P];[p]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[St];[Ot]=!1;[lt]=0;[V]=!1;writable=!0;readable=!0;constructor(...h){const u=h[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");a(u)?(this[z]=!0,this[A]=null):d(u)?(this[A]=u.encoding,this[z]=!1):(this[z]=!1,this[A]=null),this[Q]=!!u.async,this[P]=this[A]?new n.StringDecoder(this[A]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[D]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:E}=u;E&&(this[St]=E,E.aborted?this[q]():E.addEventListener("abort",()=>this[q]()))}get bufferLength(){return this[L]}get encoding(){return this[A]}set encoding(h){throw new Error("Encoding must be set at instantiation time")}setEncoding(h){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[z]}set objectMode(h){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Q]}set async(h){this[Q]=this[Q]||!!h}[q](){this[Ot]=!0,this.emit("abort",this[St]?.reason),this.destroy(this[St]?.reason)}get aborted(){return this[Ot]}set aborted(h){}write(h,u,E){if(this[Ot])return!1;if(this[p])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(E=u,u="utf8"),u||(u="utf8");const C=this[Q]?pt:Se;if(!this[z]&&!Buffer.isBuffer(h)){if(ve(h))h=Buffer.from(h.buffer,h.byteOffset,h.byteLength);else if(Ee(h))h=Buffer.from(h);else if(typeof h!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[z]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):h.length?(typeof h=="string"&&!(u===this[A]&&!this[P]?.lastNeed)&&(h=Buffer.from(h,u)),Buffer.isBuffer(h)&&this[A]&&(h=this[P].write(h)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):(this[L]!==0&&this.emit("readable"),E&&C(E),this[R])}read(h){if(this[N])return null;if(this[V]=!1,this[L]===0||h===0||h&&h>this[L])return this[b](),null;this[z]&&(h=null),this[D].length>1&&!this[z]&&(this[D]=[this[A]?this[D].join(""):Buffer.concat(this[D],this[L])]);const u=this[v](h||null,this[D][0]);return this[b](),u}[v](h,u){if(this[z])this[yt]();else{const E=u;h===E.length||h===null?this[yt]():typeof E=="string"?(this[D][0]=E.slice(h),u=E.slice(0,h),this[L]-=h):(this[D][0]=E.subarray(h),u=E.subarray(0,h),this[L]-=h)}return this.emit("data",u),!this[D].length&&!this[p]&&this.emit("drain"),u}end(h,u,E){return typeof h=="function"&&(E=h,h=void 0),typeof u=="function"&&(E=u,u="utf8"),h!==void 0&&this.write(h,u),E&&this.once("end",E),this[p]=!0,this.writable=!1,(this[R]||!this[F])&&this[b](),this}[k](){this[N]||(!this[lt]&&!this[I].length&&(this[V]=!0),this[F]=!1,this[R]=!0,this.emit("resume"),this[D].length?this[T]():this[p]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[F]=!0,this[V]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[F]}[st](h){this[z]?this[L]+=1:this[L]+=h.length,this[D].push(h)}[yt](){return this[z]?this[L]-=1:this[L]-=this[D][0].length,this[D].shift()}[T](h=!1){do;while(this[O](this[yt]())&&this[D].length);!h&&!this[D].length&&!this[p]&&this.emit("drain")}[O](h){return this.emit("data",h),this[R]}pipe(h,u){if(this[N])return h;this[V]=!1;const E=this[g];return u=u||{},h===e.stdout||h===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,E?u.end&&h.end():(this[I].push(u.proxyErrors?new S(this,h,u):new Xt(this,h,u)),this[Q]?pt(()=>this[k]()):this[k]()),h}unpipe(h){const u=this[I].find(E=>E.dest===h);u&&(this[I].length===1?(this[R]&&this[lt]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(h,u){return this.on(h,u)}on(h,u){const E=super.on(h,u);if(h==="data")this[V]=!1,this[lt]++,!this[I].length&&!this[R]&&this[k]();else if(h==="readable"&&this[L]!==0)super.emit("readable");else if(Et(h)&&this[g])super.emit(h),this.removeAllListeners(h);else if(h==="error"&&this[w]){const C=u;this[Q]?pt(()=>C.call(this,this[w])):C.call(this,this[w])}return E}removeListener(h,u){return this.off(h,u)}off(h,u){const E=super.off(h,u);return h==="data"&&(this[lt]=this.listeners("data").length,this[lt]===0&&!this[V]&&!this[I].length&&(this[R]=!1)),E}removeAllListeners(h){const u=super.removeAllListeners(h);return(h==="data"||h===void 0)&&(this[lt]=0,!this[V]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[D].length===0&&this[p]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(h,...u){const E=u[0];if(h!=="error"&&h!=="close"&&h!==N&&this[N])return!1;if(h==="data")return!this[z]&&!E?!1:this[Q]?(pt(()=>this[Pt](E)),!0):this[Pt](E);if(h==="end")return this[Zt]();if(h==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(h==="error"){this[w]=E,super.emit(Jt,E);const M=!this[St]||this.listeners("error").length?super.emit("error",E):!1;return this[b](),M}else if(h==="resume"){const M=super.emit("resume");return this[b](),M}else if(h==="finish"||h==="prefinish"){const M=super.emit(h);return this.removeAllListeners(h),M}const C=super.emit(h,...u);return this[b](),C}[Pt](h){for(const E of this[I])E.dest.write(h)===!1&&this.pause();const u=this[V]?!1:super.emit("data",h);return this[b](),u}[Zt](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[Q]?(pt(()=>this[Mt]()),!0):this[Mt]())}[Mt](){if(this[P]){const u=this[P].end();if(u){for(const E of this[I])E.dest.write(u);this[V]||super.emit("data",u)}}for(const u of this[I])u.end();const h=super.emit("end");return this.removeAllListeners("end"),h}async collect(){const h=Object.assign([],{dataLength:0});this[z]||(h.dataLength=0);const u=this.promise();return this.on("data",E=>{h.push(E),this[z]||(h.dataLength+=E.length)}),await u,h}async concat(){if(this[z])throw new Error("cannot concat in objectMode");const h=await this.collect();return this[A]?h.join(""):Buffer.concat(h,h.dataLength)}async promise(){return new Promise((h,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",E=>u(E)),this.on("end",()=>h())})}[Symbol.asyncIterator](){this[V]=!1;let h=!1;const u=async()=>(this.pause(),h=!0,{value:void 0,done:!0});return{next:()=>{if(h)return u();const C=this.read();if(C!==null)return Promise.resolve({done:!1,value:C});if(this[p])return u();let M,j;const W=J=>{this.off("data",$),this.off("end",K),this.off(N,nt),u(),j(J)},$=J=>{this.off("error",W),this.off("end",K),this.off(N,nt),this.pause(),M({value:J,done:!!this[p]})},K=()=>{this.off("error",W),this.off("data",$),this.off(N,nt),u(),M({done:!0,value:void 0})},nt=()=>W(new Error("stream destroyed"));return new Promise((J,_e)=>{j=_e,M=J,this.once(N,nt),this.once("error",W),this.once("end",K),this.once("data",$)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[V]=!1;let h=!1;const u=()=>(this.pause(),this.off(Jt,u),this.off(N,u),this.off("end",u),h=!0,{done:!0,value:void 0}),E=()=>{if(h)return u();const C=this.read();return C===null?u():{done:!1,value:C}};return this.once("end",u),this.once(Jt,u),this.once(N,u),{next:E,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(h){if(this[N])return h?this.emit("error",h):this.emit(N),this;this[N]=!0,this[V]=!0,this[D].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),h?this.emit("error",h):this.emit(N),this}static get isStream(){return r.isStream}}r.Minipass=m})(gs);var Ti=it&&it.__createBinding||(Object.create?function(r,t,e,s){s===void 0&&(s=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,s,i)}:function(r,t,e,s){s===void 0&&(s=e),r[s]=t[e]}),Ri=it&&it.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Ai=it&&it.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&Ti(t,r,e);return Ri(t,r),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const ws=ie,he=Xs,Ci=Ve,Pi=Ai(Ye),It=Ye,Mi=It.realpathSync.native,oe=Qs,bs=gs,Wt={lstatSync:It.lstatSync,readdir:It.readdir,readdirSync:It.readdirSync,readlinkSync:It.readlinkSync,realpathSync:Mi,promises:{lstat:oe.lstat,readdir:oe.readdir,readlink:oe.readlink,realpath:oe.realpath}},ys=r=>!r||r===Wt||r===Pi?Wt:{...Wt,...r,promises:{...Wt.promises,...r.promises||{}}},Ss=/^\\\\\?\\([a-z]:)\\?$/i,Di=r=>r.replace(/\//g,"\\").replace(Ss,"$1\\"),Li=/[\\\/]/,tt=0,Es=1,vs=2,ht=4,_s=6,Os=8,vt=10,Ts=12,et=15,Gt=~et,Ce=16,Rs=32,xt=64,rt=128,ae=256,le=512,As=xt|rt|le,ji=1023,Pe=r=>r.isFile()?Os:r.isDirectory()?ht:r.isSymbolicLink()?vt:r.isCharacterDevice()?vs:r.isBlockDevice()?_s:r.isSocket()?Ts:r.isFIFO()?Es:tt,Cs=new Map,$t=r=>{const t=Cs.get(r);if(t)return t;const e=r.normalize("NFKD");return Cs.set(r,e),e},Ps=new Map,ce=r=>{const t=Ps.get(r);if(t)return t;const e=$t(r.toLowerCase());return Ps.set(r,e),e};class Me extends ws.LRUCache{constructor(){super({max:256})}}B.ResolveCache=Me;class Ms extends ws.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=Ms;const Ds=Symbol("PathScurry setAsCwd");class Y{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#n;get mode(){return this.#n}#i;get nlink(){return this.#i}#o;get uid(){return this.#o}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#h;get ino(){return this.#h}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#C;get mtime(){return this.#C}#P;get ctime(){return this.#P}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#E;#r;#b;#D;#v;get path(){return(this.parent||this).fullpath()}constructor(t,e=tt,s,i,n,o,c){this.name=t,this.#S=n?ce(t):$t(t),this.#r=e&ji,this.nocase=n,this.roots=i,this.root=s||this,this.#b=o,this.#p=c.fullpath,this.#T=c.relative,this.#E=c.relativePosix,this.parent=c.parent,this.parent?this.#t=this.parent.#t:this.#t=ys(c.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(i):this.#k(i)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#r&=~Ce,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),i=this.nocase?ce(t):$t(t);for(const l of s)if(l.#S===i)return l;const n=this.parent?this.sep:"",o=this.#p?this.#p+n+t:void 0,c=this.newChild(t,tt,{...e,parent:this,fullpath:o});return this.canReaddir()||(c.#r|=rt),s.push(c),c}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#E!==void 0)return this.#E;const t=this.name,e=this.parent;if(!e)return this.#E=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=i}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#M=`//?/${i}`:this.#M=i}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#r&et)===tt}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&et)===Os}isDirectory(){return(this.#r&et)===ht}isCharacterDevice(){return(this.#r&et)===vs}isBlockDevice(){return(this.#r&et)===_s}isFIFO(){return(this.#r&et)===Es}isSocket(){return(this.#r&et)===Ts}isSymbolicLink(){return(this.#r&vt)===vt}lstatCached(){return this.#r&Rs?this:void 0}readlinkCached(){return this.#D}realpathCached(){return this.#v}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#D)return!0;if(!this.parent)return!1;const t=this.#r&et;return!(t!==tt&&t!==vt||this.#r&ae||this.#r&rt)}calledReaddir(){return!!(this.#r&Ce)}isENOENT(){return!!(this.#r&rt)}isNamed(t){return this.nocase?this.#S===ce(t):this.#S===$t(t)}async readlink(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}#N(t){this.#r|=Ce;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#r&rt||(this.#r=(this.#r|rt)&Gt,this.#A())}#A(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#r|=le,this.#L()}#L(){if(this.#r&xt)return;let t=this.#r;(t&et)===ht&&(t&=Gt),this.#r=t|xt,this.#A()}#F(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#r;e|=ae,t==="ENOENT"&&(e|=rt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Gt),this.#r=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#j(t,e){return this.#U(t,e)||this.#z(t,e)}#z(t,e){const s=Pe(t),i=this.newChild(t.name,s,{parent:this}),n=i.#r&et;return n!==ht&&n!==vt&&n!==tt&&(i.#r|=xt),e.unshift(i),e.provisional++,i}#U(t,e){for(let s=e.provisional;s<e.length;s++){const i=e[s];if((this.nocase?ce(t.name):$t(t.name))===i.#S)return this.#H(t,i,s,e)}}#H(t,e,s,i){const n=e.name;return e.#r=e.#r&Gt|Pe(t),n!==t.name&&(e.name=t.name),s!==i.provisional&&(s===i.length-1?i.pop():i.splice(s,1),i.unshift(e)),i.provisional++,e}async lstat(){if(!(this.#r&rt))try{return this.#$(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#r&rt))try{return this.#$(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#$(t){const{atime:e,atimeMs:s,birthtime:i,birthtimeMs:n,blksize:o,blocks:c,ctime:l,ctimeMs:p,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:v,nlink:T,rdev:O,size:A,uid:P}=t;this.#g=e,this.#w=s,this.#O=i,this.#y=n,this.#a=o,this.#m=c,this.#P=l,this.#u=p,this.#s=b,this.#l=g,this.#h=y,this.#n=w,this.#C=_,this.#d=v,this.#i=T,this.#f=O,this.#e=A,this.#o=P;const R=Pe(t);this.#r=this.#r&Gt|R|Rs,R!==tt&&R!==ht&&R!==vt&&(this.#r|=xt)}#G=[];#x=!1;#q(t){this.#x=!1;const e=this.#G.slice();this.#G.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const n=s.slice(0,s.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#G.push(t),this.#x)return;this.#x=!0;const i=this.fullpath();this.#t.readdir(i,{withFileTypes:!0},(n,o)=>{if(n)this.#F(n.code),s.provisional=0;else{for(const c of o)this.#j(c,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(i=>s=i);try{for(const i of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#j(i,t);this.#N(t)}catch(i){this.#F(i.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#j(s,t);this.#N(t)}catch(s){this.#F(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#r&As)return!1;const t=et&this.#r;return t===tt||t===ht||t===vt}shouldWalk(t,e){return(this.#r&ht)===ht&&!(this.#r&As)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=this.#t.realpathSync(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}[Ds](t){if(t===this)return;const e=new Set([]);let s=[],i=this;for(;i&&i.parent;)e.add(i),i.#T=s.join(this.sep),i.#E=s.join("/"),i=i.parent,s.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#T=void 0,i.#E=void 0,i=i.parent}}B.PathBase=Y;class Yt extends Y{sep="\\";splitSep=Li;constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}newChild(t,e=tt,s={}){return new Yt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return he.win32.parse(t).root}getRoot(t){if(t=Di(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Le(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Ss,"$1\\"),t===e}}B.PathWin32=Yt;class Kt extends Y{splitSep="/";sep="/";constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=tt,s={}){return new Kt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=Kt;class De{root;rootPath;roots;cwd;#t;#s;#n;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:i,childrenCacheSize:n=16*1024,fs:o=Wt}={}){this.#i=ys(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Ci.fileURLToPath)(t));const c=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(c),this.#t=new Me,this.#s=new Me,this.#n=new Ms(n);const l=c.substring(this.rootPath.length).split(s);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let p=this.root,b=l.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of l){const v=b--;p=p.child(_,{relative:new Array(v).fill("..").join(g),relativePosix:new Array(v).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=p}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#n}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#t.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpath();return this.#t.set(e,i),i}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#s.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,i),i}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const i=await t.readdir();return s?i:i.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(i=>i.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set,p=(g,y)=>{l.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let v=_.length;if(!v)return y();const T=()=>{--v===0&&y()};for(const O of _)(!n||n(O))&&c.push(s?O:O.fullpath()),i&&O.isSymbolicLink()?O.realpath().then(A=>A?.isUnknown()?A.lstat():A).then(A=>A?.shouldWalk(l,o)?p(A,T):T()):O.shouldWalk(l,o)?p(O,T):T()},!0)},b=t;return new Promise((g,y)=>{p(b,w=>{if(w)return y(w);g(c)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set([t]);for(const p of l){const b=p.readdirSync();for(const g of b){(!n||n(g))&&c.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(i&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(l,o)&&l.add(y)}}return c}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield s?t:t.fullpath());const c=new Set([t]);for(const l of c){const p=l.readdirSync();for(const b of p){(!n||n(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(i&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(c,o)&&c.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0});(!n||n(t))&&c.write(s?t:t.fullpath());const l=new Set,p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=(T,O,A=!1)=>{if(T)return c.emit("error",T);if(i&&!A){const P=[];for(const R of O)R.isSymbolicLink()&&P.push(R.realpath().then(F=>F?.isUnknown()?F.lstat():F));if(P.length){Promise.all(P).then(()=>_(null,O,!0));return}}for(const P of O)P&&(!n||n(P))&&(c.write(s?P:P.fullpath())||(y=!0));b--;for(const P of O){const R=P.realpathCached()||P;R.shouldWalk(l,o)&&p.push(R)}y&&!c.flowing?c.once("drain",g):v||g()};let v=!0;w.readdirCB(_,!0),v=!1}};return g(),c}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0}),l=new Set;(!n||n(t))&&c.write(s?t:t.fullpath());const p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=w.readdirSync();for(const v of _)(!n||n(v))&&(c.write(s?v:v.fullpath())||(y=!0));b--;for(const v of _){let T=v;if(v.isSymbolicLink()){if(!(i&&(T=v.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(l,o)&&p.push(T)}}y&&!c.flowing&&c.once("drain",g)};return g(),c}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[Ds](e)}}B.PathScurryBase=De;class Le extends De{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,he.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(t){return he.win32.parse(t).root.toUpperCase()}newRoot(t){return new Yt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Le;class je extends De{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,he.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Kt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=je;class Ls extends je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=Ls,B.Path=process.platform==="win32"?Yt:Kt,B.PathScurry=process.platform==="win32"?Le:process.platform==="darwin"?Ls:je;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.Pattern=void 0;const Fi=mt,ki=r=>r.length>=1,Ni=r=>r.length>=1;class $e{#t;#s;#n;length;#i;#o;#l;#f;#a;#h;#e=!0;constructor(t,e,s,i){if(!ki(t))throw new TypeError("empty pattern list");if(!Ni(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#n=s,this.#i=i,this.#n===0){if(this.isUNC()){const[n,o,c,l,...p]=this.#t,[b,g,y,w,..._]=this.#s;p[0]===""&&(p.shift(),_.shift());const v=[n,o,c,l,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[v,...p],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[n,...o]=this.#t,[c,...l]=this.#s;o[0]===""&&(o.shift(),l.shift());const p=n+"/",b=c+"/";this.#t=[p,...o],this.#s=[b,...l],this.length=this.#t.length}}}pattern(){return this.#t[this.#n]}isString(){return typeof this.#t[this.#n]=="string"}isGlobstar(){return this.#t[this.#n]===Fi.GLOBSTAR}isRegExp(){return this.#t[this.#n]instanceof RegExp}globString(){return this.#l=this.#l||(this.#n===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new $e(this.#t,this.#s,this.#n+1,this.#i),this.#o.#h=this.#h,this.#o.#a=this.#a,this.#o.#f=this.#f,this.#o):this.#o=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#n===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#n===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#h!==void 0?this.#h:this.#h=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#n===0?t:""}checkFollowGlobstar(){return!(this.#n===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#n===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}zt.Pattern=$e;var wt={},js={};const Fs=typeof process=="object"&&process?process:{stdout:null,stderr:null},Bi=Ke,ks=Je,Ii=Ze,Ns=Ii.StringDecoder,ct=Symbol("EOF"),ft=Symbol("maybeEmitEnd"),bt=Symbol("emittedEnd"),fe=Symbol("emittingEnd"),Ut=Symbol("emittedError"),ue=Symbol("closed"),Bs=Symbol("read"),de=Symbol("flush"),Is=Symbol("flushChunk"),Z=Symbol("encoding"),ut=Symbol("decoder"),pe=Symbol("flowing"),Ht=Symbol("paused"),At=Symbol("resume"),G=Symbol("buffer"),ot=Symbol("pipes"),U=Symbol("bufferLength"),Fe=Symbol("bufferPush"),ke=Symbol("bufferShift"),H=Symbol("objectMode"),x=Symbol("destroyed"),Ne=Symbol("error"),Be=Symbol("emitData"),Ws=Symbol("emitEnd"),Ie=Symbol("emitEnd2"),dt=Symbol("async"),We=Symbol("abort"),me=Symbol("aborted"),_t=Symbol("signal"),qt=r=>Promise.resolve().then(r),Gs=it._MP_NO_ITERATOR_SYMBOLS_!=="1",xs=Gs&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$s=Gs&&Symbol.iterator||Symbol("iterator not implemented"),Wi=r=>r==="end"||r==="finish"||r==="prefinish",Gi=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,xi=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r);class zs{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[At](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class $i extends zs{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=i=>e.emit("error",i),t.on("error",this.proxyErrors)}}class ze extends ks{constructor(t){super(),this[pe]=!1,this[Ht]=!1,this[ot]=[],this[G]=[],this[H]=t&&t.objectMode||!1,this[H]?this[Z]=null:this[Z]=t&&t.encoding||null,this[Z]==="buffer"&&(this[Z]=null),this[dt]=t&&!!t.async||!1,this[ut]=this[Z]?new Ns(this[Z]):null,this[ct]=!1,this[bt]=!1,this[fe]=!1,this[ue]=!1,this[Ut]=null,this.writable=!0,this.readable=!0,this[U]=0,this[x]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[G]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ot]}),this[_t]=t&&t.signal,this[me]=!1,this[_t]&&(this[_t].addEventListener("abort",()=>this[We]()),this[_t].aborted&&this[We]())}get bufferLength(){return this[U]}get encoding(){return this[Z]}set encoding(t){if(this[H])throw new Error("cannot set encoding in objectMode");if(this[Z]&&t!==this[Z]&&(this[ut]&&this[ut].lastNeed||this[U]))throw new Error("cannot change encoding");this[Z]!==t&&(this[ut]=t?new Ns(t):null,this[G].length&&(this[G]=this[G].map(e=>this[ut].write(e)))),this[Z]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[H]}set objectMode(t){this[H]=this[H]||!!t}get async(){return this[dt]}set async(t){this[dt]=this[dt]||!!t}[We](){this[me]=!0,this.emit("abort",this[_t].reason),this.destroy(this[_t].reason)}get aborted(){return this[me]}set aborted(t){}write(t,e,s){if(this[me])return!1;if(this[ct])throw new Error("write after end");if(this[x])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const i=this[dt]?qt:n=>n();return!this[H]&&!Buffer.isBuffer(t)&&(xi(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gi(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[H]?(this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[Z]&&!this[ut].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[Z]&&(t=this[ut].write(t)),this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):(this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing)}read(t){if(this[x])return null;if(this[U]===0||t===0||t>this[U])return this[ft](),null;this[H]&&(t=null),this[G].length>1&&!this[H]&&(this.encoding?this[G]=[this[G].join("")]:this[G]=[Buffer.concat(this[G],this[U])]);const e=this[Bs](t||null,this[G][0]);return this[ft](),e}[Bs](t,e){return t===e.length||t===null?this[ke]():(this[G][0]=e.slice(t),e=e.slice(0,t),this[U]-=t),this.emit("data",e),!this[G].length&&!this[ct]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[ct]=!0,this.writable=!1,(this.flowing||!this[Ht])&&this[ft](),this}[At](){this[x]||(this[Ht]=!1,this[pe]=!0,this.emit("resume"),this[G].length?this[de]():this[ct]?this[ft]():this.emit("drain"))}resume(){return this[At]()}pause(){this[pe]=!1,this[Ht]=!0}get destroyed(){return this[x]}get flowing(){return this[pe]}get paused(){return this[Ht]}[Fe](t){this[H]?this[U]+=1:this[U]+=t.length,this[G].push(t)}[ke](){return this[H]?this[U]-=1:this[U]-=this[G][0].length,this[G].shift()}[de](t){do;while(this[Is](this[ke]())&&this[G].length);!t&&!this[G].length&&!this[ct]&&this.emit("drain")}[Is](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[x])return;const s=this[bt];return e=e||{},t===Fs.stdout||t===Fs.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ot].push(e.proxyErrors?new $i(this,t,e):new zs(this,t,e)),this[dt]?qt(()=>this[At]()):this[At]()),t}unpipe(t){const e=this[ot].find(s=>s.dest===t);e&&(this[ot].splice(this[ot].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ot].length&&!this.flowing?this[At]():t==="readable"&&this[U]!==0?super.emit("readable"):Wi(t)&&this[bt]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Ut]&&(this[dt]?qt(()=>e.call(this,this[Ut])):e.call(this,this[Ut])),s}get emittedEnd(){return this[bt]}[ft](){!this[fe]&&!this[bt]&&!this[x]&&this[G].length===0&&this[ct]&&(this[fe]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ue]&&this.emit("close"),this[fe]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==x&&this[x])return;if(t==="data")return!this[H]&&!e?!1:this[dt]?qt(()=>this[Be](e)):this[Be](e);if(t==="end")return this[Ws]();if(t==="close"){if(this[ue]=!0,!this[bt]&&!this[x])return;const n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[Ut]=e,super.emit(Ne,e);const n=!this[_t]||this.listeners("error").length?super.emit("error",e):!1;return this[ft](),n}else if(t==="resume"){const n=super.emit("resume");return this[ft](),n}else if(t==="finish"||t==="prefinish"){const n=super.emit(t);return this.removeAllListeners(t),n}const i=super.emit(t,e,...s);return this[ft](),i}[Be](t){for(const s of this[ot])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[ft](),e}[Ws](){this[bt]||(this[bt]=!0,this.readable=!1,this[dt]?qt(()=>this[Ie]()):this[Ie]())}[Ie](){if(this[ut]){const e=this[ut].end();if(e){for(const s of this[ot])s.dest.write(e);super.emit("data",e)}}for(const e of this[ot])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[H]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[H]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[H]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[H]?Promise.reject(new Error("cannot concat in objectMode")):this[Z]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(x,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[xs](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[ct])return e();let n=null,o=null;const c=g=>{this.removeListener("data",l),this.removeListener("end",p),this.removeListener(x,b),e(),o(g)},l=g=>{this.removeListener("error",c),this.removeListener("end",p),this.removeListener(x,b),this.pause(),n({value:g,done:!!this[ct]})},p=()=>{this.removeListener("error",c),this.removeListener("data",l),this.removeListener(x,b),e(),n({done:!0})},b=()=>c(new Error("stream destroyed"));return new Promise((g,y)=>{o=y,n=g,this.once(x,b),this.once("error",c),this.once("end",p),this.once("data",l)})},throw:e,return:e,[xs](){return this}}}[$s](){let t=!1;const e=()=>(this.pause(),this.removeListener(Ne,e),this.removeListener(x,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const i=this.read();return i===null?e():{value:i}};return this.once("end",e),this.once(Ne,e),this.once(x,e),{next:s,throw:e,return:e,[$s](){return this}}}destroy(t){return this[x]?(t?this.emit("error",t):this.emit(x),this):(this[x]=!0,this[G].length=0,this[U]=0,typeof this.close=="function"&&!this[ue]&&this.close(),t?this.emit("error",t):this.emit(x),this)}static isStream(t){return!!t&&(t instanceof ze||t instanceof ks||t instanceof Bi&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}js.Minipass=ze;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.Ignore=void 0;const Us=mt,zi=zt,Ui=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Hi{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:i,noglobstar:n,platform:o=Ui}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const c={dot:!0,nobrace:e,nocase:s,noext:i,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(const l of t){const p=new Us.Minimatch(l,c);for(let b=0;b<p.set.length;b++){const g=p.set[b],y=p.globParts[b],w=new zi.Pattern(g,y,0,o),_=new Us.Minimatch(w.globString(),c),v=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),v&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,i=t.relative()||".",n=`${i}/`;for(const o of this.relative)if(o.match(i)||o.match(n))return!0;for(const o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const i of this.relativeChildren)if(i.match(s))return!0;for(const i of this.absoluteChildren)i.match(e);return!1}}ge.Ignore=Hi;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.Processor=at.SubWalks=at.MatchRecord=at.HasWalkedCache=void 0;const Hs=mt;class ye{store;constructor(t=new Map){this.store=t}copy(){return new ye(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),i=this.store.get(s);i?i.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}at.HasWalkedCache=ye;class qs{store=new Map;add(t,e,s){const i=(e?2:0)|(s?1:0),n=this.store.get(t);this.store.set(t,n===void 0?i:i&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}at.MatchRecord=qs;class Vs{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(i=>i.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}at.SubWalks=Vs;class Ue{hasWalkedCache;matches=new qs;subwalks=new Vs;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new ye}processPatterns(t,e){this.patterns=e;const s=e.map(i=>[t,i]);for(let[i,n]of s){this.hasWalkedCache.storeWalked(i,n);const o=n.root(),c=n.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);const g=n.rest();if(g)n=g;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,p,b=!1;for(;typeof(l=n.pattern())=="string"&&(p=n.rest());){const g=i.resolve(l);if(g.isUnknown()&&l!=="..")break;i=g,n=p,b=!0}if(l=n.pattern(),p=n.rest(),b){if(this.hasWalkedCache.hasWalked(i,n))continue;this.hasWalkedCache.storeWalked(i,n)}if(typeof l=="string"){if(p)this.subwalks.add(i,n);else{const g=l===".."||l===""||l===".";this.matches.add(i.resolve(l),c,g)}continue}else if(l===Hs.GLOBSTAR){(!i.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(i,n);const g=p?.pattern(),y=p?.rest();if(!p||(g===""||g===".")&&!y)this.matches.add(i,c,g===""||g===".");else if(g===".."){const w=i.parent||i;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,c,!0)}}else l instanceof RegExp&&this.subwalks.add(i,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Ue(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),i=this.child();for(const n of e)for(const o of s){const c=o.isAbsolute(),l=o.pattern(),p=o.rest();l===Hs.GLOBSTAR?i.testGlobstar(n,o,p,c):l instanceof RegExp?i.testRegExp(n,l,p,c):i.testString(n,l,p,c)}return i}testGlobstar(t,e,s,i){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const n=s.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,s.rest(),i);else if(n===".."){const o=t.parent||t;this.subwalks.add(o,s)}else n instanceof RegExp&&this.testRegExp(t,n,s.rest(),i)}}testRegExp(t,e,s,i){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}testString(t,e,s,i){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}}at.Processor=Ue,Object.defineProperty(wt,"__esModule",{value:!0}),wt.GlobStream=wt.GlobWalker=wt.GlobUtil=void 0;const qi=js,Ys=ge,Ks=at,Vi=(r,t)=>typeof r=="string"?new Ys.Ignore([r],t):Array.isArray(r)?new Ys.Ignore(r,t):r;class Ge{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#n;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#n=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=Vi(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#o(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?this.#n:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+i)}else{const n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#n)?"."+this.#n:"";this.matchEmit(n?o+n+i:"."+i)}}async match(t,e,s){const i=await this.matchCheck(t,s);i&&this.matchFinish(i,e)}matchSync(t,e,s){const i=this.matchCheckSync(t,s);i&&this.matchFinish(i,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new Ks.Processor(this.opts),s)}walkCB2(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirCached();c.calledReaddir()?this.walkCB3(c,l,s,o):c.readdirCB((p,b)=>this.walkCB3(c,b,s,o),!0)}o()}walkCB3(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const[c,l]of s.subwalks.entries())n++,this.walkCB2(c,l,s.child(),o);o()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new Ks.Processor(this.opts),s)}walkCB2Sync(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirSync();this.walkCB3Sync(c,l,s,o)}o()}walkCB3Sync(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const[c,l]of s.subwalks.entries())n++,this.walkCB2Sync(c,l,s.child(),o);o()}}wt.GlobUtil=Ge;class Yi extends Ge{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}wt.GlobWalker=Yi;class Ki extends Ge{results;constructor(t,e,s){super(t,e,s),this.results=new qi.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}wt.GlobStream=Ki,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.Glob=void 0;const Ji=mt,we=B,Zi=Ve,Xi=zt,be=wt,Qi=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class tr{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Zi.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=t,this.platform=e.platform||Qi,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const l=e.platform==="win32"?we.PathScurryWin32:e.platform==="darwin"?we.PathScurryDarwin:e.platform?we.PathScurryPosix:we.PathScurry;this.scurry=new l(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(l=>new Ji.Minimatch(l,i)),[o,c]=n.reduce((l,p)=>(l[0].push(...p.set),l[1].push(...p.globParts),l),[[],[]]);this.patterns=o.map((l,p)=>new Xi.Pattern(l,c[p],0,this.platform))}async walk(){return[...await new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Nt.Glob=tr;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.hasMagic=void 0;const er=mt,sr=(r,t={})=>{Array.isArray(r)||(r=[r]);for(const e of r)if(new er.Minimatch(e,t).hasMagic())return!0;return!1};Vt.hasMagic=sr,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.glob=r.hasMagic=r.Glob=r.unescape=r.escape=r.sync=r.iterate=r.iterateSync=r.stream=r.streamSync=r.globIterate=r.globIterateSync=r.globSync=r.globStream=r.globStreamSync=void 0;const t=mt,e=Nt,s=Vt;function i(w,_={}){return new e.Glob(w,_).streamSync()}r.globStreamSync=i;function n(w,_={}){return new e.Glob(w,_).stream()}r.globStream=n;function o(w,_={}){return new e.Glob(w,_).walkSync()}r.globSync=o;async function c(w,_={}){return new e.Glob(w,_).walk()}function l(w,_={}){return new e.Glob(w,_).iterateSync()}r.globIterateSync=l;function p(w,_={}){return new e.Glob(w,_).iterate()}r.globIterate=p,r.streamSync=i,r.stream=Object.assign(n,{sync:i}),r.iterateSync=l,r.iterate=Object.assign(p,{sync:l}),r.sync=Object.assign(o,{stream:i,iterate:l});var b=mt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Nt;Object.defineProperty(r,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=Vt;Object.defineProperty(r,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),r.glob=Object.assign(c,{glob:c,globSync:o,sync:r.sync,globStream:n,stream:r.stream,globStreamSync:i,streamSync:r.streamSync,globIterate:p,iterate:r.iterate,globIterateSync:l,iterateSync:r.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),r.glob.glob=r.glob}(Xe);const{globSync:ir}=Xe;var rr=function(){return function(t){if(directoryExists(t))return!0;const e=t.replace(/\/__virtual__:.*$/,"");return ir(e+"/").length>0}},nr=ti(rr);module.exports=nr;
+;return module.exports()})({}),
       createDirectory(directoryName) {
         if (!nodeSystem.directoryExists(directoryName)) {
           try {
@@ -43562,7 +43570,21 @@ function tryLoadModuleUsingPaths(extensions, moduleName, baseDirectory, paths, p
       trace(state.host, Diagnostics.Module_name_0_matched_pattern_1, moduleName, matchedPatternText);
     }
     const resolved = forEach(paths[matchedPatternText], (subst) => {
-      const path = matchedStar ? subst.replace("*", matchedStar) : subst;
+      const unreplacedPath = (matchedStar ? subst.replace("*", matchedStar) : subst);
+let path;
+if (unreplacedPath.includes('./<packagePath>')) {
+	const match = /^.*\/tunnel\/[^\/]+\/[^\/]+\/?/.exec(state.requestContainingDirectory.toLowerCase());
+	path = unreplacedPath.replace('./<packagePath>', state.requestContainingDirectory.slice(0, match.index + match[0].length))
+} else {
+	path = unreplacedPath
+}
+
+if (path.includes('./<dirname>')) {
+	path = path.replace(
+		'./<dirname>',
+		state.requestContainingDirectory
+	)
+}
       const candidate = normalizePath(combinePaths(baseDirectory, path));
       if (state.traceEnabled) {
         trace(state.host, Diagnostics.Trying_substitution_0_candidate_module_location_Colon_1, subst, path);
@@ -122589,7 +122611,7 @@ function createProgram(rootNamesOrOptions, _options, _host, _oldProgram, _config
     if (options.composite) {
       const rootPaths = new Set(rootNames.map(toPath3));
       for (const file of files) {
-        if (sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
+        if (!require('path').basename(file.path).startsWith('__virtual__:') && require('path').basename(file.path) !== 'package.json' && sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
           addProgramDiagnosticExplainingFile(
             file,
             Diagnostics.File_0_is_not_listed_within_the_file_list_of_project_1_Projects_must_list_all_files_or_use_an_include_pattern,
diff --git a/lib/tsserverlibrary.js b/lib/tsserverlibrary.js
index d53fe81a33a8df65c5c1d85386670bbec866ad6e..3c1410f34e2af6b399416bcc448f79c3f94b710d 100644
--- a/lib/tsserverlibrary.js
+++ b/lib/tsserverlibrary.js
@@ -6186,13 +6186,21 @@ ${lanes.join("\n")}
             writeOutputIsTTY() {
               return process.stdout.isTTY;
             },
-            readFile,
+            readFile: ((module) => {"use strict";var Pi=require("path"),De=require("url"),ke=require("fs"),Ai=require("fs/promises"),fs=require("events"),us=require("stream"),ds=require("string_decoder"),ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ci(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var U={},q={};function dt(i=""){return!i||!i.includes("\\")?i:i.replace(/\\/g,"/")}const Mi=/^[/\\]{2}/,ji=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,ps=/^[A-Za-z]:$/,ms="/",gs=":",Ne=function(i){if(i.length===0)return".";i=dt(i);const t=i.match(Mi),e=Rt(i),s=i[i.length-1]==="/";return i=oe(i,!e),i.length===0?e?"/":s?"./":".":(s&&(i+="/"),ps.test(i)&&(i+="/"),t?e?`//${i}`:`//./${i}`:e&&!Rt(i)?`/${i}`:i)},ws=function(...i){if(i.length===0)return".";let t;for(const e of i)e&&e.length>0&&(t===void 0?t=e:t+=`/${e}`);return t===void 0?".":Ne(t.replace(/\/\/+/g,"/"))};function Li(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const It=function(...i){i=i.map(s=>dt(s));let t="",e=!1;for(let s=i.length-1;s>=-1&&!e;s--){const n=s>=0?i[s]:Li();!n||n.length===0||(t=`${n}/${t}`,e=Rt(n))}return t=oe(t,!e),e&&!Rt(t)?`/${t}`:t.length>0?t:"."};function oe(i,t){let e="",s=0,n=-1,r=0,h=null;for(let a=0;a<=i.length;++a){if(a<i.length)h=i[a];else{if(h==="/")break;h="/"}if(h==="/"){if(!(n===a-1||r===1))if(r===2){if(e.length<2||s!==2||e[e.length-1]!=="."||e[e.length-2]!=="."){if(e.length>2){const c=e.lastIndexOf("/");c===-1?(e="",s=0):(e=e.slice(0,c),s=e.length-1-e.lastIndexOf("/")),n=a,r=0;continue}else if(e.length>0){e="",s=0,n=a,r=0;continue}}t&&(e+=e.length>0?"/..":"..",s=2)}else e.length>0?e+=`/${i.slice(n+1,a)}`:e=i.slice(n+1,a),s=a-n-1;n=a,r=0}else h==="."&&r!==-1?++r:r=-1}return e}const Rt=function(i){return ji.test(i)},bs=function(i){return dt(i)},Fi=/.(\.[^./]+)$/,Be=function(i){const t=Fi.exec(dt(i));return t&&t[1]||""},ys=function(i,t){const e=It(i).split("/"),s=It(t).split("/"),n=[...e];for(const r of n){if(s[0]!==r)break;e.shift(),s.shift()}return[...e.map(()=>".."),...s].join("/")},Ie=function(i){const t=dt(i).replace(/\/$/,"").split("/").slice(0,-1);return t.length===1&&ps.test(t[0])&&(t[0]+="/"),t.join("/")||(Rt(i)?"/":".")},Ss=function(i){const t=[i.root,i.dir,i.base??i.name+i.ext].filter(Boolean);return dt(i.root?It(...t):t.join("/"))},We=function(i,t){const e=dt(i).split("/").pop();return t&&e.endsWith(t)?e.slice(0,-t.length):e},vs=function(i){const t=dt(i).split("/").shift()||"/",e=We(i),s=Be(e);return{root:t,dir:Ie(i),base:e,ext:s,name:e.slice(0,e.length-s.length)}},Di={__proto__:null,basename:We,delimiter:gs,dirname:Ie,extname:Be,format:Ss,isAbsolute:Rt,join:ws,normalize:Ne,normalizeString:oe,parse:vs,relative:ys,resolve:It,sep:ms,toNamespacedPath:bs};q.basename=We,q.delimiter=gs,q.dirname=Ie,q.extname=Be,q.format=Ss,q.isAbsolute=Rt,q.join=ws,q.normalize=Ne,q.normalizeString=oe,q.normalizeWindowsPath=dt,q.parse=vs,q.path=Di,q.relative=ys,q.resolve=It,q.sep=ms,q.toNamespacedPath=bs,Object.defineProperty(U,"__esModule",{value:!0});const K=q;U.basename=K.basename,U.default=K.path,U.delimiter=K.delimiter,U.dirname=K.dirname,U.extname=K.extname,U.format=K.format,U.isAbsolute=K.isAbsolute,U.join=K.join,U.normalize=K.normalize,U.normalizeString=K.normalizeString,U.parse=K.parse,U.relative=K.relative,U.resolve=K.resolve,U.sep=K.sep,U.toNamespacedPath=K.toNamespacedPath;var Es={},yt={},ki=_s;function _s(i,t,e){i instanceof RegExp&&(i=Os(i,e)),t instanceof RegExp&&(t=Os(t,e));var s=Ts(i,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+i.length,s[1]),post:e.slice(s[1]+t.length)}}function Os(i,t){var e=t.match(i);return e?e[0]:null}_s.range=Ts;function Ts(i,t,e){var s,n,r,h,a,c=e.indexOf(i),d=e.indexOf(t,c+1),b=c;if(c>=0&&d>0){if(i===t)return[c,d];for(s=[],r=e.length;b>=0&&!a;)b==c?(s.push(b),c=e.indexOf(i,b+1)):s.length==1?a=[s.pop(),d]:(n=s.pop(),n<r&&(r=n,h=d),d=e.indexOf(t,b+1)),b=c<d&&c>=0?c:d;s.length&&(a=[r,h])}return a}var Rs=ki,Ni=Wi,Ps="\0SLASH"+Math.random()+"\0",As="\0OPEN"+Math.random()+"\0",xe="\0CLOSE"+Math.random()+"\0",Cs="\0COMMA"+Math.random()+"\0",Ms="\0PERIOD"+Math.random()+"\0";function $e(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Bi(i){return i.split("\\\\").join(Ps).split("\\{").join(As).split("\\}").join(xe).split("\\,").join(Cs).split("\\.").join(Ms)}function Ii(i){return i.split(Ps).join("\\").split(As).join("{").split(xe).join("}").split(Cs).join(",").split(Ms).join(".")}function js(i){if(!i)return[""];var t=[],e=Rs("{","}",i);if(!e)return i.split(",");var s=e.pre,n=e.body,r=e.post,h=s.split(",");h[h.length-1]+="{"+n+"}";var a=js(r);return r.length&&(h[h.length-1]+=a.shift(),h.push.apply(h,a)),t.push.apply(t,h),t}function Wi(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Wt(Bi(i),!0).map(Ii)):[]}function xi(i){return"{"+i+"}"}function $i(i){return/^-?0\d/.test(i)}function zi(i,t){return i<=t}function Gi(i,t){return i>=t}function Wt(i,t){var e=[],s=Rs("{","}",i);if(!s)return[i];var n=s.pre,r=s.post.length?Wt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var h=0;h<r.length;h++){var a=n+"{"+s.body+"}"+r[h];e.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=c||d,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(i=s.pre+"{"+s.body+xe+s.post,Wt(i)):[i];var y;if(b)y=s.body.split(/\.\./);else if(y=js(s.body),y.length===1&&(y=Wt(y[0],!1).map(xi),y.length===1))return r.map(function(rt){return s.pre+y[0]+rt});var w;if(b){var _=$e(y[0]),E=$e(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs($e(y[2])):1,P=zi,C=E<_;C&&(O*=-1,P=Gi);var R=y.some($i);w=[];for(var D=_;P(D,E);D+=O){var k;if(d)k=String.fromCharCode(D),k==="\\"&&(k="");else if(k=String(D),R){var j=T-k.length;if(j>0){var I=new Array(j+1).join("0");D<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Wt(y[L],!1))}for(var L=0;L<w.length;L++)for(var h=0;h<r.length;h++){var a=n+w[L]+r[h];(!t||b||a)&&e.push(a)}}return e}var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.assertValidPattern=void 0;const Ui=1024*64,Hi=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>Ui)throw new TypeError("pattern is too long")};he.assertValidPattern=Hi;var xt={},ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.parseClass=void 0;const qi={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},$t=i=>i.replace(/[[\]\\-]/g,"\\$&"),Vi=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ls=i=>i.join(""),Yi=(i,t)=>{const e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],n=[];let r=e+1,h=!1,a=!1,c=!1,d=!1,b=e,g="";t:for(;r<i.length;){const E=i.charAt(r);if((E==="!"||E==="^")&&r===e+1){d=!0,r++;continue}if(E==="]"&&h&&!c){b=r+1;break}if(h=!0,E==="\\"&&!c){c=!0,r++;continue}if(E==="["&&!c){for(const[T,[O,P,C]]of Object.entries(qi))if(i.startsWith(T,r)){if(g)return["$.",!1,i.length-e,!0];r+=T.length,C?n.push(O):s.push(O),a=a||P;continue t}}if(c=!1,g){E>g?s.push($t(g)+"-"+$t(E)):E===g&&s.push($t(E)),g="",r++;continue}if(i.startsWith("-]",r+1)){s.push($t(E+"-")),r+=2;continue}if(i.startsWith("-",r+1)){g=E,r+=2;continue}s.push($t(E)),r++}if(b<r)return["",!1,0,!1];if(!s.length&&!n.length)return["$.",!1,i.length-e,!0];if(n.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!d){const E=s[0].length===2?s[0].slice(-1):s[0];return[Vi(E),!1,b-e,!1]}const y="["+(d?"^":"")+Ls(s)+"]",w="["+(d?"":"^")+Ls(n)+"]";return[s.length&&n.length?"("+y+"|"+w+")":s.length?y:w,a,b-e,!0]};ae.parseClass=Yi;var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.unescape=void 0;const Ji=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");jt.unescape=Ji,Object.defineProperty(xt,"__esModule",{value:!0}),xt.AST=void 0;const Ki=ae,le=jt,Zi=new Set(["!","?","+","*","@"]),Fs=i=>Zi.has(i),Xi="(?!(?:^|/)\\.\\.?(?:$|/))",ce="(?!\\.)",Qi=new Set(["[","."]),tn=new Set(["..","."]),en=new Set("().*{}+?[]^$\\!"),sn=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ze="[^/]",Ds=ze+"*?",ks=ze+"+?";class et{type;#t;#s;#r=!1;#i=[];#h;#l;#f;#a=!1;#o;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#h=e,this.#t=this.#h?this.#h.#t:this,this.#o=this.#t===this?s:this.#t.#o,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#h?this.#h.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#h;for(;s;){for(let n=e.#l+1;!s.type&&n<s.#i.length;n++)for(const r of t.#i){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(s.#i[n])}e=s,s=e.#h}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof et&&e.#h===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#h?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#h?.isStart())return!1;if(this.#l===0)return!0;const t=this.#h;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof et&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#h?.type==="!")return!0;if(!this.#h?.isEnd())return!1;if(!this.type)return this.#h?.isEnd();const t=this.#h?this.#h.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new et(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,n){let r=!1,h=!1,a=-1,c=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const E=t.charAt(w++);if(r||E==="\\"){r=!r,_+=E;continue}if(h){w===a+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(w===a+2&&c)&&(h=!1),_+=E;continue}else if(E==="["){h=!0,a=w,c=!1,_+=E;continue}if(!n.noext&&Fs(E)&&t.charAt(w)==="("){e.push(_),_="";const T=new et(E,e);w=et.#d(t,T,w,n),e.push(T);continue}_+=E}return e.push(_),w}let d=s+1,b=new et(null,e);const g=[];let y="";for(;d<t.length;){const w=t.charAt(d++);if(r||w==="\\"){r=!r,y+=w;continue}if(h){d===a+1?(w==="^"||w==="!")&&(c=!0):w==="]"&&!(d===a+2&&c)&&(h=!1),y+=w;continue}else if(w==="["){h=!0,a=d,c=!1,y+=w;continue}if(Fs(w)&&t.charAt(d)==="("){b.push(y),y="";const _=new et(w,b);b.push(_),d=et.#d(t,_,d,n);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new et(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),d;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],d}static fromGlob(t,e={}){const s=new et(null,void 0,e);return et.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,n,r]=this.toRegExpSource();if(!(n||this.#s||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const a=(this.#o.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#o.dot;if(this.#t===this&&this.#w(),!this.type){const c=this.isStart()&&this.isEnd(),d=this.#i.map(w=>{const[_,E,T,O]=typeof w=="string"?et.#y(w,this.#s,c):w.toRegExpSource(t);return this.#s=this.#s||T,this.#r=this.#r||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&tn.has(this.#i[0]))){const _=Qi,E=e&&_.has(d.charAt(0))||d.startsWith("\\.")&&_.has(d.charAt(2))||d.startsWith("\\.\\.")&&_.has(d.charAt(4)),T=!e&&!t&&_.has(d.charAt(0));b=E?Xi:T?ce:""}let g="";return this.isEnd()&&this.#t.#a&&this.#h?.type==="!"&&(g="(?:$|\\/)"),[b+d+g,(0,le.unescape)(d),this.#s=!!this.#s,this.#r]}const s=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:";let r=this.#u(e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){const c=this.toString();return this.#i=[c],this.type=null,this.#s=void 0,[c,(0,le.unescape)(this.toString()),!1,!1]}let h=!s||t||e||!ce?"":this.#u(!0);h===r&&(h=""),h&&(r=`(?:${r})(?:${h})*?`);let a="";if(this.type==="!"&&this.#m)a=(this.isStart()&&!e?ce:"")+ks;else{const c=this.type==="!"?"))"+(this.isStart()&&!e&&!t?ce:"")+Ds+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&h?")":this.type==="*"&&h?")?":`)${this.type}`;a=n+r+c}return[a,(0,le.unescape)(r),this.#s=!!this.#s,this.#r]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,n,r,h]=e.toRegExpSource(t);return this.#r=this.#r||h,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let n=!1,r="",h=!1;for(let a=0;a<t.length;a++){const c=t.charAt(a);if(n){n=!1,r+=(en.has(c)?"\\":"")+c;continue}if(c==="\\"){a===t.length-1?r+="\\\\":n=!0;continue}if(c==="["){const[d,b,g,y]=(0,Ki.parseClass)(t,a);if(g){r+=d,h=h||b,a+=g-1,e=e||y;continue}}if(c==="*"){s&&t==="*"?r+=ks:r+=Ds,e=!0;continue}if(c==="?"){r+=ze,e=!0;continue}r+=sn(c)}return[r,(0,le.unescape)(t),!!e,h]}}xt.AST=et;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.escape=void 0;const nn=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");zt.escape=nn,function(i){var t=ot&&ot.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(i,"__esModule",{value:!0}),i.unescape=i.escape=i.AST=i.Minimatch=i.match=i.makeRe=i.braceExpand=i.defaults=i.filter=i.GLOBSTAR=i.sep=i.minimatch=void 0;const e=t(Ni),s=he,n=xt,r=zt,h=jt,a=(S,l,p={})=>((0,s.assertValidPattern)(l),!p.nocomment&&l.charAt(0)==="#"?!1:new Tt(l,p).match(S));i.minimatch=a;const c=/^\*+([^+@!?\*\[\(]*)$/,d=S=>l=>!l.startsWith(".")&&l.endsWith(S),b=S=>l=>l.endsWith(S),g=S=>(S=S.toLowerCase(),l=>!l.startsWith(".")&&l.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),l=>l.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),E=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),P=/^\*+$/,C=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",D=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,l=""])=>{const p=rt([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},j=([S,l=""])=>{const p=_t([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},I=([S,l=""])=>{const p=_t([S]);return l?m=>p(m)&&m.endsWith(l):p},L=([S,l=""])=>{const p=rt([S]);return l?m=>p(m)&&m.endsWith(l):p},rt=([S])=>{const l=S.length;return p=>p.length===l&&!p.startsWith(".")},_t=([S])=>{const l=S.length;return p=>p.length===l&&p!=="."&&p!==".."},G=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};i.sep=G==="win32"?N.win32.sep:N.posix.sep,i.minimatch.sep=i.sep,i.GLOBSTAR=Symbol("globstar **"),i.minimatch.GLOBSTAR=i.GLOBSTAR;const kt="[^/]"+"*?",ne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Nt="(?:(?!(?:\\/|^)\\.).)*?",st=(S,l={})=>p=>(0,i.minimatch)(p,S,l);i.filter=st,i.minimatch.filter=i.filter;const Y=(S,l={})=>Object.assign({},S,l),Ct=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return i.minimatch;const l=i.minimatch;return Object.assign((m,f,o={})=>l(m,f,Y(S,o)),{Minimatch:class extends l.Minimatch{constructor(f,o={}){super(f,Y(S,o))}static defaults(f){return l.defaults(Y(S,f)).Minimatch}},AST:class extends l.AST{constructor(f,o,u={}){super(f,o,Y(S,u))}static fromGlob(f,o={}){return l.AST.fromGlob(f,Y(S,o))}},unescape:(m,f={})=>l.unescape(m,Y(S,f)),escape:(m,f={})=>l.escape(m,Y(S,f)),filter:(m,f={})=>l.filter(m,Y(S,f)),defaults:m=>l.defaults(Y(S,m)),makeRe:(m,f={})=>l.makeRe(m,Y(S,f)),braceExpand:(m,f={})=>l.braceExpand(m,Y(S,f)),match:(m,f,o={})=>l.match(m,f,Y(S,o)),sep:l.sep,GLOBSTAR:i.GLOBSTAR})};i.defaults=Ct,i.minimatch.defaults=i.defaults;const Ot=(S,l={})=>((0,s.assertValidPattern)(S),l.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));i.braceExpand=Ot,i.minimatch.braceExpand=i.braceExpand;const ut=(S,l={})=>new Tt(S,l).makeRe();i.makeRe=ut,i.minimatch.makeRe=i.makeRe;const J=(S,l,p={})=>{const m=new Tt(l,p);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(l),S};i.match=J,i.minimatch.match=i.match;const bt=/[?*]|[+@!]\(.*?\)|\[|\]/,Me=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Tt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(l,p={}){(0,s.assertValidPattern)(l),p=p||{},this.options=p,this.pattern=l,this.platform=p.platform||G,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!p.windowsPathsNoEscape||p.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!p.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!p.nonegate,this.comment=!1,this.empty=!1,this.partial=!!p.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=p.windowsNoMagicRoot!==void 0?p.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const l of this.set)for(const p of l)if(typeof p!="string")return!0;return!1}debug(...l){}make(){const l=this.pattern,p=this.options;if(!p.nocomment&&l.charAt(0)==="#"){this.comment=!0;return}if(!l){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],p.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((o,u,v)=>{if(this.isWindows&&this.windowsNoMagicRoot){const A=o[0]===""&&o[1]===""&&(o[2]==="?"||!bt.test(o[2]))&&!bt.test(o[3]),M=/^[a-z]:/i.test(o[0]);if(A)return[...o.slice(0,4),...o.slice(4).map(F=>this.parse(F))];if(M)return[o[0],...o.slice(1).map(F=>this.parse(F))]}return o.map(A=>this.parse(A))});if(this.debug(this.pattern,f),this.set=f.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const u=this.set[o];u[0]===""&&u[1]===""&&this.globParts[o][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(l){if(this.options.noglobstar)for(let m=0;m<l.length;m++)for(let f=0;f<l[m].length;f++)l[m][f]==="**"&&(l[m][f]="*");const{optimizationLevel:p=1}=this.options;return p>=2?(l=this.firstPhasePreProcess(l),l=this.secondPhasePreProcess(l)):p>=1?l=this.levelOneOptimize(l):l=this.adjascentGlobstarOptimize(l),l}adjascentGlobstarOptimize(l){return l.map(p=>{let m=-1;for(;(m=p.indexOf("**",m+1))!==-1;){let f=m;for(;p[f+1]==="**";)f++;f!==m&&p.splice(m,f-m)}return p})}levelOneOptimize(l){return l.map(p=>(p=p.reduce((m,f)=>{const o=m[m.length-1];return f==="**"&&o==="**"?m:f===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(m.pop(),m):(m.push(f),m)},[]),p.length===0?[""]:p))}levelTwoFileOptimize(l){Array.isArray(l)||(l=this.slashSplit(l));let p=!1;do{if(p=!1,!this.preserveMultipleSlashes){for(let f=1;f<l.length-1;f++){const o=l[f];f===1&&o===""&&l[0]===""||(o==="."||o==="")&&(p=!0,l.splice(f,1),f--)}l[0]==="."&&l.length===2&&(l[1]==="."||l[1]==="")&&(p=!0,l.pop())}let m=0;for(;(m=l.indexOf("..",m+1))!==-1;){const f=l[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(p=!0,l.splice(m-1,2),m-=2)}}while(p);return l.length===0?[""]:l}firstPhasePreProcess(l){let p=!1;do{p=!1;for(let m of l){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let v=m[f+1];const A=m[f+2],M=m[f+3];if(v!==".."||!A||A==="."||A===".."||!M||M==="."||M==="..")continue;p=!0,m.splice(f,1);const F=m.slice(0);F[f]="**",l.push(F),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const v=m[u];u===1&&v===""&&m[0]===""||(v==="."||v==="")&&(p=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(p=!0,m.pop())}let o=0;for(;(o=m.indexOf("..",o+1))!==-1;){const u=m[o-1];if(u&&u!=="."&&u!==".."&&u!=="**"){p=!0;const A=o===1&&m[o+1]==="**"?["."]:[];m.splice(o-1,2,...A),m.length===0&&m.push(""),o-=2}}}}while(p);return l}secondPhasePreProcess(l){for(let p=0;p<l.length-1;p++)for(let m=p+1;m<l.length;m++){const f=this.partsMatch(l[p],l[m],!this.preserveMultipleSlashes);f&&(l[p]=f,l[m]=[])}return l.filter(p=>p.length)}partsMatch(l,p,m=!1){let f=0,o=0,u=[],v="";for(;f<l.length&&o<p.length;)if(l[f]===p[o])u.push(v==="b"?p[o]:l[f]),f++,o++;else if(m&&l[f]==="**"&&p[o]===l[f+1])u.push(l[f]),f++;else if(m&&p[o]==="**"&&l[f]===p[o+1])u.push(p[o]),o++;else if(l[f]==="*"&&p[o]&&(this.options.dot||!p[o].startsWith("."))&&p[o]!=="**"){if(v==="b")return!1;v="a",u.push(l[f]),f++,o++}else if(p[o]==="*"&&l[f]&&(this.options.dot||!l[f].startsWith("."))&&l[f]!=="**"){if(v==="a")return!1;v="b",u.push(p[o]),f++,o++}else return!1;return l.length===p.length&&u}parseNegate(){if(this.nonegate)return;const l=this.pattern;let p=!1,m=0;for(let f=0;f<l.length&&l.charAt(f)==="!";f++)p=!p,m++;m&&(this.pattern=l.slice(m)),this.negate=p}matchOne(l,p,m=!1){const f=this.options;if(this.isWindows){const Q=typeof l[0]=="string"&&/^[a-z]:$/i.test(l[0]),Fe=!Q&&l[0]===""&&l[1]===""&&l[2]==="?"&&/^[a-z]:$/i.test(l[3]),ls=typeof p[0]=="string"&&/^[a-z]:$/i.test(p[0]),Ti=!ls&&p[0]===""&&p[1]===""&&p[2]==="?"&&typeof p[3]=="string"&&/^[a-z]:$/i.test(p[3]),Bt=Fe?3:Q?0:void 0,Mt=Ti?3:ls?0:void 0;if(typeof Bt=="number"&&typeof Mt=="number"){const[cs,Ri]=[l[Bt],p[Mt]];cs.toLowerCase()===Ri.toLowerCase()&&(p[Mt]=cs,Mt>Bt?p=p.slice(Mt):Bt>Mt&&(l=l.slice(Bt)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(l=this.levelTwoFileOptimize(l)),this.debug("matchOne",this,{file:l,pattern:p}),this.debug("matchOne",l.length,p.length);for(var u=0,v=0,A=l.length,M=p.length;u<A&&v<M;u++,v++){this.debug("matchOne loop");var F=p[v],W=l[u];if(this.debug(p,F,W),F===!1)return!1;if(F===i.GLOBSTAR){this.debug("GLOBSTAR",[p,F,W]);var z=u,X=v+1;if(X===M){for(this.debug("** at the end");u<A;u++)if(l[u]==="."||l[u]===".."||!f.dot&&l[u].charAt(0)===".")return!1;return!0}for(;z<A;){var at=l[z];if(this.debug(`
+globstar while`,l,z,p,X,at),this.matchOne(l.slice(z),p.slice(X),m))return this.debug("globstar found match!",z,A,at),!0;if(at==="."||at===".."||!f.dot&&at.charAt(0)==="."){this.debug("dot detected!",l,z,p,X);break}this.debug("globstar swallow a segment, and continue"),z++}return!!(m&&(this.debug(`
+>>> no match, partial?`,l,z,p,X),z===A))}let Q;if(typeof F=="string"?(Q=W===F,this.debug("string match",F,W,Q)):(Q=F.test(W),this.debug("pattern match",F,W,Q)),!Q)return!1}if(u===A&&v===M)return!0;if(u===A)return m;if(v===M)return u===A-1&&l[u]==="";throw new Error("wtf?")}braceExpand(){return(0,i.braceExpand)(this.pattern,this.options)}parse(l){(0,s.assertValidPattern)(l);const p=this.options;if(l==="**")return i.GLOBSTAR;if(l==="")return"";let m,f=null;(m=l.match(P))?f=p.dot?R:C:(m=l.match(c))?f=(p.nocase?p.dot?y:g:p.dot?b:d)(m[1]):(m=l.match(D))?f=(p.nocase?p.dot?j:k:p.dot?I:L)(m):(m=l.match(w))?f=p.dot?E:_:(m=l.match(T))&&(f=O);const o=n.AST.fromGlob(l,this.options).toMMPattern();return f?Object.assign(o,{test:f}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const l=this.set;if(!l.length)return this.regexp=!1,this.regexp;const p=this.options,m=p.noglobstar?kt:p.dot?ne:Nt,f=new Set(p.nocase?["i"]:[]);let o=l.map(A=>{const M=A.map(F=>{if(F instanceof RegExp)for(const W of F.flags.split(""))f.add(W);return typeof F=="string"?Me(F):F===i.GLOBSTAR?i.GLOBSTAR:F._src});return M.forEach((F,W)=>{const z=M[W+1],X=M[W-1];F!==i.GLOBSTAR||X===i.GLOBSTAR||(X===void 0?z!==void 0&&z!==i.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+z:M[W]=m:z===void 0?M[W-1]=X+"(?:\\/|"+m+")?":z!==i.GLOBSTAR&&(M[W-1]=X+"(?:\\/|\\/"+m+"\\/)"+z,M[W+1]=i.GLOBSTAR))}),M.filter(F=>F!==i.GLOBSTAR).join("/")}).join("|");const[u,v]=l.length>1?["(?:",")"]:["",""];o="^"+u+o+v+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(l){return this.preserveMultipleSlashes?l.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(l)?["",...l.split(/\/+/)]:l.split(/\/+/)}match(l,p=this.partial){if(this.debug("match",l,this.pattern),this.comment)return!1;if(this.empty)return l==="";if(l==="/"&&p)return!0;const m=this.options;this.isWindows&&(l=l.split("\\").join("/"));const f=this.slashSplit(l);this.debug(this.pattern,"split",f);const o=this.set;this.debug(this.pattern,"set",o);let u=f[f.length-1];if(!u)for(let v=f.length-2;!u&&v>=0;v--)u=f[v];for(let v=0;v<o.length;v++){const A=o[v];let M=f;if(m.matchBase&&A.length===1&&(M=[u]),this.matchOne(M,A,p))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(l){return i.minimatch.defaults(l).Minimatch}}i.Minimatch=Tt;var je=xt;Object.defineProperty(i,"AST",{enumerable:!0,get:function(){return je.AST}});var Le=zt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return Le.escape}});var re=jt;Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return re.unescape}}),i.minimatch.AST=n.AST,i.minimatch.Minimatch=Tt,i.minimatch.escape=r.escape,i.minimatch.unescape=h.unescape}(yt);var Gt={},B={},fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.LRUCache=void 0;const Ut=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ns=new Set,Ge=typeof process=="object"&&process?process:{},Bs=(i,t,e,s)=>{typeof Ge.emitWarning=="function"?Ge.emitWarning(i,t,e,s):console.error(`[${e}] ${t}: ${i}`)};let ue=globalThis.AbortController,Is=globalThis.AbortSignal;if(typeof ue>"u"){Is=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,n){this._onabort.push(n)}},ue=class{constructor(){t()}signal=new Is;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const n of this.signal._onabort)n(s);this.signal.onabort?.(s)}}};let i=Ge.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{i&&(i=!1,Bs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const rn=i=>!Ns.has(i),St=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),Ws=i=>St(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?de:null:null;class de extends Array{constructor(t){super(t),this.fill(0)}}class Dt{heap;length;static#t=!1;static create(t){const e=Ws(t);if(!e)return[];Dt.#t=!0;const s=new Dt(t,e);return Dt.#t=!1,s}constructor(t,e){if(!Dt.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class rs{#t;#s;#r;#i;#h;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#o;#e;#m;#w;#d;#u;#y;#g;#A;#C;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#O,sizes:t.#A,keyMap:t.#a,keyList:t.#o,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,n,r)=>t.#D(e,s,n,r),moveToTail:e=>t.#F(e),indexes:e=>t.#_(e),rindexes:e=>t.#P(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#h}get dispose(){return this.#r}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:h,updateAgeOnHas:a,allowStale:c,dispose:d,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:E,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:R,ignoreFetchAbort:D}=t;if(e!==0&&!St(e))throw new TypeError("max option must be a nonnegative integer");const k=e?Ws(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=E,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#h=T,this.#R=!!T,this.#a=new Map,this.#o=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Dt.create(e),this.#l=0,this.#f=0,typeof d=="function"&&(this.#r=d),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#r,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#s!==0&&!St(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!St(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#j()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!a,this.ttlResolution=St(n)||n===0?n:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!St(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const j="LRU_CACHE_UNBOUNDED";rn(j)&&(Ns.add(j),Bs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,rs))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new de(this.#t),e=new de(this.#t);this.#O=t,this.#C=e,this.#n=(r,h,a=Ut.now())=>{if(e[r]=h!==0?a:0,t[r]=h,h!==0&&this.ttlAutopurge){const c=setTimeout(()=>{this.#b(r)&&this.delete(this.#o[r])},h+1);c.unref&&c.unref()}},this.#T=r=>{e[r]=t[r]!==0?Ut.now():0},this.#v=(r,h)=>{if(t[h]){const a=t[h],c=e[h];r.ttl=a,r.start=c,r.now=s||n();const d=r.now-c;r.remainingTTL=a-d}};let s=0;const n=()=>{const r=Ut.now();if(this.ttlResolution>0){s=r;const h=setTimeout(()=>s=0,this.ttlResolution);h.unref&&h.unref()}return r};this.getRemainingTTL=r=>{const h=this.#a.get(r);if(h===void 0)return 0;const a=t[h],c=e[h];if(a===0||c===0)return 1/0;const d=(s||n())-c;return a-d},this.#b=r=>t[r]!==0&&e[r]!==0&&(s||n())-e[r]>t[r]}#T=()=>{};#v=()=>{};#n=()=>{};#b=()=>!1;#j(){const t=new de(this.#t);this.#f=0,this.#A=t,this.#E=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,n,r)=>{if(this.#c(s))return 0;if(!St(n))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(n=r(s,e),!St(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#k=(e,s,n)=>{if(t[e]=s,this.#s){const r=this.#s-t[e];for(;this.#f>r;)this.#L(!0)}this.#f+=t[e],n&&(n.entrySize=s,n.totalCalculatedSize=this.#f)}}#E=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,n)=>{if(s||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#P({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*rentries(){for(const t of this.#P())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#P()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#P())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;if(r!==void 0&&t(r,this.#o[s],this))return this.get(this.#o[s],e)}}forEach(t,e=this){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}rforEach(t,e=this){for(const s of this.#P()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}purgeStale(){let t=!1;for(const e of this.#P({allowStale:!0}))this.#b(e)&&(this.delete(this.#o[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#o[e],n=this.#e[e],r=this.#c(n)?n.__staleWhileFetching:n;if(r===void 0||s===void 0)continue;const h={value:r};if(this.#O&&this.#C){h.ttl=this.#O[e];const a=Ut.now()-this.#C[e];h.start=Math.floor(Date.now()-a)}this.#A&&(h.size=this.#A[e]),t.unshift([s,h])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const n=Date.now()-s.start;s.start=Ut.now()-n}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:r,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=s;let{noUpdateTTL:d=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,a);if(this.maxEntrySize&&b>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#o[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,c),c&&(c.set="add"),d=!1;else{this.#F(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):h||(this.#S&&this.#r?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#E(g),this.#k(g,b,c),this.#e[g]=e,c){c.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(c.oldValue=w)}}else c&&(c.set="update")}if(n!==0&&!this.#O&&this.#M(),this.#O&&(d||this.#n(g,n,r),c&&this.#v(c,g)),!h&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#o[e],n=this.#e[e];return this.#R&&this.#c(n)?n.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,s,"evict"),this.#p&&this.#g?.push([n,s,"evict"])),this.#E(e),t&&(this.#o[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:n}=e,r=this.#a.get(t);if(r!==void 0){const h=this.#e[r];if(this.#c(h)&&h.__staleWhileFetching===void 0)return!1;if(this.#b(r))n&&(n.has="stale",this.#v(n,r));else return s&&this.#T(r),n&&(n.has="hit",this.#v(n,r)),!0}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,n=this.#a.get(t);if(n!==void 0&&(s||!this.#b(n))){const r=this.#e[n];return this.#c(r)?r.__staleWhileFetching:r}}#D(t,e,s,n){const r=e===void 0?void 0:this.#e[e];if(this.#c(r))return r;const h=new ue,{signal:a}=s;a?.addEventListener("abort",()=>h.abort(a.reason),{signal:h.signal});const c={signal:h.signal,options:s,context:n},d=(E,T=!1)=>{const{aborted:O}=h.signal,P=s.ignoreFetchAbort&&E!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=h.signal.reason,P&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!P&&!T)return g(h.signal.reason);const C=w;return this.#e[e]===w&&(E===void 0?C.__staleWhileFetching?this.#e[e]=C.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,E,c.options))),E},b=E=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=E),g(E)),g=E=>{const{aborted:T}=h.signal,O=T&&s.allowStaleOnFetchAbort,P=O||s.allowStaleOnFetchRejection,C=P||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!C||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),P)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw E},y=(E,T)=>{const O=this.#h?.(t,r,c);O&&O instanceof Promise&&O.then(P=>E(P===void 0?void 0:P),T),h.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(E(void 0),s.allowStaleOnFetchAbort&&(E=P=>d(P,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(d,b),_=Object.assign(w,{__abortController:h,__staleWhileFetching:r,__returned:void 0});return e===void 0?(this.set(t,_,{...c.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof ue}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:E,forceRefresh:T=!1,status:O,signal:P}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,status:O});const C={allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:h,noDisposeOnSet:a,size:c,sizeCalculation:d,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:P};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const D=this.#D(t,R,C,E);return D.__returned=D}else{const D=this.#e[R];if(this.#c(D)){const rt=s&&D.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",rt&&(O.returnedStale=!0)),rt?D.__staleWhileFetching:D.__returned=D}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#F(R),n&&this.#T(R),O&&this.#v(O,R),D;const j=this.#D(t,R,C,E),L=j.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?j.__staleWhileFetching:j.__returned=j}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:h}=e,a=this.#a.get(t);if(a!==void 0){const c=this.#e[a],d=this.#c(c);return h&&this.#v(h,a),this.#b(a)?(h&&(h.get="stale"),d?(h&&s&&c.__staleWhileFetching!==void 0&&(h.returnedStale=!0),s?c.__staleWhileFetching:void 0):(r||this.delete(t),h&&s&&(h.returnedStale=!0),s?c:void 0)):(h&&(h.get="hit"),d?c.__staleWhileFetching:(this.#F(a),n&&this.#T(a),c))}else h&&(h.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#F(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#E(s);const n=this.#e[s];this.#c(n)?n.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,t,"delete"),this.#p&&this.#g?.push([n,t,"delete"])),this.#a.delete(t),this.#o[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let n;for(;n=s?.shift();)this.#i?.(...n)}return e}clear(){for(const t of this.#P({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#o[t];this.#S&&this.#r?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#o.fill(void 0),this.#O&&this.#C&&(this.#O.fill(0),this.#C.fill(0)),this.#A&&this.#A.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}fe.LRUCache=rs;var xs={};(function(i){var t=ot&&ot.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.Minipass=i.isWritable=i.isReadable=i.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=fs,n=t(us),r=ds,h=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof n.default||(0,i.isReadable)(f)||(0,i.isWritable)(f));i.isStream=h;const a=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==n.default.Writable.prototype.pipe;i.isReadable=a;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";i.isWritable=c;const d=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),E=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),P=Symbol("encoding"),C=Symbol("decoder"),R=Symbol("flowing"),D=Symbol("paused"),k=Symbol("resume"),j=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),rt=Symbol("bufferPush"),_t=Symbol("bufferShift"),G=Symbol("objectMode"),N=Symbol("destroyed"),ie=Symbol("error"),kt=Symbol("emitData"),ne=Symbol("emitEnd"),Nt=Symbol("emitEnd2"),st=Symbol("async"),Y=Symbol("abort"),Ct=Symbol("aborted"),Ot=Symbol("signal"),ut=Symbol("dataListeners"),J=Symbol("discarded"),bt=f=>Promise.resolve().then(f),Me=f=>f(),Tt=f=>f==="end"||f==="finish"||f==="prefinish",je=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,Le=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class re{src;dest;opts;ondrain;constructor(o,u,v){this.src=o,this.dest=u,this.opts=v,this.ondrain=()=>o[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(o){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends re{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(o,u,v){super(o,u,v),this.proxyErrors=A=>u.emit("error",A),o.on("error",this.proxyErrors)}}const l=f=>!!f.objectMode,p=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[D]=!1;[I]=[];[j]=[];[G];[P];[st];[C];[d]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[Ot];[Ct]=!1;[ut]=0;[J]=!1;writable=!0;readable=!0;constructor(...o){const u=o[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");l(u)?(this[G]=!0,this[P]=null):p(u)?(this[P]=u.encoding,this[G]=!1):(this[G]=!1,this[P]=null),this[st]=!!u.async,this[C]=this[P]?new r.StringDecoder(this[P]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[j]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:v}=u;v&&(this[Ot]=v,v.aborted?this[Y]():v.addEventListener("abort",()=>this[Y]()))}get bufferLength(){return this[L]}get encoding(){return this[P]}set encoding(o){throw new Error("Encoding must be set at instantiation time")}setEncoding(o){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[G]}set objectMode(o){throw new Error("objectMode must be set at instantiation time")}get async(){return this[st]}set async(o){this[st]=this[st]||!!o}[Y](){this[Ct]=!0,this.emit("abort",this[Ot]?.reason),this.destroy(this[Ot]?.reason)}get aborted(){return this[Ct]}set aborted(o){}write(o,u,v){if(this[Ct])return!1;if(this[d])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(v=u,u="utf8"),u||(u="utf8");const A=this[st]?bt:Me;if(!this[G]&&!Buffer.isBuffer(o)){if(Le(o))o=Buffer.from(o.buffer,o.byteOffset,o.byteLength);else if(je(o))o=Buffer.from(o);else if(typeof o!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[G]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):o.length?(typeof o=="string"&&!(u===this[P]&&!this[C]?.lastNeed)&&(o=Buffer.from(o,u)),Buffer.isBuffer(o)&&this[P]&&(o=this[C].write(o)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):(this[L]!==0&&this.emit("readable"),v&&A(v),this[R])}read(o){if(this[N])return null;if(this[J]=!1,this[L]===0||o===0||o&&o>this[L])return this[b](),null;this[G]&&(o=null),this[j].length>1&&!this[G]&&(this[j]=[this[P]?this[j].join(""):Buffer.concat(this[j],this[L])]);const u=this[E](o||null,this[j][0]);return this[b](),u}[E](o,u){if(this[G])this[_t]();else{const v=u;o===v.length||o===null?this[_t]():typeof v=="string"?(this[j][0]=v.slice(o),u=v.slice(0,o),this[L]-=o):(this[j][0]=v.subarray(o),u=v.subarray(0,o),this[L]-=o)}return this.emit("data",u),!this[j].length&&!this[d]&&this.emit("drain"),u}end(o,u,v){return typeof o=="function"&&(v=o,o=void 0),typeof u=="function"&&(v=u,u="utf8"),o!==void 0&&this.write(o,u),v&&this.once("end",v),this[d]=!0,this.writable=!1,(this[R]||!this[D])&&this[b](),this}[k](){this[N]||(!this[ut]&&!this[I].length&&(this[J]=!0),this[D]=!1,this[R]=!0,this.emit("resume"),this[j].length?this[T]():this[d]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[D]=!0,this[J]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[D]}[rt](o){this[G]?this[L]+=1:this[L]+=o.length,this[j].push(o)}[_t](){return this[G]?this[L]-=1:this[L]-=this[j][0].length,this[j].shift()}[T](o=!1){do;while(this[O](this[_t]())&&this[j].length);!o&&!this[j].length&&!this[d]&&this.emit("drain")}[O](o){return this.emit("data",o),this[R]}pipe(o,u){if(this[N])return o;this[J]=!1;const v=this[g];return u=u||{},o===e.stdout||o===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,v?u.end&&o.end():(this[I].push(u.proxyErrors?new S(this,o,u):new re(this,o,u)),this[st]?bt(()=>this[k]()):this[k]()),o}unpipe(o){const u=this[I].find(v=>v.dest===o);u&&(this[I].length===1?(this[R]&&this[ut]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(o,u){return this.on(o,u)}on(o,u){const v=super.on(o,u);if(o==="data")this[J]=!1,this[ut]++,!this[I].length&&!this[R]&&this[k]();else if(o==="readable"&&this[L]!==0)super.emit("readable");else if(Tt(o)&&this[g])super.emit(o),this.removeAllListeners(o);else if(o==="error"&&this[w]){const A=u;this[st]?bt(()=>A.call(this,this[w])):A.call(this,this[w])}return v}removeListener(o,u){return this.off(o,u)}off(o,u){const v=super.off(o,u);return o==="data"&&(this[ut]=this.listeners("data").length,this[ut]===0&&!this[J]&&!this[I].length&&(this[R]=!1)),v}removeAllListeners(o){const u=super.removeAllListeners(o);return(o==="data"||o===void 0)&&(this[ut]=0,!this[J]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[j].length===0&&this[d]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(o,...u){const v=u[0];if(o!=="error"&&o!=="close"&&o!==N&&this[N])return!1;if(o==="data")return!this[G]&&!v?!1:this[st]?(bt(()=>this[kt](v)),!0):this[kt](v);if(o==="end")return this[ne]();if(o==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(o==="error"){this[w]=v,super.emit(ie,v);const M=!this[Ot]||this.listeners("error").length?super.emit("error",v):!1;return this[b](),M}else if(o==="resume"){const M=super.emit("resume");return this[b](),M}else if(o==="finish"||o==="prefinish"){const M=super.emit(o);return this.removeAllListeners(o),M}const A=super.emit(o,...u);return this[b](),A}[kt](o){for(const v of this[I])v.dest.write(o)===!1&&this.pause();const u=this[J]?!1:super.emit("data",o);return this[b](),u}[ne](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[st]?(bt(()=>this[Nt]()),!0):this[Nt]())}[Nt](){if(this[C]){const u=this[C].end();if(u){for(const v of this[I])v.dest.write(u);this[J]||super.emit("data",u)}}for(const u of this[I])u.end();const o=super.emit("end");return this.removeAllListeners("end"),o}async collect(){const o=Object.assign([],{dataLength:0});this[G]||(o.dataLength=0);const u=this.promise();return this.on("data",v=>{o.push(v),this[G]||(o.dataLength+=v.length)}),await u,o}async concat(){if(this[G])throw new Error("cannot concat in objectMode");const o=await this.collect();return this[P]?o.join(""):Buffer.concat(o,o.dataLength)}async promise(){return new Promise((o,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",v=>u(v)),this.on("end",()=>o())})}[Symbol.asyncIterator](){this[J]=!1;let o=!1;const u=async()=>(this.pause(),o=!0,{value:void 0,done:!0});return{next:()=>{if(o)return u();const A=this.read();if(A!==null)return Promise.resolve({done:!1,value:A});if(this[d])return u();let M,F;const W=Q=>{this.off("data",z),this.off("end",X),this.off(N,at),u(),F(Q)},z=Q=>{this.off("error",W),this.off("end",X),this.off(N,at),this.pause(),M({value:Q,done:!!this[d]})},X=()=>{this.off("error",W),this.off("data",z),this.off(N,at),u(),M({done:!0,value:void 0})},at=()=>W(new Error("stream destroyed"));return new Promise((Q,Fe)=>{F=Fe,M=Q,this.once(N,at),this.once("error",W),this.once("end",X),this.once("data",z)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[J]=!1;let o=!1;const u=()=>(this.pause(),this.off(ie,u),this.off(N,u),this.off("end",u),o=!0,{done:!0,value:void 0}),v=()=>{if(o)return u();const A=this.read();return A===null?u():{done:!1,value:A}};return this.once("end",u),this.once(ie,u),this.once(N,u),{next:v,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(o){if(this[N])return o?this.emit("error",o):this.emit(N),this;this[N]=!0,this[J]=!0,this[j].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),o?this.emit("error",o):this.emit(N),this}static get isStream(){return i.isStream}}i.Minipass=m})(xs);var on=ot&&ot.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,n)}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),hn=ot&&ot.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),an=ot&&ot.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&on(t,i,e);return hn(t,i),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const $s=fe,pe=Pi,ln=De,cn=an(ke),Ht=ke,fn=Ht.realpathSync.native,me=Ai,zs=xs,qt={lstatSync:Ht.lstatSync,readdir:Ht.readdir,readdirSync:Ht.readdirSync,readlinkSync:Ht.readlinkSync,realpathSync:fn,promises:{lstat:me.lstat,readdir:me.readdir,readlink:me.readlink,realpath:me.realpath}},Gs=i=>!i||i===qt||i===cn?qt:{...qt,...i,promises:{...qt.promises,...i.promises||{}}},Us=/^\\\\\?\\([a-z]:)\\?$/i,un=i=>i.replace(/\//g,"\\").replace(Us,"$1\\"),dn=/[\\\/]/,it=0,Hs=1,qs=2,lt=4,Vs=6,Ys=8,Pt=10,Js=12,nt=15,Vt=~nt,Ue=16,Ks=32,Yt=64,ht=128,ge=256,we=512,Zs=Yt|ht|we,pn=1023,He=i=>i.isFile()?Ys:i.isDirectory()?lt:i.isSymbolicLink()?Pt:i.isCharacterDevice()?qs:i.isBlockDevice()?Vs:i.isSocket()?Js:i.isFIFO()?Hs:it,Xs=new Map,Jt=i=>{const t=Xs.get(i);if(t)return t;const e=i.normalize("NFKD");return Xs.set(i,e),e},Qs=new Map,be=i=>{const t=Qs.get(i);if(t)return t;const e=Jt(i.toLowerCase());return Qs.set(i,e),e};class qe extends $s.LRUCache{constructor(){super({max:256})}}B.ResolveCache=qe;class ti extends $s.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=ti;const ei=Symbol("PathScurry setAsCwd");class Z{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#r;get mode(){return this.#r}#i;get nlink(){return this.#i}#h;get uid(){return this.#h}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#o;get ino(){return this.#o}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#A;get mtime(){return this.#A}#C;get ctime(){return this.#C}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#v;#n;#b;#j;#E;get path(){return(this.parent||this).fullpath()}constructor(t,e=it,s,n,r,h,a){this.name=t,this.#S=r?be(t):Jt(t),this.#n=e&pn,this.nocase=r,this.roots=n,this.root=s||this,this.#b=h,this.#p=a.fullpath,this.#T=a.relative,this.#v=a.relativePosix,this.parent=a.parent,this.parent?this.#t=this.parent.#t:this.#t=Gs(a.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),n=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(n):this.#k(n)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#n&=~Ue,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),n=this.nocase?be(t):Jt(t);for(const c of s)if(c.#S===n)return c;const r=this.parent?this.sep:"",h=this.#p?this.#p+r+t:void 0,a=this.newChild(t,it,{...e,parent:this,fullpath:h});return this.canReaddir()||(a.#n|=ht),s.push(a),a}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#v!==void 0)return this.#v;const t=this.name,e=this.parent;if(!e)return this.#v=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const n=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=n}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?this.#M=`//?/${n}`:this.#M=n}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#n&nt)===it}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#n&nt)===Ys}isDirectory(){return(this.#n&nt)===lt}isCharacterDevice(){return(this.#n&nt)===qs}isBlockDevice(){return(this.#n&nt)===Vs}isFIFO(){return(this.#n&nt)===Hs}isSocket(){return(this.#n&nt)===Js}isSymbolicLink(){return(this.#n&Pt)===Pt}lstatCached(){return this.#n&Ks?this:void 0}readlinkCached(){return this.#j}realpathCached(){return this.#E}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#j)return!0;if(!this.parent)return!1;const t=this.#n&nt;return!(t!==it&&t!==Pt||this.#n&ge||this.#n&ht)}calledReaddir(){return!!(this.#n&Ue)}isENOENT(){return!!(this.#n&ht)}isNamed(t){return this.nocase?this.#S===be(t):this.#S===Jt(t)}async readlink(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}#N(t){this.#n|=Ue;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#n&ht||(this.#n=(this.#n|ht)&Vt,this.#P())}#P(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#n|=we,this.#L()}#L(){if(this.#n&Yt)return;let t=this.#n;(t&nt)===lt&&(t&=Vt),this.#n=t|Yt,this.#P()}#D(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#n;e|=ge,t==="ENOENT"&&(e|=ht),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Vt),this.#n=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#F(t,e){return this.#U(t,e)||this.#G(t,e)}#G(t,e){const s=He(t),n=this.newChild(t.name,s,{parent:this}),r=n.#n&nt;return r!==lt&&r!==Pt&&r!==it&&(n.#n|=Yt),e.unshift(n),e.provisional++,n}#U(t,e){for(let s=e.provisional;s<e.length;s++){const n=e[s];if((this.nocase?be(t.name):Jt(t.name))===n.#S)return this.#H(t,n,s,e)}}#H(t,e,s,n){const r=e.name;return e.#n=e.#n&Vt|He(t),r!==t.name&&(e.name=t.name),s!==n.provisional&&(s===n.length-1?n.pop():n.splice(s,1),n.unshift(e)),n.provisional++,e}async lstat(){if(!(this.#n&ht))try{return this.#z(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#n&ht))try{return this.#z(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#z(t){const{atime:e,atimeMs:s,birthtime:n,birthtimeMs:r,blksize:h,blocks:a,ctime:c,ctimeMs:d,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:E,nlink:T,rdev:O,size:P,uid:C}=t;this.#g=e,this.#w=s,this.#O=n,this.#y=r,this.#a=h,this.#m=a,this.#C=c,this.#u=d,this.#s=b,this.#l=g,this.#o=y,this.#r=w,this.#A=_,this.#d=E,this.#i=T,this.#f=O,this.#e=P,this.#h=C;const R=He(t);this.#n=this.#n&Vt|R|Ks,R!==it&&R!==lt&&R!==Pt&&(this.#n|=Yt)}#x=[];#$=!1;#q(t){this.#$=!1;const e=this.#x.slice();this.#x.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const r=s.slice(0,s.provisional);e?t(null,r):queueMicrotask(()=>t(null,r));return}if(this.#x.push(t),this.#$)return;this.#$=!0;const n=this.fullpath();this.#t.readdir(n,{withFileTypes:!0},(r,h)=>{if(r)this.#D(r.code),s.provisional=0;else{for(const a of h)this.#F(a,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(n=>s=n);try{for(const n of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#F(n,t);this.#N(t)}catch(n){this.#D(n.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#F(s,t);this.#N(t)}catch(s){this.#D(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#n&Zs)return!1;const t=nt&this.#n;return t===it||t===lt||t===Pt}shouldWalk(t,e){return(this.#n&lt)===lt&&!(this.#n&Zs)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=this.#t.realpathSync(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}[ei](t){if(t===this)return;const e=new Set([]);let s=[],n=this;for(;n&&n.parent;)e.add(n),n.#T=s.join(this.sep),n.#v=s.join("/"),n=n.parent,s.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#T=void 0,n.#v=void 0,n=n.parent}}B.PathBase=Z;class ee extends Z{sep="\\";splitSep=dn;constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}newChild(t,e=it,s={}){return new ee(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return pe.win32.parse(t).root}getRoot(t){if(t=un(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Ye(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Us,"$1\\"),t===e}}B.PathWin32=ee;class se extends Z{splitSep="/";sep="/";constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=it,s={}){return new se(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=se;class Ve{root;rootPath;roots;cwd;#t;#s;#r;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:n,childrenCacheSize:r=16*1024,fs:h=qt}={}){this.#i=Gs(h),(t instanceof URL||t.startsWith("file://"))&&(t=(0,ln.fileURLToPath)(t));const a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#t=new qe,this.#s=new qe,this.#r=new ti(r);const c=a.substring(this.rootPath.length).split(s);if(c.length===1&&!c[0]&&c.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let d=this.root,b=c.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of c){const E=b--;d=d.child(_,{relative:new Array(E).fill("..").join(g),relativePosix:new Array(E).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=d}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#r}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#t.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpath();return this.#t.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#s.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const n=await t.readdir();return s?n:n.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set,d=(g,y)=>{c.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let E=_.length;if(!E)return y();const T=()=>{--E===0&&y()};for(const O of _)(!r||r(O))&&a.push(s?O:O.fullpath()),n&&O.isSymbolicLink()?O.realpath().then(P=>P?.isUnknown()?P.lstat():P).then(P=>P?.shouldWalk(c,h)?d(P,T):T()):O.shouldWalk(c,h)?d(O,T):T()},!0)},b=t;return new Promise((g,y)=>{d(b,w=>{if(w)return y(w);g(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set([t]);for(const d of c){const b=d.readdirSync();for(const g of b){(!r||r(g))&&a.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(n&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(c,h)&&c.add(y)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e;(!r||r(t))&&(yield s?t:t.fullpath());const a=new Set([t]);for(const c of a){const d=c.readdirSync();for(const b of d){(!r||r(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(n&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(a,h)&&a.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0});(!r||r(t))&&a.write(s?t:t.fullpath());const c=new Set,d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=(T,O,P=!1)=>{if(T)return a.emit("error",T);if(n&&!P){const C=[];for(const R of O)R.isSymbolicLink()&&C.push(R.realpath().then(D=>D?.isUnknown()?D.lstat():D));if(C.length){Promise.all(C).then(()=>_(null,O,!0));return}}for(const C of O)C&&(!r||r(C))&&(a.write(s?C:C.fullpath())||(y=!0));b--;for(const C of O){const R=C.realpathCached()||C;R.shouldWalk(c,h)&&d.push(R)}y&&!a.flowing?a.once("drain",g):E||g()};let E=!0;w.readdirCB(_,!0),E=!1}};return g(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0}),c=new Set;(!r||r(t))&&a.write(s?t:t.fullpath());const d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=w.readdirSync();for(const E of _)(!r||r(E))&&(a.write(s?E:E.fullpath())||(y=!0));b--;for(const E of _){let T=E;if(E.isSymbolicLink()){if(!(n&&(T=E.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(c,h)&&d.push(T)}}y&&!a.flowing&&a.once("drain",g)};return g(),a}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[ei](e)}}B.PathScurryBase=Ve;class Ye extends Ve{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,pe.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let n=this.cwd;n;n=n.parent)n.nocase=this.nocase}parseRootPath(t){return pe.win32.parse(t).root.toUpperCase()}newRoot(t){return new ee(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Ye;class Je extends Ve{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,pe.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new se(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=Je;class si extends Je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=si,B.Path=process.platform==="win32"?ee:se,B.PathScurry=process.platform==="win32"?Ye:process.platform==="darwin"?si:Je;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Pattern=void 0;const mn=yt,gn=i=>i.length>=1,wn=i=>i.length>=1;class os{#t;#s;#r;length;#i;#h;#l;#f;#a;#o;#e=!0;constructor(t,e,s,n){if(!gn(t))throw new TypeError("empty pattern list");if(!wn(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#r=s,this.#i=n,this.#r===0){if(this.isUNC()){const[r,h,a,c,...d]=this.#t,[b,g,y,w,..._]=this.#s;d[0]===""&&(d.shift(),_.shift());const E=[r,h,a,c,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[E,...d],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[r,...h]=this.#t,[a,...c]=this.#s;h[0]===""&&(h.shift(),c.shift());const d=r+"/",b=a+"/";this.#t=[d,...h],this.#s=[b,...c],this.length=this.#t.length}}}pattern(){return this.#t[this.#r]}isString(){return typeof this.#t[this.#r]=="string"}isGlobstar(){return this.#t[this.#r]===mn.GLOBSTAR}isRegExp(){return this.#t[this.#r]instanceof RegExp}globString(){return this.#l=this.#l||(this.#r===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return this.#h!==void 0?this.#h:this.hasMore()?(this.#h=new os(this.#t,this.#s,this.#r+1,this.#i),this.#h.#o=this.#o,this.#h.#a=this.#a,this.#h.#f=this.#f,this.#h):this.#h=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#r===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#r===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#o!==void 0?this.#o:this.#o=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#r===0?t:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#r===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}Kt.Pattern=os;var vt={},ii={};const ni=typeof process=="object"&&process?process:{stdout:null,stderr:null},bn=fs,ri=us,yn=ds,oi=yn.StringDecoder,pt=Symbol("EOF"),mt=Symbol("maybeEmitEnd"),Et=Symbol("emittedEnd"),ye=Symbol("emittingEnd"),Zt=Symbol("emittedError"),Se=Symbol("closed"),hi=Symbol("read"),ve=Symbol("flush"),ai=Symbol("flushChunk"),tt=Symbol("encoding"),gt=Symbol("decoder"),Ee=Symbol("flowing"),Xt=Symbol("paused"),Lt=Symbol("resume"),x=Symbol("buffer"),ct=Symbol("pipes"),H=Symbol("bufferLength"),Ke=Symbol("bufferPush"),Ze=Symbol("bufferShift"),V=Symbol("objectMode"),$=Symbol("destroyed"),Xe=Symbol("error"),Qe=Symbol("emitData"),li=Symbol("emitEnd"),ts=Symbol("emitEnd2"),wt=Symbol("async"),es=Symbol("abort"),_e=Symbol("aborted"),At=Symbol("signal"),Qt=i=>Promise.resolve().then(i),ci=ot._MP_NO_ITERATOR_SYMBOLS_!=="1",fi=ci&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),ui=ci&&Symbol.iterator||Symbol("iterator not implemented"),Sn=i=>i==="end"||i==="finish"||i==="prefinish",vn=i=>i instanceof ArrayBuffer||typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,En=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i);class di{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[Lt](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class _n extends di{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=n=>e.emit("error",n),t.on("error",this.proxyErrors)}}class hs extends ri{constructor(t){super(),this[Ee]=!1,this[Xt]=!1,this[ct]=[],this[x]=[],this[V]=t&&t.objectMode||!1,this[V]?this[tt]=null:this[tt]=t&&t.encoding||null,this[tt]==="buffer"&&(this[tt]=null),this[wt]=t&&!!t.async||!1,this[gt]=this[tt]?new oi(this[tt]):null,this[pt]=!1,this[Et]=!1,this[ye]=!1,this[Se]=!1,this[Zt]=null,this.writable=!0,this.readable=!0,this[H]=0,this[$]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[x]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ct]}),this[At]=t&&t.signal,this[_e]=!1,this[At]&&(this[At].addEventListener("abort",()=>this[es]()),this[At].aborted&&this[es]())}get bufferLength(){return this[H]}get encoding(){return this[tt]}set encoding(t){if(this[V])throw new Error("cannot set encoding in objectMode");if(this[tt]&&t!==this[tt]&&(this[gt]&&this[gt].lastNeed||this[H]))throw new Error("cannot change encoding");this[tt]!==t&&(this[gt]=t?new oi(t):null,this[x].length&&(this[x]=this[x].map(e=>this[gt].write(e)))),this[tt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[V]}set objectMode(t){this[V]=this[V]||!!t}get async(){return this[wt]}set async(t){this[wt]=this[wt]||!!t}[es](){this[_e]=!0,this.emit("abort",this[At].reason),this.destroy(this[At].reason)}get aborted(){return this[_e]}set aborted(t){}write(t,e,s){if(this[_e])return!1;if(this[pt])throw new Error("write after end");if(this[$])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const n=this[wt]?Qt:r=>r();return!this[V]&&!Buffer.isBuffer(t)&&(En(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):vn(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[V]?(this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[tt]&&!this[gt].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[tt]&&(t=this[gt].write(t)),this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):(this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing)}read(t){if(this[$])return null;if(this[H]===0||t===0||t>this[H])return this[mt](),null;this[V]&&(t=null),this[x].length>1&&!this[V]&&(this.encoding?this[x]=[this[x].join("")]:this[x]=[Buffer.concat(this[x],this[H])]);const e=this[hi](t||null,this[x][0]);return this[mt](),e}[hi](t,e){return t===e.length||t===null?this[Ze]():(this[x][0]=e.slice(t),e=e.slice(0,t),this[H]-=t),this.emit("data",e),!this[x].length&&!this[pt]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[pt]=!0,this.writable=!1,(this.flowing||!this[Xt])&&this[mt](),this}[Lt](){this[$]||(this[Xt]=!1,this[Ee]=!0,this.emit("resume"),this[x].length?this[ve]():this[pt]?this[mt]():this.emit("drain"))}resume(){return this[Lt]()}pause(){this[Ee]=!1,this[Xt]=!0}get destroyed(){return this[$]}get flowing(){return this[Ee]}get paused(){return this[Xt]}[Ke](t){this[V]?this[H]+=1:this[H]+=t.length,this[x].push(t)}[Ze](){return this[V]?this[H]-=1:this[H]-=this[x][0].length,this[x].shift()}[ve](t){do;while(this[ai](this[Ze]())&&this[x].length);!t&&!this[x].length&&!this[pt]&&this.emit("drain")}[ai](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[$])return;const s=this[Et];return e=e||{},t===ni.stdout||t===ni.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ct].push(e.proxyErrors?new _n(this,t,e):new di(this,t,e)),this[wt]?Qt(()=>this[Lt]()):this[Lt]()),t}unpipe(t){const e=this[ct].find(s=>s.dest===t);e&&(this[ct].splice(this[ct].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ct].length&&!this.flowing?this[Lt]():t==="readable"&&this[H]!==0?super.emit("readable"):Sn(t)&&this[Et]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Zt]&&(this[wt]?Qt(()=>e.call(this,this[Zt])):e.call(this,this[Zt])),s}get emittedEnd(){return this[Et]}[mt](){!this[ye]&&!this[Et]&&!this[$]&&this[x].length===0&&this[pt]&&(this[ye]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Se]&&this.emit("close"),this[ye]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==$&&this[$])return;if(t==="data")return!this[V]&&!e?!1:this[wt]?Qt(()=>this[Qe](e)):this[Qe](e);if(t==="end")return this[li]();if(t==="close"){if(this[Se]=!0,!this[Et]&&!this[$])return;const r=super.emit("close");return this.removeAllListeners("close"),r}else if(t==="error"){this[Zt]=e,super.emit(Xe,e);const r=!this[At]||this.listeners("error").length?super.emit("error",e):!1;return this[mt](),r}else if(t==="resume"){const r=super.emit("resume");return this[mt](),r}else if(t==="finish"||t==="prefinish"){const r=super.emit(t);return this.removeAllListeners(t),r}const n=super.emit(t,e,...s);return this[mt](),n}[Qe](t){for(const s of this[ct])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[mt](),e}[li](){this[Et]||(this[Et]=!0,this.readable=!1,this[wt]?Qt(()=>this[ts]()):this[ts]())}[ts](){if(this[gt]){const e=this[gt].end();if(e){for(const s of this[ct])s.dest.write(e);super.emit("data",e)}}for(const e of this[ct])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[V]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[V]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[V]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[V]?Promise.reject(new Error("cannot concat in objectMode")):this[tt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on($,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[fi](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[pt])return e();let r=null,h=null;const a=g=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener($,b),e(),h(g)},c=g=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener($,b),this.pause(),r({value:g,done:!!this[pt]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener($,b),e(),r({done:!0})},b=()=>a(new Error("stream destroyed"));return new Promise((g,y)=>{h=y,r=g,this.once($,b),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:e,return:e,[fi](){return this}}}[ui](){let t=!1;const e=()=>(this.pause(),this.removeListener(Xe,e),this.removeListener($,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const n=this.read();return n===null?e():{value:n}};return this.once("end",e),this.once(Xe,e),this.once($,e),{next:s,throw:e,return:e,[ui](){return this}}}destroy(t){return this[$]?(t?this.emit("error",t):this.emit($),this):(this[$]=!0,this[x].length=0,this[H]=0,typeof this.close=="function"&&!this[Se]&&this.close(),t?this.emit("error",t):this.emit($),this)}static isStream(t){return!!t&&(t instanceof hs||t instanceof ri||t instanceof bn&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}ii.Minipass=hs;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Ignore=void 0;const pi=yt,On=Kt,Tn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Rn{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:n,noglobstar:r,platform:h=Tn}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const a={dot:!0,nobrace:e,nocase:s,noext:n,noglobstar:r,optimizationLevel:2,platform:h,nocomment:!0,nonegate:!0};for(const c of t){const d=new pi.Minimatch(c,a);for(let b=0;b<d.set.length;b++){const g=d.set[b],y=d.globParts[b],w=new On.Pattern(g,y,0,h),_=new pi.Minimatch(w.globString(),a),E=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),E&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,n=t.relative()||".",r=`${n}/`;for(const h of this.relative)if(h.match(n)||h.match(r))return!0;for(const h of this.absolute)if(h.match(e)||h.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const n of this.relativeChildren)if(n.match(s))return!0;for(const n of this.absoluteChildren)n.match(e);return!1}}Oe.Ignore=Rn;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.Processor=ft.SubWalks=ft.MatchRecord=ft.HasWalkedCache=void 0;const mi=yt;class Ce{store;constructor(t=new Map){this.store=t}copy(){return new Ce(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),n=this.store.get(s);n?n.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}ft.HasWalkedCache=Ce;class gi{store=new Map;add(t,e,s){const n=(e?2:0)|(s?1:0),r=this.store.get(t);this.store.set(t,r===void 0?n:n&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}ft.MatchRecord=gi;class wi{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(n=>n.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}ft.SubWalks=wi;class as{hasWalkedCache;matches=new gi;subwalks=new wi;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Ce}processPatterns(t,e){this.patterns=e;const s=e.map(n=>[t,n]);for(let[n,r]of s){this.hasWalkedCache.storeWalked(n,r);const h=r.root(),a=r.isAbsolute()&&this.opts.absolute!==!1;if(h){n=n.resolve(h==="/"&&this.opts.root!==void 0?this.opts.root:h);const g=r.rest();if(g)r=g;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let c,d,b=!1;for(;typeof(c=r.pattern())=="string"&&(d=r.rest());){const g=n.resolve(c);if(g.isUnknown()&&c!=="..")break;n=g,r=d,b=!0}if(c=r.pattern(),d=r.rest(),b){if(this.hasWalkedCache.hasWalked(n,r))continue;this.hasWalkedCache.storeWalked(n,r)}if(typeof c=="string"){if(d)this.subwalks.add(n,r);else{const g=c===".."||c===""||c===".";this.matches.add(n.resolve(c),a,g)}continue}else if(c===mi.GLOBSTAR){(!n.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(n,r);const g=d?.pattern(),y=d?.rest();if(!d||(g===""||g===".")&&!y)this.matches.add(n,a,g===""||g===".");else if(g===".."){const w=n.parent||n;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,a,!0)}}else c instanceof RegExp&&this.subwalks.add(n,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new as(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),n=this.child();for(const r of e)for(const h of s){const a=h.isAbsolute(),c=h.pattern(),d=h.rest();c===mi.GLOBSTAR?n.testGlobstar(r,h,d,a):c instanceof RegExp?n.testRegExp(r,c,d,a):n.testString(r,c,d,a)}return n}testGlobstar(t,e,s,n){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const r=s.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,s.rest(),n);else if(r===".."){const h=t.parent||t;this.subwalks.add(h,s)}else r instanceof RegExp&&this.testRegExp(t,r,s.rest(),n)}}testRegExp(t,e,s,n){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}testString(t,e,s,n){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}}ft.Processor=as,Object.defineProperty(vt,"__esModule",{value:!0}),vt.GlobStream=vt.GlobWalker=vt.GlobUtil=void 0;const Pn=ii,bi=Oe,yi=ft,An=(i,t)=>typeof i=="string"?new bi.Ignore([i],t):Array.isArray(i)?new bi.Ignore(i,t):i;class ss{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#r;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#r=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=An(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#h(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#r:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const r=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(r+n)}else{const r=this.opts.posix?t.relativePosix():t.relative(),h=this.opts.dotRelative&&!r.startsWith(".."+this.#r)?"."+this.#r:"";this.matchEmit(r?h+r+n:"."+n)}}async match(t,e,s){const n=await this.matchCheck(t,s);n&&this.matchFinish(n,e)}matchSync(t,e,s){const n=this.matchCheckSync(t,s);n&&this.matchFinish(n,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new yi.Processor(this.opts),s)}walkCB2(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirCached();a.calledReaddir()?this.walkCB3(a,c,s,h):a.readdirCB((d,b)=>this.walkCB3(a,b,s,h),!0)}h()}walkCB3(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const[a,c]of s.subwalks.entries())r++,this.walkCB2(a,c,s.child(),h);h()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new yi.Processor(this.opts),s)}walkCB2Sync(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirSync();this.walkCB3Sync(a,c,s,h)}h()}walkCB3Sync(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const[a,c]of s.subwalks.entries())r++,this.walkCB2Sync(a,c,s.child(),h);h()}}vt.GlobUtil=ss;class Cn extends ss{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}vt.GlobWalker=Cn;class Mn extends ss{results;constructor(t,e,s){super(t,e,s),this.results=new Pn.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}vt.GlobStream=Mn,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.Glob=void 0;const jn=yt,Te=B,Ln=De,Fn=Kt,Re=vt,Dn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class kn{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Ln.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(c=>c.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(c=>c.includes("/")?c:`./**/${c}`)}if(this.pattern=t,this.platform=e.platform||Dn,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const c=e.platform==="win32"?Te.PathScurryWin32:e.platform==="darwin"?Te.PathScurryDarwin:e.platform?Te.PathScurryPosix:Te.PathScurry;this.scurry=new c(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(c=>new jn.Minimatch(c,n)),[h,a]=r.reduce((c,d)=>(c[0].push(...d.set),c[1].push(...d.globParts),c),[[],[]]);this.patterns=h.map((c,d)=>new Fn.Pattern(c,a[d],0,this.platform))}async walk(){return[...await new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Gt.Glob=kn;var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.hasMagic=void 0;const Nn=yt,Bn=(i,t={})=>{Array.isArray(i)||(i=[i]);for(const e of i)if(new Nn.Minimatch(e,t).hasMagic())return!0;return!1};te.hasMagic=Bn,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.glob=i.hasMagic=i.Glob=i.unescape=i.escape=i.sync=i.iterate=i.iterateSync=i.stream=i.streamSync=i.globIterate=i.globIterateSync=i.globSync=i.globStream=i.globStreamSync=void 0;const t=yt,e=Gt,s=te;function n(w,_={}){return new e.Glob(w,_).streamSync()}i.globStreamSync=n;function r(w,_={}){return new e.Glob(w,_).stream()}i.globStream=r;function h(w,_={}){return new e.Glob(w,_).walkSync()}i.globSync=h;async function a(w,_={}){return new e.Glob(w,_).walk()}function c(w,_={}){return new e.Glob(w,_).iterateSync()}i.globIterateSync=c;function d(w,_={}){return new e.Glob(w,_).iterate()}i.globIterate=d,i.streamSync=n,i.stream=Object.assign(r,{sync:n}),i.iterateSync=c,i.iterate=Object.assign(d,{sync:c}),i.sync=Object.assign(h,{stream:n,iterate:c});var b=yt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Gt;Object.defineProperty(i,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=te;Object.defineProperty(i,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),i.glob=Object.assign(a,{glob:a,globSync:h,sync:i.sync,globStream:r,stream:i.stream,globStreamSync:n,streamSync:i.streamSync,globIterate:d,iterate:i.iterate,globIterateSync:c,iterateSync:i.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),i.glob.glob=i.glob}(Es);var is=Object.defineProperty,In=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyNames,xn=Object.prototype.hasOwnProperty,$n=(i,t)=>{for(var e in t)is(i,e,{get:t[e],enumerable:!0})},zn=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wn(t))!xn.call(i,n)&&n!==e&&is(i,n,{get:()=>t[n],enumerable:!(s=In(t,n))||s.enumerable});return i},Gn=i=>zn(is({},"__esModule",{value:!0}),i),Si={};$n(Si,{default:()=>Hn});var Un=Gn(Si);function Hn(i,t){return t?.allExtensions?i.replace(/\..+$/,""):i.replace(/\.[^.]+$/,"")}var qn=Object.create,Pe=Object.defineProperty,Vn=Object.getOwnPropertyDescriptor,Yn=Object.getOwnPropertyNames,Jn=Object.getPrototypeOf,Kn=Object.prototype.hasOwnProperty,Zn=(i,t)=>{for(var e in t)Pe(i,e,{get:t[e],enumerable:!0})},vi=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Yn(t))!Kn.call(i,n)&&n!==e&&Pe(i,n,{get:()=>t[n],enumerable:!(s=Vn(t,n))||s.enumerable});return i},Ei=(i,t,e)=>(e=i!=null?qn(Jn(i)):{},vi(t||!i||!i.__esModule?Pe(e,"default",{value:i,enumerable:!0}):e,i)),Xn=i=>vi(Pe({},"__esModule",{value:!0}),i),_i={};Zn(_i,{getMonorepoDirpath:()=>er});var Qn=Xn(_i),ns=Ei(ke),Ae=Ei(U),tr=De;function er(i=process.cwd()){i=i.startsWith("file://")?(0,tr.fileURLToPath)(i):i,ns.statSync(i).isFile()&&(i=Ae.default.dirname(i));let t;for(;i!=="/";){const e=ns.existsSync(Ae.default.join(i,"pnpm-workspace.yaml"));if(ns.existsSync(Ae.default.join(i,"pnpm-lock.yaml"))&&(t=i),e)return i;i=Ae.default.dirname(i)}return t}const Ft=U,{globSync:sr}=Es,Oi=Un,{getMonorepoDirpath:ir}=Qn;var nr=function(){const t=ir(__dirname);if(t===void 0)throw new Error("Could not find monorepo directory");const e=s=>`__${s.replaceAll(/[^\w$]/g,"_")}`;return function(s){if(Ft.basename(s).startsWith("__virtual__:")){const n=(Oi.default??Oi)(Ft.basename(s).replace("__virtual__:","")),r=Ft.dirname(s),h=sr(r,{absolute:!0}),a=[];switch(n){case"files":{for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`import * as ${b} from ${JSON.stringify(c)};`)}a.push("export default {");for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`${JSON.stringify(d)}: ${b},`)}a.push("};");break}case"matches":{a.push(...h.map(c=>`export * from ${JSON.stringify(c)};`));break}case"filepaths":{a.push("export default {");for(const c of h){const d=Ft.relative(t,c);a.push(`${JSON.stringify(d)}: true,`)}a.push("};");break}default:throw new Error(`Unknown virtual file type: ${n}`)}return a.push("export {};"),a.join(`
+`)}else return readFile(s)}},rr=Ci(nr);module.exports=rr;
+;return module.exports()})({}),
             writeFile: writeFile2,
             watchFile: watchFile2,
             watchDirectory,
             resolvePath: (path) => _path.resolve(path),
-            fileExists,
-            directoryExists,
+            fileExists: ((module) => {"use strict";var t=require("node:path");function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const s=t;var i=function(){return function(r){return s.basename(r).startsWith("__virtual__:")?!0:fileExists(r)}},u=a(i);module.exports=u;
+;return module.exports()})({}),
+            directoryExists: ((module) => {"use strict";var Xs=require("path"),Ve=require("url"),Ye=require("fs"),Qs=require("fs/promises"),Ke=require("events"),Je=require("stream"),Ze=require("string_decoder"),it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ti(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xe={},mt={},ei=Qe;function Qe(r,t,e){r instanceof RegExp&&(r=ts(r,e)),t instanceof RegExp&&(t=ts(t,e));var s=es(r,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+r.length,s[1]),post:e.slice(s[1]+t.length)}}function ts(r,t){var e=t.match(r);return e?e[0]:null}Qe.range=es;function es(r,t,e){var s,i,n,o,c,l=e.indexOf(r),p=e.indexOf(t,l+1),b=l;if(l>=0&&p>0){if(r===t)return[l,p];for(s=[],n=e.length;b>=0&&!c;)b==l?(s.push(b),l=e.indexOf(r,b+1)):s.length==1?c=[s.pop(),p]:(i=s.pop(),i<n&&(n=i,o=p),p=e.indexOf(t,b+1)),b=l<p&&l>=0?l:p;s.length&&(c=[n,o])}return c}var ss=ei,si=ni,is="\0SLASH"+Math.random()+"\0",rs="\0OPEN"+Math.random()+"\0",Oe="\0CLOSE"+Math.random()+"\0",ns="\0COMMA"+Math.random()+"\0",hs="\0PERIOD"+Math.random()+"\0";function Te(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function ii(r){return r.split("\\\\").join(is).split("\\{").join(rs).split("\\}").join(Oe).split("\\,").join(ns).split("\\.").join(hs)}function ri(r){return r.split(is).join("\\").split(rs).join("{").split(Oe).join("}").split(ns).join(",").split(hs).join(".")}function os(r){if(!r)return[""];var t=[],e=ss("{","}",r);if(!e)return r.split(",");var s=e.pre,i=e.body,n=e.post,o=s.split(",");o[o.length-1]+="{"+i+"}";var c=os(n);return n.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),t.push.apply(t,o),t}function ni(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),Lt(ii(r),!0).map(ri)):[]}function hi(r){return"{"+r+"}"}function oi(r){return/^-?0\d/.test(r)}function ai(r,t){return r<=t}function li(r,t){return r>=t}function Lt(r,t){var e=[],s=ss("{","}",r);if(!s)return[r];var i=s.pre,n=s.post.length?Lt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<n.length;o++){var c=i+"{"+s.body+"}"+n[o];e.push(c)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),p=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=l||p,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(r=s.pre+"{"+s.body+Oe+s.post,Lt(r)):[r];var y;if(b)y=s.body.split(/\.\./);else if(y=os(s.body),y.length===1&&(y=Lt(y[0],!1).map(hi),y.length===1))return n.map(function(st){return s.pre+y[0]+st});var w;if(b){var _=Te(y[0]),v=Te(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs(Te(y[2])):1,A=ai,P=v<_;P&&(O*=-1,A=li);var R=y.some(oi);w=[];for(var F=_;A(F,v);F+=O){var k;if(p)k=String.fromCharCode(F),k==="\\"&&(k="");else if(k=String(F),R){var D=T-k.length;if(D>0){var I=new Array(D+1).join("0");F<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Lt(y[L],!1))}for(var L=0;L<w.length;L++)for(var o=0;o<n.length;o++){var c=i+w[L]+n[o];(!t||b||c)&&e.push(c)}}return e}var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.assertValidPattern=void 0;const ci=1024*64,fi=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>ci)throw new TypeError("pattern is too long")};Qt.assertValidPattern=fi;var jt={},te={};Object.defineProperty(te,"__esModule",{value:!0}),te.parseClass=void 0;const ui={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ft=r=>r.replace(/[[\]\\-]/g,"\\$&"),di=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),as=r=>r.join(""),pi=(r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],i=[];let n=e+1,o=!1,c=!1,l=!1,p=!1,b=e,g="";t:for(;n<r.length;){const v=r.charAt(n);if((v==="!"||v==="^")&&n===e+1){p=!0,n++;continue}if(v==="]"&&o&&!l){b=n+1;break}if(o=!0,v==="\\"&&!l){l=!0,n++;continue}if(v==="["&&!l){for(const[T,[O,A,P]]of Object.entries(ui))if(r.startsWith(T,n)){if(g)return["$.",!1,r.length-e,!0];n+=T.length,P?i.push(O):s.push(O),c=c||A;continue t}}if(l=!1,g){v>g?s.push(Ft(g)+"-"+Ft(v)):v===g&&s.push(Ft(v)),g="",n++;continue}if(r.startsWith("-]",n+1)){s.push(Ft(v+"-")),n+=2;continue}if(r.startsWith("-",n+1)){g=v,n+=2;continue}s.push(Ft(v)),n++}if(b<n)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,r.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!p){const v=s[0].length===2?s[0].slice(-1):s[0];return[di(v),!1,b-e,!1]}const y="["+(p?"^":"")+as(s)+"]",w="["+(p?"":"^")+as(i)+"]";return[s.length&&i.length?"("+y+"|"+w+")":s.length?y:w,c,b-e,!0]};te.parseClass=pi;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.unescape=void 0;const mi=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Rt.unescape=mi,Object.defineProperty(jt,"__esModule",{value:!0}),jt.AST=void 0;const gi=te,ee=Rt,wi=new Set(["!","?","+","*","@"]),ls=r=>wi.has(r),bi="(?!(?:^|/)\\.\\.?(?:$|/))",se="(?!\\.)",yi=new Set(["[","."]),Si=new Set(["..","."]),Ei=new Set("().*{}+?[]^$\\!"),vi=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Re="[^/]",cs=Re+"*?",fs=Re+"+?";class X{type;#t;#s;#n=!1;#i=[];#o;#l;#f;#a=!1;#h;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#o=e,this.#t=this.#o?this.#o.#t:this,this.#h=this.#t===this?s:this.#t.#h,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#o?this.#o.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#o;for(;s;){for(let i=e.#l+1;!s.type&&i<s.#i.length;i++)for(const n of t.#i){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#i[i])}e=s,s=e.#o}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof X&&e.#o===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#o?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#o?.isStart())return!1;if(this.#l===0)return!0;const t=this.#o;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof X&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();const t=this.#o?this.#o.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new X(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,i){let n=!1,o=!1,c=-1,l=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const v=t.charAt(w++);if(n||v==="\\"){n=!n,_+=v;continue}if(o){w===c+1?(v==="^"||v==="!")&&(l=!0):v==="]"&&!(w===c+2&&l)&&(o=!1),_+=v;continue}else if(v==="["){o=!0,c=w,l=!1,_+=v;continue}if(!i.noext&&ls(v)&&t.charAt(w)==="("){e.push(_),_="";const T=new X(v,e);w=X.#d(t,T,w,i),e.push(T);continue}_+=v}return e.push(_),w}let p=s+1,b=new X(null,e);const g=[];let y="";for(;p<t.length;){const w=t.charAt(p++);if(n||w==="\\"){n=!n,y+=w;continue}if(o){p===c+1?(w==="^"||w==="!")&&(l=!0):w==="]"&&!(p===c+2&&l)&&(o=!1),y+=w;continue}else if(w==="["){o=!0,c=p,l=!1,y+=w;continue}if(ls(w)&&t.charAt(p)==="("){b.push(y),y="";const _=new X(w,b);b.push(_),p=X.#d(t,_,p,i);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new X(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),p;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],p}static fromGlob(t,e={}){const s=new X(null,void 0,e);return X.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,i,n]=this.toRegExpSource();if(!(i||this.#s||this.#h.nocase&&!this.#h.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const c=(this.#h.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,c),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#h.dot;if(this.#t===this&&this.#w(),!this.type){const l=this.isStart()&&this.isEnd(),p=this.#i.map(w=>{const[_,v,T,O]=typeof w=="string"?X.#y(w,this.#s,l):w.toRegExpSource(t);return this.#s=this.#s||T,this.#n=this.#n||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&Si.has(this.#i[0]))){const _=yi,v=e&&_.has(p.charAt(0))||p.startsWith("\\.")&&_.has(p.charAt(2))||p.startsWith("\\.\\.")&&_.has(p.charAt(4)),T=!e&&!t&&_.has(p.charAt(0));b=v?bi:T?se:""}let g="";return this.isEnd()&&this.#t.#a&&this.#o?.type==="!"&&(g="(?:$|\\/)"),[b+p+g,(0,ee.unescape)(p),this.#s=!!this.#s,this.#n]}const s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let n=this.#u(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){const l=this.toString();return this.#i=[l],this.type=null,this.#s=void 0,[l,(0,ee.unescape)(this.toString()),!1,!1]}let o=!s||t||e||!se?"":this.#u(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let c="";if(this.type==="!"&&this.#m)c=(this.isStart()&&!e?se:"")+fs;else{const l=this.type==="!"?"))"+(this.isStart()&&!e&&!t?se:"")+cs+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;c=i+n+l}return[c,(0,ee.unescape)(n),this.#s=!!this.#s,this.#n]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,i,n,o]=e.toRegExpSource(t);return this.#n=this.#n||o,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let i=!1,n="",o=!1;for(let c=0;c<t.length;c++){const l=t.charAt(c);if(i){i=!1,n+=(Ei.has(l)?"\\":"")+l;continue}if(l==="\\"){c===t.length-1?n+="\\\\":i=!0;continue}if(l==="["){const[p,b,g,y]=(0,gi.parseClass)(t,c);if(g){n+=p,o=o||b,c+=g-1,e=e||y;continue}}if(l==="*"){s&&t==="*"?n+=fs:n+=cs,e=!0;continue}if(l==="?"){n+=Re,e=!0;continue}n+=vi(l)}return[n,(0,ee.unescape)(t),!!e,o]}}jt.AST=X;var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.escape=void 0;const _i=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");kt.escape=_i,function(r){var t=it&&it.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.unescape=r.escape=r.AST=r.Minimatch=r.match=r.makeRe=r.braceExpand=r.defaults=r.filter=r.GLOBSTAR=r.sep=r.minimatch=void 0;const e=t(si),s=Qt,i=jt,n=kt,o=Rt,c=(S,a,d={})=>((0,s.assertValidPattern)(a),!d.nocomment&&a.charAt(0)==="#"?!1:new Et(a,d).match(S));r.minimatch=c;const l=/^\*+([^+@!?\*\[\(]*)$/,p=S=>a=>!a.startsWith(".")&&a.endsWith(S),b=S=>a=>a.endsWith(S),g=S=>(S=S.toLowerCase(),a=>!a.startsWith(".")&&a.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),a=>a.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),v=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),A=/^\*+$/,P=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",F=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,a=""])=>{const d=st([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},D=([S,a=""])=>{const d=yt([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},I=([S,a=""])=>{const d=yt([S]);return a?m=>d(m)&&m.endsWith(a):d},L=([S,a=""])=>{const d=st([S]);return a?m=>d(m)&&m.endsWith(a):d},st=([S])=>{const a=S.length;return d=>d.length===a&&!d.startsWith(".")},yt=([S])=>{const a=S.length;return d=>d.length===a&&d!=="."&&d!==".."},z=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};r.sep=z==="win32"?N.win32.sep:N.posix.sep,r.minimatch.sep=r.sep,r.GLOBSTAR=Symbol("globstar **"),r.minimatch.GLOBSTAR=r.GLOBSTAR;const Pt="[^/]"+"*?",Zt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Mt="(?:(?!(?:\\/|^)\\.).)*?",Q=(S,a={})=>d=>(0,r.minimatch)(d,S,a);r.filter=Q,r.minimatch.filter=r.filter;const q=(S,a={})=>Object.assign({},S,a),Ot=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return r.minimatch;const a=r.minimatch;return Object.assign((m,f,h={})=>a(m,f,q(S,h)),{Minimatch:class extends a.Minimatch{constructor(f,h={}){super(f,q(S,h))}static defaults(f){return a.defaults(q(S,f)).Minimatch}},AST:class extends a.AST{constructor(f,h,u={}){super(f,h,q(S,u))}static fromGlob(f,h={}){return a.AST.fromGlob(f,q(S,h))}},unescape:(m,f={})=>a.unescape(m,q(S,f)),escape:(m,f={})=>a.escape(m,q(S,f)),filter:(m,f={})=>a.filter(m,q(S,f)),defaults:m=>a.defaults(q(S,m)),makeRe:(m,f={})=>a.makeRe(m,q(S,f)),braceExpand:(m,f={})=>a.braceExpand(m,q(S,f)),match:(m,f,h={})=>a.match(m,f,q(S,h)),sep:a.sep,GLOBSTAR:r.GLOBSTAR})};r.defaults=Ot,r.minimatch.defaults=r.defaults;const St=(S,a={})=>((0,s.assertValidPattern)(S),a.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));r.braceExpand=St,r.minimatch.braceExpand=r.braceExpand;const lt=(S,a={})=>new Et(S,a).makeRe();r.makeRe=lt,r.minimatch.makeRe=r.makeRe;const V=(S,a,d={})=>{const m=new Et(a,d);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(a),S};r.match=V,r.minimatch.match=r.match;const pt=/[?*]|[+@!]\(.*?\)|\[|\]/,Se=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Et{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(a,d={}){(0,s.assertValidPattern)(a),d=d||{},this.options=d,this.pattern=a,this.platform=d.platform||z,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!d.windowsPathsNoEscape||d.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!d.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!d.nonegate,this.comment=!1,this.empty=!1,this.partial=!!d.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=d.windowsNoMagicRoot!==void 0?d.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const a of this.set)for(const d of a)if(typeof d!="string")return!0;return!1}debug(...a){}make(){const a=this.pattern,d=this.options;if(!d.nocomment&&a.charAt(0)==="#"){this.comment=!0;return}if(!a){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],d.debug&&(this.debug=(...h)=>console.error(...h)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(h=>this.slashSplit(h));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((h,u,E)=>{if(this.isWindows&&this.windowsNoMagicRoot){const C=h[0]===""&&h[1]===""&&(h[2]==="?"||!pt.test(h[2]))&&!pt.test(h[3]),M=/^[a-z]:/i.test(h[0]);if(C)return[...h.slice(0,4),...h.slice(4).map(j=>this.parse(j))];if(M)return[h[0],...h.slice(1).map(j=>this.parse(j))]}return h.map(C=>this.parse(C))});if(this.debug(this.pattern,f),this.set=f.filter(h=>h.indexOf(!1)===-1),this.isWindows)for(let h=0;h<this.set.length;h++){const u=this.set[h];u[0]===""&&u[1]===""&&this.globParts[h][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(a){if(this.options.noglobstar)for(let m=0;m<a.length;m++)for(let f=0;f<a[m].length;f++)a[m][f]==="**"&&(a[m][f]="*");const{optimizationLevel:d=1}=this.options;return d>=2?(a=this.firstPhasePreProcess(a),a=this.secondPhasePreProcess(a)):d>=1?a=this.levelOneOptimize(a):a=this.adjascentGlobstarOptimize(a),a}adjascentGlobstarOptimize(a){return a.map(d=>{let m=-1;for(;(m=d.indexOf("**",m+1))!==-1;){let f=m;for(;d[f+1]==="**";)f++;f!==m&&d.splice(m,f-m)}return d})}levelOneOptimize(a){return a.map(d=>(d=d.reduce((m,f)=>{const h=m[m.length-1];return f==="**"&&h==="**"?m:f===".."&&h&&h!==".."&&h!=="."&&h!=="**"?(m.pop(),m):(m.push(f),m)},[]),d.length===0?[""]:d))}levelTwoFileOptimize(a){Array.isArray(a)||(a=this.slashSplit(a));let d=!1;do{if(d=!1,!this.preserveMultipleSlashes){for(let f=1;f<a.length-1;f++){const h=a[f];f===1&&h===""&&a[0]===""||(h==="."||h==="")&&(d=!0,a.splice(f,1),f--)}a[0]==="."&&a.length===2&&(a[1]==="."||a[1]==="")&&(d=!0,a.pop())}let m=0;for(;(m=a.indexOf("..",m+1))!==-1;){const f=a[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(d=!0,a.splice(m-1,2),m-=2)}}while(d);return a.length===0?[""]:a}firstPhasePreProcess(a){let d=!1;do{d=!1;for(let m of a){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let E=m[f+1];const C=m[f+2],M=m[f+3];if(E!==".."||!C||C==="."||C===".."||!M||M==="."||M==="..")continue;d=!0,m.splice(f,1);const j=m.slice(0);j[f]="**",a.push(j),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const E=m[u];u===1&&E===""&&m[0]===""||(E==="."||E==="")&&(d=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(d=!0,m.pop())}let h=0;for(;(h=m.indexOf("..",h+1))!==-1;){const u=m[h-1];if(u&&u!=="."&&u!==".."&&u!=="**"){d=!0;const C=h===1&&m[h+1]==="**"?["."]:[];m.splice(h-1,2,...C),m.length===0&&m.push(""),h-=2}}}}while(d);return a}secondPhasePreProcess(a){for(let d=0;d<a.length-1;d++)for(let m=d+1;m<a.length;m++){const f=this.partsMatch(a[d],a[m],!this.preserveMultipleSlashes);f&&(a[d]=f,a[m]=[])}return a.filter(d=>d.length)}partsMatch(a,d,m=!1){let f=0,h=0,u=[],E="";for(;f<a.length&&h<d.length;)if(a[f]===d[h])u.push(E==="b"?d[h]:a[f]),f++,h++;else if(m&&a[f]==="**"&&d[h]===a[f+1])u.push(a[f]),f++;else if(m&&d[h]==="**"&&a[f]===d[h+1])u.push(d[h]),h++;else if(a[f]==="*"&&d[h]&&(this.options.dot||!d[h].startsWith("."))&&d[h]!=="**"){if(E==="b")return!1;E="a",u.push(a[f]),f++,h++}else if(d[h]==="*"&&a[f]&&(this.options.dot||!a[f].startsWith("."))&&a[f]!=="**"){if(E==="a")return!1;E="b",u.push(d[h]),f++,h++}else return!1;return a.length===d.length&&u}parseNegate(){if(this.nonegate)return;const a=this.pattern;let d=!1,m=0;for(let f=0;f<a.length&&a.charAt(f)==="!";f++)d=!d,m++;m&&(this.pattern=a.slice(m)),this.negate=d}matchOne(a,d,m=!1){const f=this.options;if(this.isWindows){const J=typeof a[0]=="string"&&/^[a-z]:$/i.test(a[0]),_e=!J&&a[0]===""&&a[1]===""&&a[2]==="?"&&/^[a-z]:$/i.test(a[3]),He=typeof d[0]=="string"&&/^[a-z]:$/i.test(d[0]),Js=!He&&d[0]===""&&d[1]===""&&d[2]==="?"&&typeof d[3]=="string"&&/^[a-z]:$/i.test(d[3]),Dt=_e?3:J?0:void 0,Tt=Js?3:He?0:void 0;if(typeof Dt=="number"&&typeof Tt=="number"){const[qe,Zs]=[a[Dt],d[Tt]];qe.toLowerCase()===Zs.toLowerCase()&&(d[Tt]=qe,Tt>Dt?d=d.slice(Tt):Dt>Tt&&(a=a.slice(Dt)))}}const{optimizationLevel:h=1}=this.options;h>=2&&(a=this.levelTwoFileOptimize(a)),this.debug("matchOne",this,{file:a,pattern:d}),this.debug("matchOne",a.length,d.length);for(var u=0,E=0,C=a.length,M=d.length;u<C&&E<M;u++,E++){this.debug("matchOne loop");var j=d[E],W=a[u];if(this.debug(d,j,W),j===!1)return!1;if(j===r.GLOBSTAR){this.debug("GLOBSTAR",[d,j,W]);var $=u,K=E+1;if(K===M){for(this.debug("** at the end");u<C;u++)if(a[u]==="."||a[u]===".."||!f.dot&&a[u].charAt(0)===".")return!1;return!0}for(;$<C;){var nt=a[$];if(this.debug(`
+globstar while`,a,$,d,K,nt),this.matchOne(a.slice($),d.slice(K),m))return this.debug("globstar found match!",$,C,nt),!0;if(nt==="."||nt===".."||!f.dot&&nt.charAt(0)==="."){this.debug("dot detected!",a,$,d,K);break}this.debug("globstar swallow a segment, and continue"),$++}return!!(m&&(this.debug(`
+>>> no match, partial?`,a,$,d,K),$===C))}let J;if(typeof j=="string"?(J=W===j,this.debug("string match",j,W,J)):(J=j.test(W),this.debug("pattern match",j,W,J)),!J)return!1}if(u===C&&E===M)return!0;if(u===C)return m;if(E===M)return u===C-1&&a[u]==="";throw new Error("wtf?")}braceExpand(){return(0,r.braceExpand)(this.pattern,this.options)}parse(a){(0,s.assertValidPattern)(a);const d=this.options;if(a==="**")return r.GLOBSTAR;if(a==="")return"";let m,f=null;(m=a.match(A))?f=d.dot?R:P:(m=a.match(l))?f=(d.nocase?d.dot?y:g:d.dot?b:p)(m[1]):(m=a.match(F))?f=(d.nocase?d.dot?D:k:d.dot?I:L)(m):(m=a.match(w))?f=d.dot?v:_:(m=a.match(T))&&(f=O);const h=i.AST.fromGlob(a,this.options).toMMPattern();return f?Object.assign(h,{test:f}):h}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const a=this.set;if(!a.length)return this.regexp=!1,this.regexp;const d=this.options,m=d.noglobstar?Pt:d.dot?Zt:Mt,f=new Set(d.nocase?["i"]:[]);let h=a.map(C=>{const M=C.map(j=>{if(j instanceof RegExp)for(const W of j.flags.split(""))f.add(W);return typeof j=="string"?Se(j):j===r.GLOBSTAR?r.GLOBSTAR:j._src});return M.forEach((j,W)=>{const $=M[W+1],K=M[W-1];j!==r.GLOBSTAR||K===r.GLOBSTAR||(K===void 0?$!==void 0&&$!==r.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+$:M[W]=m:$===void 0?M[W-1]=K+"(?:\\/|"+m+")?":$!==r.GLOBSTAR&&(M[W-1]=K+"(?:\\/|\\/"+m+"\\/)"+$,M[W+1]=r.GLOBSTAR))}),M.filter(j=>j!==r.GLOBSTAR).join("/")}).join("|");const[u,E]=a.length>1?["(?:",")"]:["",""];h="^"+u+h+E+"$",this.negate&&(h="^(?!"+h+").+$");try{this.regexp=new RegExp(h,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(a){return this.preserveMultipleSlashes?a.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(a)?["",...a.split(/\/+/)]:a.split(/\/+/)}match(a,d=this.partial){if(this.debug("match",a,this.pattern),this.comment)return!1;if(this.empty)return a==="";if(a==="/"&&d)return!0;const m=this.options;this.isWindows&&(a=a.split("\\").join("/"));const f=this.slashSplit(a);this.debug(this.pattern,"split",f);const h=this.set;this.debug(this.pattern,"set",h);let u=f[f.length-1];if(!u)for(let E=f.length-2;!u&&E>=0;E--)u=f[E];for(let E=0;E<h.length;E++){const C=h[E];let M=f;if(m.matchBase&&C.length===1&&(M=[u]),this.matchOne(M,C,d))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(a){return r.minimatch.defaults(a).Minimatch}}r.Minimatch=Et;var Ee=jt;Object.defineProperty(r,"AST",{enumerable:!0,get:function(){return Ee.AST}});var ve=kt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return ve.escape}});var Xt=Rt;Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return Xt.unescape}}),r.minimatch.AST=i.AST,r.minimatch.Minimatch=Et,r.minimatch.escape=n.escape,r.minimatch.unescape=o.unescape}(mt);var Nt={},B={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.LRUCache=void 0;const Bt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,us=new Set,Ae=typeof process=="object"&&process?process:{},ds=(r,t,e,s)=>{typeof Ae.emitWarning=="function"?Ae.emitWarning(r,t,e,s):console.error(`[${e}] ${t}: ${r}`)};let re=globalThis.AbortController,ps=globalThis.AbortSignal;if(typeof re>"u"){ps=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,i){this._onabort.push(i)}},re=class{constructor(){t()}signal=new ps;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const i of this.signal._onabort)i(s);this.signal.onabort?.(s)}}};let r=Ae.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{r&&(r=!1,ds("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Oi=r=>!us.has(r),gt=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),ms=r=>gt(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?ne:null:null;class ne extends Array{constructor(t){super(t),this.fill(0)}}class Ct{heap;length;static#t=!1;static create(t){const e=ms(t);if(!e)return[];Ct.#t=!0;const s=new Ct(t,e);return Ct.#t=!1,s}constructor(t,e){if(!Ct.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class xe{#t;#s;#n;#i;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#h;#e;#m;#w;#d;#u;#y;#g;#C;#P;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#P,ttls:t.#O,sizes:t.#C,keyMap:t.#a,keyList:t.#h,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,i,n)=>t.#F(e,s,i,n),moveToTail:e=>t.#j(e),indexes:e=>t.#_(e),rindexes:e=>t.#A(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#o}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:c,allowStale:l,dispose:p,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:v,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:R,ignoreFetchAbort:F}=t;if(e!==0&&!gt(e))throw new TypeError("max option must be a nonnegative integer");const k=e?ms(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=v,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=T,this.#R=!!T,this.#a=new Map,this.#h=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Ct.create(e),this.#l=0,this.#f=0,typeof p=="function"&&(this.#n=p),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#n,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!P,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!F,this.maxEntrySize!==0){if(this.#s!==0&&!gt(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!gt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#D()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!c,this.ttlResolution=gt(i)||i===0?i:1,this.ttlAutopurge=!!n,this.ttl=s||0,this.ttl){if(!gt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const D="LRU_CACHE_UNBOUNDED";Oi(D)&&(us.add(D),ds("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,xe))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new ne(this.#t),e=new ne(this.#t);this.#O=t,this.#P=e,this.#r=(n,o,c=Bt.now())=>{if(e[n]=o!==0?c:0,t[n]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{this.#b(n)&&this.delete(this.#h[n])},o+1);l.unref&&l.unref()}},this.#T=n=>{e[n]=t[n]!==0?Bt.now():0},this.#E=(n,o)=>{if(t[o]){const c=t[o],l=e[o];n.ttl=c,n.start=l,n.now=s||i();const p=n.now-l;n.remainingTTL=c-p}};let s=0;const i=()=>{const n=Bt.now();if(this.ttlResolution>0){s=n;const o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{const o=this.#a.get(n);if(o===void 0)return 0;const c=t[o],l=e[o];if(c===0||l===0)return 1/0;const p=(s||i())-l;return c-p},this.#b=n=>t[n]!==0&&e[n]!==0&&(s||i())-e[n]>t[n]}#T=()=>{};#E=()=>{};#r=()=>{};#b=()=>!1;#D(){const t=new ne(this.#t);this.#f=0,this.#C=t,this.#v=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,i,n)=>{if(this.#c(s))return 0;if(!gt(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(s,e),!gt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#k=(e,s,i)=>{if(t[e]=s,this.#s){const n=this.#s-t[e];for(;this.#f>n;)this.#L(!0)}this.#f+=t[e],i&&(i.entrySize=s,i.totalCalculatedSize=this.#f)}}#v=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#A({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#h[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*rentries(){for(const t of this.#A())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#A()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#A())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;if(n!==void 0&&t(n,this.#h[s],this))return this.get(this.#h[s],e)}}forEach(t,e=this){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}rforEach(t,e=this){for(const s of this.#A()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}purgeStale(){let t=!1;for(const e of this.#A({allowStale:!0}))this.#b(e)&&(this.delete(this.#h[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#h[e],i=this.#e[e],n=this.#c(i)?i.__staleWhileFetching:i;if(n===void 0||s===void 0)continue;const o={value:n};if(this.#O&&this.#P){o.ttl=this.#O[e];const c=Bt.now()-this.#P[e];o.start=Math.floor(Date.now()-c)}this.#C&&(o.size=this.#C[e]),t.unshift([s,o])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const i=Date.now()-s.start;s.start=Bt.now()-i}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:l}=s;let{noUpdateTTL:p=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,c);if(this.maxEntrySize&&b>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#h[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,l),l&&(l.set="add"),p=!1;else{this.#j(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):o||(this.#S&&this.#n?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#v(g),this.#k(g,b,l),this.#e[g]=e,l){l.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(l.oldValue=w)}}else l&&(l.set="update")}if(i!==0&&!this.#O&&this.#M(),this.#O&&(p||this.#r(g,i,n),l&&this.#E(l,g)),!o&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#h[e],i=this.#e[e];return this.#R&&this.#c(i)?i.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,s,"evict"),this.#p&&this.#g?.push([i,s,"evict"])),this.#v(e),t&&(this.#h[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=e,n=this.#a.get(t);if(n!==void 0){const o=this.#e[n];if(this.#c(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(n))i&&(i.has="stale",this.#E(i,n));else return s&&this.#T(n),i&&(i.has="hit",this.#E(i,n)),!0}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,i=this.#a.get(t);if(i!==void 0&&(s||!this.#b(i))){const n=this.#e[i];return this.#c(n)?n.__staleWhileFetching:n}}#F(t,e,s,i){const n=e===void 0?void 0:this.#e[e];if(this.#c(n))return n;const o=new re,{signal:c}=s;c?.addEventListener("abort",()=>o.abort(c.reason),{signal:o.signal});const l={signal:o.signal,options:s,context:i},p=(v,T=!1)=>{const{aborted:O}=o.signal,A=s.ignoreFetchAbort&&v!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,A&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!A&&!T)return g(o.signal.reason);const P=w;return this.#e[e]===w&&(v===void 0?P.__staleWhileFetching?this.#e[e]=P.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,v,l.options))),v},b=v=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=v),g(v)),g=v=>{const{aborted:T}=o.signal,O=T&&s.allowStaleOnFetchAbort,A=O||s.allowStaleOnFetchRejection,P=A||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!P||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),A)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw v},y=(v,T)=>{const O=this.#o?.(t,n,l);O&&O instanceof Promise&&O.then(A=>v(A===void 0?void 0:A),T),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(v(void 0),s.allowStaleOnFetchAbort&&(v=A=>p(A,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(p,b),_=Object.assign(w,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,_,{...l.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof re}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:v,forceRefresh:T=!1,status:O,signal:A}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:O});const P={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:c,size:l,sizeCalculation:p,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:A};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const F=this.#F(t,R,P,v);return F.__returned=F}else{const F=this.#e[R];if(this.#c(F)){const st=s&&F.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",st&&(O.returnedStale=!0)),st?F.__staleWhileFetching:F.__returned=F}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#j(R),i&&this.#T(R),O&&this.#E(O,R),F;const D=this.#F(t,R,P,v),L=D.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?D.__staleWhileFetching:D.__returned=D}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,c=this.#a.get(t);if(c!==void 0){const l=this.#e[c],p=this.#c(l);return o&&this.#E(o,c),this.#b(c)?(o&&(o.get="stale"),p?(o&&s&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?l.__staleWhileFetching:void 0):(n||this.delete(t),o&&s&&(o.returnedStale=!0),s?l:void 0)):(o&&(o.get="hit"),p?l.__staleWhileFetching:(this.#j(c),i&&this.#T(c),l))}else o&&(o.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#j(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#v(s);const i=this.#e[s];this.#c(i)?i.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,t,"delete"),this.#p&&this.#g?.push([i,t,"delete"])),this.#a.delete(t),this.#h[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let i;for(;i=s?.shift();)this.#i?.(...i)}return e}clear(){for(const t of this.#A({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#h[t];this.#S&&this.#n?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#h.fill(void 0),this.#O&&this.#P&&(this.#O.fill(0),this.#P.fill(0)),this.#C&&this.#C.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}ie.LRUCache=xe;var gs={};(function(r){var t=it&&it.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(r,"__esModule",{value:!0}),r.Minipass=r.isWritable=r.isReadable=r.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=Ke,i=t(Je),n=Ze,o=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof i.default||(0,r.isReadable)(f)||(0,r.isWritable)(f));r.isStream=o;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==i.default.Writable.prototype.pipe;r.isReadable=c;const l=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";r.isWritable=l;const p=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),v=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),A=Symbol("encoding"),P=Symbol("decoder"),R=Symbol("flowing"),F=Symbol("paused"),k=Symbol("resume"),D=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),st=Symbol("bufferPush"),yt=Symbol("bufferShift"),z=Symbol("objectMode"),N=Symbol("destroyed"),Jt=Symbol("error"),Pt=Symbol("emitData"),Zt=Symbol("emitEnd"),Mt=Symbol("emitEnd2"),Q=Symbol("async"),q=Symbol("abort"),Ot=Symbol("aborted"),St=Symbol("signal"),lt=Symbol("dataListeners"),V=Symbol("discarded"),pt=f=>Promise.resolve().then(f),Se=f=>f(),Et=f=>f==="end"||f==="finish"||f==="prefinish",Ee=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,ve=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class Xt{src;dest;opts;ondrain;constructor(h,u,E){this.src=h,this.dest=u,this.opts=E,this.ondrain=()=>h[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(h){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends Xt{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(h,u,E){super(h,u,E),this.proxyErrors=C=>u.emit("error",C),h.on("error",this.proxyErrors)}}const a=f=>!!f.objectMode,d=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[F]=!1;[I]=[];[D]=[];[z];[A];[Q];[P];[p]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[St];[Ot]=!1;[lt]=0;[V]=!1;writable=!0;readable=!0;constructor(...h){const u=h[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");a(u)?(this[z]=!0,this[A]=null):d(u)?(this[A]=u.encoding,this[z]=!1):(this[z]=!1,this[A]=null),this[Q]=!!u.async,this[P]=this[A]?new n.StringDecoder(this[A]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[D]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:E}=u;E&&(this[St]=E,E.aborted?this[q]():E.addEventListener("abort",()=>this[q]()))}get bufferLength(){return this[L]}get encoding(){return this[A]}set encoding(h){throw new Error("Encoding must be set at instantiation time")}setEncoding(h){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[z]}set objectMode(h){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Q]}set async(h){this[Q]=this[Q]||!!h}[q](){this[Ot]=!0,this.emit("abort",this[St]?.reason),this.destroy(this[St]?.reason)}get aborted(){return this[Ot]}set aborted(h){}write(h,u,E){if(this[Ot])return!1;if(this[p])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(E=u,u="utf8"),u||(u="utf8");const C=this[Q]?pt:Se;if(!this[z]&&!Buffer.isBuffer(h)){if(ve(h))h=Buffer.from(h.buffer,h.byteOffset,h.byteLength);else if(Ee(h))h=Buffer.from(h);else if(typeof h!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[z]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):h.length?(typeof h=="string"&&!(u===this[A]&&!this[P]?.lastNeed)&&(h=Buffer.from(h,u)),Buffer.isBuffer(h)&&this[A]&&(h=this[P].write(h)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):(this[L]!==0&&this.emit("readable"),E&&C(E),this[R])}read(h){if(this[N])return null;if(this[V]=!1,this[L]===0||h===0||h&&h>this[L])return this[b](),null;this[z]&&(h=null),this[D].length>1&&!this[z]&&(this[D]=[this[A]?this[D].join(""):Buffer.concat(this[D],this[L])]);const u=this[v](h||null,this[D][0]);return this[b](),u}[v](h,u){if(this[z])this[yt]();else{const E=u;h===E.length||h===null?this[yt]():typeof E=="string"?(this[D][0]=E.slice(h),u=E.slice(0,h),this[L]-=h):(this[D][0]=E.subarray(h),u=E.subarray(0,h),this[L]-=h)}return this.emit("data",u),!this[D].length&&!this[p]&&this.emit("drain"),u}end(h,u,E){return typeof h=="function"&&(E=h,h=void 0),typeof u=="function"&&(E=u,u="utf8"),h!==void 0&&this.write(h,u),E&&this.once("end",E),this[p]=!0,this.writable=!1,(this[R]||!this[F])&&this[b](),this}[k](){this[N]||(!this[lt]&&!this[I].length&&(this[V]=!0),this[F]=!1,this[R]=!0,this.emit("resume"),this[D].length?this[T]():this[p]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[F]=!0,this[V]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[F]}[st](h){this[z]?this[L]+=1:this[L]+=h.length,this[D].push(h)}[yt](){return this[z]?this[L]-=1:this[L]-=this[D][0].length,this[D].shift()}[T](h=!1){do;while(this[O](this[yt]())&&this[D].length);!h&&!this[D].length&&!this[p]&&this.emit("drain")}[O](h){return this.emit("data",h),this[R]}pipe(h,u){if(this[N])return h;this[V]=!1;const E=this[g];return u=u||{},h===e.stdout||h===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,E?u.end&&h.end():(this[I].push(u.proxyErrors?new S(this,h,u):new Xt(this,h,u)),this[Q]?pt(()=>this[k]()):this[k]()),h}unpipe(h){const u=this[I].find(E=>E.dest===h);u&&(this[I].length===1?(this[R]&&this[lt]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(h,u){return this.on(h,u)}on(h,u){const E=super.on(h,u);if(h==="data")this[V]=!1,this[lt]++,!this[I].length&&!this[R]&&this[k]();else if(h==="readable"&&this[L]!==0)super.emit("readable");else if(Et(h)&&this[g])super.emit(h),this.removeAllListeners(h);else if(h==="error"&&this[w]){const C=u;this[Q]?pt(()=>C.call(this,this[w])):C.call(this,this[w])}return E}removeListener(h,u){return this.off(h,u)}off(h,u){const E=super.off(h,u);return h==="data"&&(this[lt]=this.listeners("data").length,this[lt]===0&&!this[V]&&!this[I].length&&(this[R]=!1)),E}removeAllListeners(h){const u=super.removeAllListeners(h);return(h==="data"||h===void 0)&&(this[lt]=0,!this[V]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[D].length===0&&this[p]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(h,...u){const E=u[0];if(h!=="error"&&h!=="close"&&h!==N&&this[N])return!1;if(h==="data")return!this[z]&&!E?!1:this[Q]?(pt(()=>this[Pt](E)),!0):this[Pt](E);if(h==="end")return this[Zt]();if(h==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(h==="error"){this[w]=E,super.emit(Jt,E);const M=!this[St]||this.listeners("error").length?super.emit("error",E):!1;return this[b](),M}else if(h==="resume"){const M=super.emit("resume");return this[b](),M}else if(h==="finish"||h==="prefinish"){const M=super.emit(h);return this.removeAllListeners(h),M}const C=super.emit(h,...u);return this[b](),C}[Pt](h){for(const E of this[I])E.dest.write(h)===!1&&this.pause();const u=this[V]?!1:super.emit("data",h);return this[b](),u}[Zt](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[Q]?(pt(()=>this[Mt]()),!0):this[Mt]())}[Mt](){if(this[P]){const u=this[P].end();if(u){for(const E of this[I])E.dest.write(u);this[V]||super.emit("data",u)}}for(const u of this[I])u.end();const h=super.emit("end");return this.removeAllListeners("end"),h}async collect(){const h=Object.assign([],{dataLength:0});this[z]||(h.dataLength=0);const u=this.promise();return this.on("data",E=>{h.push(E),this[z]||(h.dataLength+=E.length)}),await u,h}async concat(){if(this[z])throw new Error("cannot concat in objectMode");const h=await this.collect();return this[A]?h.join(""):Buffer.concat(h,h.dataLength)}async promise(){return new Promise((h,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",E=>u(E)),this.on("end",()=>h())})}[Symbol.asyncIterator](){this[V]=!1;let h=!1;const u=async()=>(this.pause(),h=!0,{value:void 0,done:!0});return{next:()=>{if(h)return u();const C=this.read();if(C!==null)return Promise.resolve({done:!1,value:C});if(this[p])return u();let M,j;const W=J=>{this.off("data",$),this.off("end",K),this.off(N,nt),u(),j(J)},$=J=>{this.off("error",W),this.off("end",K),this.off(N,nt),this.pause(),M({value:J,done:!!this[p]})},K=()=>{this.off("error",W),this.off("data",$),this.off(N,nt),u(),M({done:!0,value:void 0})},nt=()=>W(new Error("stream destroyed"));return new Promise((J,_e)=>{j=_e,M=J,this.once(N,nt),this.once("error",W),this.once("end",K),this.once("data",$)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[V]=!1;let h=!1;const u=()=>(this.pause(),this.off(Jt,u),this.off(N,u),this.off("end",u),h=!0,{done:!0,value:void 0}),E=()=>{if(h)return u();const C=this.read();return C===null?u():{done:!1,value:C}};return this.once("end",u),this.once(Jt,u),this.once(N,u),{next:E,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(h){if(this[N])return h?this.emit("error",h):this.emit(N),this;this[N]=!0,this[V]=!0,this[D].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),h?this.emit("error",h):this.emit(N),this}static get isStream(){return r.isStream}}r.Minipass=m})(gs);var Ti=it&&it.__createBinding||(Object.create?function(r,t,e,s){s===void 0&&(s=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,s,i)}:function(r,t,e,s){s===void 0&&(s=e),r[s]=t[e]}),Ri=it&&it.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Ai=it&&it.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&Ti(t,r,e);return Ri(t,r),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const ws=ie,he=Xs,Ci=Ve,Pi=Ai(Ye),It=Ye,Mi=It.realpathSync.native,oe=Qs,bs=gs,Wt={lstatSync:It.lstatSync,readdir:It.readdir,readdirSync:It.readdirSync,readlinkSync:It.readlinkSync,realpathSync:Mi,promises:{lstat:oe.lstat,readdir:oe.readdir,readlink:oe.readlink,realpath:oe.realpath}},ys=r=>!r||r===Wt||r===Pi?Wt:{...Wt,...r,promises:{...Wt.promises,...r.promises||{}}},Ss=/^\\\\\?\\([a-z]:)\\?$/i,Di=r=>r.replace(/\//g,"\\").replace(Ss,"$1\\"),Li=/[\\\/]/,tt=0,Es=1,vs=2,ht=4,_s=6,Os=8,vt=10,Ts=12,et=15,Gt=~et,Ce=16,Rs=32,xt=64,rt=128,ae=256,le=512,As=xt|rt|le,ji=1023,Pe=r=>r.isFile()?Os:r.isDirectory()?ht:r.isSymbolicLink()?vt:r.isCharacterDevice()?vs:r.isBlockDevice()?_s:r.isSocket()?Ts:r.isFIFO()?Es:tt,Cs=new Map,$t=r=>{const t=Cs.get(r);if(t)return t;const e=r.normalize("NFKD");return Cs.set(r,e),e},Ps=new Map,ce=r=>{const t=Ps.get(r);if(t)return t;const e=$t(r.toLowerCase());return Ps.set(r,e),e};class Me extends ws.LRUCache{constructor(){super({max:256})}}B.ResolveCache=Me;class Ms extends ws.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=Ms;const Ds=Symbol("PathScurry setAsCwd");class Y{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#n;get mode(){return this.#n}#i;get nlink(){return this.#i}#o;get uid(){return this.#o}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#h;get ino(){return this.#h}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#C;get mtime(){return this.#C}#P;get ctime(){return this.#P}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#E;#r;#b;#D;#v;get path(){return(this.parent||this).fullpath()}constructor(t,e=tt,s,i,n,o,c){this.name=t,this.#S=n?ce(t):$t(t),this.#r=e&ji,this.nocase=n,this.roots=i,this.root=s||this,this.#b=o,this.#p=c.fullpath,this.#T=c.relative,this.#E=c.relativePosix,this.parent=c.parent,this.parent?this.#t=this.parent.#t:this.#t=ys(c.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(i):this.#k(i)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#r&=~Ce,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),i=this.nocase?ce(t):$t(t);for(const l of s)if(l.#S===i)return l;const n=this.parent?this.sep:"",o=this.#p?this.#p+n+t:void 0,c=this.newChild(t,tt,{...e,parent:this,fullpath:o});return this.canReaddir()||(c.#r|=rt),s.push(c),c}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#E!==void 0)return this.#E;const t=this.name,e=this.parent;if(!e)return this.#E=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=i}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#M=`//?/${i}`:this.#M=i}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#r&et)===tt}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&et)===Os}isDirectory(){return(this.#r&et)===ht}isCharacterDevice(){return(this.#r&et)===vs}isBlockDevice(){return(this.#r&et)===_s}isFIFO(){return(this.#r&et)===Es}isSocket(){return(this.#r&et)===Ts}isSymbolicLink(){return(this.#r&vt)===vt}lstatCached(){return this.#r&Rs?this:void 0}readlinkCached(){return this.#D}realpathCached(){return this.#v}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#D)return!0;if(!this.parent)return!1;const t=this.#r&et;return!(t!==tt&&t!==vt||this.#r&ae||this.#r&rt)}calledReaddir(){return!!(this.#r&Ce)}isENOENT(){return!!(this.#r&rt)}isNamed(t){return this.nocase?this.#S===ce(t):this.#S===$t(t)}async readlink(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}#N(t){this.#r|=Ce;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#r&rt||(this.#r=(this.#r|rt)&Gt,this.#A())}#A(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#r|=le,this.#L()}#L(){if(this.#r&xt)return;let t=this.#r;(t&et)===ht&&(t&=Gt),this.#r=t|xt,this.#A()}#F(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#r;e|=ae,t==="ENOENT"&&(e|=rt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Gt),this.#r=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#j(t,e){return this.#U(t,e)||this.#z(t,e)}#z(t,e){const s=Pe(t),i=this.newChild(t.name,s,{parent:this}),n=i.#r&et;return n!==ht&&n!==vt&&n!==tt&&(i.#r|=xt),e.unshift(i),e.provisional++,i}#U(t,e){for(let s=e.provisional;s<e.length;s++){const i=e[s];if((this.nocase?ce(t.name):$t(t.name))===i.#S)return this.#H(t,i,s,e)}}#H(t,e,s,i){const n=e.name;return e.#r=e.#r&Gt|Pe(t),n!==t.name&&(e.name=t.name),s!==i.provisional&&(s===i.length-1?i.pop():i.splice(s,1),i.unshift(e)),i.provisional++,e}async lstat(){if(!(this.#r&rt))try{return this.#$(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#r&rt))try{return this.#$(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#$(t){const{atime:e,atimeMs:s,birthtime:i,birthtimeMs:n,blksize:o,blocks:c,ctime:l,ctimeMs:p,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:v,nlink:T,rdev:O,size:A,uid:P}=t;this.#g=e,this.#w=s,this.#O=i,this.#y=n,this.#a=o,this.#m=c,this.#P=l,this.#u=p,this.#s=b,this.#l=g,this.#h=y,this.#n=w,this.#C=_,this.#d=v,this.#i=T,this.#f=O,this.#e=A,this.#o=P;const R=Pe(t);this.#r=this.#r&Gt|R|Rs,R!==tt&&R!==ht&&R!==vt&&(this.#r|=xt)}#G=[];#x=!1;#q(t){this.#x=!1;const e=this.#G.slice();this.#G.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const n=s.slice(0,s.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#G.push(t),this.#x)return;this.#x=!0;const i=this.fullpath();this.#t.readdir(i,{withFileTypes:!0},(n,o)=>{if(n)this.#F(n.code),s.provisional=0;else{for(const c of o)this.#j(c,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(i=>s=i);try{for(const i of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#j(i,t);this.#N(t)}catch(i){this.#F(i.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#j(s,t);this.#N(t)}catch(s){this.#F(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#r&As)return!1;const t=et&this.#r;return t===tt||t===ht||t===vt}shouldWalk(t,e){return(this.#r&ht)===ht&&!(this.#r&As)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=this.#t.realpathSync(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}[Ds](t){if(t===this)return;const e=new Set([]);let s=[],i=this;for(;i&&i.parent;)e.add(i),i.#T=s.join(this.sep),i.#E=s.join("/"),i=i.parent,s.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#T=void 0,i.#E=void 0,i=i.parent}}B.PathBase=Y;class Yt extends Y{sep="\\";splitSep=Li;constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}newChild(t,e=tt,s={}){return new Yt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return he.win32.parse(t).root}getRoot(t){if(t=Di(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Le(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Ss,"$1\\"),t===e}}B.PathWin32=Yt;class Kt extends Y{splitSep="/";sep="/";constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=tt,s={}){return new Kt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=Kt;class De{root;rootPath;roots;cwd;#t;#s;#n;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:i,childrenCacheSize:n=16*1024,fs:o=Wt}={}){this.#i=ys(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Ci.fileURLToPath)(t));const c=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(c),this.#t=new Me,this.#s=new Me,this.#n=new Ms(n);const l=c.substring(this.rootPath.length).split(s);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let p=this.root,b=l.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of l){const v=b--;p=p.child(_,{relative:new Array(v).fill("..").join(g),relativePosix:new Array(v).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=p}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#n}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#t.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpath();return this.#t.set(e,i),i}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#s.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,i),i}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const i=await t.readdir();return s?i:i.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(i=>i.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set,p=(g,y)=>{l.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let v=_.length;if(!v)return y();const T=()=>{--v===0&&y()};for(const O of _)(!n||n(O))&&c.push(s?O:O.fullpath()),i&&O.isSymbolicLink()?O.realpath().then(A=>A?.isUnknown()?A.lstat():A).then(A=>A?.shouldWalk(l,o)?p(A,T):T()):O.shouldWalk(l,o)?p(O,T):T()},!0)},b=t;return new Promise((g,y)=>{p(b,w=>{if(w)return y(w);g(c)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set([t]);for(const p of l){const b=p.readdirSync();for(const g of b){(!n||n(g))&&c.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(i&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(l,o)&&l.add(y)}}return c}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield s?t:t.fullpath());const c=new Set([t]);for(const l of c){const p=l.readdirSync();for(const b of p){(!n||n(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(i&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(c,o)&&c.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0});(!n||n(t))&&c.write(s?t:t.fullpath());const l=new Set,p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=(T,O,A=!1)=>{if(T)return c.emit("error",T);if(i&&!A){const P=[];for(const R of O)R.isSymbolicLink()&&P.push(R.realpath().then(F=>F?.isUnknown()?F.lstat():F));if(P.length){Promise.all(P).then(()=>_(null,O,!0));return}}for(const P of O)P&&(!n||n(P))&&(c.write(s?P:P.fullpath())||(y=!0));b--;for(const P of O){const R=P.realpathCached()||P;R.shouldWalk(l,o)&&p.push(R)}y&&!c.flowing?c.once("drain",g):v||g()};let v=!0;w.readdirCB(_,!0),v=!1}};return g(),c}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0}),l=new Set;(!n||n(t))&&c.write(s?t:t.fullpath());const p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=w.readdirSync();for(const v of _)(!n||n(v))&&(c.write(s?v:v.fullpath())||(y=!0));b--;for(const v of _){let T=v;if(v.isSymbolicLink()){if(!(i&&(T=v.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(l,o)&&p.push(T)}}y&&!c.flowing&&c.once("drain",g)};return g(),c}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[Ds](e)}}B.PathScurryBase=De;class Le extends De{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,he.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(t){return he.win32.parse(t).root.toUpperCase()}newRoot(t){return new Yt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Le;class je extends De{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,he.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Kt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=je;class Ls extends je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=Ls,B.Path=process.platform==="win32"?Yt:Kt,B.PathScurry=process.platform==="win32"?Le:process.platform==="darwin"?Ls:je;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.Pattern=void 0;const Fi=mt,ki=r=>r.length>=1,Ni=r=>r.length>=1;class $e{#t;#s;#n;length;#i;#o;#l;#f;#a;#h;#e=!0;constructor(t,e,s,i){if(!ki(t))throw new TypeError("empty pattern list");if(!Ni(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#n=s,this.#i=i,this.#n===0){if(this.isUNC()){const[n,o,c,l,...p]=this.#t,[b,g,y,w,..._]=this.#s;p[0]===""&&(p.shift(),_.shift());const v=[n,o,c,l,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[v,...p],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[n,...o]=this.#t,[c,...l]=this.#s;o[0]===""&&(o.shift(),l.shift());const p=n+"/",b=c+"/";this.#t=[p,...o],this.#s=[b,...l],this.length=this.#t.length}}}pattern(){return this.#t[this.#n]}isString(){return typeof this.#t[this.#n]=="string"}isGlobstar(){return this.#t[this.#n]===Fi.GLOBSTAR}isRegExp(){return this.#t[this.#n]instanceof RegExp}globString(){return this.#l=this.#l||(this.#n===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new $e(this.#t,this.#s,this.#n+1,this.#i),this.#o.#h=this.#h,this.#o.#a=this.#a,this.#o.#f=this.#f,this.#o):this.#o=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#n===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#n===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#h!==void 0?this.#h:this.#h=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#n===0?t:""}checkFollowGlobstar(){return!(this.#n===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#n===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}zt.Pattern=$e;var wt={},js={};const Fs=typeof process=="object"&&process?process:{stdout:null,stderr:null},Bi=Ke,ks=Je,Ii=Ze,Ns=Ii.StringDecoder,ct=Symbol("EOF"),ft=Symbol("maybeEmitEnd"),bt=Symbol("emittedEnd"),fe=Symbol("emittingEnd"),Ut=Symbol("emittedError"),ue=Symbol("closed"),Bs=Symbol("read"),de=Symbol("flush"),Is=Symbol("flushChunk"),Z=Symbol("encoding"),ut=Symbol("decoder"),pe=Symbol("flowing"),Ht=Symbol("paused"),At=Symbol("resume"),G=Symbol("buffer"),ot=Symbol("pipes"),U=Symbol("bufferLength"),Fe=Symbol("bufferPush"),ke=Symbol("bufferShift"),H=Symbol("objectMode"),x=Symbol("destroyed"),Ne=Symbol("error"),Be=Symbol("emitData"),Ws=Symbol("emitEnd"),Ie=Symbol("emitEnd2"),dt=Symbol("async"),We=Symbol("abort"),me=Symbol("aborted"),_t=Symbol("signal"),qt=r=>Promise.resolve().then(r),Gs=it._MP_NO_ITERATOR_SYMBOLS_!=="1",xs=Gs&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$s=Gs&&Symbol.iterator||Symbol("iterator not implemented"),Wi=r=>r==="end"||r==="finish"||r==="prefinish",Gi=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,xi=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r);class zs{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[At](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class $i extends zs{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=i=>e.emit("error",i),t.on("error",this.proxyErrors)}}class ze extends ks{constructor(t){super(),this[pe]=!1,this[Ht]=!1,this[ot]=[],this[G]=[],this[H]=t&&t.objectMode||!1,this[H]?this[Z]=null:this[Z]=t&&t.encoding||null,this[Z]==="buffer"&&(this[Z]=null),this[dt]=t&&!!t.async||!1,this[ut]=this[Z]?new Ns(this[Z]):null,this[ct]=!1,this[bt]=!1,this[fe]=!1,this[ue]=!1,this[Ut]=null,this.writable=!0,this.readable=!0,this[U]=0,this[x]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[G]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ot]}),this[_t]=t&&t.signal,this[me]=!1,this[_t]&&(this[_t].addEventListener("abort",()=>this[We]()),this[_t].aborted&&this[We]())}get bufferLength(){return this[U]}get encoding(){return this[Z]}set encoding(t){if(this[H])throw new Error("cannot set encoding in objectMode");if(this[Z]&&t!==this[Z]&&(this[ut]&&this[ut].lastNeed||this[U]))throw new Error("cannot change encoding");this[Z]!==t&&(this[ut]=t?new Ns(t):null,this[G].length&&(this[G]=this[G].map(e=>this[ut].write(e)))),this[Z]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[H]}set objectMode(t){this[H]=this[H]||!!t}get async(){return this[dt]}set async(t){this[dt]=this[dt]||!!t}[We](){this[me]=!0,this.emit("abort",this[_t].reason),this.destroy(this[_t].reason)}get aborted(){return this[me]}set aborted(t){}write(t,e,s){if(this[me])return!1;if(this[ct])throw new Error("write after end");if(this[x])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const i=this[dt]?qt:n=>n();return!this[H]&&!Buffer.isBuffer(t)&&(xi(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gi(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[H]?(this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[Z]&&!this[ut].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[Z]&&(t=this[ut].write(t)),this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):(this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing)}read(t){if(this[x])return null;if(this[U]===0||t===0||t>this[U])return this[ft](),null;this[H]&&(t=null),this[G].length>1&&!this[H]&&(this.encoding?this[G]=[this[G].join("")]:this[G]=[Buffer.concat(this[G],this[U])]);const e=this[Bs](t||null,this[G][0]);return this[ft](),e}[Bs](t,e){return t===e.length||t===null?this[ke]():(this[G][0]=e.slice(t),e=e.slice(0,t),this[U]-=t),this.emit("data",e),!this[G].length&&!this[ct]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[ct]=!0,this.writable=!1,(this.flowing||!this[Ht])&&this[ft](),this}[At](){this[x]||(this[Ht]=!1,this[pe]=!0,this.emit("resume"),this[G].length?this[de]():this[ct]?this[ft]():this.emit("drain"))}resume(){return this[At]()}pause(){this[pe]=!1,this[Ht]=!0}get destroyed(){return this[x]}get flowing(){return this[pe]}get paused(){return this[Ht]}[Fe](t){this[H]?this[U]+=1:this[U]+=t.length,this[G].push(t)}[ke](){return this[H]?this[U]-=1:this[U]-=this[G][0].length,this[G].shift()}[de](t){do;while(this[Is](this[ke]())&&this[G].length);!t&&!this[G].length&&!this[ct]&&this.emit("drain")}[Is](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[x])return;const s=this[bt];return e=e||{},t===Fs.stdout||t===Fs.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ot].push(e.proxyErrors?new $i(this,t,e):new zs(this,t,e)),this[dt]?qt(()=>this[At]()):this[At]()),t}unpipe(t){const e=this[ot].find(s=>s.dest===t);e&&(this[ot].splice(this[ot].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ot].length&&!this.flowing?this[At]():t==="readable"&&this[U]!==0?super.emit("readable"):Wi(t)&&this[bt]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Ut]&&(this[dt]?qt(()=>e.call(this,this[Ut])):e.call(this,this[Ut])),s}get emittedEnd(){return this[bt]}[ft](){!this[fe]&&!this[bt]&&!this[x]&&this[G].length===0&&this[ct]&&(this[fe]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ue]&&this.emit("close"),this[fe]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==x&&this[x])return;if(t==="data")return!this[H]&&!e?!1:this[dt]?qt(()=>this[Be](e)):this[Be](e);if(t==="end")return this[Ws]();if(t==="close"){if(this[ue]=!0,!this[bt]&&!this[x])return;const n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[Ut]=e,super.emit(Ne,e);const n=!this[_t]||this.listeners("error").length?super.emit("error",e):!1;return this[ft](),n}else if(t==="resume"){const n=super.emit("resume");return this[ft](),n}else if(t==="finish"||t==="prefinish"){const n=super.emit(t);return this.removeAllListeners(t),n}const i=super.emit(t,e,...s);return this[ft](),i}[Be](t){for(const s of this[ot])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[ft](),e}[Ws](){this[bt]||(this[bt]=!0,this.readable=!1,this[dt]?qt(()=>this[Ie]()):this[Ie]())}[Ie](){if(this[ut]){const e=this[ut].end();if(e){for(const s of this[ot])s.dest.write(e);super.emit("data",e)}}for(const e of this[ot])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[H]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[H]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[H]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[H]?Promise.reject(new Error("cannot concat in objectMode")):this[Z]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(x,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[xs](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[ct])return e();let n=null,o=null;const c=g=>{this.removeListener("data",l),this.removeListener("end",p),this.removeListener(x,b),e(),o(g)},l=g=>{this.removeListener("error",c),this.removeListener("end",p),this.removeListener(x,b),this.pause(),n({value:g,done:!!this[ct]})},p=()=>{this.removeListener("error",c),this.removeListener("data",l),this.removeListener(x,b),e(),n({done:!0})},b=()=>c(new Error("stream destroyed"));return new Promise((g,y)=>{o=y,n=g,this.once(x,b),this.once("error",c),this.once("end",p),this.once("data",l)})},throw:e,return:e,[xs](){return this}}}[$s](){let t=!1;const e=()=>(this.pause(),this.removeListener(Ne,e),this.removeListener(x,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const i=this.read();return i===null?e():{value:i}};return this.once("end",e),this.once(Ne,e),this.once(x,e),{next:s,throw:e,return:e,[$s](){return this}}}destroy(t){return this[x]?(t?this.emit("error",t):this.emit(x),this):(this[x]=!0,this[G].length=0,this[U]=0,typeof this.close=="function"&&!this[ue]&&this.close(),t?this.emit("error",t):this.emit(x),this)}static isStream(t){return!!t&&(t instanceof ze||t instanceof ks||t instanceof Bi&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}js.Minipass=ze;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.Ignore=void 0;const Us=mt,zi=zt,Ui=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Hi{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:i,noglobstar:n,platform:o=Ui}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const c={dot:!0,nobrace:e,nocase:s,noext:i,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(const l of t){const p=new Us.Minimatch(l,c);for(let b=0;b<p.set.length;b++){const g=p.set[b],y=p.globParts[b],w=new zi.Pattern(g,y,0,o),_=new Us.Minimatch(w.globString(),c),v=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),v&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,i=t.relative()||".",n=`${i}/`;for(const o of this.relative)if(o.match(i)||o.match(n))return!0;for(const o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const i of this.relativeChildren)if(i.match(s))return!0;for(const i of this.absoluteChildren)i.match(e);return!1}}ge.Ignore=Hi;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.Processor=at.SubWalks=at.MatchRecord=at.HasWalkedCache=void 0;const Hs=mt;class ye{store;constructor(t=new Map){this.store=t}copy(){return new ye(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),i=this.store.get(s);i?i.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}at.HasWalkedCache=ye;class qs{store=new Map;add(t,e,s){const i=(e?2:0)|(s?1:0),n=this.store.get(t);this.store.set(t,n===void 0?i:i&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}at.MatchRecord=qs;class Vs{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(i=>i.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}at.SubWalks=Vs;class Ue{hasWalkedCache;matches=new qs;subwalks=new Vs;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new ye}processPatterns(t,e){this.patterns=e;const s=e.map(i=>[t,i]);for(let[i,n]of s){this.hasWalkedCache.storeWalked(i,n);const o=n.root(),c=n.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);const g=n.rest();if(g)n=g;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,p,b=!1;for(;typeof(l=n.pattern())=="string"&&(p=n.rest());){const g=i.resolve(l);if(g.isUnknown()&&l!=="..")break;i=g,n=p,b=!0}if(l=n.pattern(),p=n.rest(),b){if(this.hasWalkedCache.hasWalked(i,n))continue;this.hasWalkedCache.storeWalked(i,n)}if(typeof l=="string"){if(p)this.subwalks.add(i,n);else{const g=l===".."||l===""||l===".";this.matches.add(i.resolve(l),c,g)}continue}else if(l===Hs.GLOBSTAR){(!i.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(i,n);const g=p?.pattern(),y=p?.rest();if(!p||(g===""||g===".")&&!y)this.matches.add(i,c,g===""||g===".");else if(g===".."){const w=i.parent||i;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,c,!0)}}else l instanceof RegExp&&this.subwalks.add(i,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Ue(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),i=this.child();for(const n of e)for(const o of s){const c=o.isAbsolute(),l=o.pattern(),p=o.rest();l===Hs.GLOBSTAR?i.testGlobstar(n,o,p,c):l instanceof RegExp?i.testRegExp(n,l,p,c):i.testString(n,l,p,c)}return i}testGlobstar(t,e,s,i){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const n=s.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,s.rest(),i);else if(n===".."){const o=t.parent||t;this.subwalks.add(o,s)}else n instanceof RegExp&&this.testRegExp(t,n,s.rest(),i)}}testRegExp(t,e,s,i){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}testString(t,e,s,i){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}}at.Processor=Ue,Object.defineProperty(wt,"__esModule",{value:!0}),wt.GlobStream=wt.GlobWalker=wt.GlobUtil=void 0;const qi=js,Ys=ge,Ks=at,Vi=(r,t)=>typeof r=="string"?new Ys.Ignore([r],t):Array.isArray(r)?new Ys.Ignore(r,t):r;class Ge{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#n;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#n=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=Vi(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#o(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?this.#n:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+i)}else{const n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#n)?"."+this.#n:"";this.matchEmit(n?o+n+i:"."+i)}}async match(t,e,s){const i=await this.matchCheck(t,s);i&&this.matchFinish(i,e)}matchSync(t,e,s){const i=this.matchCheckSync(t,s);i&&this.matchFinish(i,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new Ks.Processor(this.opts),s)}walkCB2(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirCached();c.calledReaddir()?this.walkCB3(c,l,s,o):c.readdirCB((p,b)=>this.walkCB3(c,b,s,o),!0)}o()}walkCB3(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const[c,l]of s.subwalks.entries())n++,this.walkCB2(c,l,s.child(),o);o()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new Ks.Processor(this.opts),s)}walkCB2Sync(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirSync();this.walkCB3Sync(c,l,s,o)}o()}walkCB3Sync(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const[c,l]of s.subwalks.entries())n++,this.walkCB2Sync(c,l,s.child(),o);o()}}wt.GlobUtil=Ge;class Yi extends Ge{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}wt.GlobWalker=Yi;class Ki extends Ge{results;constructor(t,e,s){super(t,e,s),this.results=new qi.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}wt.GlobStream=Ki,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.Glob=void 0;const Ji=mt,we=B,Zi=Ve,Xi=zt,be=wt,Qi=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class tr{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Zi.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=t,this.platform=e.platform||Qi,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const l=e.platform==="win32"?we.PathScurryWin32:e.platform==="darwin"?we.PathScurryDarwin:e.platform?we.PathScurryPosix:we.PathScurry;this.scurry=new l(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(l=>new Ji.Minimatch(l,i)),[o,c]=n.reduce((l,p)=>(l[0].push(...p.set),l[1].push(...p.globParts),l),[[],[]]);this.patterns=o.map((l,p)=>new Xi.Pattern(l,c[p],0,this.platform))}async walk(){return[...await new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Nt.Glob=tr;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.hasMagic=void 0;const er=mt,sr=(r,t={})=>{Array.isArray(r)||(r=[r]);for(const e of r)if(new er.Minimatch(e,t).hasMagic())return!0;return!1};Vt.hasMagic=sr,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.glob=r.hasMagic=r.Glob=r.unescape=r.escape=r.sync=r.iterate=r.iterateSync=r.stream=r.streamSync=r.globIterate=r.globIterateSync=r.globSync=r.globStream=r.globStreamSync=void 0;const t=mt,e=Nt,s=Vt;function i(w,_={}){return new e.Glob(w,_).streamSync()}r.globStreamSync=i;function n(w,_={}){return new e.Glob(w,_).stream()}r.globStream=n;function o(w,_={}){return new e.Glob(w,_).walkSync()}r.globSync=o;async function c(w,_={}){return new e.Glob(w,_).walk()}function l(w,_={}){return new e.Glob(w,_).iterateSync()}r.globIterateSync=l;function p(w,_={}){return new e.Glob(w,_).iterate()}r.globIterate=p,r.streamSync=i,r.stream=Object.assign(n,{sync:i}),r.iterateSync=l,r.iterate=Object.assign(p,{sync:l}),r.sync=Object.assign(o,{stream:i,iterate:l});var b=mt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Nt;Object.defineProperty(r,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=Vt;Object.defineProperty(r,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),r.glob=Object.assign(c,{glob:c,globSync:o,sync:r.sync,globStream:n,stream:r.stream,globStreamSync:i,streamSync:r.streamSync,globIterate:p,iterate:r.iterate,globIterateSync:l,iterateSync:r.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),r.glob.glob=r.glob}(Xe);const{globSync:ir}=Xe;var rr=function(){return function(t){if(directoryExists(t))return!0;const e=t.replace(/\/__virtual__:.*$/,"");return ir(e+"/").length>0}},nr=ti(rr);module.exports=nr;
+;return module.exports()})({}),
             createDirectory(directoryName) {
               if (!nodeSystem.directoryExists(directoryName)) {
                 try {
@@ -41403,7 +41411,21 @@ ${lanes.join("\n")}
         trace(state.host, Diagnostics.Module_name_0_matched_pattern_1, moduleName, matchedPatternText);
       }
       const resolved = forEach(paths[matchedPatternText], (subst) => {
-        const path = matchedStar ? subst.replace("*", matchedStar) : subst;
+        const unreplacedPath = (matchedStar ? subst.replace("*", matchedStar) : subst);
+let path;
+if (unreplacedPath.includes('./<packagePath>')) {
+	const match = /^.*\/tunnel\/[^\/]+\/[^\/]+\/?/.exec(state.requestContainingDirectory.toLowerCase());
+	path = unreplacedPath.replace('./<packagePath>', state.requestContainingDirectory.slice(0, match.index + match[0].length))
+} else {
+	path = unreplacedPath
+}
+
+if (path.includes('./<dirname>')) {
+	path = path.replace(
+		'./<dirname>',
+		state.requestContainingDirectory
+	)
+}
         const candidate = normalizePath(combinePaths(baseDirectory, path));
         if (state.traceEnabled) {
           trace(state.host, Diagnostics.Trying_substitution_0_candidate_module_location_Colon_1, subst, path);
@@ -120571,7 +120593,7 @@ ${lanes.join("\n")}
       if (options.composite) {
         const rootPaths = new Set(rootNames.map(toPath3));
         for (const file of files) {
-          if (sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
+          if (!require('path').basename(file.path).startsWith('__virtual__:') && require('path').basename(file.path) !== 'package.json' && sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
             addProgramDiagnosticExplainingFile(
               file,
               Diagnostics.File_0_is_not_listed_within_the_file_list_of_project_1_Projects_must_list_all_files_or_use_an_include_pattern,
diff --git a/lib/typescript.js b/lib/typescript.js
index 4d0ee15506636db54c25a06224a64a03e4853610..1e001067d13750cd2c0d8a4ff55567ace6af825e 100644
--- a/lib/typescript.js
+++ b/lib/typescript.js
@@ -6186,13 +6186,21 @@ ${lanes.join("\n")}
             writeOutputIsTTY() {
               return process.stdout.isTTY;
             },
-            readFile,
+            readFile: ((module) => {"use strict";var Pi=require("path"),De=require("url"),ke=require("fs"),Ai=require("fs/promises"),fs=require("events"),us=require("stream"),ds=require("string_decoder"),ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ci(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var U={},q={};function dt(i=""){return!i||!i.includes("\\")?i:i.replace(/\\/g,"/")}const Mi=/^[/\\]{2}/,ji=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,ps=/^[A-Za-z]:$/,ms="/",gs=":",Ne=function(i){if(i.length===0)return".";i=dt(i);const t=i.match(Mi),e=Rt(i),s=i[i.length-1]==="/";return i=oe(i,!e),i.length===0?e?"/":s?"./":".":(s&&(i+="/"),ps.test(i)&&(i+="/"),t?e?`//${i}`:`//./${i}`:e&&!Rt(i)?`/${i}`:i)},ws=function(...i){if(i.length===0)return".";let t;for(const e of i)e&&e.length>0&&(t===void 0?t=e:t+=`/${e}`);return t===void 0?".":Ne(t.replace(/\/\/+/g,"/"))};function Li(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const It=function(...i){i=i.map(s=>dt(s));let t="",e=!1;for(let s=i.length-1;s>=-1&&!e;s--){const n=s>=0?i[s]:Li();!n||n.length===0||(t=`${n}/${t}`,e=Rt(n))}return t=oe(t,!e),e&&!Rt(t)?`/${t}`:t.length>0?t:"."};function oe(i,t){let e="",s=0,n=-1,r=0,h=null;for(let a=0;a<=i.length;++a){if(a<i.length)h=i[a];else{if(h==="/")break;h="/"}if(h==="/"){if(!(n===a-1||r===1))if(r===2){if(e.length<2||s!==2||e[e.length-1]!=="."||e[e.length-2]!=="."){if(e.length>2){const c=e.lastIndexOf("/");c===-1?(e="",s=0):(e=e.slice(0,c),s=e.length-1-e.lastIndexOf("/")),n=a,r=0;continue}else if(e.length>0){e="",s=0,n=a,r=0;continue}}t&&(e+=e.length>0?"/..":"..",s=2)}else e.length>0?e+=`/${i.slice(n+1,a)}`:e=i.slice(n+1,a),s=a-n-1;n=a,r=0}else h==="."&&r!==-1?++r:r=-1}return e}const Rt=function(i){return ji.test(i)},bs=function(i){return dt(i)},Fi=/.(\.[^./]+)$/,Be=function(i){const t=Fi.exec(dt(i));return t&&t[1]||""},ys=function(i,t){const e=It(i).split("/"),s=It(t).split("/"),n=[...e];for(const r of n){if(s[0]!==r)break;e.shift(),s.shift()}return[...e.map(()=>".."),...s].join("/")},Ie=function(i){const t=dt(i).replace(/\/$/,"").split("/").slice(0,-1);return t.length===1&&ps.test(t[0])&&(t[0]+="/"),t.join("/")||(Rt(i)?"/":".")},Ss=function(i){const t=[i.root,i.dir,i.base??i.name+i.ext].filter(Boolean);return dt(i.root?It(...t):t.join("/"))},We=function(i,t){const e=dt(i).split("/").pop();return t&&e.endsWith(t)?e.slice(0,-t.length):e},vs=function(i){const t=dt(i).split("/").shift()||"/",e=We(i),s=Be(e);return{root:t,dir:Ie(i),base:e,ext:s,name:e.slice(0,e.length-s.length)}},Di={__proto__:null,basename:We,delimiter:gs,dirname:Ie,extname:Be,format:Ss,isAbsolute:Rt,join:ws,normalize:Ne,normalizeString:oe,parse:vs,relative:ys,resolve:It,sep:ms,toNamespacedPath:bs};q.basename=We,q.delimiter=gs,q.dirname=Ie,q.extname=Be,q.format=Ss,q.isAbsolute=Rt,q.join=ws,q.normalize=Ne,q.normalizeString=oe,q.normalizeWindowsPath=dt,q.parse=vs,q.path=Di,q.relative=ys,q.resolve=It,q.sep=ms,q.toNamespacedPath=bs,Object.defineProperty(U,"__esModule",{value:!0});const K=q;U.basename=K.basename,U.default=K.path,U.delimiter=K.delimiter,U.dirname=K.dirname,U.extname=K.extname,U.format=K.format,U.isAbsolute=K.isAbsolute,U.join=K.join,U.normalize=K.normalize,U.normalizeString=K.normalizeString,U.parse=K.parse,U.relative=K.relative,U.resolve=K.resolve,U.sep=K.sep,U.toNamespacedPath=K.toNamespacedPath;var Es={},yt={},ki=_s;function _s(i,t,e){i instanceof RegExp&&(i=Os(i,e)),t instanceof RegExp&&(t=Os(t,e));var s=Ts(i,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+i.length,s[1]),post:e.slice(s[1]+t.length)}}function Os(i,t){var e=t.match(i);return e?e[0]:null}_s.range=Ts;function Ts(i,t,e){var s,n,r,h,a,c=e.indexOf(i),d=e.indexOf(t,c+1),b=c;if(c>=0&&d>0){if(i===t)return[c,d];for(s=[],r=e.length;b>=0&&!a;)b==c?(s.push(b),c=e.indexOf(i,b+1)):s.length==1?a=[s.pop(),d]:(n=s.pop(),n<r&&(r=n,h=d),d=e.indexOf(t,b+1)),b=c<d&&c>=0?c:d;s.length&&(a=[r,h])}return a}var Rs=ki,Ni=Wi,Ps="\0SLASH"+Math.random()+"\0",As="\0OPEN"+Math.random()+"\0",xe="\0CLOSE"+Math.random()+"\0",Cs="\0COMMA"+Math.random()+"\0",Ms="\0PERIOD"+Math.random()+"\0";function $e(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Bi(i){return i.split("\\\\").join(Ps).split("\\{").join(As).split("\\}").join(xe).split("\\,").join(Cs).split("\\.").join(Ms)}function Ii(i){return i.split(Ps).join("\\").split(As).join("{").split(xe).join("}").split(Cs).join(",").split(Ms).join(".")}function js(i){if(!i)return[""];var t=[],e=Rs("{","}",i);if(!e)return i.split(",");var s=e.pre,n=e.body,r=e.post,h=s.split(",");h[h.length-1]+="{"+n+"}";var a=js(r);return r.length&&(h[h.length-1]+=a.shift(),h.push.apply(h,a)),t.push.apply(t,h),t}function Wi(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Wt(Bi(i),!0).map(Ii)):[]}function xi(i){return"{"+i+"}"}function $i(i){return/^-?0\d/.test(i)}function zi(i,t){return i<=t}function Gi(i,t){return i>=t}function Wt(i,t){var e=[],s=Rs("{","}",i);if(!s)return[i];var n=s.pre,r=s.post.length?Wt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var h=0;h<r.length;h++){var a=n+"{"+s.body+"}"+r[h];e.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=c||d,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(i=s.pre+"{"+s.body+xe+s.post,Wt(i)):[i];var y;if(b)y=s.body.split(/\.\./);else if(y=js(s.body),y.length===1&&(y=Wt(y[0],!1).map(xi),y.length===1))return r.map(function(rt){return s.pre+y[0]+rt});var w;if(b){var _=$e(y[0]),E=$e(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs($e(y[2])):1,P=zi,C=E<_;C&&(O*=-1,P=Gi);var R=y.some($i);w=[];for(var D=_;P(D,E);D+=O){var k;if(d)k=String.fromCharCode(D),k==="\\"&&(k="");else if(k=String(D),R){var j=T-k.length;if(j>0){var I=new Array(j+1).join("0");D<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Wt(y[L],!1))}for(var L=0;L<w.length;L++)for(var h=0;h<r.length;h++){var a=n+w[L]+r[h];(!t||b||a)&&e.push(a)}}return e}var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.assertValidPattern=void 0;const Ui=1024*64,Hi=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>Ui)throw new TypeError("pattern is too long")};he.assertValidPattern=Hi;var xt={},ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.parseClass=void 0;const qi={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},$t=i=>i.replace(/[[\]\\-]/g,"\\$&"),Vi=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ls=i=>i.join(""),Yi=(i,t)=>{const e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],n=[];let r=e+1,h=!1,a=!1,c=!1,d=!1,b=e,g="";t:for(;r<i.length;){const E=i.charAt(r);if((E==="!"||E==="^")&&r===e+1){d=!0,r++;continue}if(E==="]"&&h&&!c){b=r+1;break}if(h=!0,E==="\\"&&!c){c=!0,r++;continue}if(E==="["&&!c){for(const[T,[O,P,C]]of Object.entries(qi))if(i.startsWith(T,r)){if(g)return["$.",!1,i.length-e,!0];r+=T.length,C?n.push(O):s.push(O),a=a||P;continue t}}if(c=!1,g){E>g?s.push($t(g)+"-"+$t(E)):E===g&&s.push($t(E)),g="",r++;continue}if(i.startsWith("-]",r+1)){s.push($t(E+"-")),r+=2;continue}if(i.startsWith("-",r+1)){g=E,r+=2;continue}s.push($t(E)),r++}if(b<r)return["",!1,0,!1];if(!s.length&&!n.length)return["$.",!1,i.length-e,!0];if(n.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!d){const E=s[0].length===2?s[0].slice(-1):s[0];return[Vi(E),!1,b-e,!1]}const y="["+(d?"^":"")+Ls(s)+"]",w="["+(d?"":"^")+Ls(n)+"]";return[s.length&&n.length?"("+y+"|"+w+")":s.length?y:w,a,b-e,!0]};ae.parseClass=Yi;var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.unescape=void 0;const Ji=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");jt.unescape=Ji,Object.defineProperty(xt,"__esModule",{value:!0}),xt.AST=void 0;const Ki=ae,le=jt,Zi=new Set(["!","?","+","*","@"]),Fs=i=>Zi.has(i),Xi="(?!(?:^|/)\\.\\.?(?:$|/))",ce="(?!\\.)",Qi=new Set(["[","."]),tn=new Set(["..","."]),en=new Set("().*{}+?[]^$\\!"),sn=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ze="[^/]",Ds=ze+"*?",ks=ze+"+?";class et{type;#t;#s;#r=!1;#i=[];#h;#l;#f;#a=!1;#o;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#h=e,this.#t=this.#h?this.#h.#t:this,this.#o=this.#t===this?s:this.#t.#o,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#h?this.#h.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#h;for(;s;){for(let n=e.#l+1;!s.type&&n<s.#i.length;n++)for(const r of t.#i){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(s.#i[n])}e=s,s=e.#h}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof et&&e.#h===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#h?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#h?.isStart())return!1;if(this.#l===0)return!0;const t=this.#h;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof et&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#h?.type==="!")return!0;if(!this.#h?.isEnd())return!1;if(!this.type)return this.#h?.isEnd();const t=this.#h?this.#h.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new et(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,n){let r=!1,h=!1,a=-1,c=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const E=t.charAt(w++);if(r||E==="\\"){r=!r,_+=E;continue}if(h){w===a+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(w===a+2&&c)&&(h=!1),_+=E;continue}else if(E==="["){h=!0,a=w,c=!1,_+=E;continue}if(!n.noext&&Fs(E)&&t.charAt(w)==="("){e.push(_),_="";const T=new et(E,e);w=et.#d(t,T,w,n),e.push(T);continue}_+=E}return e.push(_),w}let d=s+1,b=new et(null,e);const g=[];let y="";for(;d<t.length;){const w=t.charAt(d++);if(r||w==="\\"){r=!r,y+=w;continue}if(h){d===a+1?(w==="^"||w==="!")&&(c=!0):w==="]"&&!(d===a+2&&c)&&(h=!1),y+=w;continue}else if(w==="["){h=!0,a=d,c=!1,y+=w;continue}if(Fs(w)&&t.charAt(d)==="("){b.push(y),y="";const _=new et(w,b);b.push(_),d=et.#d(t,_,d,n);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new et(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),d;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],d}static fromGlob(t,e={}){const s=new et(null,void 0,e);return et.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,n,r]=this.toRegExpSource();if(!(n||this.#s||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const a=(this.#o.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#o.dot;if(this.#t===this&&this.#w(),!this.type){const c=this.isStart()&&this.isEnd(),d=this.#i.map(w=>{const[_,E,T,O]=typeof w=="string"?et.#y(w,this.#s,c):w.toRegExpSource(t);return this.#s=this.#s||T,this.#r=this.#r||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&tn.has(this.#i[0]))){const _=Qi,E=e&&_.has(d.charAt(0))||d.startsWith("\\.")&&_.has(d.charAt(2))||d.startsWith("\\.\\.")&&_.has(d.charAt(4)),T=!e&&!t&&_.has(d.charAt(0));b=E?Xi:T?ce:""}let g="";return this.isEnd()&&this.#t.#a&&this.#h?.type==="!"&&(g="(?:$|\\/)"),[b+d+g,(0,le.unescape)(d),this.#s=!!this.#s,this.#r]}const s=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:";let r=this.#u(e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){const c=this.toString();return this.#i=[c],this.type=null,this.#s=void 0,[c,(0,le.unescape)(this.toString()),!1,!1]}let h=!s||t||e||!ce?"":this.#u(!0);h===r&&(h=""),h&&(r=`(?:${r})(?:${h})*?`);let a="";if(this.type==="!"&&this.#m)a=(this.isStart()&&!e?ce:"")+ks;else{const c=this.type==="!"?"))"+(this.isStart()&&!e&&!t?ce:"")+Ds+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&h?")":this.type==="*"&&h?")?":`)${this.type}`;a=n+r+c}return[a,(0,le.unescape)(r),this.#s=!!this.#s,this.#r]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,n,r,h]=e.toRegExpSource(t);return this.#r=this.#r||h,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let n=!1,r="",h=!1;for(let a=0;a<t.length;a++){const c=t.charAt(a);if(n){n=!1,r+=(en.has(c)?"\\":"")+c;continue}if(c==="\\"){a===t.length-1?r+="\\\\":n=!0;continue}if(c==="["){const[d,b,g,y]=(0,Ki.parseClass)(t,a);if(g){r+=d,h=h||b,a+=g-1,e=e||y;continue}}if(c==="*"){s&&t==="*"?r+=ks:r+=Ds,e=!0;continue}if(c==="?"){r+=ze,e=!0;continue}r+=sn(c)}return[r,(0,le.unescape)(t),!!e,h]}}xt.AST=et;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.escape=void 0;const nn=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");zt.escape=nn,function(i){var t=ot&&ot.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(i,"__esModule",{value:!0}),i.unescape=i.escape=i.AST=i.Minimatch=i.match=i.makeRe=i.braceExpand=i.defaults=i.filter=i.GLOBSTAR=i.sep=i.minimatch=void 0;const e=t(Ni),s=he,n=xt,r=zt,h=jt,a=(S,l,p={})=>((0,s.assertValidPattern)(l),!p.nocomment&&l.charAt(0)==="#"?!1:new Tt(l,p).match(S));i.minimatch=a;const c=/^\*+([^+@!?\*\[\(]*)$/,d=S=>l=>!l.startsWith(".")&&l.endsWith(S),b=S=>l=>l.endsWith(S),g=S=>(S=S.toLowerCase(),l=>!l.startsWith(".")&&l.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),l=>l.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),E=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),P=/^\*+$/,C=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",D=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,l=""])=>{const p=rt([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},j=([S,l=""])=>{const p=_t([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},I=([S,l=""])=>{const p=_t([S]);return l?m=>p(m)&&m.endsWith(l):p},L=([S,l=""])=>{const p=rt([S]);return l?m=>p(m)&&m.endsWith(l):p},rt=([S])=>{const l=S.length;return p=>p.length===l&&!p.startsWith(".")},_t=([S])=>{const l=S.length;return p=>p.length===l&&p!=="."&&p!==".."},G=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};i.sep=G==="win32"?N.win32.sep:N.posix.sep,i.minimatch.sep=i.sep,i.GLOBSTAR=Symbol("globstar **"),i.minimatch.GLOBSTAR=i.GLOBSTAR;const kt="[^/]"+"*?",ne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Nt="(?:(?!(?:\\/|^)\\.).)*?",st=(S,l={})=>p=>(0,i.minimatch)(p,S,l);i.filter=st,i.minimatch.filter=i.filter;const Y=(S,l={})=>Object.assign({},S,l),Ct=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return i.minimatch;const l=i.minimatch;return Object.assign((m,f,o={})=>l(m,f,Y(S,o)),{Minimatch:class extends l.Minimatch{constructor(f,o={}){super(f,Y(S,o))}static defaults(f){return l.defaults(Y(S,f)).Minimatch}},AST:class extends l.AST{constructor(f,o,u={}){super(f,o,Y(S,u))}static fromGlob(f,o={}){return l.AST.fromGlob(f,Y(S,o))}},unescape:(m,f={})=>l.unescape(m,Y(S,f)),escape:(m,f={})=>l.escape(m,Y(S,f)),filter:(m,f={})=>l.filter(m,Y(S,f)),defaults:m=>l.defaults(Y(S,m)),makeRe:(m,f={})=>l.makeRe(m,Y(S,f)),braceExpand:(m,f={})=>l.braceExpand(m,Y(S,f)),match:(m,f,o={})=>l.match(m,f,Y(S,o)),sep:l.sep,GLOBSTAR:i.GLOBSTAR})};i.defaults=Ct,i.minimatch.defaults=i.defaults;const Ot=(S,l={})=>((0,s.assertValidPattern)(S),l.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));i.braceExpand=Ot,i.minimatch.braceExpand=i.braceExpand;const ut=(S,l={})=>new Tt(S,l).makeRe();i.makeRe=ut,i.minimatch.makeRe=i.makeRe;const J=(S,l,p={})=>{const m=new Tt(l,p);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(l),S};i.match=J,i.minimatch.match=i.match;const bt=/[?*]|[+@!]\(.*?\)|\[|\]/,Me=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Tt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(l,p={}){(0,s.assertValidPattern)(l),p=p||{},this.options=p,this.pattern=l,this.platform=p.platform||G,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!p.windowsPathsNoEscape||p.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!p.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!p.nonegate,this.comment=!1,this.empty=!1,this.partial=!!p.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=p.windowsNoMagicRoot!==void 0?p.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const l of this.set)for(const p of l)if(typeof p!="string")return!0;return!1}debug(...l){}make(){const l=this.pattern,p=this.options;if(!p.nocomment&&l.charAt(0)==="#"){this.comment=!0;return}if(!l){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],p.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((o,u,v)=>{if(this.isWindows&&this.windowsNoMagicRoot){const A=o[0]===""&&o[1]===""&&(o[2]==="?"||!bt.test(o[2]))&&!bt.test(o[3]),M=/^[a-z]:/i.test(o[0]);if(A)return[...o.slice(0,4),...o.slice(4).map(F=>this.parse(F))];if(M)return[o[0],...o.slice(1).map(F=>this.parse(F))]}return o.map(A=>this.parse(A))});if(this.debug(this.pattern,f),this.set=f.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const u=this.set[o];u[0]===""&&u[1]===""&&this.globParts[o][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(l){if(this.options.noglobstar)for(let m=0;m<l.length;m++)for(let f=0;f<l[m].length;f++)l[m][f]==="**"&&(l[m][f]="*");const{optimizationLevel:p=1}=this.options;return p>=2?(l=this.firstPhasePreProcess(l),l=this.secondPhasePreProcess(l)):p>=1?l=this.levelOneOptimize(l):l=this.adjascentGlobstarOptimize(l),l}adjascentGlobstarOptimize(l){return l.map(p=>{let m=-1;for(;(m=p.indexOf("**",m+1))!==-1;){let f=m;for(;p[f+1]==="**";)f++;f!==m&&p.splice(m,f-m)}return p})}levelOneOptimize(l){return l.map(p=>(p=p.reduce((m,f)=>{const o=m[m.length-1];return f==="**"&&o==="**"?m:f===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(m.pop(),m):(m.push(f),m)},[]),p.length===0?[""]:p))}levelTwoFileOptimize(l){Array.isArray(l)||(l=this.slashSplit(l));let p=!1;do{if(p=!1,!this.preserveMultipleSlashes){for(let f=1;f<l.length-1;f++){const o=l[f];f===1&&o===""&&l[0]===""||(o==="."||o==="")&&(p=!0,l.splice(f,1),f--)}l[0]==="."&&l.length===2&&(l[1]==="."||l[1]==="")&&(p=!0,l.pop())}let m=0;for(;(m=l.indexOf("..",m+1))!==-1;){const f=l[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(p=!0,l.splice(m-1,2),m-=2)}}while(p);return l.length===0?[""]:l}firstPhasePreProcess(l){let p=!1;do{p=!1;for(let m of l){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let v=m[f+1];const A=m[f+2],M=m[f+3];if(v!==".."||!A||A==="."||A===".."||!M||M==="."||M==="..")continue;p=!0,m.splice(f,1);const F=m.slice(0);F[f]="**",l.push(F),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const v=m[u];u===1&&v===""&&m[0]===""||(v==="."||v==="")&&(p=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(p=!0,m.pop())}let o=0;for(;(o=m.indexOf("..",o+1))!==-1;){const u=m[o-1];if(u&&u!=="."&&u!==".."&&u!=="**"){p=!0;const A=o===1&&m[o+1]==="**"?["."]:[];m.splice(o-1,2,...A),m.length===0&&m.push(""),o-=2}}}}while(p);return l}secondPhasePreProcess(l){for(let p=0;p<l.length-1;p++)for(let m=p+1;m<l.length;m++){const f=this.partsMatch(l[p],l[m],!this.preserveMultipleSlashes);f&&(l[p]=f,l[m]=[])}return l.filter(p=>p.length)}partsMatch(l,p,m=!1){let f=0,o=0,u=[],v="";for(;f<l.length&&o<p.length;)if(l[f]===p[o])u.push(v==="b"?p[o]:l[f]),f++,o++;else if(m&&l[f]==="**"&&p[o]===l[f+1])u.push(l[f]),f++;else if(m&&p[o]==="**"&&l[f]===p[o+1])u.push(p[o]),o++;else if(l[f]==="*"&&p[o]&&(this.options.dot||!p[o].startsWith("."))&&p[o]!=="**"){if(v==="b")return!1;v="a",u.push(l[f]),f++,o++}else if(p[o]==="*"&&l[f]&&(this.options.dot||!l[f].startsWith("."))&&l[f]!=="**"){if(v==="a")return!1;v="b",u.push(p[o]),f++,o++}else return!1;return l.length===p.length&&u}parseNegate(){if(this.nonegate)return;const l=this.pattern;let p=!1,m=0;for(let f=0;f<l.length&&l.charAt(f)==="!";f++)p=!p,m++;m&&(this.pattern=l.slice(m)),this.negate=p}matchOne(l,p,m=!1){const f=this.options;if(this.isWindows){const Q=typeof l[0]=="string"&&/^[a-z]:$/i.test(l[0]),Fe=!Q&&l[0]===""&&l[1]===""&&l[2]==="?"&&/^[a-z]:$/i.test(l[3]),ls=typeof p[0]=="string"&&/^[a-z]:$/i.test(p[0]),Ti=!ls&&p[0]===""&&p[1]===""&&p[2]==="?"&&typeof p[3]=="string"&&/^[a-z]:$/i.test(p[3]),Bt=Fe?3:Q?0:void 0,Mt=Ti?3:ls?0:void 0;if(typeof Bt=="number"&&typeof Mt=="number"){const[cs,Ri]=[l[Bt],p[Mt]];cs.toLowerCase()===Ri.toLowerCase()&&(p[Mt]=cs,Mt>Bt?p=p.slice(Mt):Bt>Mt&&(l=l.slice(Bt)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(l=this.levelTwoFileOptimize(l)),this.debug("matchOne",this,{file:l,pattern:p}),this.debug("matchOne",l.length,p.length);for(var u=0,v=0,A=l.length,M=p.length;u<A&&v<M;u++,v++){this.debug("matchOne loop");var F=p[v],W=l[u];if(this.debug(p,F,W),F===!1)return!1;if(F===i.GLOBSTAR){this.debug("GLOBSTAR",[p,F,W]);var z=u,X=v+1;if(X===M){for(this.debug("** at the end");u<A;u++)if(l[u]==="."||l[u]===".."||!f.dot&&l[u].charAt(0)===".")return!1;return!0}for(;z<A;){var at=l[z];if(this.debug(`
+globstar while`,l,z,p,X,at),this.matchOne(l.slice(z),p.slice(X),m))return this.debug("globstar found match!",z,A,at),!0;if(at==="."||at===".."||!f.dot&&at.charAt(0)==="."){this.debug("dot detected!",l,z,p,X);break}this.debug("globstar swallow a segment, and continue"),z++}return!!(m&&(this.debug(`
+>>> no match, partial?`,l,z,p,X),z===A))}let Q;if(typeof F=="string"?(Q=W===F,this.debug("string match",F,W,Q)):(Q=F.test(W),this.debug("pattern match",F,W,Q)),!Q)return!1}if(u===A&&v===M)return!0;if(u===A)return m;if(v===M)return u===A-1&&l[u]==="";throw new Error("wtf?")}braceExpand(){return(0,i.braceExpand)(this.pattern,this.options)}parse(l){(0,s.assertValidPattern)(l);const p=this.options;if(l==="**")return i.GLOBSTAR;if(l==="")return"";let m,f=null;(m=l.match(P))?f=p.dot?R:C:(m=l.match(c))?f=(p.nocase?p.dot?y:g:p.dot?b:d)(m[1]):(m=l.match(D))?f=(p.nocase?p.dot?j:k:p.dot?I:L)(m):(m=l.match(w))?f=p.dot?E:_:(m=l.match(T))&&(f=O);const o=n.AST.fromGlob(l,this.options).toMMPattern();return f?Object.assign(o,{test:f}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const l=this.set;if(!l.length)return this.regexp=!1,this.regexp;const p=this.options,m=p.noglobstar?kt:p.dot?ne:Nt,f=new Set(p.nocase?["i"]:[]);let o=l.map(A=>{const M=A.map(F=>{if(F instanceof RegExp)for(const W of F.flags.split(""))f.add(W);return typeof F=="string"?Me(F):F===i.GLOBSTAR?i.GLOBSTAR:F._src});return M.forEach((F,W)=>{const z=M[W+1],X=M[W-1];F!==i.GLOBSTAR||X===i.GLOBSTAR||(X===void 0?z!==void 0&&z!==i.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+z:M[W]=m:z===void 0?M[W-1]=X+"(?:\\/|"+m+")?":z!==i.GLOBSTAR&&(M[W-1]=X+"(?:\\/|\\/"+m+"\\/)"+z,M[W+1]=i.GLOBSTAR))}),M.filter(F=>F!==i.GLOBSTAR).join("/")}).join("|");const[u,v]=l.length>1?["(?:",")"]:["",""];o="^"+u+o+v+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(l){return this.preserveMultipleSlashes?l.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(l)?["",...l.split(/\/+/)]:l.split(/\/+/)}match(l,p=this.partial){if(this.debug("match",l,this.pattern),this.comment)return!1;if(this.empty)return l==="";if(l==="/"&&p)return!0;const m=this.options;this.isWindows&&(l=l.split("\\").join("/"));const f=this.slashSplit(l);this.debug(this.pattern,"split",f);const o=this.set;this.debug(this.pattern,"set",o);let u=f[f.length-1];if(!u)for(let v=f.length-2;!u&&v>=0;v--)u=f[v];for(let v=0;v<o.length;v++){const A=o[v];let M=f;if(m.matchBase&&A.length===1&&(M=[u]),this.matchOne(M,A,p))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(l){return i.minimatch.defaults(l).Minimatch}}i.Minimatch=Tt;var je=xt;Object.defineProperty(i,"AST",{enumerable:!0,get:function(){return je.AST}});var Le=zt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return Le.escape}});var re=jt;Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return re.unescape}}),i.minimatch.AST=n.AST,i.minimatch.Minimatch=Tt,i.minimatch.escape=r.escape,i.minimatch.unescape=h.unescape}(yt);var Gt={},B={},fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.LRUCache=void 0;const Ut=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ns=new Set,Ge=typeof process=="object"&&process?process:{},Bs=(i,t,e,s)=>{typeof Ge.emitWarning=="function"?Ge.emitWarning(i,t,e,s):console.error(`[${e}] ${t}: ${i}`)};let ue=globalThis.AbortController,Is=globalThis.AbortSignal;if(typeof ue>"u"){Is=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,n){this._onabort.push(n)}},ue=class{constructor(){t()}signal=new Is;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const n of this.signal._onabort)n(s);this.signal.onabort?.(s)}}};let i=Ge.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{i&&(i=!1,Bs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const rn=i=>!Ns.has(i),St=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),Ws=i=>St(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?de:null:null;class de extends Array{constructor(t){super(t),this.fill(0)}}class Dt{heap;length;static#t=!1;static create(t){const e=Ws(t);if(!e)return[];Dt.#t=!0;const s=new Dt(t,e);return Dt.#t=!1,s}constructor(t,e){if(!Dt.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class rs{#t;#s;#r;#i;#h;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#o;#e;#m;#w;#d;#u;#y;#g;#A;#C;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#O,sizes:t.#A,keyMap:t.#a,keyList:t.#o,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,n,r)=>t.#D(e,s,n,r),moveToTail:e=>t.#F(e),indexes:e=>t.#_(e),rindexes:e=>t.#P(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#h}get dispose(){return this.#r}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:h,updateAgeOnHas:a,allowStale:c,dispose:d,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:E,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:R,ignoreFetchAbort:D}=t;if(e!==0&&!St(e))throw new TypeError("max option must be a nonnegative integer");const k=e?Ws(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=E,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#h=T,this.#R=!!T,this.#a=new Map,this.#o=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Dt.create(e),this.#l=0,this.#f=0,typeof d=="function"&&(this.#r=d),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#r,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#s!==0&&!St(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!St(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#j()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!a,this.ttlResolution=St(n)||n===0?n:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!St(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const j="LRU_CACHE_UNBOUNDED";rn(j)&&(Ns.add(j),Bs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,rs))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new de(this.#t),e=new de(this.#t);this.#O=t,this.#C=e,this.#n=(r,h,a=Ut.now())=>{if(e[r]=h!==0?a:0,t[r]=h,h!==0&&this.ttlAutopurge){const c=setTimeout(()=>{this.#b(r)&&this.delete(this.#o[r])},h+1);c.unref&&c.unref()}},this.#T=r=>{e[r]=t[r]!==0?Ut.now():0},this.#v=(r,h)=>{if(t[h]){const a=t[h],c=e[h];r.ttl=a,r.start=c,r.now=s||n();const d=r.now-c;r.remainingTTL=a-d}};let s=0;const n=()=>{const r=Ut.now();if(this.ttlResolution>0){s=r;const h=setTimeout(()=>s=0,this.ttlResolution);h.unref&&h.unref()}return r};this.getRemainingTTL=r=>{const h=this.#a.get(r);if(h===void 0)return 0;const a=t[h],c=e[h];if(a===0||c===0)return 1/0;const d=(s||n())-c;return a-d},this.#b=r=>t[r]!==0&&e[r]!==0&&(s||n())-e[r]>t[r]}#T=()=>{};#v=()=>{};#n=()=>{};#b=()=>!1;#j(){const t=new de(this.#t);this.#f=0,this.#A=t,this.#E=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,n,r)=>{if(this.#c(s))return 0;if(!St(n))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(n=r(s,e),!St(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#k=(e,s,n)=>{if(t[e]=s,this.#s){const r=this.#s-t[e];for(;this.#f>r;)this.#L(!0)}this.#f+=t[e],n&&(n.entrySize=s,n.totalCalculatedSize=this.#f)}}#E=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,n)=>{if(s||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#P({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*rentries(){for(const t of this.#P())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#P()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#P())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;if(r!==void 0&&t(r,this.#o[s],this))return this.get(this.#o[s],e)}}forEach(t,e=this){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}rforEach(t,e=this){for(const s of this.#P()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}purgeStale(){let t=!1;for(const e of this.#P({allowStale:!0}))this.#b(e)&&(this.delete(this.#o[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#o[e],n=this.#e[e],r=this.#c(n)?n.__staleWhileFetching:n;if(r===void 0||s===void 0)continue;const h={value:r};if(this.#O&&this.#C){h.ttl=this.#O[e];const a=Ut.now()-this.#C[e];h.start=Math.floor(Date.now()-a)}this.#A&&(h.size=this.#A[e]),t.unshift([s,h])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const n=Date.now()-s.start;s.start=Ut.now()-n}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:r,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=s;let{noUpdateTTL:d=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,a);if(this.maxEntrySize&&b>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#o[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,c),c&&(c.set="add"),d=!1;else{this.#F(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):h||(this.#S&&this.#r?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#E(g),this.#k(g,b,c),this.#e[g]=e,c){c.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(c.oldValue=w)}}else c&&(c.set="update")}if(n!==0&&!this.#O&&this.#M(),this.#O&&(d||this.#n(g,n,r),c&&this.#v(c,g)),!h&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#o[e],n=this.#e[e];return this.#R&&this.#c(n)?n.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,s,"evict"),this.#p&&this.#g?.push([n,s,"evict"])),this.#E(e),t&&(this.#o[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:n}=e,r=this.#a.get(t);if(r!==void 0){const h=this.#e[r];if(this.#c(h)&&h.__staleWhileFetching===void 0)return!1;if(this.#b(r))n&&(n.has="stale",this.#v(n,r));else return s&&this.#T(r),n&&(n.has="hit",this.#v(n,r)),!0}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,n=this.#a.get(t);if(n!==void 0&&(s||!this.#b(n))){const r=this.#e[n];return this.#c(r)?r.__staleWhileFetching:r}}#D(t,e,s,n){const r=e===void 0?void 0:this.#e[e];if(this.#c(r))return r;const h=new ue,{signal:a}=s;a?.addEventListener("abort",()=>h.abort(a.reason),{signal:h.signal});const c={signal:h.signal,options:s,context:n},d=(E,T=!1)=>{const{aborted:O}=h.signal,P=s.ignoreFetchAbort&&E!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=h.signal.reason,P&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!P&&!T)return g(h.signal.reason);const C=w;return this.#e[e]===w&&(E===void 0?C.__staleWhileFetching?this.#e[e]=C.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,E,c.options))),E},b=E=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=E),g(E)),g=E=>{const{aborted:T}=h.signal,O=T&&s.allowStaleOnFetchAbort,P=O||s.allowStaleOnFetchRejection,C=P||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!C||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),P)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw E},y=(E,T)=>{const O=this.#h?.(t,r,c);O&&O instanceof Promise&&O.then(P=>E(P===void 0?void 0:P),T),h.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(E(void 0),s.allowStaleOnFetchAbort&&(E=P=>d(P,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(d,b),_=Object.assign(w,{__abortController:h,__staleWhileFetching:r,__returned:void 0});return e===void 0?(this.set(t,_,{...c.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof ue}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:E,forceRefresh:T=!1,status:O,signal:P}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,status:O});const C={allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:h,noDisposeOnSet:a,size:c,sizeCalculation:d,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:P};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const D=this.#D(t,R,C,E);return D.__returned=D}else{const D=this.#e[R];if(this.#c(D)){const rt=s&&D.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",rt&&(O.returnedStale=!0)),rt?D.__staleWhileFetching:D.__returned=D}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#F(R),n&&this.#T(R),O&&this.#v(O,R),D;const j=this.#D(t,R,C,E),L=j.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?j.__staleWhileFetching:j.__returned=j}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:h}=e,a=this.#a.get(t);if(a!==void 0){const c=this.#e[a],d=this.#c(c);return h&&this.#v(h,a),this.#b(a)?(h&&(h.get="stale"),d?(h&&s&&c.__staleWhileFetching!==void 0&&(h.returnedStale=!0),s?c.__staleWhileFetching:void 0):(r||this.delete(t),h&&s&&(h.returnedStale=!0),s?c:void 0)):(h&&(h.get="hit"),d?c.__staleWhileFetching:(this.#F(a),n&&this.#T(a),c))}else h&&(h.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#F(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#E(s);const n=this.#e[s];this.#c(n)?n.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,t,"delete"),this.#p&&this.#g?.push([n,t,"delete"])),this.#a.delete(t),this.#o[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let n;for(;n=s?.shift();)this.#i?.(...n)}return e}clear(){for(const t of this.#P({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#o[t];this.#S&&this.#r?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#o.fill(void 0),this.#O&&this.#C&&(this.#O.fill(0),this.#C.fill(0)),this.#A&&this.#A.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}fe.LRUCache=rs;var xs={};(function(i){var t=ot&&ot.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.Minipass=i.isWritable=i.isReadable=i.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=fs,n=t(us),r=ds,h=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof n.default||(0,i.isReadable)(f)||(0,i.isWritable)(f));i.isStream=h;const a=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==n.default.Writable.prototype.pipe;i.isReadable=a;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";i.isWritable=c;const d=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),E=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),P=Symbol("encoding"),C=Symbol("decoder"),R=Symbol("flowing"),D=Symbol("paused"),k=Symbol("resume"),j=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),rt=Symbol("bufferPush"),_t=Symbol("bufferShift"),G=Symbol("objectMode"),N=Symbol("destroyed"),ie=Symbol("error"),kt=Symbol("emitData"),ne=Symbol("emitEnd"),Nt=Symbol("emitEnd2"),st=Symbol("async"),Y=Symbol("abort"),Ct=Symbol("aborted"),Ot=Symbol("signal"),ut=Symbol("dataListeners"),J=Symbol("discarded"),bt=f=>Promise.resolve().then(f),Me=f=>f(),Tt=f=>f==="end"||f==="finish"||f==="prefinish",je=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,Le=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class re{src;dest;opts;ondrain;constructor(o,u,v){this.src=o,this.dest=u,this.opts=v,this.ondrain=()=>o[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(o){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends re{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(o,u,v){super(o,u,v),this.proxyErrors=A=>u.emit("error",A),o.on("error",this.proxyErrors)}}const l=f=>!!f.objectMode,p=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[D]=!1;[I]=[];[j]=[];[G];[P];[st];[C];[d]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[Ot];[Ct]=!1;[ut]=0;[J]=!1;writable=!0;readable=!0;constructor(...o){const u=o[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");l(u)?(this[G]=!0,this[P]=null):p(u)?(this[P]=u.encoding,this[G]=!1):(this[G]=!1,this[P]=null),this[st]=!!u.async,this[C]=this[P]?new r.StringDecoder(this[P]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[j]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:v}=u;v&&(this[Ot]=v,v.aborted?this[Y]():v.addEventListener("abort",()=>this[Y]()))}get bufferLength(){return this[L]}get encoding(){return this[P]}set encoding(o){throw new Error("Encoding must be set at instantiation time")}setEncoding(o){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[G]}set objectMode(o){throw new Error("objectMode must be set at instantiation time")}get async(){return this[st]}set async(o){this[st]=this[st]||!!o}[Y](){this[Ct]=!0,this.emit("abort",this[Ot]?.reason),this.destroy(this[Ot]?.reason)}get aborted(){return this[Ct]}set aborted(o){}write(o,u,v){if(this[Ct])return!1;if(this[d])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(v=u,u="utf8"),u||(u="utf8");const A=this[st]?bt:Me;if(!this[G]&&!Buffer.isBuffer(o)){if(Le(o))o=Buffer.from(o.buffer,o.byteOffset,o.byteLength);else if(je(o))o=Buffer.from(o);else if(typeof o!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[G]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):o.length?(typeof o=="string"&&!(u===this[P]&&!this[C]?.lastNeed)&&(o=Buffer.from(o,u)),Buffer.isBuffer(o)&&this[P]&&(o=this[C].write(o)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):(this[L]!==0&&this.emit("readable"),v&&A(v),this[R])}read(o){if(this[N])return null;if(this[J]=!1,this[L]===0||o===0||o&&o>this[L])return this[b](),null;this[G]&&(o=null),this[j].length>1&&!this[G]&&(this[j]=[this[P]?this[j].join(""):Buffer.concat(this[j],this[L])]);const u=this[E](o||null,this[j][0]);return this[b](),u}[E](o,u){if(this[G])this[_t]();else{const v=u;o===v.length||o===null?this[_t]():typeof v=="string"?(this[j][0]=v.slice(o),u=v.slice(0,o),this[L]-=o):(this[j][0]=v.subarray(o),u=v.subarray(0,o),this[L]-=o)}return this.emit("data",u),!this[j].length&&!this[d]&&this.emit("drain"),u}end(o,u,v){return typeof o=="function"&&(v=o,o=void 0),typeof u=="function"&&(v=u,u="utf8"),o!==void 0&&this.write(o,u),v&&this.once("end",v),this[d]=!0,this.writable=!1,(this[R]||!this[D])&&this[b](),this}[k](){this[N]||(!this[ut]&&!this[I].length&&(this[J]=!0),this[D]=!1,this[R]=!0,this.emit("resume"),this[j].length?this[T]():this[d]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[D]=!0,this[J]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[D]}[rt](o){this[G]?this[L]+=1:this[L]+=o.length,this[j].push(o)}[_t](){return this[G]?this[L]-=1:this[L]-=this[j][0].length,this[j].shift()}[T](o=!1){do;while(this[O](this[_t]())&&this[j].length);!o&&!this[j].length&&!this[d]&&this.emit("drain")}[O](o){return this.emit("data",o),this[R]}pipe(o,u){if(this[N])return o;this[J]=!1;const v=this[g];return u=u||{},o===e.stdout||o===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,v?u.end&&o.end():(this[I].push(u.proxyErrors?new S(this,o,u):new re(this,o,u)),this[st]?bt(()=>this[k]()):this[k]()),o}unpipe(o){const u=this[I].find(v=>v.dest===o);u&&(this[I].length===1?(this[R]&&this[ut]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(o,u){return this.on(o,u)}on(o,u){const v=super.on(o,u);if(o==="data")this[J]=!1,this[ut]++,!this[I].length&&!this[R]&&this[k]();else if(o==="readable"&&this[L]!==0)super.emit("readable");else if(Tt(o)&&this[g])super.emit(o),this.removeAllListeners(o);else if(o==="error"&&this[w]){const A=u;this[st]?bt(()=>A.call(this,this[w])):A.call(this,this[w])}return v}removeListener(o,u){return this.off(o,u)}off(o,u){const v=super.off(o,u);return o==="data"&&(this[ut]=this.listeners("data").length,this[ut]===0&&!this[J]&&!this[I].length&&(this[R]=!1)),v}removeAllListeners(o){const u=super.removeAllListeners(o);return(o==="data"||o===void 0)&&(this[ut]=0,!this[J]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[j].length===0&&this[d]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(o,...u){const v=u[0];if(o!=="error"&&o!=="close"&&o!==N&&this[N])return!1;if(o==="data")return!this[G]&&!v?!1:this[st]?(bt(()=>this[kt](v)),!0):this[kt](v);if(o==="end")return this[ne]();if(o==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(o==="error"){this[w]=v,super.emit(ie,v);const M=!this[Ot]||this.listeners("error").length?super.emit("error",v):!1;return this[b](),M}else if(o==="resume"){const M=super.emit("resume");return this[b](),M}else if(o==="finish"||o==="prefinish"){const M=super.emit(o);return this.removeAllListeners(o),M}const A=super.emit(o,...u);return this[b](),A}[kt](o){for(const v of this[I])v.dest.write(o)===!1&&this.pause();const u=this[J]?!1:super.emit("data",o);return this[b](),u}[ne](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[st]?(bt(()=>this[Nt]()),!0):this[Nt]())}[Nt](){if(this[C]){const u=this[C].end();if(u){for(const v of this[I])v.dest.write(u);this[J]||super.emit("data",u)}}for(const u of this[I])u.end();const o=super.emit("end");return this.removeAllListeners("end"),o}async collect(){const o=Object.assign([],{dataLength:0});this[G]||(o.dataLength=0);const u=this.promise();return this.on("data",v=>{o.push(v),this[G]||(o.dataLength+=v.length)}),await u,o}async concat(){if(this[G])throw new Error("cannot concat in objectMode");const o=await this.collect();return this[P]?o.join(""):Buffer.concat(o,o.dataLength)}async promise(){return new Promise((o,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",v=>u(v)),this.on("end",()=>o())})}[Symbol.asyncIterator](){this[J]=!1;let o=!1;const u=async()=>(this.pause(),o=!0,{value:void 0,done:!0});return{next:()=>{if(o)return u();const A=this.read();if(A!==null)return Promise.resolve({done:!1,value:A});if(this[d])return u();let M,F;const W=Q=>{this.off("data",z),this.off("end",X),this.off(N,at),u(),F(Q)},z=Q=>{this.off("error",W),this.off("end",X),this.off(N,at),this.pause(),M({value:Q,done:!!this[d]})},X=()=>{this.off("error",W),this.off("data",z),this.off(N,at),u(),M({done:!0,value:void 0})},at=()=>W(new Error("stream destroyed"));return new Promise((Q,Fe)=>{F=Fe,M=Q,this.once(N,at),this.once("error",W),this.once("end",X),this.once("data",z)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[J]=!1;let o=!1;const u=()=>(this.pause(),this.off(ie,u),this.off(N,u),this.off("end",u),o=!0,{done:!0,value:void 0}),v=()=>{if(o)return u();const A=this.read();return A===null?u():{done:!1,value:A}};return this.once("end",u),this.once(ie,u),this.once(N,u),{next:v,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(o){if(this[N])return o?this.emit("error",o):this.emit(N),this;this[N]=!0,this[J]=!0,this[j].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),o?this.emit("error",o):this.emit(N),this}static get isStream(){return i.isStream}}i.Minipass=m})(xs);var on=ot&&ot.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,n)}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),hn=ot&&ot.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),an=ot&&ot.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&on(t,i,e);return hn(t,i),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const $s=fe,pe=Pi,ln=De,cn=an(ke),Ht=ke,fn=Ht.realpathSync.native,me=Ai,zs=xs,qt={lstatSync:Ht.lstatSync,readdir:Ht.readdir,readdirSync:Ht.readdirSync,readlinkSync:Ht.readlinkSync,realpathSync:fn,promises:{lstat:me.lstat,readdir:me.readdir,readlink:me.readlink,realpath:me.realpath}},Gs=i=>!i||i===qt||i===cn?qt:{...qt,...i,promises:{...qt.promises,...i.promises||{}}},Us=/^\\\\\?\\([a-z]:)\\?$/i,un=i=>i.replace(/\//g,"\\").replace(Us,"$1\\"),dn=/[\\\/]/,it=0,Hs=1,qs=2,lt=4,Vs=6,Ys=8,Pt=10,Js=12,nt=15,Vt=~nt,Ue=16,Ks=32,Yt=64,ht=128,ge=256,we=512,Zs=Yt|ht|we,pn=1023,He=i=>i.isFile()?Ys:i.isDirectory()?lt:i.isSymbolicLink()?Pt:i.isCharacterDevice()?qs:i.isBlockDevice()?Vs:i.isSocket()?Js:i.isFIFO()?Hs:it,Xs=new Map,Jt=i=>{const t=Xs.get(i);if(t)return t;const e=i.normalize("NFKD");return Xs.set(i,e),e},Qs=new Map,be=i=>{const t=Qs.get(i);if(t)return t;const e=Jt(i.toLowerCase());return Qs.set(i,e),e};class qe extends $s.LRUCache{constructor(){super({max:256})}}B.ResolveCache=qe;class ti extends $s.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=ti;const ei=Symbol("PathScurry setAsCwd");class Z{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#r;get mode(){return this.#r}#i;get nlink(){return this.#i}#h;get uid(){return this.#h}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#o;get ino(){return this.#o}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#A;get mtime(){return this.#A}#C;get ctime(){return this.#C}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#v;#n;#b;#j;#E;get path(){return(this.parent||this).fullpath()}constructor(t,e=it,s,n,r,h,a){this.name=t,this.#S=r?be(t):Jt(t),this.#n=e&pn,this.nocase=r,this.roots=n,this.root=s||this,this.#b=h,this.#p=a.fullpath,this.#T=a.relative,this.#v=a.relativePosix,this.parent=a.parent,this.parent?this.#t=this.parent.#t:this.#t=Gs(a.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),n=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(n):this.#k(n)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#n&=~Ue,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),n=this.nocase?be(t):Jt(t);for(const c of s)if(c.#S===n)return c;const r=this.parent?this.sep:"",h=this.#p?this.#p+r+t:void 0,a=this.newChild(t,it,{...e,parent:this,fullpath:h});return this.canReaddir()||(a.#n|=ht),s.push(a),a}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#v!==void 0)return this.#v;const t=this.name,e=this.parent;if(!e)return this.#v=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const n=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=n}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?this.#M=`//?/${n}`:this.#M=n}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#n&nt)===it}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#n&nt)===Ys}isDirectory(){return(this.#n&nt)===lt}isCharacterDevice(){return(this.#n&nt)===qs}isBlockDevice(){return(this.#n&nt)===Vs}isFIFO(){return(this.#n&nt)===Hs}isSocket(){return(this.#n&nt)===Js}isSymbolicLink(){return(this.#n&Pt)===Pt}lstatCached(){return this.#n&Ks?this:void 0}readlinkCached(){return this.#j}realpathCached(){return this.#E}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#j)return!0;if(!this.parent)return!1;const t=this.#n&nt;return!(t!==it&&t!==Pt||this.#n&ge||this.#n&ht)}calledReaddir(){return!!(this.#n&Ue)}isENOENT(){return!!(this.#n&ht)}isNamed(t){return this.nocase?this.#S===be(t):this.#S===Jt(t)}async readlink(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}#N(t){this.#n|=Ue;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#n&ht||(this.#n=(this.#n|ht)&Vt,this.#P())}#P(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#n|=we,this.#L()}#L(){if(this.#n&Yt)return;let t=this.#n;(t&nt)===lt&&(t&=Vt),this.#n=t|Yt,this.#P()}#D(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#n;e|=ge,t==="ENOENT"&&(e|=ht),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Vt),this.#n=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#F(t,e){return this.#U(t,e)||this.#G(t,e)}#G(t,e){const s=He(t),n=this.newChild(t.name,s,{parent:this}),r=n.#n&nt;return r!==lt&&r!==Pt&&r!==it&&(n.#n|=Yt),e.unshift(n),e.provisional++,n}#U(t,e){for(let s=e.provisional;s<e.length;s++){const n=e[s];if((this.nocase?be(t.name):Jt(t.name))===n.#S)return this.#H(t,n,s,e)}}#H(t,e,s,n){const r=e.name;return e.#n=e.#n&Vt|He(t),r!==t.name&&(e.name=t.name),s!==n.provisional&&(s===n.length-1?n.pop():n.splice(s,1),n.unshift(e)),n.provisional++,e}async lstat(){if(!(this.#n&ht))try{return this.#z(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#n&ht))try{return this.#z(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#z(t){const{atime:e,atimeMs:s,birthtime:n,birthtimeMs:r,blksize:h,blocks:a,ctime:c,ctimeMs:d,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:E,nlink:T,rdev:O,size:P,uid:C}=t;this.#g=e,this.#w=s,this.#O=n,this.#y=r,this.#a=h,this.#m=a,this.#C=c,this.#u=d,this.#s=b,this.#l=g,this.#o=y,this.#r=w,this.#A=_,this.#d=E,this.#i=T,this.#f=O,this.#e=P,this.#h=C;const R=He(t);this.#n=this.#n&Vt|R|Ks,R!==it&&R!==lt&&R!==Pt&&(this.#n|=Yt)}#x=[];#$=!1;#q(t){this.#$=!1;const e=this.#x.slice();this.#x.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const r=s.slice(0,s.provisional);e?t(null,r):queueMicrotask(()=>t(null,r));return}if(this.#x.push(t),this.#$)return;this.#$=!0;const n=this.fullpath();this.#t.readdir(n,{withFileTypes:!0},(r,h)=>{if(r)this.#D(r.code),s.provisional=0;else{for(const a of h)this.#F(a,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(n=>s=n);try{for(const n of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#F(n,t);this.#N(t)}catch(n){this.#D(n.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#F(s,t);this.#N(t)}catch(s){this.#D(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#n&Zs)return!1;const t=nt&this.#n;return t===it||t===lt||t===Pt}shouldWalk(t,e){return(this.#n&lt)===lt&&!(this.#n&Zs)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=this.#t.realpathSync(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}[ei](t){if(t===this)return;const e=new Set([]);let s=[],n=this;for(;n&&n.parent;)e.add(n),n.#T=s.join(this.sep),n.#v=s.join("/"),n=n.parent,s.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#T=void 0,n.#v=void 0,n=n.parent}}B.PathBase=Z;class ee extends Z{sep="\\";splitSep=dn;constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}newChild(t,e=it,s={}){return new ee(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return pe.win32.parse(t).root}getRoot(t){if(t=un(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Ye(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Us,"$1\\"),t===e}}B.PathWin32=ee;class se extends Z{splitSep="/";sep="/";constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=it,s={}){return new se(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=se;class Ve{root;rootPath;roots;cwd;#t;#s;#r;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:n,childrenCacheSize:r=16*1024,fs:h=qt}={}){this.#i=Gs(h),(t instanceof URL||t.startsWith("file://"))&&(t=(0,ln.fileURLToPath)(t));const a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#t=new qe,this.#s=new qe,this.#r=new ti(r);const c=a.substring(this.rootPath.length).split(s);if(c.length===1&&!c[0]&&c.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let d=this.root,b=c.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of c){const E=b--;d=d.child(_,{relative:new Array(E).fill("..").join(g),relativePosix:new Array(E).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=d}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#r}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#t.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpath();return this.#t.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#s.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const n=await t.readdir();return s?n:n.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set,d=(g,y)=>{c.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let E=_.length;if(!E)return y();const T=()=>{--E===0&&y()};for(const O of _)(!r||r(O))&&a.push(s?O:O.fullpath()),n&&O.isSymbolicLink()?O.realpath().then(P=>P?.isUnknown()?P.lstat():P).then(P=>P?.shouldWalk(c,h)?d(P,T):T()):O.shouldWalk(c,h)?d(O,T):T()},!0)},b=t;return new Promise((g,y)=>{d(b,w=>{if(w)return y(w);g(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set([t]);for(const d of c){const b=d.readdirSync();for(const g of b){(!r||r(g))&&a.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(n&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(c,h)&&c.add(y)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e;(!r||r(t))&&(yield s?t:t.fullpath());const a=new Set([t]);for(const c of a){const d=c.readdirSync();for(const b of d){(!r||r(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(n&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(a,h)&&a.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0});(!r||r(t))&&a.write(s?t:t.fullpath());const c=new Set,d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=(T,O,P=!1)=>{if(T)return a.emit("error",T);if(n&&!P){const C=[];for(const R of O)R.isSymbolicLink()&&C.push(R.realpath().then(D=>D?.isUnknown()?D.lstat():D));if(C.length){Promise.all(C).then(()=>_(null,O,!0));return}}for(const C of O)C&&(!r||r(C))&&(a.write(s?C:C.fullpath())||(y=!0));b--;for(const C of O){const R=C.realpathCached()||C;R.shouldWalk(c,h)&&d.push(R)}y&&!a.flowing?a.once("drain",g):E||g()};let E=!0;w.readdirCB(_,!0),E=!1}};return g(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0}),c=new Set;(!r||r(t))&&a.write(s?t:t.fullpath());const d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=w.readdirSync();for(const E of _)(!r||r(E))&&(a.write(s?E:E.fullpath())||(y=!0));b--;for(const E of _){let T=E;if(E.isSymbolicLink()){if(!(n&&(T=E.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(c,h)&&d.push(T)}}y&&!a.flowing&&a.once("drain",g)};return g(),a}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[ei](e)}}B.PathScurryBase=Ve;class Ye extends Ve{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,pe.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let n=this.cwd;n;n=n.parent)n.nocase=this.nocase}parseRootPath(t){return pe.win32.parse(t).root.toUpperCase()}newRoot(t){return new ee(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Ye;class Je extends Ve{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,pe.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new se(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=Je;class si extends Je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=si,B.Path=process.platform==="win32"?ee:se,B.PathScurry=process.platform==="win32"?Ye:process.platform==="darwin"?si:Je;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Pattern=void 0;const mn=yt,gn=i=>i.length>=1,wn=i=>i.length>=1;class os{#t;#s;#r;length;#i;#h;#l;#f;#a;#o;#e=!0;constructor(t,e,s,n){if(!gn(t))throw new TypeError("empty pattern list");if(!wn(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#r=s,this.#i=n,this.#r===0){if(this.isUNC()){const[r,h,a,c,...d]=this.#t,[b,g,y,w,..._]=this.#s;d[0]===""&&(d.shift(),_.shift());const E=[r,h,a,c,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[E,...d],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[r,...h]=this.#t,[a,...c]=this.#s;h[0]===""&&(h.shift(),c.shift());const d=r+"/",b=a+"/";this.#t=[d,...h],this.#s=[b,...c],this.length=this.#t.length}}}pattern(){return this.#t[this.#r]}isString(){return typeof this.#t[this.#r]=="string"}isGlobstar(){return this.#t[this.#r]===mn.GLOBSTAR}isRegExp(){return this.#t[this.#r]instanceof RegExp}globString(){return this.#l=this.#l||(this.#r===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return this.#h!==void 0?this.#h:this.hasMore()?(this.#h=new os(this.#t,this.#s,this.#r+1,this.#i),this.#h.#o=this.#o,this.#h.#a=this.#a,this.#h.#f=this.#f,this.#h):this.#h=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#r===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#r===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#o!==void 0?this.#o:this.#o=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#r===0?t:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#r===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}Kt.Pattern=os;var vt={},ii={};const ni=typeof process=="object"&&process?process:{stdout:null,stderr:null},bn=fs,ri=us,yn=ds,oi=yn.StringDecoder,pt=Symbol("EOF"),mt=Symbol("maybeEmitEnd"),Et=Symbol("emittedEnd"),ye=Symbol("emittingEnd"),Zt=Symbol("emittedError"),Se=Symbol("closed"),hi=Symbol("read"),ve=Symbol("flush"),ai=Symbol("flushChunk"),tt=Symbol("encoding"),gt=Symbol("decoder"),Ee=Symbol("flowing"),Xt=Symbol("paused"),Lt=Symbol("resume"),x=Symbol("buffer"),ct=Symbol("pipes"),H=Symbol("bufferLength"),Ke=Symbol("bufferPush"),Ze=Symbol("bufferShift"),V=Symbol("objectMode"),$=Symbol("destroyed"),Xe=Symbol("error"),Qe=Symbol("emitData"),li=Symbol("emitEnd"),ts=Symbol("emitEnd2"),wt=Symbol("async"),es=Symbol("abort"),_e=Symbol("aborted"),At=Symbol("signal"),Qt=i=>Promise.resolve().then(i),ci=ot._MP_NO_ITERATOR_SYMBOLS_!=="1",fi=ci&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),ui=ci&&Symbol.iterator||Symbol("iterator not implemented"),Sn=i=>i==="end"||i==="finish"||i==="prefinish",vn=i=>i instanceof ArrayBuffer||typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,En=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i);class di{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[Lt](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class _n extends di{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=n=>e.emit("error",n),t.on("error",this.proxyErrors)}}class hs extends ri{constructor(t){super(),this[Ee]=!1,this[Xt]=!1,this[ct]=[],this[x]=[],this[V]=t&&t.objectMode||!1,this[V]?this[tt]=null:this[tt]=t&&t.encoding||null,this[tt]==="buffer"&&(this[tt]=null),this[wt]=t&&!!t.async||!1,this[gt]=this[tt]?new oi(this[tt]):null,this[pt]=!1,this[Et]=!1,this[ye]=!1,this[Se]=!1,this[Zt]=null,this.writable=!0,this.readable=!0,this[H]=0,this[$]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[x]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ct]}),this[At]=t&&t.signal,this[_e]=!1,this[At]&&(this[At].addEventListener("abort",()=>this[es]()),this[At].aborted&&this[es]())}get bufferLength(){return this[H]}get encoding(){return this[tt]}set encoding(t){if(this[V])throw new Error("cannot set encoding in objectMode");if(this[tt]&&t!==this[tt]&&(this[gt]&&this[gt].lastNeed||this[H]))throw new Error("cannot change encoding");this[tt]!==t&&(this[gt]=t?new oi(t):null,this[x].length&&(this[x]=this[x].map(e=>this[gt].write(e)))),this[tt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[V]}set objectMode(t){this[V]=this[V]||!!t}get async(){return this[wt]}set async(t){this[wt]=this[wt]||!!t}[es](){this[_e]=!0,this.emit("abort",this[At].reason),this.destroy(this[At].reason)}get aborted(){return this[_e]}set aborted(t){}write(t,e,s){if(this[_e])return!1;if(this[pt])throw new Error("write after end");if(this[$])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const n=this[wt]?Qt:r=>r();return!this[V]&&!Buffer.isBuffer(t)&&(En(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):vn(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[V]?(this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[tt]&&!this[gt].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[tt]&&(t=this[gt].write(t)),this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):(this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing)}read(t){if(this[$])return null;if(this[H]===0||t===0||t>this[H])return this[mt](),null;this[V]&&(t=null),this[x].length>1&&!this[V]&&(this.encoding?this[x]=[this[x].join("")]:this[x]=[Buffer.concat(this[x],this[H])]);const e=this[hi](t||null,this[x][0]);return this[mt](),e}[hi](t,e){return t===e.length||t===null?this[Ze]():(this[x][0]=e.slice(t),e=e.slice(0,t),this[H]-=t),this.emit("data",e),!this[x].length&&!this[pt]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[pt]=!0,this.writable=!1,(this.flowing||!this[Xt])&&this[mt](),this}[Lt](){this[$]||(this[Xt]=!1,this[Ee]=!0,this.emit("resume"),this[x].length?this[ve]():this[pt]?this[mt]():this.emit("drain"))}resume(){return this[Lt]()}pause(){this[Ee]=!1,this[Xt]=!0}get destroyed(){return this[$]}get flowing(){return this[Ee]}get paused(){return this[Xt]}[Ke](t){this[V]?this[H]+=1:this[H]+=t.length,this[x].push(t)}[Ze](){return this[V]?this[H]-=1:this[H]-=this[x][0].length,this[x].shift()}[ve](t){do;while(this[ai](this[Ze]())&&this[x].length);!t&&!this[x].length&&!this[pt]&&this.emit("drain")}[ai](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[$])return;const s=this[Et];return e=e||{},t===ni.stdout||t===ni.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ct].push(e.proxyErrors?new _n(this,t,e):new di(this,t,e)),this[wt]?Qt(()=>this[Lt]()):this[Lt]()),t}unpipe(t){const e=this[ct].find(s=>s.dest===t);e&&(this[ct].splice(this[ct].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ct].length&&!this.flowing?this[Lt]():t==="readable"&&this[H]!==0?super.emit("readable"):Sn(t)&&this[Et]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Zt]&&(this[wt]?Qt(()=>e.call(this,this[Zt])):e.call(this,this[Zt])),s}get emittedEnd(){return this[Et]}[mt](){!this[ye]&&!this[Et]&&!this[$]&&this[x].length===0&&this[pt]&&(this[ye]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Se]&&this.emit("close"),this[ye]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==$&&this[$])return;if(t==="data")return!this[V]&&!e?!1:this[wt]?Qt(()=>this[Qe](e)):this[Qe](e);if(t==="end")return this[li]();if(t==="close"){if(this[Se]=!0,!this[Et]&&!this[$])return;const r=super.emit("close");return this.removeAllListeners("close"),r}else if(t==="error"){this[Zt]=e,super.emit(Xe,e);const r=!this[At]||this.listeners("error").length?super.emit("error",e):!1;return this[mt](),r}else if(t==="resume"){const r=super.emit("resume");return this[mt](),r}else if(t==="finish"||t==="prefinish"){const r=super.emit(t);return this.removeAllListeners(t),r}const n=super.emit(t,e,...s);return this[mt](),n}[Qe](t){for(const s of this[ct])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[mt](),e}[li](){this[Et]||(this[Et]=!0,this.readable=!1,this[wt]?Qt(()=>this[ts]()):this[ts]())}[ts](){if(this[gt]){const e=this[gt].end();if(e){for(const s of this[ct])s.dest.write(e);super.emit("data",e)}}for(const e of this[ct])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[V]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[V]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[V]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[V]?Promise.reject(new Error("cannot concat in objectMode")):this[tt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on($,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[fi](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[pt])return e();let r=null,h=null;const a=g=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener($,b),e(),h(g)},c=g=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener($,b),this.pause(),r({value:g,done:!!this[pt]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener($,b),e(),r({done:!0})},b=()=>a(new Error("stream destroyed"));return new Promise((g,y)=>{h=y,r=g,this.once($,b),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:e,return:e,[fi](){return this}}}[ui](){let t=!1;const e=()=>(this.pause(),this.removeListener(Xe,e),this.removeListener($,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const n=this.read();return n===null?e():{value:n}};return this.once("end",e),this.once(Xe,e),this.once($,e),{next:s,throw:e,return:e,[ui](){return this}}}destroy(t){return this[$]?(t?this.emit("error",t):this.emit($),this):(this[$]=!0,this[x].length=0,this[H]=0,typeof this.close=="function"&&!this[Se]&&this.close(),t?this.emit("error",t):this.emit($),this)}static isStream(t){return!!t&&(t instanceof hs||t instanceof ri||t instanceof bn&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}ii.Minipass=hs;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Ignore=void 0;const pi=yt,On=Kt,Tn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Rn{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:n,noglobstar:r,platform:h=Tn}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const a={dot:!0,nobrace:e,nocase:s,noext:n,noglobstar:r,optimizationLevel:2,platform:h,nocomment:!0,nonegate:!0};for(const c of t){const d=new pi.Minimatch(c,a);for(let b=0;b<d.set.length;b++){const g=d.set[b],y=d.globParts[b],w=new On.Pattern(g,y,0,h),_=new pi.Minimatch(w.globString(),a),E=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),E&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,n=t.relative()||".",r=`${n}/`;for(const h of this.relative)if(h.match(n)||h.match(r))return!0;for(const h of this.absolute)if(h.match(e)||h.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const n of this.relativeChildren)if(n.match(s))return!0;for(const n of this.absoluteChildren)n.match(e);return!1}}Oe.Ignore=Rn;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.Processor=ft.SubWalks=ft.MatchRecord=ft.HasWalkedCache=void 0;const mi=yt;class Ce{store;constructor(t=new Map){this.store=t}copy(){return new Ce(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),n=this.store.get(s);n?n.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}ft.HasWalkedCache=Ce;class gi{store=new Map;add(t,e,s){const n=(e?2:0)|(s?1:0),r=this.store.get(t);this.store.set(t,r===void 0?n:n&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}ft.MatchRecord=gi;class wi{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(n=>n.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}ft.SubWalks=wi;class as{hasWalkedCache;matches=new gi;subwalks=new wi;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Ce}processPatterns(t,e){this.patterns=e;const s=e.map(n=>[t,n]);for(let[n,r]of s){this.hasWalkedCache.storeWalked(n,r);const h=r.root(),a=r.isAbsolute()&&this.opts.absolute!==!1;if(h){n=n.resolve(h==="/"&&this.opts.root!==void 0?this.opts.root:h);const g=r.rest();if(g)r=g;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let c,d,b=!1;for(;typeof(c=r.pattern())=="string"&&(d=r.rest());){const g=n.resolve(c);if(g.isUnknown()&&c!=="..")break;n=g,r=d,b=!0}if(c=r.pattern(),d=r.rest(),b){if(this.hasWalkedCache.hasWalked(n,r))continue;this.hasWalkedCache.storeWalked(n,r)}if(typeof c=="string"){if(d)this.subwalks.add(n,r);else{const g=c===".."||c===""||c===".";this.matches.add(n.resolve(c),a,g)}continue}else if(c===mi.GLOBSTAR){(!n.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(n,r);const g=d?.pattern(),y=d?.rest();if(!d||(g===""||g===".")&&!y)this.matches.add(n,a,g===""||g===".");else if(g===".."){const w=n.parent||n;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,a,!0)}}else c instanceof RegExp&&this.subwalks.add(n,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new as(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),n=this.child();for(const r of e)for(const h of s){const a=h.isAbsolute(),c=h.pattern(),d=h.rest();c===mi.GLOBSTAR?n.testGlobstar(r,h,d,a):c instanceof RegExp?n.testRegExp(r,c,d,a):n.testString(r,c,d,a)}return n}testGlobstar(t,e,s,n){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const r=s.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,s.rest(),n);else if(r===".."){const h=t.parent||t;this.subwalks.add(h,s)}else r instanceof RegExp&&this.testRegExp(t,r,s.rest(),n)}}testRegExp(t,e,s,n){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}testString(t,e,s,n){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}}ft.Processor=as,Object.defineProperty(vt,"__esModule",{value:!0}),vt.GlobStream=vt.GlobWalker=vt.GlobUtil=void 0;const Pn=ii,bi=Oe,yi=ft,An=(i,t)=>typeof i=="string"?new bi.Ignore([i],t):Array.isArray(i)?new bi.Ignore(i,t):i;class ss{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#r;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#r=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=An(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#h(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#r:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const r=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(r+n)}else{const r=this.opts.posix?t.relativePosix():t.relative(),h=this.opts.dotRelative&&!r.startsWith(".."+this.#r)?"."+this.#r:"";this.matchEmit(r?h+r+n:"."+n)}}async match(t,e,s){const n=await this.matchCheck(t,s);n&&this.matchFinish(n,e)}matchSync(t,e,s){const n=this.matchCheckSync(t,s);n&&this.matchFinish(n,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new yi.Processor(this.opts),s)}walkCB2(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirCached();a.calledReaddir()?this.walkCB3(a,c,s,h):a.readdirCB((d,b)=>this.walkCB3(a,b,s,h),!0)}h()}walkCB3(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const[a,c]of s.subwalks.entries())r++,this.walkCB2(a,c,s.child(),h);h()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new yi.Processor(this.opts),s)}walkCB2Sync(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirSync();this.walkCB3Sync(a,c,s,h)}h()}walkCB3Sync(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const[a,c]of s.subwalks.entries())r++,this.walkCB2Sync(a,c,s.child(),h);h()}}vt.GlobUtil=ss;class Cn extends ss{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}vt.GlobWalker=Cn;class Mn extends ss{results;constructor(t,e,s){super(t,e,s),this.results=new Pn.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}vt.GlobStream=Mn,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.Glob=void 0;const jn=yt,Te=B,Ln=De,Fn=Kt,Re=vt,Dn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class kn{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Ln.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(c=>c.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(c=>c.includes("/")?c:`./**/${c}`)}if(this.pattern=t,this.platform=e.platform||Dn,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const c=e.platform==="win32"?Te.PathScurryWin32:e.platform==="darwin"?Te.PathScurryDarwin:e.platform?Te.PathScurryPosix:Te.PathScurry;this.scurry=new c(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(c=>new jn.Minimatch(c,n)),[h,a]=r.reduce((c,d)=>(c[0].push(...d.set),c[1].push(...d.globParts),c),[[],[]]);this.patterns=h.map((c,d)=>new Fn.Pattern(c,a[d],0,this.platform))}async walk(){return[...await new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Gt.Glob=kn;var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.hasMagic=void 0;const Nn=yt,Bn=(i,t={})=>{Array.isArray(i)||(i=[i]);for(const e of i)if(new Nn.Minimatch(e,t).hasMagic())return!0;return!1};te.hasMagic=Bn,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.glob=i.hasMagic=i.Glob=i.unescape=i.escape=i.sync=i.iterate=i.iterateSync=i.stream=i.streamSync=i.globIterate=i.globIterateSync=i.globSync=i.globStream=i.globStreamSync=void 0;const t=yt,e=Gt,s=te;function n(w,_={}){return new e.Glob(w,_).streamSync()}i.globStreamSync=n;function r(w,_={}){return new e.Glob(w,_).stream()}i.globStream=r;function h(w,_={}){return new e.Glob(w,_).walkSync()}i.globSync=h;async function a(w,_={}){return new e.Glob(w,_).walk()}function c(w,_={}){return new e.Glob(w,_).iterateSync()}i.globIterateSync=c;function d(w,_={}){return new e.Glob(w,_).iterate()}i.globIterate=d,i.streamSync=n,i.stream=Object.assign(r,{sync:n}),i.iterateSync=c,i.iterate=Object.assign(d,{sync:c}),i.sync=Object.assign(h,{stream:n,iterate:c});var b=yt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Gt;Object.defineProperty(i,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=te;Object.defineProperty(i,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),i.glob=Object.assign(a,{glob:a,globSync:h,sync:i.sync,globStream:r,stream:i.stream,globStreamSync:n,streamSync:i.streamSync,globIterate:d,iterate:i.iterate,globIterateSync:c,iterateSync:i.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),i.glob.glob=i.glob}(Es);var is=Object.defineProperty,In=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyNames,xn=Object.prototype.hasOwnProperty,$n=(i,t)=>{for(var e in t)is(i,e,{get:t[e],enumerable:!0})},zn=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wn(t))!xn.call(i,n)&&n!==e&&is(i,n,{get:()=>t[n],enumerable:!(s=In(t,n))||s.enumerable});return i},Gn=i=>zn(is({},"__esModule",{value:!0}),i),Si={};$n(Si,{default:()=>Hn});var Un=Gn(Si);function Hn(i,t){return t?.allExtensions?i.replace(/\..+$/,""):i.replace(/\.[^.]+$/,"")}var qn=Object.create,Pe=Object.defineProperty,Vn=Object.getOwnPropertyDescriptor,Yn=Object.getOwnPropertyNames,Jn=Object.getPrototypeOf,Kn=Object.prototype.hasOwnProperty,Zn=(i,t)=>{for(var e in t)Pe(i,e,{get:t[e],enumerable:!0})},vi=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Yn(t))!Kn.call(i,n)&&n!==e&&Pe(i,n,{get:()=>t[n],enumerable:!(s=Vn(t,n))||s.enumerable});return i},Ei=(i,t,e)=>(e=i!=null?qn(Jn(i)):{},vi(t||!i||!i.__esModule?Pe(e,"default",{value:i,enumerable:!0}):e,i)),Xn=i=>vi(Pe({},"__esModule",{value:!0}),i),_i={};Zn(_i,{getMonorepoDirpath:()=>er});var Qn=Xn(_i),ns=Ei(ke),Ae=Ei(U),tr=De;function er(i=process.cwd()){i=i.startsWith("file://")?(0,tr.fileURLToPath)(i):i,ns.statSync(i).isFile()&&(i=Ae.default.dirname(i));let t;for(;i!=="/";){const e=ns.existsSync(Ae.default.join(i,"pnpm-workspace.yaml"));if(ns.existsSync(Ae.default.join(i,"pnpm-lock.yaml"))&&(t=i),e)return i;i=Ae.default.dirname(i)}return t}const Ft=U,{globSync:sr}=Es,Oi=Un,{getMonorepoDirpath:ir}=Qn;var nr=function(){const t=ir(__dirname);if(t===void 0)throw new Error("Could not find monorepo directory");const e=s=>`__${s.replaceAll(/[^\w$]/g,"_")}`;return function(s){if(Ft.basename(s).startsWith("__virtual__:")){const n=(Oi.default??Oi)(Ft.basename(s).replace("__virtual__:","")),r=Ft.dirname(s),h=sr(r,{absolute:!0}),a=[];switch(n){case"files":{for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`import * as ${b} from ${JSON.stringify(c)};`)}a.push("export default {");for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`${JSON.stringify(d)}: ${b},`)}a.push("};");break}case"matches":{a.push(...h.map(c=>`export * from ${JSON.stringify(c)};`));break}case"filepaths":{a.push("export default {");for(const c of h){const d=Ft.relative(t,c);a.push(`${JSON.stringify(d)}: true,`)}a.push("};");break}default:throw new Error(`Unknown virtual file type: ${n}`)}return a.push("export {};"),a.join(`
+`)}else return readFile(s)}},rr=Ci(nr);module.exports=rr;
+;return module.exports()})({}),
             writeFile: writeFile2,
             watchFile: watchFile2,
             watchDirectory,
             resolvePath: (path) => _path.resolve(path),
-            fileExists,
-            directoryExists,
+            fileExists: ((module) => {"use strict";var t=require("node:path");function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const s=t;var i=function(){return function(r){return s.basename(r).startsWith("__virtual__:")?!0:fileExists(r)}},u=a(i);module.exports=u;
+;return module.exports()})({}),
+            directoryExists: ((module) => {"use strict";var Xs=require("path"),Ve=require("url"),Ye=require("fs"),Qs=require("fs/promises"),Ke=require("events"),Je=require("stream"),Ze=require("string_decoder"),it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ti(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xe={},mt={},ei=Qe;function Qe(r,t,e){r instanceof RegExp&&(r=ts(r,e)),t instanceof RegExp&&(t=ts(t,e));var s=es(r,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+r.length,s[1]),post:e.slice(s[1]+t.length)}}function ts(r,t){var e=t.match(r);return e?e[0]:null}Qe.range=es;function es(r,t,e){var s,i,n,o,c,l=e.indexOf(r),p=e.indexOf(t,l+1),b=l;if(l>=0&&p>0){if(r===t)return[l,p];for(s=[],n=e.length;b>=0&&!c;)b==l?(s.push(b),l=e.indexOf(r,b+1)):s.length==1?c=[s.pop(),p]:(i=s.pop(),i<n&&(n=i,o=p),p=e.indexOf(t,b+1)),b=l<p&&l>=0?l:p;s.length&&(c=[n,o])}return c}var ss=ei,si=ni,is="\0SLASH"+Math.random()+"\0",rs="\0OPEN"+Math.random()+"\0",Oe="\0CLOSE"+Math.random()+"\0",ns="\0COMMA"+Math.random()+"\0",hs="\0PERIOD"+Math.random()+"\0";function Te(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function ii(r){return r.split("\\\\").join(is).split("\\{").join(rs).split("\\}").join(Oe).split("\\,").join(ns).split("\\.").join(hs)}function ri(r){return r.split(is).join("\\").split(rs).join("{").split(Oe).join("}").split(ns).join(",").split(hs).join(".")}function os(r){if(!r)return[""];var t=[],e=ss("{","}",r);if(!e)return r.split(",");var s=e.pre,i=e.body,n=e.post,o=s.split(",");o[o.length-1]+="{"+i+"}";var c=os(n);return n.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),t.push.apply(t,o),t}function ni(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),Lt(ii(r),!0).map(ri)):[]}function hi(r){return"{"+r+"}"}function oi(r){return/^-?0\d/.test(r)}function ai(r,t){return r<=t}function li(r,t){return r>=t}function Lt(r,t){var e=[],s=ss("{","}",r);if(!s)return[r];var i=s.pre,n=s.post.length?Lt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<n.length;o++){var c=i+"{"+s.body+"}"+n[o];e.push(c)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),p=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=l||p,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(r=s.pre+"{"+s.body+Oe+s.post,Lt(r)):[r];var y;if(b)y=s.body.split(/\.\./);else if(y=os(s.body),y.length===1&&(y=Lt(y[0],!1).map(hi),y.length===1))return n.map(function(st){return s.pre+y[0]+st});var w;if(b){var _=Te(y[0]),v=Te(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs(Te(y[2])):1,A=ai,P=v<_;P&&(O*=-1,A=li);var R=y.some(oi);w=[];for(var F=_;A(F,v);F+=O){var k;if(p)k=String.fromCharCode(F),k==="\\"&&(k="");else if(k=String(F),R){var D=T-k.length;if(D>0){var I=new Array(D+1).join("0");F<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Lt(y[L],!1))}for(var L=0;L<w.length;L++)for(var o=0;o<n.length;o++){var c=i+w[L]+n[o];(!t||b||c)&&e.push(c)}}return e}var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.assertValidPattern=void 0;const ci=1024*64,fi=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>ci)throw new TypeError("pattern is too long")};Qt.assertValidPattern=fi;var jt={},te={};Object.defineProperty(te,"__esModule",{value:!0}),te.parseClass=void 0;const ui={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ft=r=>r.replace(/[[\]\\-]/g,"\\$&"),di=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),as=r=>r.join(""),pi=(r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],i=[];let n=e+1,o=!1,c=!1,l=!1,p=!1,b=e,g="";t:for(;n<r.length;){const v=r.charAt(n);if((v==="!"||v==="^")&&n===e+1){p=!0,n++;continue}if(v==="]"&&o&&!l){b=n+1;break}if(o=!0,v==="\\"&&!l){l=!0,n++;continue}if(v==="["&&!l){for(const[T,[O,A,P]]of Object.entries(ui))if(r.startsWith(T,n)){if(g)return["$.",!1,r.length-e,!0];n+=T.length,P?i.push(O):s.push(O),c=c||A;continue t}}if(l=!1,g){v>g?s.push(Ft(g)+"-"+Ft(v)):v===g&&s.push(Ft(v)),g="",n++;continue}if(r.startsWith("-]",n+1)){s.push(Ft(v+"-")),n+=2;continue}if(r.startsWith("-",n+1)){g=v,n+=2;continue}s.push(Ft(v)),n++}if(b<n)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,r.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!p){const v=s[0].length===2?s[0].slice(-1):s[0];return[di(v),!1,b-e,!1]}const y="["+(p?"^":"")+as(s)+"]",w="["+(p?"":"^")+as(i)+"]";return[s.length&&i.length?"("+y+"|"+w+")":s.length?y:w,c,b-e,!0]};te.parseClass=pi;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.unescape=void 0;const mi=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Rt.unescape=mi,Object.defineProperty(jt,"__esModule",{value:!0}),jt.AST=void 0;const gi=te,ee=Rt,wi=new Set(["!","?","+","*","@"]),ls=r=>wi.has(r),bi="(?!(?:^|/)\\.\\.?(?:$|/))",se="(?!\\.)",yi=new Set(["[","."]),Si=new Set(["..","."]),Ei=new Set("().*{}+?[]^$\\!"),vi=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Re="[^/]",cs=Re+"*?",fs=Re+"+?";class X{type;#t;#s;#n=!1;#i=[];#o;#l;#f;#a=!1;#h;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#o=e,this.#t=this.#o?this.#o.#t:this,this.#h=this.#t===this?s:this.#t.#h,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#o?this.#o.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#o;for(;s;){for(let i=e.#l+1;!s.type&&i<s.#i.length;i++)for(const n of t.#i){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#i[i])}e=s,s=e.#o}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof X&&e.#o===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#o?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#o?.isStart())return!1;if(this.#l===0)return!0;const t=this.#o;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof X&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();const t=this.#o?this.#o.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new X(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,i){let n=!1,o=!1,c=-1,l=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const v=t.charAt(w++);if(n||v==="\\"){n=!n,_+=v;continue}if(o){w===c+1?(v==="^"||v==="!")&&(l=!0):v==="]"&&!(w===c+2&&l)&&(o=!1),_+=v;continue}else if(v==="["){o=!0,c=w,l=!1,_+=v;continue}if(!i.noext&&ls(v)&&t.charAt(w)==="("){e.push(_),_="";const T=new X(v,e);w=X.#d(t,T,w,i),e.push(T);continue}_+=v}return e.push(_),w}let p=s+1,b=new X(null,e);const g=[];let y="";for(;p<t.length;){const w=t.charAt(p++);if(n||w==="\\"){n=!n,y+=w;continue}if(o){p===c+1?(w==="^"||w==="!")&&(l=!0):w==="]"&&!(p===c+2&&l)&&(o=!1),y+=w;continue}else if(w==="["){o=!0,c=p,l=!1,y+=w;continue}if(ls(w)&&t.charAt(p)==="("){b.push(y),y="";const _=new X(w,b);b.push(_),p=X.#d(t,_,p,i);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new X(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),p;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],p}static fromGlob(t,e={}){const s=new X(null,void 0,e);return X.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,i,n]=this.toRegExpSource();if(!(i||this.#s||this.#h.nocase&&!this.#h.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const c=(this.#h.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,c),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#h.dot;if(this.#t===this&&this.#w(),!this.type){const l=this.isStart()&&this.isEnd(),p=this.#i.map(w=>{const[_,v,T,O]=typeof w=="string"?X.#y(w,this.#s,l):w.toRegExpSource(t);return this.#s=this.#s||T,this.#n=this.#n||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&Si.has(this.#i[0]))){const _=yi,v=e&&_.has(p.charAt(0))||p.startsWith("\\.")&&_.has(p.charAt(2))||p.startsWith("\\.\\.")&&_.has(p.charAt(4)),T=!e&&!t&&_.has(p.charAt(0));b=v?bi:T?se:""}let g="";return this.isEnd()&&this.#t.#a&&this.#o?.type==="!"&&(g="(?:$|\\/)"),[b+p+g,(0,ee.unescape)(p),this.#s=!!this.#s,this.#n]}const s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let n=this.#u(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){const l=this.toString();return this.#i=[l],this.type=null,this.#s=void 0,[l,(0,ee.unescape)(this.toString()),!1,!1]}let o=!s||t||e||!se?"":this.#u(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let c="";if(this.type==="!"&&this.#m)c=(this.isStart()&&!e?se:"")+fs;else{const l=this.type==="!"?"))"+(this.isStart()&&!e&&!t?se:"")+cs+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;c=i+n+l}return[c,(0,ee.unescape)(n),this.#s=!!this.#s,this.#n]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,i,n,o]=e.toRegExpSource(t);return this.#n=this.#n||o,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let i=!1,n="",o=!1;for(let c=0;c<t.length;c++){const l=t.charAt(c);if(i){i=!1,n+=(Ei.has(l)?"\\":"")+l;continue}if(l==="\\"){c===t.length-1?n+="\\\\":i=!0;continue}if(l==="["){const[p,b,g,y]=(0,gi.parseClass)(t,c);if(g){n+=p,o=o||b,c+=g-1,e=e||y;continue}}if(l==="*"){s&&t==="*"?n+=fs:n+=cs,e=!0;continue}if(l==="?"){n+=Re,e=!0;continue}n+=vi(l)}return[n,(0,ee.unescape)(t),!!e,o]}}jt.AST=X;var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.escape=void 0;const _i=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");kt.escape=_i,function(r){var t=it&&it.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.unescape=r.escape=r.AST=r.Minimatch=r.match=r.makeRe=r.braceExpand=r.defaults=r.filter=r.GLOBSTAR=r.sep=r.minimatch=void 0;const e=t(si),s=Qt,i=jt,n=kt,o=Rt,c=(S,a,d={})=>((0,s.assertValidPattern)(a),!d.nocomment&&a.charAt(0)==="#"?!1:new Et(a,d).match(S));r.minimatch=c;const l=/^\*+([^+@!?\*\[\(]*)$/,p=S=>a=>!a.startsWith(".")&&a.endsWith(S),b=S=>a=>a.endsWith(S),g=S=>(S=S.toLowerCase(),a=>!a.startsWith(".")&&a.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),a=>a.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),v=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),A=/^\*+$/,P=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",F=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,a=""])=>{const d=st([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},D=([S,a=""])=>{const d=yt([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},I=([S,a=""])=>{const d=yt([S]);return a?m=>d(m)&&m.endsWith(a):d},L=([S,a=""])=>{const d=st([S]);return a?m=>d(m)&&m.endsWith(a):d},st=([S])=>{const a=S.length;return d=>d.length===a&&!d.startsWith(".")},yt=([S])=>{const a=S.length;return d=>d.length===a&&d!=="."&&d!==".."},z=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};r.sep=z==="win32"?N.win32.sep:N.posix.sep,r.minimatch.sep=r.sep,r.GLOBSTAR=Symbol("globstar **"),r.minimatch.GLOBSTAR=r.GLOBSTAR;const Pt="[^/]"+"*?",Zt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Mt="(?:(?!(?:\\/|^)\\.).)*?",Q=(S,a={})=>d=>(0,r.minimatch)(d,S,a);r.filter=Q,r.minimatch.filter=r.filter;const q=(S,a={})=>Object.assign({},S,a),Ot=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return r.minimatch;const a=r.minimatch;return Object.assign((m,f,h={})=>a(m,f,q(S,h)),{Minimatch:class extends a.Minimatch{constructor(f,h={}){super(f,q(S,h))}static defaults(f){return a.defaults(q(S,f)).Minimatch}},AST:class extends a.AST{constructor(f,h,u={}){super(f,h,q(S,u))}static fromGlob(f,h={}){return a.AST.fromGlob(f,q(S,h))}},unescape:(m,f={})=>a.unescape(m,q(S,f)),escape:(m,f={})=>a.escape(m,q(S,f)),filter:(m,f={})=>a.filter(m,q(S,f)),defaults:m=>a.defaults(q(S,m)),makeRe:(m,f={})=>a.makeRe(m,q(S,f)),braceExpand:(m,f={})=>a.braceExpand(m,q(S,f)),match:(m,f,h={})=>a.match(m,f,q(S,h)),sep:a.sep,GLOBSTAR:r.GLOBSTAR})};r.defaults=Ot,r.minimatch.defaults=r.defaults;const St=(S,a={})=>((0,s.assertValidPattern)(S),a.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));r.braceExpand=St,r.minimatch.braceExpand=r.braceExpand;const lt=(S,a={})=>new Et(S,a).makeRe();r.makeRe=lt,r.minimatch.makeRe=r.makeRe;const V=(S,a,d={})=>{const m=new Et(a,d);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(a),S};r.match=V,r.minimatch.match=r.match;const pt=/[?*]|[+@!]\(.*?\)|\[|\]/,Se=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Et{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(a,d={}){(0,s.assertValidPattern)(a),d=d||{},this.options=d,this.pattern=a,this.platform=d.platform||z,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!d.windowsPathsNoEscape||d.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!d.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!d.nonegate,this.comment=!1,this.empty=!1,this.partial=!!d.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=d.windowsNoMagicRoot!==void 0?d.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const a of this.set)for(const d of a)if(typeof d!="string")return!0;return!1}debug(...a){}make(){const a=this.pattern,d=this.options;if(!d.nocomment&&a.charAt(0)==="#"){this.comment=!0;return}if(!a){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],d.debug&&(this.debug=(...h)=>console.error(...h)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(h=>this.slashSplit(h));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((h,u,E)=>{if(this.isWindows&&this.windowsNoMagicRoot){const C=h[0]===""&&h[1]===""&&(h[2]==="?"||!pt.test(h[2]))&&!pt.test(h[3]),M=/^[a-z]:/i.test(h[0]);if(C)return[...h.slice(0,4),...h.slice(4).map(j=>this.parse(j))];if(M)return[h[0],...h.slice(1).map(j=>this.parse(j))]}return h.map(C=>this.parse(C))});if(this.debug(this.pattern,f),this.set=f.filter(h=>h.indexOf(!1)===-1),this.isWindows)for(let h=0;h<this.set.length;h++){const u=this.set[h];u[0]===""&&u[1]===""&&this.globParts[h][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(a){if(this.options.noglobstar)for(let m=0;m<a.length;m++)for(let f=0;f<a[m].length;f++)a[m][f]==="**"&&(a[m][f]="*");const{optimizationLevel:d=1}=this.options;return d>=2?(a=this.firstPhasePreProcess(a),a=this.secondPhasePreProcess(a)):d>=1?a=this.levelOneOptimize(a):a=this.adjascentGlobstarOptimize(a),a}adjascentGlobstarOptimize(a){return a.map(d=>{let m=-1;for(;(m=d.indexOf("**",m+1))!==-1;){let f=m;for(;d[f+1]==="**";)f++;f!==m&&d.splice(m,f-m)}return d})}levelOneOptimize(a){return a.map(d=>(d=d.reduce((m,f)=>{const h=m[m.length-1];return f==="**"&&h==="**"?m:f===".."&&h&&h!==".."&&h!=="."&&h!=="**"?(m.pop(),m):(m.push(f),m)},[]),d.length===0?[""]:d))}levelTwoFileOptimize(a){Array.isArray(a)||(a=this.slashSplit(a));let d=!1;do{if(d=!1,!this.preserveMultipleSlashes){for(let f=1;f<a.length-1;f++){const h=a[f];f===1&&h===""&&a[0]===""||(h==="."||h==="")&&(d=!0,a.splice(f,1),f--)}a[0]==="."&&a.length===2&&(a[1]==="."||a[1]==="")&&(d=!0,a.pop())}let m=0;for(;(m=a.indexOf("..",m+1))!==-1;){const f=a[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(d=!0,a.splice(m-1,2),m-=2)}}while(d);return a.length===0?[""]:a}firstPhasePreProcess(a){let d=!1;do{d=!1;for(let m of a){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let E=m[f+1];const C=m[f+2],M=m[f+3];if(E!==".."||!C||C==="."||C===".."||!M||M==="."||M==="..")continue;d=!0,m.splice(f,1);const j=m.slice(0);j[f]="**",a.push(j),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const E=m[u];u===1&&E===""&&m[0]===""||(E==="."||E==="")&&(d=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(d=!0,m.pop())}let h=0;for(;(h=m.indexOf("..",h+1))!==-1;){const u=m[h-1];if(u&&u!=="."&&u!==".."&&u!=="**"){d=!0;const C=h===1&&m[h+1]==="**"?["."]:[];m.splice(h-1,2,...C),m.length===0&&m.push(""),h-=2}}}}while(d);return a}secondPhasePreProcess(a){for(let d=0;d<a.length-1;d++)for(let m=d+1;m<a.length;m++){const f=this.partsMatch(a[d],a[m],!this.preserveMultipleSlashes);f&&(a[d]=f,a[m]=[])}return a.filter(d=>d.length)}partsMatch(a,d,m=!1){let f=0,h=0,u=[],E="";for(;f<a.length&&h<d.length;)if(a[f]===d[h])u.push(E==="b"?d[h]:a[f]),f++,h++;else if(m&&a[f]==="**"&&d[h]===a[f+1])u.push(a[f]),f++;else if(m&&d[h]==="**"&&a[f]===d[h+1])u.push(d[h]),h++;else if(a[f]==="*"&&d[h]&&(this.options.dot||!d[h].startsWith("."))&&d[h]!=="**"){if(E==="b")return!1;E="a",u.push(a[f]),f++,h++}else if(d[h]==="*"&&a[f]&&(this.options.dot||!a[f].startsWith("."))&&a[f]!=="**"){if(E==="a")return!1;E="b",u.push(d[h]),f++,h++}else return!1;return a.length===d.length&&u}parseNegate(){if(this.nonegate)return;const a=this.pattern;let d=!1,m=0;for(let f=0;f<a.length&&a.charAt(f)==="!";f++)d=!d,m++;m&&(this.pattern=a.slice(m)),this.negate=d}matchOne(a,d,m=!1){const f=this.options;if(this.isWindows){const J=typeof a[0]=="string"&&/^[a-z]:$/i.test(a[0]),_e=!J&&a[0]===""&&a[1]===""&&a[2]==="?"&&/^[a-z]:$/i.test(a[3]),He=typeof d[0]=="string"&&/^[a-z]:$/i.test(d[0]),Js=!He&&d[0]===""&&d[1]===""&&d[2]==="?"&&typeof d[3]=="string"&&/^[a-z]:$/i.test(d[3]),Dt=_e?3:J?0:void 0,Tt=Js?3:He?0:void 0;if(typeof Dt=="number"&&typeof Tt=="number"){const[qe,Zs]=[a[Dt],d[Tt]];qe.toLowerCase()===Zs.toLowerCase()&&(d[Tt]=qe,Tt>Dt?d=d.slice(Tt):Dt>Tt&&(a=a.slice(Dt)))}}const{optimizationLevel:h=1}=this.options;h>=2&&(a=this.levelTwoFileOptimize(a)),this.debug("matchOne",this,{file:a,pattern:d}),this.debug("matchOne",a.length,d.length);for(var u=0,E=0,C=a.length,M=d.length;u<C&&E<M;u++,E++){this.debug("matchOne loop");var j=d[E],W=a[u];if(this.debug(d,j,W),j===!1)return!1;if(j===r.GLOBSTAR){this.debug("GLOBSTAR",[d,j,W]);var $=u,K=E+1;if(K===M){for(this.debug("** at the end");u<C;u++)if(a[u]==="."||a[u]===".."||!f.dot&&a[u].charAt(0)===".")return!1;return!0}for(;$<C;){var nt=a[$];if(this.debug(`
+globstar while`,a,$,d,K,nt),this.matchOne(a.slice($),d.slice(K),m))return this.debug("globstar found match!",$,C,nt),!0;if(nt==="."||nt===".."||!f.dot&&nt.charAt(0)==="."){this.debug("dot detected!",a,$,d,K);break}this.debug("globstar swallow a segment, and continue"),$++}return!!(m&&(this.debug(`
+>>> no match, partial?`,a,$,d,K),$===C))}let J;if(typeof j=="string"?(J=W===j,this.debug("string match",j,W,J)):(J=j.test(W),this.debug("pattern match",j,W,J)),!J)return!1}if(u===C&&E===M)return!0;if(u===C)return m;if(E===M)return u===C-1&&a[u]==="";throw new Error("wtf?")}braceExpand(){return(0,r.braceExpand)(this.pattern,this.options)}parse(a){(0,s.assertValidPattern)(a);const d=this.options;if(a==="**")return r.GLOBSTAR;if(a==="")return"";let m,f=null;(m=a.match(A))?f=d.dot?R:P:(m=a.match(l))?f=(d.nocase?d.dot?y:g:d.dot?b:p)(m[1]):(m=a.match(F))?f=(d.nocase?d.dot?D:k:d.dot?I:L)(m):(m=a.match(w))?f=d.dot?v:_:(m=a.match(T))&&(f=O);const h=i.AST.fromGlob(a,this.options).toMMPattern();return f?Object.assign(h,{test:f}):h}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const a=this.set;if(!a.length)return this.regexp=!1,this.regexp;const d=this.options,m=d.noglobstar?Pt:d.dot?Zt:Mt,f=new Set(d.nocase?["i"]:[]);let h=a.map(C=>{const M=C.map(j=>{if(j instanceof RegExp)for(const W of j.flags.split(""))f.add(W);return typeof j=="string"?Se(j):j===r.GLOBSTAR?r.GLOBSTAR:j._src});return M.forEach((j,W)=>{const $=M[W+1],K=M[W-1];j!==r.GLOBSTAR||K===r.GLOBSTAR||(K===void 0?$!==void 0&&$!==r.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+$:M[W]=m:$===void 0?M[W-1]=K+"(?:\\/|"+m+")?":$!==r.GLOBSTAR&&(M[W-1]=K+"(?:\\/|\\/"+m+"\\/)"+$,M[W+1]=r.GLOBSTAR))}),M.filter(j=>j!==r.GLOBSTAR).join("/")}).join("|");const[u,E]=a.length>1?["(?:",")"]:["",""];h="^"+u+h+E+"$",this.negate&&(h="^(?!"+h+").+$");try{this.regexp=new RegExp(h,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(a){return this.preserveMultipleSlashes?a.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(a)?["",...a.split(/\/+/)]:a.split(/\/+/)}match(a,d=this.partial){if(this.debug("match",a,this.pattern),this.comment)return!1;if(this.empty)return a==="";if(a==="/"&&d)return!0;const m=this.options;this.isWindows&&(a=a.split("\\").join("/"));const f=this.slashSplit(a);this.debug(this.pattern,"split",f);const h=this.set;this.debug(this.pattern,"set",h);let u=f[f.length-1];if(!u)for(let E=f.length-2;!u&&E>=0;E--)u=f[E];for(let E=0;E<h.length;E++){const C=h[E];let M=f;if(m.matchBase&&C.length===1&&(M=[u]),this.matchOne(M,C,d))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(a){return r.minimatch.defaults(a).Minimatch}}r.Minimatch=Et;var Ee=jt;Object.defineProperty(r,"AST",{enumerable:!0,get:function(){return Ee.AST}});var ve=kt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return ve.escape}});var Xt=Rt;Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return Xt.unescape}}),r.minimatch.AST=i.AST,r.minimatch.Minimatch=Et,r.minimatch.escape=n.escape,r.minimatch.unescape=o.unescape}(mt);var Nt={},B={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.LRUCache=void 0;const Bt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,us=new Set,Ae=typeof process=="object"&&process?process:{},ds=(r,t,e,s)=>{typeof Ae.emitWarning=="function"?Ae.emitWarning(r,t,e,s):console.error(`[${e}] ${t}: ${r}`)};let re=globalThis.AbortController,ps=globalThis.AbortSignal;if(typeof re>"u"){ps=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,i){this._onabort.push(i)}},re=class{constructor(){t()}signal=new ps;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const i of this.signal._onabort)i(s);this.signal.onabort?.(s)}}};let r=Ae.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{r&&(r=!1,ds("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Oi=r=>!us.has(r),gt=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),ms=r=>gt(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?ne:null:null;class ne extends Array{constructor(t){super(t),this.fill(0)}}class Ct{heap;length;static#t=!1;static create(t){const e=ms(t);if(!e)return[];Ct.#t=!0;const s=new Ct(t,e);return Ct.#t=!1,s}constructor(t,e){if(!Ct.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class xe{#t;#s;#n;#i;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#h;#e;#m;#w;#d;#u;#y;#g;#C;#P;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#P,ttls:t.#O,sizes:t.#C,keyMap:t.#a,keyList:t.#h,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,i,n)=>t.#F(e,s,i,n),moveToTail:e=>t.#j(e),indexes:e=>t.#_(e),rindexes:e=>t.#A(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#o}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:c,allowStale:l,dispose:p,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:v,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:R,ignoreFetchAbort:F}=t;if(e!==0&&!gt(e))throw new TypeError("max option must be a nonnegative integer");const k=e?ms(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=v,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=T,this.#R=!!T,this.#a=new Map,this.#h=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Ct.create(e),this.#l=0,this.#f=0,typeof p=="function"&&(this.#n=p),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#n,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!P,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!F,this.maxEntrySize!==0){if(this.#s!==0&&!gt(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!gt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#D()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!c,this.ttlResolution=gt(i)||i===0?i:1,this.ttlAutopurge=!!n,this.ttl=s||0,this.ttl){if(!gt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const D="LRU_CACHE_UNBOUNDED";Oi(D)&&(us.add(D),ds("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,xe))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new ne(this.#t),e=new ne(this.#t);this.#O=t,this.#P=e,this.#r=(n,o,c=Bt.now())=>{if(e[n]=o!==0?c:0,t[n]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{this.#b(n)&&this.delete(this.#h[n])},o+1);l.unref&&l.unref()}},this.#T=n=>{e[n]=t[n]!==0?Bt.now():0},this.#E=(n,o)=>{if(t[o]){const c=t[o],l=e[o];n.ttl=c,n.start=l,n.now=s||i();const p=n.now-l;n.remainingTTL=c-p}};let s=0;const i=()=>{const n=Bt.now();if(this.ttlResolution>0){s=n;const o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{const o=this.#a.get(n);if(o===void 0)return 0;const c=t[o],l=e[o];if(c===0||l===0)return 1/0;const p=(s||i())-l;return c-p},this.#b=n=>t[n]!==0&&e[n]!==0&&(s||i())-e[n]>t[n]}#T=()=>{};#E=()=>{};#r=()=>{};#b=()=>!1;#D(){const t=new ne(this.#t);this.#f=0,this.#C=t,this.#v=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,i,n)=>{if(this.#c(s))return 0;if(!gt(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(s,e),!gt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#k=(e,s,i)=>{if(t[e]=s,this.#s){const n=this.#s-t[e];for(;this.#f>n;)this.#L(!0)}this.#f+=t[e],i&&(i.entrySize=s,i.totalCalculatedSize=this.#f)}}#v=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#A({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#h[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*rentries(){for(const t of this.#A())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#A()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#A())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;if(n!==void 0&&t(n,this.#h[s],this))return this.get(this.#h[s],e)}}forEach(t,e=this){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}rforEach(t,e=this){for(const s of this.#A()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}purgeStale(){let t=!1;for(const e of this.#A({allowStale:!0}))this.#b(e)&&(this.delete(this.#h[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#h[e],i=this.#e[e],n=this.#c(i)?i.__staleWhileFetching:i;if(n===void 0||s===void 0)continue;const o={value:n};if(this.#O&&this.#P){o.ttl=this.#O[e];const c=Bt.now()-this.#P[e];o.start=Math.floor(Date.now()-c)}this.#C&&(o.size=this.#C[e]),t.unshift([s,o])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const i=Date.now()-s.start;s.start=Bt.now()-i}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:l}=s;let{noUpdateTTL:p=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,c);if(this.maxEntrySize&&b>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#h[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,l),l&&(l.set="add"),p=!1;else{this.#j(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):o||(this.#S&&this.#n?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#v(g),this.#k(g,b,l),this.#e[g]=e,l){l.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(l.oldValue=w)}}else l&&(l.set="update")}if(i!==0&&!this.#O&&this.#M(),this.#O&&(p||this.#r(g,i,n),l&&this.#E(l,g)),!o&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#h[e],i=this.#e[e];return this.#R&&this.#c(i)?i.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,s,"evict"),this.#p&&this.#g?.push([i,s,"evict"])),this.#v(e),t&&(this.#h[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=e,n=this.#a.get(t);if(n!==void 0){const o=this.#e[n];if(this.#c(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(n))i&&(i.has="stale",this.#E(i,n));else return s&&this.#T(n),i&&(i.has="hit",this.#E(i,n)),!0}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,i=this.#a.get(t);if(i!==void 0&&(s||!this.#b(i))){const n=this.#e[i];return this.#c(n)?n.__staleWhileFetching:n}}#F(t,e,s,i){const n=e===void 0?void 0:this.#e[e];if(this.#c(n))return n;const o=new re,{signal:c}=s;c?.addEventListener("abort",()=>o.abort(c.reason),{signal:o.signal});const l={signal:o.signal,options:s,context:i},p=(v,T=!1)=>{const{aborted:O}=o.signal,A=s.ignoreFetchAbort&&v!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,A&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!A&&!T)return g(o.signal.reason);const P=w;return this.#e[e]===w&&(v===void 0?P.__staleWhileFetching?this.#e[e]=P.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,v,l.options))),v},b=v=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=v),g(v)),g=v=>{const{aborted:T}=o.signal,O=T&&s.allowStaleOnFetchAbort,A=O||s.allowStaleOnFetchRejection,P=A||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!P||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),A)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw v},y=(v,T)=>{const O=this.#o?.(t,n,l);O&&O instanceof Promise&&O.then(A=>v(A===void 0?void 0:A),T),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(v(void 0),s.allowStaleOnFetchAbort&&(v=A=>p(A,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(p,b),_=Object.assign(w,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,_,{...l.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof re}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:v,forceRefresh:T=!1,status:O,signal:A}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:O});const P={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:c,size:l,sizeCalculation:p,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:A};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const F=this.#F(t,R,P,v);return F.__returned=F}else{const F=this.#e[R];if(this.#c(F)){const st=s&&F.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",st&&(O.returnedStale=!0)),st?F.__staleWhileFetching:F.__returned=F}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#j(R),i&&this.#T(R),O&&this.#E(O,R),F;const D=this.#F(t,R,P,v),L=D.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?D.__staleWhileFetching:D.__returned=D}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,c=this.#a.get(t);if(c!==void 0){const l=this.#e[c],p=this.#c(l);return o&&this.#E(o,c),this.#b(c)?(o&&(o.get="stale"),p?(o&&s&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?l.__staleWhileFetching:void 0):(n||this.delete(t),o&&s&&(o.returnedStale=!0),s?l:void 0)):(o&&(o.get="hit"),p?l.__staleWhileFetching:(this.#j(c),i&&this.#T(c),l))}else o&&(o.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#j(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#v(s);const i=this.#e[s];this.#c(i)?i.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,t,"delete"),this.#p&&this.#g?.push([i,t,"delete"])),this.#a.delete(t),this.#h[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let i;for(;i=s?.shift();)this.#i?.(...i)}return e}clear(){for(const t of this.#A({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#h[t];this.#S&&this.#n?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#h.fill(void 0),this.#O&&this.#P&&(this.#O.fill(0),this.#P.fill(0)),this.#C&&this.#C.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}ie.LRUCache=xe;var gs={};(function(r){var t=it&&it.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(r,"__esModule",{value:!0}),r.Minipass=r.isWritable=r.isReadable=r.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=Ke,i=t(Je),n=Ze,o=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof i.default||(0,r.isReadable)(f)||(0,r.isWritable)(f));r.isStream=o;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==i.default.Writable.prototype.pipe;r.isReadable=c;const l=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";r.isWritable=l;const p=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),v=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),A=Symbol("encoding"),P=Symbol("decoder"),R=Symbol("flowing"),F=Symbol("paused"),k=Symbol("resume"),D=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),st=Symbol("bufferPush"),yt=Symbol("bufferShift"),z=Symbol("objectMode"),N=Symbol("destroyed"),Jt=Symbol("error"),Pt=Symbol("emitData"),Zt=Symbol("emitEnd"),Mt=Symbol("emitEnd2"),Q=Symbol("async"),q=Symbol("abort"),Ot=Symbol("aborted"),St=Symbol("signal"),lt=Symbol("dataListeners"),V=Symbol("discarded"),pt=f=>Promise.resolve().then(f),Se=f=>f(),Et=f=>f==="end"||f==="finish"||f==="prefinish",Ee=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,ve=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class Xt{src;dest;opts;ondrain;constructor(h,u,E){this.src=h,this.dest=u,this.opts=E,this.ondrain=()=>h[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(h){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends Xt{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(h,u,E){super(h,u,E),this.proxyErrors=C=>u.emit("error",C),h.on("error",this.proxyErrors)}}const a=f=>!!f.objectMode,d=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[F]=!1;[I]=[];[D]=[];[z];[A];[Q];[P];[p]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[St];[Ot]=!1;[lt]=0;[V]=!1;writable=!0;readable=!0;constructor(...h){const u=h[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");a(u)?(this[z]=!0,this[A]=null):d(u)?(this[A]=u.encoding,this[z]=!1):(this[z]=!1,this[A]=null),this[Q]=!!u.async,this[P]=this[A]?new n.StringDecoder(this[A]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[D]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:E}=u;E&&(this[St]=E,E.aborted?this[q]():E.addEventListener("abort",()=>this[q]()))}get bufferLength(){return this[L]}get encoding(){return this[A]}set encoding(h){throw new Error("Encoding must be set at instantiation time")}setEncoding(h){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[z]}set objectMode(h){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Q]}set async(h){this[Q]=this[Q]||!!h}[q](){this[Ot]=!0,this.emit("abort",this[St]?.reason),this.destroy(this[St]?.reason)}get aborted(){return this[Ot]}set aborted(h){}write(h,u,E){if(this[Ot])return!1;if(this[p])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(E=u,u="utf8"),u||(u="utf8");const C=this[Q]?pt:Se;if(!this[z]&&!Buffer.isBuffer(h)){if(ve(h))h=Buffer.from(h.buffer,h.byteOffset,h.byteLength);else if(Ee(h))h=Buffer.from(h);else if(typeof h!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[z]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):h.length?(typeof h=="string"&&!(u===this[A]&&!this[P]?.lastNeed)&&(h=Buffer.from(h,u)),Buffer.isBuffer(h)&&this[A]&&(h=this[P].write(h)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):(this[L]!==0&&this.emit("readable"),E&&C(E),this[R])}read(h){if(this[N])return null;if(this[V]=!1,this[L]===0||h===0||h&&h>this[L])return this[b](),null;this[z]&&(h=null),this[D].length>1&&!this[z]&&(this[D]=[this[A]?this[D].join(""):Buffer.concat(this[D],this[L])]);const u=this[v](h||null,this[D][0]);return this[b](),u}[v](h,u){if(this[z])this[yt]();else{const E=u;h===E.length||h===null?this[yt]():typeof E=="string"?(this[D][0]=E.slice(h),u=E.slice(0,h),this[L]-=h):(this[D][0]=E.subarray(h),u=E.subarray(0,h),this[L]-=h)}return this.emit("data",u),!this[D].length&&!this[p]&&this.emit("drain"),u}end(h,u,E){return typeof h=="function"&&(E=h,h=void 0),typeof u=="function"&&(E=u,u="utf8"),h!==void 0&&this.write(h,u),E&&this.once("end",E),this[p]=!0,this.writable=!1,(this[R]||!this[F])&&this[b](),this}[k](){this[N]||(!this[lt]&&!this[I].length&&(this[V]=!0),this[F]=!1,this[R]=!0,this.emit("resume"),this[D].length?this[T]():this[p]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[F]=!0,this[V]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[F]}[st](h){this[z]?this[L]+=1:this[L]+=h.length,this[D].push(h)}[yt](){return this[z]?this[L]-=1:this[L]-=this[D][0].length,this[D].shift()}[T](h=!1){do;while(this[O](this[yt]())&&this[D].length);!h&&!this[D].length&&!this[p]&&this.emit("drain")}[O](h){return this.emit("data",h),this[R]}pipe(h,u){if(this[N])return h;this[V]=!1;const E=this[g];return u=u||{},h===e.stdout||h===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,E?u.end&&h.end():(this[I].push(u.proxyErrors?new S(this,h,u):new Xt(this,h,u)),this[Q]?pt(()=>this[k]()):this[k]()),h}unpipe(h){const u=this[I].find(E=>E.dest===h);u&&(this[I].length===1?(this[R]&&this[lt]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(h,u){return this.on(h,u)}on(h,u){const E=super.on(h,u);if(h==="data")this[V]=!1,this[lt]++,!this[I].length&&!this[R]&&this[k]();else if(h==="readable"&&this[L]!==0)super.emit("readable");else if(Et(h)&&this[g])super.emit(h),this.removeAllListeners(h);else if(h==="error"&&this[w]){const C=u;this[Q]?pt(()=>C.call(this,this[w])):C.call(this,this[w])}return E}removeListener(h,u){return this.off(h,u)}off(h,u){const E=super.off(h,u);return h==="data"&&(this[lt]=this.listeners("data").length,this[lt]===0&&!this[V]&&!this[I].length&&(this[R]=!1)),E}removeAllListeners(h){const u=super.removeAllListeners(h);return(h==="data"||h===void 0)&&(this[lt]=0,!this[V]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[D].length===0&&this[p]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(h,...u){const E=u[0];if(h!=="error"&&h!=="close"&&h!==N&&this[N])return!1;if(h==="data")return!this[z]&&!E?!1:this[Q]?(pt(()=>this[Pt](E)),!0):this[Pt](E);if(h==="end")return this[Zt]();if(h==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(h==="error"){this[w]=E,super.emit(Jt,E);const M=!this[St]||this.listeners("error").length?super.emit("error",E):!1;return this[b](),M}else if(h==="resume"){const M=super.emit("resume");return this[b](),M}else if(h==="finish"||h==="prefinish"){const M=super.emit(h);return this.removeAllListeners(h),M}const C=super.emit(h,...u);return this[b](),C}[Pt](h){for(const E of this[I])E.dest.write(h)===!1&&this.pause();const u=this[V]?!1:super.emit("data",h);return this[b](),u}[Zt](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[Q]?(pt(()=>this[Mt]()),!0):this[Mt]())}[Mt](){if(this[P]){const u=this[P].end();if(u){for(const E of this[I])E.dest.write(u);this[V]||super.emit("data",u)}}for(const u of this[I])u.end();const h=super.emit("end");return this.removeAllListeners("end"),h}async collect(){const h=Object.assign([],{dataLength:0});this[z]||(h.dataLength=0);const u=this.promise();return this.on("data",E=>{h.push(E),this[z]||(h.dataLength+=E.length)}),await u,h}async concat(){if(this[z])throw new Error("cannot concat in objectMode");const h=await this.collect();return this[A]?h.join(""):Buffer.concat(h,h.dataLength)}async promise(){return new Promise((h,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",E=>u(E)),this.on("end",()=>h())})}[Symbol.asyncIterator](){this[V]=!1;let h=!1;const u=async()=>(this.pause(),h=!0,{value:void 0,done:!0});return{next:()=>{if(h)return u();const C=this.read();if(C!==null)return Promise.resolve({done:!1,value:C});if(this[p])return u();let M,j;const W=J=>{this.off("data",$),this.off("end",K),this.off(N,nt),u(),j(J)},$=J=>{this.off("error",W),this.off("end",K),this.off(N,nt),this.pause(),M({value:J,done:!!this[p]})},K=()=>{this.off("error",W),this.off("data",$),this.off(N,nt),u(),M({done:!0,value:void 0})},nt=()=>W(new Error("stream destroyed"));return new Promise((J,_e)=>{j=_e,M=J,this.once(N,nt),this.once("error",W),this.once("end",K),this.once("data",$)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[V]=!1;let h=!1;const u=()=>(this.pause(),this.off(Jt,u),this.off(N,u),this.off("end",u),h=!0,{done:!0,value:void 0}),E=()=>{if(h)return u();const C=this.read();return C===null?u():{done:!1,value:C}};return this.once("end",u),this.once(Jt,u),this.once(N,u),{next:E,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(h){if(this[N])return h?this.emit("error",h):this.emit(N),this;this[N]=!0,this[V]=!0,this[D].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),h?this.emit("error",h):this.emit(N),this}static get isStream(){return r.isStream}}r.Minipass=m})(gs);var Ti=it&&it.__createBinding||(Object.create?function(r,t,e,s){s===void 0&&(s=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,s,i)}:function(r,t,e,s){s===void 0&&(s=e),r[s]=t[e]}),Ri=it&&it.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Ai=it&&it.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&Ti(t,r,e);return Ri(t,r),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const ws=ie,he=Xs,Ci=Ve,Pi=Ai(Ye),It=Ye,Mi=It.realpathSync.native,oe=Qs,bs=gs,Wt={lstatSync:It.lstatSync,readdir:It.readdir,readdirSync:It.readdirSync,readlinkSync:It.readlinkSync,realpathSync:Mi,promises:{lstat:oe.lstat,readdir:oe.readdir,readlink:oe.readlink,realpath:oe.realpath}},ys=r=>!r||r===Wt||r===Pi?Wt:{...Wt,...r,promises:{...Wt.promises,...r.promises||{}}},Ss=/^\\\\\?\\([a-z]:)\\?$/i,Di=r=>r.replace(/\//g,"\\").replace(Ss,"$1\\"),Li=/[\\\/]/,tt=0,Es=1,vs=2,ht=4,_s=6,Os=8,vt=10,Ts=12,et=15,Gt=~et,Ce=16,Rs=32,xt=64,rt=128,ae=256,le=512,As=xt|rt|le,ji=1023,Pe=r=>r.isFile()?Os:r.isDirectory()?ht:r.isSymbolicLink()?vt:r.isCharacterDevice()?vs:r.isBlockDevice()?_s:r.isSocket()?Ts:r.isFIFO()?Es:tt,Cs=new Map,$t=r=>{const t=Cs.get(r);if(t)return t;const e=r.normalize("NFKD");return Cs.set(r,e),e},Ps=new Map,ce=r=>{const t=Ps.get(r);if(t)return t;const e=$t(r.toLowerCase());return Ps.set(r,e),e};class Me extends ws.LRUCache{constructor(){super({max:256})}}B.ResolveCache=Me;class Ms extends ws.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=Ms;const Ds=Symbol("PathScurry setAsCwd");class Y{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#n;get mode(){return this.#n}#i;get nlink(){return this.#i}#o;get uid(){return this.#o}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#h;get ino(){return this.#h}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#C;get mtime(){return this.#C}#P;get ctime(){return this.#P}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#E;#r;#b;#D;#v;get path(){return(this.parent||this).fullpath()}constructor(t,e=tt,s,i,n,o,c){this.name=t,this.#S=n?ce(t):$t(t),this.#r=e&ji,this.nocase=n,this.roots=i,this.root=s||this,this.#b=o,this.#p=c.fullpath,this.#T=c.relative,this.#E=c.relativePosix,this.parent=c.parent,this.parent?this.#t=this.parent.#t:this.#t=ys(c.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(i):this.#k(i)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#r&=~Ce,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),i=this.nocase?ce(t):$t(t);for(const l of s)if(l.#S===i)return l;const n=this.parent?this.sep:"",o=this.#p?this.#p+n+t:void 0,c=this.newChild(t,tt,{...e,parent:this,fullpath:o});return this.canReaddir()||(c.#r|=rt),s.push(c),c}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#E!==void 0)return this.#E;const t=this.name,e=this.parent;if(!e)return this.#E=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=i}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#M=`//?/${i}`:this.#M=i}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#r&et)===tt}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&et)===Os}isDirectory(){return(this.#r&et)===ht}isCharacterDevice(){return(this.#r&et)===vs}isBlockDevice(){return(this.#r&et)===_s}isFIFO(){return(this.#r&et)===Es}isSocket(){return(this.#r&et)===Ts}isSymbolicLink(){return(this.#r&vt)===vt}lstatCached(){return this.#r&Rs?this:void 0}readlinkCached(){return this.#D}realpathCached(){return this.#v}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#D)return!0;if(!this.parent)return!1;const t=this.#r&et;return!(t!==tt&&t!==vt||this.#r&ae||this.#r&rt)}calledReaddir(){return!!(this.#r&Ce)}isENOENT(){return!!(this.#r&rt)}isNamed(t){return this.nocase?this.#S===ce(t):this.#S===$t(t)}async readlink(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}#N(t){this.#r|=Ce;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#r&rt||(this.#r=(this.#r|rt)&Gt,this.#A())}#A(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#r|=le,this.#L()}#L(){if(this.#r&xt)return;let t=this.#r;(t&et)===ht&&(t&=Gt),this.#r=t|xt,this.#A()}#F(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#r;e|=ae,t==="ENOENT"&&(e|=rt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Gt),this.#r=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#j(t,e){return this.#U(t,e)||this.#z(t,e)}#z(t,e){const s=Pe(t),i=this.newChild(t.name,s,{parent:this}),n=i.#r&et;return n!==ht&&n!==vt&&n!==tt&&(i.#r|=xt),e.unshift(i),e.provisional++,i}#U(t,e){for(let s=e.provisional;s<e.length;s++){const i=e[s];if((this.nocase?ce(t.name):$t(t.name))===i.#S)return this.#H(t,i,s,e)}}#H(t,e,s,i){const n=e.name;return e.#r=e.#r&Gt|Pe(t),n!==t.name&&(e.name=t.name),s!==i.provisional&&(s===i.length-1?i.pop():i.splice(s,1),i.unshift(e)),i.provisional++,e}async lstat(){if(!(this.#r&rt))try{return this.#$(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#r&rt))try{return this.#$(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#$(t){const{atime:e,atimeMs:s,birthtime:i,birthtimeMs:n,blksize:o,blocks:c,ctime:l,ctimeMs:p,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:v,nlink:T,rdev:O,size:A,uid:P}=t;this.#g=e,this.#w=s,this.#O=i,this.#y=n,this.#a=o,this.#m=c,this.#P=l,this.#u=p,this.#s=b,this.#l=g,this.#h=y,this.#n=w,this.#C=_,this.#d=v,this.#i=T,this.#f=O,this.#e=A,this.#o=P;const R=Pe(t);this.#r=this.#r&Gt|R|Rs,R!==tt&&R!==ht&&R!==vt&&(this.#r|=xt)}#G=[];#x=!1;#q(t){this.#x=!1;const e=this.#G.slice();this.#G.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const n=s.slice(0,s.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#G.push(t),this.#x)return;this.#x=!0;const i=this.fullpath();this.#t.readdir(i,{withFileTypes:!0},(n,o)=>{if(n)this.#F(n.code),s.provisional=0;else{for(const c of o)this.#j(c,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(i=>s=i);try{for(const i of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#j(i,t);this.#N(t)}catch(i){this.#F(i.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#j(s,t);this.#N(t)}catch(s){this.#F(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#r&As)return!1;const t=et&this.#r;return t===tt||t===ht||t===vt}shouldWalk(t,e){return(this.#r&ht)===ht&&!(this.#r&As)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=this.#t.realpathSync(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}[Ds](t){if(t===this)return;const e=new Set([]);let s=[],i=this;for(;i&&i.parent;)e.add(i),i.#T=s.join(this.sep),i.#E=s.join("/"),i=i.parent,s.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#T=void 0,i.#E=void 0,i=i.parent}}B.PathBase=Y;class Yt extends Y{sep="\\";splitSep=Li;constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}newChild(t,e=tt,s={}){return new Yt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return he.win32.parse(t).root}getRoot(t){if(t=Di(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Le(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Ss,"$1\\"),t===e}}B.PathWin32=Yt;class Kt extends Y{splitSep="/";sep="/";constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=tt,s={}){return new Kt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=Kt;class De{root;rootPath;roots;cwd;#t;#s;#n;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:i,childrenCacheSize:n=16*1024,fs:o=Wt}={}){this.#i=ys(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Ci.fileURLToPath)(t));const c=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(c),this.#t=new Me,this.#s=new Me,this.#n=new Ms(n);const l=c.substring(this.rootPath.length).split(s);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let p=this.root,b=l.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of l){const v=b--;p=p.child(_,{relative:new Array(v).fill("..").join(g),relativePosix:new Array(v).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=p}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#n}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#t.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpath();return this.#t.set(e,i),i}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#s.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,i),i}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const i=await t.readdir();return s?i:i.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(i=>i.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set,p=(g,y)=>{l.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let v=_.length;if(!v)return y();const T=()=>{--v===0&&y()};for(const O of _)(!n||n(O))&&c.push(s?O:O.fullpath()),i&&O.isSymbolicLink()?O.realpath().then(A=>A?.isUnknown()?A.lstat():A).then(A=>A?.shouldWalk(l,o)?p(A,T):T()):O.shouldWalk(l,o)?p(O,T):T()},!0)},b=t;return new Promise((g,y)=>{p(b,w=>{if(w)return y(w);g(c)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set([t]);for(const p of l){const b=p.readdirSync();for(const g of b){(!n||n(g))&&c.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(i&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(l,o)&&l.add(y)}}return c}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield s?t:t.fullpath());const c=new Set([t]);for(const l of c){const p=l.readdirSync();for(const b of p){(!n||n(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(i&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(c,o)&&c.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0});(!n||n(t))&&c.write(s?t:t.fullpath());const l=new Set,p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=(T,O,A=!1)=>{if(T)return c.emit("error",T);if(i&&!A){const P=[];for(const R of O)R.isSymbolicLink()&&P.push(R.realpath().then(F=>F?.isUnknown()?F.lstat():F));if(P.length){Promise.all(P).then(()=>_(null,O,!0));return}}for(const P of O)P&&(!n||n(P))&&(c.write(s?P:P.fullpath())||(y=!0));b--;for(const P of O){const R=P.realpathCached()||P;R.shouldWalk(l,o)&&p.push(R)}y&&!c.flowing?c.once("drain",g):v||g()};let v=!0;w.readdirCB(_,!0),v=!1}};return g(),c}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0}),l=new Set;(!n||n(t))&&c.write(s?t:t.fullpath());const p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=w.readdirSync();for(const v of _)(!n||n(v))&&(c.write(s?v:v.fullpath())||(y=!0));b--;for(const v of _){let T=v;if(v.isSymbolicLink()){if(!(i&&(T=v.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(l,o)&&p.push(T)}}y&&!c.flowing&&c.once("drain",g)};return g(),c}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[Ds](e)}}B.PathScurryBase=De;class Le extends De{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,he.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(t){return he.win32.parse(t).root.toUpperCase()}newRoot(t){return new Yt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Le;class je extends De{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,he.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Kt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=je;class Ls extends je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=Ls,B.Path=process.platform==="win32"?Yt:Kt,B.PathScurry=process.platform==="win32"?Le:process.platform==="darwin"?Ls:je;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.Pattern=void 0;const Fi=mt,ki=r=>r.length>=1,Ni=r=>r.length>=1;class $e{#t;#s;#n;length;#i;#o;#l;#f;#a;#h;#e=!0;constructor(t,e,s,i){if(!ki(t))throw new TypeError("empty pattern list");if(!Ni(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#n=s,this.#i=i,this.#n===0){if(this.isUNC()){const[n,o,c,l,...p]=this.#t,[b,g,y,w,..._]=this.#s;p[0]===""&&(p.shift(),_.shift());const v=[n,o,c,l,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[v,...p],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[n,...o]=this.#t,[c,...l]=this.#s;o[0]===""&&(o.shift(),l.shift());const p=n+"/",b=c+"/";this.#t=[p,...o],this.#s=[b,...l],this.length=this.#t.length}}}pattern(){return this.#t[this.#n]}isString(){return typeof this.#t[this.#n]=="string"}isGlobstar(){return this.#t[this.#n]===Fi.GLOBSTAR}isRegExp(){return this.#t[this.#n]instanceof RegExp}globString(){return this.#l=this.#l||(this.#n===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new $e(this.#t,this.#s,this.#n+1,this.#i),this.#o.#h=this.#h,this.#o.#a=this.#a,this.#o.#f=this.#f,this.#o):this.#o=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#n===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#n===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#h!==void 0?this.#h:this.#h=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#n===0?t:""}checkFollowGlobstar(){return!(this.#n===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#n===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}zt.Pattern=$e;var wt={},js={};const Fs=typeof process=="object"&&process?process:{stdout:null,stderr:null},Bi=Ke,ks=Je,Ii=Ze,Ns=Ii.StringDecoder,ct=Symbol("EOF"),ft=Symbol("maybeEmitEnd"),bt=Symbol("emittedEnd"),fe=Symbol("emittingEnd"),Ut=Symbol("emittedError"),ue=Symbol("closed"),Bs=Symbol("read"),de=Symbol("flush"),Is=Symbol("flushChunk"),Z=Symbol("encoding"),ut=Symbol("decoder"),pe=Symbol("flowing"),Ht=Symbol("paused"),At=Symbol("resume"),G=Symbol("buffer"),ot=Symbol("pipes"),U=Symbol("bufferLength"),Fe=Symbol("bufferPush"),ke=Symbol("bufferShift"),H=Symbol("objectMode"),x=Symbol("destroyed"),Ne=Symbol("error"),Be=Symbol("emitData"),Ws=Symbol("emitEnd"),Ie=Symbol("emitEnd2"),dt=Symbol("async"),We=Symbol("abort"),me=Symbol("aborted"),_t=Symbol("signal"),qt=r=>Promise.resolve().then(r),Gs=it._MP_NO_ITERATOR_SYMBOLS_!=="1",xs=Gs&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$s=Gs&&Symbol.iterator||Symbol("iterator not implemented"),Wi=r=>r==="end"||r==="finish"||r==="prefinish",Gi=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,xi=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r);class zs{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[At](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class $i extends zs{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=i=>e.emit("error",i),t.on("error",this.proxyErrors)}}class ze extends ks{constructor(t){super(),this[pe]=!1,this[Ht]=!1,this[ot]=[],this[G]=[],this[H]=t&&t.objectMode||!1,this[H]?this[Z]=null:this[Z]=t&&t.encoding||null,this[Z]==="buffer"&&(this[Z]=null),this[dt]=t&&!!t.async||!1,this[ut]=this[Z]?new Ns(this[Z]):null,this[ct]=!1,this[bt]=!1,this[fe]=!1,this[ue]=!1,this[Ut]=null,this.writable=!0,this.readable=!0,this[U]=0,this[x]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[G]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ot]}),this[_t]=t&&t.signal,this[me]=!1,this[_t]&&(this[_t].addEventListener("abort",()=>this[We]()),this[_t].aborted&&this[We]())}get bufferLength(){return this[U]}get encoding(){return this[Z]}set encoding(t){if(this[H])throw new Error("cannot set encoding in objectMode");if(this[Z]&&t!==this[Z]&&(this[ut]&&this[ut].lastNeed||this[U]))throw new Error("cannot change encoding");this[Z]!==t&&(this[ut]=t?new Ns(t):null,this[G].length&&(this[G]=this[G].map(e=>this[ut].write(e)))),this[Z]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[H]}set objectMode(t){this[H]=this[H]||!!t}get async(){return this[dt]}set async(t){this[dt]=this[dt]||!!t}[We](){this[me]=!0,this.emit("abort",this[_t].reason),this.destroy(this[_t].reason)}get aborted(){return this[me]}set aborted(t){}write(t,e,s){if(this[me])return!1;if(this[ct])throw new Error("write after end");if(this[x])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const i=this[dt]?qt:n=>n();return!this[H]&&!Buffer.isBuffer(t)&&(xi(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gi(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[H]?(this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[Z]&&!this[ut].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[Z]&&(t=this[ut].write(t)),this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):(this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing)}read(t){if(this[x])return null;if(this[U]===0||t===0||t>this[U])return this[ft](),null;this[H]&&(t=null),this[G].length>1&&!this[H]&&(this.encoding?this[G]=[this[G].join("")]:this[G]=[Buffer.concat(this[G],this[U])]);const e=this[Bs](t||null,this[G][0]);return this[ft](),e}[Bs](t,e){return t===e.length||t===null?this[ke]():(this[G][0]=e.slice(t),e=e.slice(0,t),this[U]-=t),this.emit("data",e),!this[G].length&&!this[ct]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[ct]=!0,this.writable=!1,(this.flowing||!this[Ht])&&this[ft](),this}[At](){this[x]||(this[Ht]=!1,this[pe]=!0,this.emit("resume"),this[G].length?this[de]():this[ct]?this[ft]():this.emit("drain"))}resume(){return this[At]()}pause(){this[pe]=!1,this[Ht]=!0}get destroyed(){return this[x]}get flowing(){return this[pe]}get paused(){return this[Ht]}[Fe](t){this[H]?this[U]+=1:this[U]+=t.length,this[G].push(t)}[ke](){return this[H]?this[U]-=1:this[U]-=this[G][0].length,this[G].shift()}[de](t){do;while(this[Is](this[ke]())&&this[G].length);!t&&!this[G].length&&!this[ct]&&this.emit("drain")}[Is](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[x])return;const s=this[bt];return e=e||{},t===Fs.stdout||t===Fs.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ot].push(e.proxyErrors?new $i(this,t,e):new zs(this,t,e)),this[dt]?qt(()=>this[At]()):this[At]()),t}unpipe(t){const e=this[ot].find(s=>s.dest===t);e&&(this[ot].splice(this[ot].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ot].length&&!this.flowing?this[At]():t==="readable"&&this[U]!==0?super.emit("readable"):Wi(t)&&this[bt]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Ut]&&(this[dt]?qt(()=>e.call(this,this[Ut])):e.call(this,this[Ut])),s}get emittedEnd(){return this[bt]}[ft](){!this[fe]&&!this[bt]&&!this[x]&&this[G].length===0&&this[ct]&&(this[fe]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ue]&&this.emit("close"),this[fe]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==x&&this[x])return;if(t==="data")return!this[H]&&!e?!1:this[dt]?qt(()=>this[Be](e)):this[Be](e);if(t==="end")return this[Ws]();if(t==="close"){if(this[ue]=!0,!this[bt]&&!this[x])return;const n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[Ut]=e,super.emit(Ne,e);const n=!this[_t]||this.listeners("error").length?super.emit("error",e):!1;return this[ft](),n}else if(t==="resume"){const n=super.emit("resume");return this[ft](),n}else if(t==="finish"||t==="prefinish"){const n=super.emit(t);return this.removeAllListeners(t),n}const i=super.emit(t,e,...s);return this[ft](),i}[Be](t){for(const s of this[ot])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[ft](),e}[Ws](){this[bt]||(this[bt]=!0,this.readable=!1,this[dt]?qt(()=>this[Ie]()):this[Ie]())}[Ie](){if(this[ut]){const e=this[ut].end();if(e){for(const s of this[ot])s.dest.write(e);super.emit("data",e)}}for(const e of this[ot])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[H]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[H]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[H]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[H]?Promise.reject(new Error("cannot concat in objectMode")):this[Z]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(x,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[xs](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[ct])return e();let n=null,o=null;const c=g=>{this.removeListener("data",l),this.removeListener("end",p),this.removeListener(x,b),e(),o(g)},l=g=>{this.removeListener("error",c),this.removeListener("end",p),this.removeListener(x,b),this.pause(),n({value:g,done:!!this[ct]})},p=()=>{this.removeListener("error",c),this.removeListener("data",l),this.removeListener(x,b),e(),n({done:!0})},b=()=>c(new Error("stream destroyed"));return new Promise((g,y)=>{o=y,n=g,this.once(x,b),this.once("error",c),this.once("end",p),this.once("data",l)})},throw:e,return:e,[xs](){return this}}}[$s](){let t=!1;const e=()=>(this.pause(),this.removeListener(Ne,e),this.removeListener(x,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const i=this.read();return i===null?e():{value:i}};return this.once("end",e),this.once(Ne,e),this.once(x,e),{next:s,throw:e,return:e,[$s](){return this}}}destroy(t){return this[x]?(t?this.emit("error",t):this.emit(x),this):(this[x]=!0,this[G].length=0,this[U]=0,typeof this.close=="function"&&!this[ue]&&this.close(),t?this.emit("error",t):this.emit(x),this)}static isStream(t){return!!t&&(t instanceof ze||t instanceof ks||t instanceof Bi&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}js.Minipass=ze;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.Ignore=void 0;const Us=mt,zi=zt,Ui=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Hi{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:i,noglobstar:n,platform:o=Ui}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const c={dot:!0,nobrace:e,nocase:s,noext:i,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(const l of t){const p=new Us.Minimatch(l,c);for(let b=0;b<p.set.length;b++){const g=p.set[b],y=p.globParts[b],w=new zi.Pattern(g,y,0,o),_=new Us.Minimatch(w.globString(),c),v=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),v&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,i=t.relative()||".",n=`${i}/`;for(const o of this.relative)if(o.match(i)||o.match(n))return!0;for(const o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const i of this.relativeChildren)if(i.match(s))return!0;for(const i of this.absoluteChildren)i.match(e);return!1}}ge.Ignore=Hi;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.Processor=at.SubWalks=at.MatchRecord=at.HasWalkedCache=void 0;const Hs=mt;class ye{store;constructor(t=new Map){this.store=t}copy(){return new ye(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),i=this.store.get(s);i?i.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}at.HasWalkedCache=ye;class qs{store=new Map;add(t,e,s){const i=(e?2:0)|(s?1:0),n=this.store.get(t);this.store.set(t,n===void 0?i:i&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}at.MatchRecord=qs;class Vs{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(i=>i.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}at.SubWalks=Vs;class Ue{hasWalkedCache;matches=new qs;subwalks=new Vs;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new ye}processPatterns(t,e){this.patterns=e;const s=e.map(i=>[t,i]);for(let[i,n]of s){this.hasWalkedCache.storeWalked(i,n);const o=n.root(),c=n.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);const g=n.rest();if(g)n=g;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,p,b=!1;for(;typeof(l=n.pattern())=="string"&&(p=n.rest());){const g=i.resolve(l);if(g.isUnknown()&&l!=="..")break;i=g,n=p,b=!0}if(l=n.pattern(),p=n.rest(),b){if(this.hasWalkedCache.hasWalked(i,n))continue;this.hasWalkedCache.storeWalked(i,n)}if(typeof l=="string"){if(p)this.subwalks.add(i,n);else{const g=l===".."||l===""||l===".";this.matches.add(i.resolve(l),c,g)}continue}else if(l===Hs.GLOBSTAR){(!i.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(i,n);const g=p?.pattern(),y=p?.rest();if(!p||(g===""||g===".")&&!y)this.matches.add(i,c,g===""||g===".");else if(g===".."){const w=i.parent||i;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,c,!0)}}else l instanceof RegExp&&this.subwalks.add(i,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Ue(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),i=this.child();for(const n of e)for(const o of s){const c=o.isAbsolute(),l=o.pattern(),p=o.rest();l===Hs.GLOBSTAR?i.testGlobstar(n,o,p,c):l instanceof RegExp?i.testRegExp(n,l,p,c):i.testString(n,l,p,c)}return i}testGlobstar(t,e,s,i){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const n=s.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,s.rest(),i);else if(n===".."){const o=t.parent||t;this.subwalks.add(o,s)}else n instanceof RegExp&&this.testRegExp(t,n,s.rest(),i)}}testRegExp(t,e,s,i){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}testString(t,e,s,i){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}}at.Processor=Ue,Object.defineProperty(wt,"__esModule",{value:!0}),wt.GlobStream=wt.GlobWalker=wt.GlobUtil=void 0;const qi=js,Ys=ge,Ks=at,Vi=(r,t)=>typeof r=="string"?new Ys.Ignore([r],t):Array.isArray(r)?new Ys.Ignore(r,t):r;class Ge{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#n;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#n=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=Vi(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#o(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?this.#n:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+i)}else{const n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#n)?"."+this.#n:"";this.matchEmit(n?o+n+i:"."+i)}}async match(t,e,s){const i=await this.matchCheck(t,s);i&&this.matchFinish(i,e)}matchSync(t,e,s){const i=this.matchCheckSync(t,s);i&&this.matchFinish(i,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new Ks.Processor(this.opts),s)}walkCB2(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirCached();c.calledReaddir()?this.walkCB3(c,l,s,o):c.readdirCB((p,b)=>this.walkCB3(c,b,s,o),!0)}o()}walkCB3(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const[c,l]of s.subwalks.entries())n++,this.walkCB2(c,l,s.child(),o);o()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new Ks.Processor(this.opts),s)}walkCB2Sync(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirSync();this.walkCB3Sync(c,l,s,o)}o()}walkCB3Sync(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const[c,l]of s.subwalks.entries())n++,this.walkCB2Sync(c,l,s.child(),o);o()}}wt.GlobUtil=Ge;class Yi extends Ge{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}wt.GlobWalker=Yi;class Ki extends Ge{results;constructor(t,e,s){super(t,e,s),this.results=new qi.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}wt.GlobStream=Ki,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.Glob=void 0;const Ji=mt,we=B,Zi=Ve,Xi=zt,be=wt,Qi=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class tr{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Zi.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=t,this.platform=e.platform||Qi,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const l=e.platform==="win32"?we.PathScurryWin32:e.platform==="darwin"?we.PathScurryDarwin:e.platform?we.PathScurryPosix:we.PathScurry;this.scurry=new l(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(l=>new Ji.Minimatch(l,i)),[o,c]=n.reduce((l,p)=>(l[0].push(...p.set),l[1].push(...p.globParts),l),[[],[]]);this.patterns=o.map((l,p)=>new Xi.Pattern(l,c[p],0,this.platform))}async walk(){return[...await new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Nt.Glob=tr;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.hasMagic=void 0;const er=mt,sr=(r,t={})=>{Array.isArray(r)||(r=[r]);for(const e of r)if(new er.Minimatch(e,t).hasMagic())return!0;return!1};Vt.hasMagic=sr,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.glob=r.hasMagic=r.Glob=r.unescape=r.escape=r.sync=r.iterate=r.iterateSync=r.stream=r.streamSync=r.globIterate=r.globIterateSync=r.globSync=r.globStream=r.globStreamSync=void 0;const t=mt,e=Nt,s=Vt;function i(w,_={}){return new e.Glob(w,_).streamSync()}r.globStreamSync=i;function n(w,_={}){return new e.Glob(w,_).stream()}r.globStream=n;function o(w,_={}){return new e.Glob(w,_).walkSync()}r.globSync=o;async function c(w,_={}){return new e.Glob(w,_).walk()}function l(w,_={}){return new e.Glob(w,_).iterateSync()}r.globIterateSync=l;function p(w,_={}){return new e.Glob(w,_).iterate()}r.globIterate=p,r.streamSync=i,r.stream=Object.assign(n,{sync:i}),r.iterateSync=l,r.iterate=Object.assign(p,{sync:l}),r.sync=Object.assign(o,{stream:i,iterate:l});var b=mt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Nt;Object.defineProperty(r,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=Vt;Object.defineProperty(r,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),r.glob=Object.assign(c,{glob:c,globSync:o,sync:r.sync,globStream:n,stream:r.stream,globStreamSync:i,streamSync:r.streamSync,globIterate:p,iterate:r.iterate,globIterateSync:l,iterateSync:r.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),r.glob.glob=r.glob}(Xe);const{globSync:ir}=Xe;var rr=function(){return function(t){if(directoryExists(t))return!0;const e=t.replace(/\/__virtual__:.*$/,"");return ir(e+"/").length>0}},nr=ti(rr);module.exports=nr;
+;return module.exports()})({}),
             createDirectory(directoryName) {
               if (!nodeSystem.directoryExists(directoryName)) {
                 try {
@@ -41403,7 +41411,21 @@ ${lanes.join("\n")}
         trace(state.host, Diagnostics.Module_name_0_matched_pattern_1, moduleName, matchedPatternText);
       }
       const resolved = forEach(paths[matchedPatternText], (subst) => {
-        const path = matchedStar ? subst.replace("*", matchedStar) : subst;
+        const unreplacedPath = (matchedStar ? subst.replace("*", matchedStar) : subst);
+let path;
+if (unreplacedPath.includes('./<packagePath>')) {
+	const match = /^.*\/tunnel\/[^\/]+\/[^\/]+\/?/.exec(state.requestContainingDirectory.toLowerCase());
+	path = unreplacedPath.replace('./<packagePath>', state.requestContainingDirectory.slice(0, match.index + match[0].length))
+} else {
+	path = unreplacedPath
+}
+
+if (path.includes('./<dirname>')) {
+	path = path.replace(
+		'./<dirname>',
+		state.requestContainingDirectory
+	)
+}
         const candidate = normalizePath(combinePaths(baseDirectory, path));
         if (state.traceEnabled) {
           trace(state.host, Diagnostics.Trying_substitution_0_candidate_module_location_Colon_1, subst, path);
@@ -120571,7 +120593,7 @@ ${lanes.join("\n")}
       if (options.composite) {
         const rootPaths = new Set(rootNames.map(toPath3));
         for (const file of files) {
-          if (sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
+          if (!require('path').basename(file.path).startsWith('__virtual__:') && require('path').basename(file.path) !== 'package.json' && sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
             addProgramDiagnosticExplainingFile(
               file,
               Diagnostics.File_0_is_not_listed_within_the_file_list_of_project_1_Projects_must_list_all_files_or_use_an_include_pattern,