diff --git a/lib/tsc.js b/lib/tsc.js
index 8c0c6bfdd6aea43aaa9c094ab67b7e45b464d921..49e9d57bd2352488e414d370250790e84368ceef 100644
--- a/lib/tsc.js
+++ b/lib/tsc.js
@@ -14,7 +14,171 @@ and limitations under the License.
 ***************************************************************************** */
 
 
-"use strict";
+"use strict";var getPackagePath = ((module) => {"use strict";var _t=require("fs"),pa=require("url"),Gn=require("os"),ve=require("path"),Tr=require("util"),Vt=require("stream"),ga=require("events"),ma=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ya(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function _a(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}),t}var X={},z={};function Re(n=""){return!n||!n.includes("\\")?n:n.replace(/\\/g,"/")}const ba=/^[/\\]{2}/,Sa=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,Rr=/^[A-Za-z]:$/,Pr="/",Nr=":",Wn=function(n){if(n.length===0)return".";n=Re(n);const e=n.match(ba),t=qe(n),s=n[n.length-1]==="/";return n=Gt(n,!t),n.length===0?t?"/":s?"./":".":(s&&(n+="/"),Rr.test(n)&&(n+="/"),e?t?`//${n}`:`//./${n}`:t&&!qe(n)?`/${n}`:n)},Cr=function(...n){if(n.length===0)return".";let e;for(const t of n)t&&t.length>0&&(e===void 0?e=t:e+=`/${t}`);return e===void 0?".":Wn(e.replace(/\/\/+/g,"/"))};function wa(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const bt=function(...n){n=n.map(s=>Re(s));let e="",t=!1;for(let s=n.length-1;s>=-1&&!t;s--){const r=s>=0?n[s]:wa();!r||r.length===0||(e=`${r}/${e}`,t=qe(r))}return e=Gt(e,!t),t&&!qe(e)?`/${e}`:e.length>0?e:"."};function Gt(n,e){let t="",s=0,r=-1,i=0,o=null;for(let a=0;a<=n.length;++a){if(a<n.length)o=n[a];else{if(o==="/")break;o="/"}if(o==="/"){if(!(r===a-1||i===1))if(i===2){if(t.length<2||s!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const l=t.lastIndexOf("/");l===-1?(t="",s=0):(t=t.slice(0,l),s=t.length-1-t.lastIndexOf("/")),r=a,i=0;continue}else if(t.length>0){t="",s=0,r=a,i=0;continue}}e&&(t+=t.length>0?"/..":"..",s=2)}else t.length>0?t+=`/${n.slice(r+1,a)}`:t=n.slice(r+1,a),s=a-r-1;r=a,i=0}else o==="."&&i!==-1?++i:i=-1}return t}const qe=function(n){return Sa.test(n)},Lr=function(n){return Re(n)},Ea=/.(\.[^./]+)$/,Yn=function(n){const e=Ea.exec(Re(n));return e&&e[1]||""},Ir=function(n,e){const t=bt(n).split("/"),s=bt(e).split("/"),r=[...t];for(const i of r){if(s[0]!==i)break;t.shift(),s.shift()}return[...t.map(()=>".."),...s].join("/")},Qn=function(n){const e=Re(n).replace(/\/$/,"").split("/").slice(0,-1);return e.length===1&&Rr.test(e[0])&&(e[0]+="/"),e.join("/")||(qe(n)?"/":".")},Mr=function(n){const e=[n.root,n.dir,n.base??n.name+n.ext].filter(Boolean);return Re(n.root?bt(...e):e.join("/"))},Jn=function(n,e){const t=Re(n).split("/").pop();return e&&t.endsWith(e)?t.slice(0,-e.length):t},Dr=function(n){const e=Re(n).split("/").shift()||"/",t=Jn(n),s=Yn(t);return{root:e,dir:Qn(n),base:t,ext:s,name:t.slice(0,t.length-s.length)}},Aa={__proto__:null,basename:Jn,delimiter:Nr,dirname:Qn,extname:Yn,format:Mr,isAbsolute:qe,join:Cr,normalize:Wn,normalizeString:Gt,parse:Dr,relative:Ir,resolve:bt,sep:Pr,toNamespacedPath:Lr};z.basename=Jn,z.delimiter=Nr,z.dirname=Qn,z.extname=Yn,z.format=Mr,z.isAbsolute=qe,z.join=Cr,z.normalize=Wn,z.normalizeString=Gt,z.normalizeWindowsPath=Re,z.parse=Dr,z.path=Aa,z.relative=Ir,z.resolve=bt,z.sep=Pr,z.toNamespacedPath=Lr,Object.defineProperty(X,"__esModule",{value:!0});const se=z;X.basename=se.basename,X.default=se.path,X.delimiter=se.delimiter,X.dirname=se.dirname,X.extname=se.extname,X.format=se.format,X.isAbsolute=se.isAbsolute,X.join=se.join,X.normalize=se.normalize,X.normalizeString=se.normalizeString,X.parse=se.parse,X.relative=se.relative,X.resolve=se.resolve,X.sep=se.sep,X.toNamespacedPath=se.toNamespacedPath;var va=Object.create,Wt=Object.defineProperty,ka=Object.getOwnPropertyDescriptor,Oa=Object.getOwnPropertyNames,$a=Object.getPrototypeOf,Ta=Object.prototype.hasOwnProperty,Ra=(n,e)=>{for(var t in e)Wt(n,t,{get:e[t],enumerable:!0})},xr=(n,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Oa(e))!Ta.call(n,r)&&r!==t&&Wt(n,r,{get:()=>e[r],enumerable:!(s=ka(e,r))||s.enumerable});return n},Br=(n,e,t)=>(t=n!=null?va($a(n)):{},xr(e||!n||!n.__esModule?Wt(t,"default",{value:n,enumerable:!0}):t,n)),Pa=n=>xr(Wt({},"__esModule",{value:!0}),n),jr={};Ra(jr,{getMonorepoDirpath:()=>La});var Na=Pa(jr),Xn=Br(_t),Yt=Br(X),Ca=pa;function La(n=process.cwd()){n=n.startsWith("file://")?(0,Ca.fileURLToPath)(n):n,Xn.statSync(n).isFile()&&(n=Yt.default.dirname(n));let e;for(;n!=="/";){const t=Xn.existsSync(Yt.default.join(n,"pnpm-workspace.yaml"));if(Xn.existsSync(Yt.default.join(n,"pnpm-lock.yaml"))&&(e=n),t)return n;n=Yt.default.dirname(n)}return e}var Fr={};const zn=Symbol.for("yaml.alias"),Zn=Symbol.for("yaml.document"),De=Symbol.for("yaml.map"),Hr=Symbol.for("yaml.pair"),Pe=Symbol.for("yaml.scalar"),tt=Symbol.for("yaml.seq"),fe=Symbol.for("yaml.node.type"),xe=n=>!!n&&typeof n=="object"&&n[fe]===zn,Ve=n=>!!n&&typeof n=="object"&&n[fe]===Zn,Ge=n=>!!n&&typeof n=="object"&&n[fe]===De,H=n=>!!n&&typeof n=="object"&&n[fe]===Hr,x=n=>!!n&&typeof n=="object"&&n[fe]===Pe,We=n=>!!n&&typeof n=="object"&&n[fe]===tt;function K(n){if(n&&typeof n=="object")switch(n[fe]){case De:case tt:return!0}return!1}function G(n){if(n&&typeof n=="object")switch(n[fe]){case zn:case De:case Pe:case tt:return!0}return!1}const Ia=n=>(x(n)||K(n))&&!!n.anchor,ie=Symbol("break visit"),Kr=Symbol("skip children"),ke=Symbol("remove node");function Ne(n,e){const t=Ur(e);Ve(n)?nt(null,n.contents,t,Object.freeze([n]))===ke&&(n.contents=null):nt(null,n,t,Object.freeze([]))}Ne.BREAK=ie,Ne.SKIP=Kr,Ne.REMOVE=ke;function nt(n,e,t,s){const r=qr(n,e,t,s);if(G(r)||H(r))return Vr(n,s,r),nt(n,r,t,s);if(typeof r!="symbol"){if(K(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const o=nt(i,e.items[i],t,s);if(typeof o=="number")i=o-1;else{if(o===ie)return ie;o===ke&&(e.items.splice(i,1),i-=1)}}}else if(H(e)){s=Object.freeze(s.concat(e));const i=nt("key",e.key,t,s);if(i===ie)return ie;i===ke&&(e.key=null);const o=nt("value",e.value,t,s);if(o===ie)return ie;o===ke&&(e.value=null)}}return r}async function St(n,e){const t=Ur(e);Ve(n)?await st(null,n.contents,t,Object.freeze([n]))===ke&&(n.contents=null):await st(null,n,t,Object.freeze([]))}St.BREAK=ie,St.SKIP=Kr,St.REMOVE=ke;async function st(n,e,t,s){const r=await qr(n,e,t,s);if(G(r)||H(r))return Vr(n,s,r),st(n,r,t,s);if(typeof r!="symbol"){if(K(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const o=await st(i,e.items[i],t,s);if(typeof o=="number")i=o-1;else{if(o===ie)return ie;o===ke&&(e.items.splice(i,1),i-=1)}}}else if(H(e)){s=Object.freeze(s.concat(e));const i=await st("key",e.key,t,s);if(i===ie)return ie;i===ke&&(e.key=null);const o=await st("value",e.value,t,s);if(o===ie)return ie;o===ke&&(e.value=null)}}return r}function Ur(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function qr(n,e,t,s){if(typeof t=="function")return t(n,e,s);if(Ge(e))return t.Map?.(n,e,s);if(We(e))return t.Seq?.(n,e,s);if(H(e))return t.Pair?.(n,e,s);if(x(e))return t.Scalar?.(n,e,s);if(xe(e))return t.Alias?.(n,e,s)}function Vr(n,e,t){const s=e[e.length-1];if(K(s))s.items[n]=t;else if(H(s))n==="key"?s.key=t:s.value=t;else if(Ve(s))s.contents=t;else{const r=xe(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}const Ma={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Da=n=>n.replace(/[!,[\]{}]/g,e=>Ma[e]);class re{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},re.defaultYaml,e),this.tags=Object.assign({},re.defaultTags,t)}clone(){const e=new re(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new re(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:re.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},re.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:re.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},re.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),r=s.shift();switch(r){case"%TAG":{if(s.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[i,o]=s;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[i]=s;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return t(6,`Unsupported YAML version ${i}`,o),!1}}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),o)}const[,s,r]=e.match(/^(.*!)([^!]*)$/);r||t(`The ${e} tag has no suffix`);const i=this.tags[s];return i?i+decodeURIComponent(r):s==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,s]of Object.entries(this.tags))if(e.startsWith(s))return t+Da(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let r;if(e&&s.length>0&&G(e.contents)){const i={};Ne(e.contents,(o,a)=>{G(a)&&a.tag&&(i[a.tag]=!0)}),r=Object.keys(i)}else r=[];for(const[i,o]of s)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&t.push(`%TAG ${i} ${o}`);return t.join(`
+`)}}re.defaultYaml={explicit:!1,version:"1.2"},re.defaultTags={"!!":"tag:yaml.org,2002:"};function Gr(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return!0}function Wr(n){const e=new Set;return Ne(n,{Value(t,s){s.anchor&&e.add(s.anchor)}}),e}function Yr(n,e){for(let t=1;;++t){const s=`${n}${t}`;if(!e.has(s))return s}}function xa(n,e){const t=[],s=new Map;let r=null;return{onAnchor:i=>{t.push(i),r||(r=Wr(n));const o=Yr(e,r);return r.add(o),o},setAnchors:()=>{for(const i of t){const o=s.get(i);if(typeof o=="object"&&o.anchor&&(x(o.node)||K(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:s}}function rt(n,e,t,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,i=s.length;r<i;++r){const o=s[r],a=rt(n,s,String(r),o);a===void 0?delete s[r]:a!==o&&(s[r]=a)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const i=s.get(r),o=rt(n,s,r,i);o===void 0?s.delete(r):o!==i&&s.set(r,o)}else if(s instanceof Set)for(const r of Array.from(s)){const i=rt(n,s,r,r);i===void 0?s.delete(r):i!==r&&(s.delete(r),s.add(i))}else for(const[r,i]of Object.entries(s)){const o=rt(n,s,r,i);o===void 0?delete s[r]:o!==i&&(s[r]=o)}return n.call(e,t,s)}function he(n,e,t){if(Array.isArray(n))return n.map((s,r)=>he(s,String(r),t));if(n&&typeof n.toJSON=="function"){if(!t||!Ia(n))return n.toJSON(e,t);const s={aliasCount:0,count:1,res:void 0};t.anchors.set(n,s),t.onCreate=i=>{s.res=i,delete t.onCreate};const r=n.toJSON(e,t);return t.onCreate&&t.onCreate(r),r}return typeof n=="bigint"&&!t?.keep?Number(n):n}class es{constructor(e){Object.defineProperty(this,fe,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:s,onAnchor:r,reviver:i}={}){if(!Ve(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=he(this,"",o);if(typeof r=="function")for(const{count:l,res:c}of o.anchors.values())r(c,l);return typeof i=="function"?rt(i,{"":a},"",a):a}}class wt extends es{constructor(e){super(zn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return Ne(e,{Node:(s,r)=>{if(r===this)return Ne.BREAK;r.anchor===this.source&&(t=r)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:s,doc:r,maxAliasCount:i}=t,o=this.resolve(r);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(o);if(a||(he(o,null,t),a=s.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Qt(r,o,s)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,t,s){const r=`*${this.source}`;if(e){if(Gr(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${r} `}return r}}function Qt(n,e,t){if(xe(e)){const s=e.resolve(n),r=t&&s&&t.get(s);return r?r.count*r.aliasCount:0}else if(K(e)){let s=0;for(const r of e.items){const i=Qt(n,r,t);i>s&&(s=i)}return s}else if(H(e)){const s=Qt(n,e.key,t),r=Qt(n,e.value,t);return Math.max(s,r)}return 1}const Qr=n=>!n||typeof n!="function"&&typeof n!="object";class L extends es{constructor(e){super(Pe),this.value=e}toJSON(e,t){return t?.keep?this.value:he(this.value,e,t)}toString(){return String(this.value)}}L.BLOCK_FOLDED="BLOCK_FOLDED",L.BLOCK_LITERAL="BLOCK_LITERAL",L.PLAIN="PLAIN",L.QUOTE_DOUBLE="QUOTE_DOUBLE",L.QUOTE_SINGLE="QUOTE_SINGLE";const Ba="tag:yaml.org,2002:";function ja(n,e,t){if(e){const s=t.filter(i=>i.tag===e),r=s.find(i=>!i.format)??s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return t.find(s=>s.identify?.(n)&&!s.format)}function Et(n,e,t){if(Ve(n)&&(n=n.contents),G(n))return n;if(H(n)){const f=t.schema[De].createNode?.(t.schema,null,t);return f.items.push(n),f}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:i,schema:o,sourceObjects:a}=t;let l;if(s&&n&&typeof n=="object"){if(l=a.get(n),l)return l.anchor||(l.anchor=r(n)),new wt(l.anchor);l={anchor:null,node:null},a.set(n,l)}e?.startsWith("!!")&&(e=Ba+e.slice(2));let c=ja(n,e,o.tags);if(!c){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const f=new L(n);return l&&(l.node=f),f}c=n instanceof Map?o[De]:Symbol.iterator in Object(n)?o[tt]:o[De]}i&&(i(c),delete t.onTagObj);const u=c?.createNode?c.createNode(t.schema,n,t):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(t.schema,n,t):new L(n);return e?u.tag=e:c.default||(u.tag=c.tag),l&&(l.node=u),u}function Jt(n,e,t){let s=t;for(let r=e.length-1;r>=0;--r){const i=e[r];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=s,s=o}else s=new Map([[i,s]])}return Et(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const At=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class Xt extends es{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(s=>G(s)||H(s)?s.clone(e):s),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(At(e))this.add(t);else{const[s,...r]=e,i=this.get(s,!0);if(K(i))i.addIn(r,t);else if(i===void 0&&this.schema)this.set(s,Jt(this.schema,r,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(e){const[t,...s]=e;if(s.length===0)return this.delete(t);const r=this.get(t,!0);if(K(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${s}`)}getIn(e,t){const[s,...r]=e,i=this.get(s,!0);return r.length===0?!t&&x(i)?i.value:i:K(i)?i.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!H(t))return!1;const s=t.value;return s==null||e&&x(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[t,...s]=e;if(s.length===0)return this.has(t);const r=this.get(t,!0);return K(r)?r.hasIn(s):!1}setIn(e,t){const[s,...r]=e;if(r.length===0)this.set(s,t);else{const i=this.get(s,!0);if(K(i))i.setIn(r,t);else if(i===void 0&&this.schema)this.set(s,Jt(this.schema,r,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}}Xt.maxFlowStringSingleLineLength=60;const Fa=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function Ce(n,e){return/^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}const Be=(n,e,t)=>n.endsWith(`
+`)?Ce(t,e):t.includes(`
+`)?`
+`+Ce(t,e):(n.endsWith(" ")?"":" ")+t,Jr="flow",ts="block",zt="quoted";function Zt(n,e,t="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return n;const l=Math.max(1+i,1+r-e.length);if(n.length<=l)return n;const c=[],u={};let f=r-e.length;typeof s=="number"&&(s>r-Math.max(2,i)?c.push(0):f=r-s);let h,g,p=!1,d=-1,m=-1,w=-1;t===ts&&(d=Xr(n,d),d!==-1&&(f=d+l));for(let k;k=n[d+=1];){if(t===zt&&k==="\\"){switch(m=d,n[d+1]){case"x":d+=3;break;case"u":d+=5;break;case"U":d+=9;break;default:d+=1}w=d}if(k===`
+`)t===ts&&(d=Xr(n,d)),f=d+l,h=void 0;else{if(k===" "&&g&&g!==" "&&g!==`
+`&&g!=="	"){const T=n[d+1];T&&T!==" "&&T!==`
+`&&T!=="	"&&(h=d)}if(d>=f)if(h)c.push(h),f=h+l,h=void 0;else if(t===zt){for(;g===" "||g==="	";)g=k,k=n[d+=1],p=!0;const T=d>w+1?d-2:m-1;if(u[T])return n;c.push(T),u[T]=!0,f=T+l,h=void 0}else p=!0}g=k}if(p&&a&&a(),c.length===0)return n;o&&o();let E=n.slice(0,c[0]);for(let k=0;k<c.length;++k){const T=c[k],A=c[k+1]||n.length;T===0?E=`
+${e}${n.slice(0,A)}`:(t===zt&&u[T]&&(E+=`${n[T]}\\`),E+=`
+${e}${n.slice(T+1,A)}`)}return E}function Xr(n,e){let t=n[e+1];for(;t===" "||t==="	";){do t=n[e+=1];while(t&&t!==`
+`);t=n[e+1]}return e}const en=(n,e)=>({indentAtStart:e?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),tn=n=>/^(%|---|\.\.\.)/m.test(n);function Ha(n,e,t){if(!e||e<0)return!1;const s=e-t,r=n.length;if(r<=s)return!1;for(let i=0,o=0;i<r;++i)if(n[i]===`
+`){if(i-o>s)return!0;if(o=i+1,r-o<=s)return!1}return!0}function vt(n,e){const t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(tn(n)?"  ":"");let o="",a=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(o+=t.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{o+=t.slice(a,l);const u=t.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=t.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||t[l+2]==='"'||t.length<r)l+=1;else{for(o+=t.slice(a,l)+`
+
+`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)o+=`
+`,l+=2;o+=i,t[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+t.slice(a):t,s?o:Zt(o,i,zt,en(e,!1))}function ns(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
+`)||/[ \t]\n|\n[ \t]/.test(n))return vt(n,e);const t=e.indent||(tn(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
+${t}`)+"'";return e.implicitKey?s:Zt(s,t,Jr,en(e,!1))}function it(n,e){const{singleQuote:t}=e.options;let s;if(t===!1)s=vt;else{const r=n.includes('"'),i=n.includes("'");r&&!i?s=ns:i&&!r?s=vt:s=t?ns:vt}return s(n,e)}let ss;try{ss=new RegExp(`(^|(?<!
+))
++(?!
+|$)`,"g")}catch{ss=/\n+(?!\n|$)/g}function nn({comment:n,type:e,value:t},s,r,i){const{blockQuote:o,commentString:a,lineWidth:l}=s.options;if(!o||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return it(t,s);const c=s.indent||(s.forceBlockIndent||tn(t)?"  ":""),u=o==="literal"?!0:o==="folded"||e===L.BLOCK_FOLDED?!1:e===L.BLOCK_LITERAL?!0:!Ha(t,l,c.length);if(!t)return u?`|
+`:`>
+`;let f,h;for(h=t.length;h>0;--h){const S=t[h-1];if(S!==`
+`&&S!=="	"&&S!==" ")break}let g=t.substring(h);const p=g.indexOf(`
+`);p===-1?f="-":t===g||p!==g.length-1?(f="+",i&&i()):f="",g&&(t=t.slice(0,-g.length),g[g.length-1]===`
+`&&(g=g.slice(0,-1)),g=g.replace(ss,`$&${c}`));let d=!1,m,w=-1;for(m=0;m<t.length;++m){const S=t[m];if(S===" ")d=!0;else if(S===`
+`)w=m;else break}let E=t.substring(0,w<m?w+1:m);E&&(t=t.substring(E.length),E=E.replace(/\n+/g,`$&${c}`));let T=(u?"|":">")+(d?c?"2":"1":"")+f;if(n&&(T+=" "+a(n.replace(/ ?[\r\n]+/g," ")),r&&r()),u)return t=t.replace(/\n+/g,`$&${c}`),`${T}
+${c}${E}${t}${g}`;t=t.replace(/\n+/g,`
+$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const A=Zt(`${E}${t}${g}`,c,ts,en(s,!0));return`${T}
+${c}${A}`}function Ka(n,e,t,s){const{type:r,value:i}=n,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&i.includes(`
+`)||u&&/[[\]{},]/.test(i))return it(i,e);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||u||!i.includes(`
+`)?it(i,e):nn(n,e,t,s);if(!a&&!u&&r!==L.PLAIN&&i.includes(`
+`))return nn(n,e,t,s);if(tn(i)){if(l==="")return e.forceBlockIndent=!0,nn(n,e,t,s);if(a&&l===c)return it(i,e)}const f=i.replace(/\n+/g,`$&
+${l}`);if(o){const h=d=>d.default&&d.tag!=="tag:yaml.org,2002:str"&&d.test?.test(f),{compat:g,tags:p}=e.doc.schema;if(p.some(h)||g?.some(h))return it(i,e)}return a?f:Zt(f,l,Jr,en(e,!1))}function kt(n,e,t,s){const{implicitKey:r,inFlow:i}=e,o=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:a}=n;a!==L.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=L.QUOTE_DOUBLE);const l=u=>{switch(u){case L.BLOCK_FOLDED:case L.BLOCK_LITERAL:return r||i?it(o.value,e):nn(o,e,t,s);case L.QUOTE_DOUBLE:return vt(o.value,e);case L.QUOTE_SINGLE:return ns(o.value,e);case L.PLAIN:return Ka(o,e,t,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:f}=e.options,h=r&&u||f;if(c=l(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function zr(n,e){const t=Object.assign({blockQuote:!0,commentString:Fa,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e);let s;switch(t.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:s,options:t}}function Ua(n,e){if(e.tag){const r=n.filter(i=>i.tag===e.tag);if(r.length>0)return r.find(i=>i.format===e.format)??r[0]}let t,s;if(x(e)){s=e.value;const r=n.filter(i=>i.identify?.(s));t=r.find(i=>i.format===e.format)??r.find(i=>!i.format)}else s=e,t=n.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!t){const r=s?.constructor?.name??typeof s;throw new Error(`Tag not resolved for ${r} value`)}return t}function qa(n,e,{anchors:t,doc:s}){if(!s.directives)return"";const r=[],i=(x(n)||K(n))&&n.anchor;i&&Gr(i)&&(t.add(i),r.push(`&${i}`));const o=n.tag?n.tag:e.default?null:e.tag;return o&&r.push(s.directives.tagString(o)),r.join(" ")}function ot(n,e,t,s){if(H(n))return n.toString(e,t,s);if(xe(n)){if(e.doc.directives)return n.toString(e);if(e.resolvedAliases?.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc)}let r;const i=G(n)?n:e.doc.createNode(n,{onTagObj:l=>r=l});r||(r=Ua(e.doc.schema.tags,i));const o=qa(i,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof r.stringify=="function"?r.stringify(i,e,t,s):x(i)?kt(i,e,t,s):i.toString(e,t,s);return o?x(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
+${e.indent}${a}`:a}function Va({key:n,value:e},t,s,r){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:f}}=t;let h=G(n)&&n.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(K(n)){const R="With simple keys, collection cannot be used as a key value";throw new Error(R)}}let g=!f&&(!n||h&&e==null&&!t.inFlow||K(n)||(x(n)?n.type===L.BLOCK_FOLDED||n.type===L.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!g&&(f||!i),indent:a+l});let p=!1,d=!1,m=ot(n,t,()=>p=!0,()=>d=!0);if(!g&&!t.inFlow&&m.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");g=!0}if(t.inFlow){if(i||e==null)return p&&s&&s(),m===""?"?":g?`? ${m}`:m}else if(i&&!f||e==null&&g)return m=`? ${m}`,h&&!p?m+=Be(m,t.indent,c(h)):d&&r&&r(),m;p&&(h=null),g?(h&&(m+=Be(m,t.indent,c(h))),m=`? ${m}
+${a}:`):(m=`${m}:`,h&&(m+=Be(m,t.indent,c(h))));let w,E,k;G(e)?(w=!!e.spaceBefore,E=e.commentBefore,k=e.comment):(w=!1,E=null,k=null,e&&typeof e=="object"&&(e=o.createNode(e))),t.implicitKey=!1,!g&&!h&&x(e)&&(t.indentAtStart=m.length+1),d=!1,!u&&l.length>=2&&!t.inFlow&&!g&&We(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let T=!1;const A=ot(e,t,()=>T=!0,()=>d=!0);let S=" ";if(h||w||E){if(S=w?`
+`:"",E){const R=c(E);S+=`
+${Ce(R,t.indent)}`}A===""&&!t.inFlow?S===`
+`&&(S=`
+
+`):S+=`
+${t.indent}`}else if(!g&&K(e)){const R=A[0],$=A.indexOf(`
+`),P=$!==-1,B=t.inFlow??e.flow??e.items.length===0;if(P||!B){let b=!1;if(P&&(R==="&"||R==="!")){let C=A.indexOf(" ");R==="&"&&C!==-1&&C<$&&A[C+1]==="!"&&(C=A.indexOf(" ",C+1)),(C===-1||$<C)&&(b=!0)}b||(S=`
+${t.indent}`)}}else(A===""||A[0]===`
+`)&&(S="");return m+=S+A,t.inFlow?T&&s&&s():k&&!T?m+=Be(m,t.indent,c(k)):d&&r&&r(),m}function Zr(n,e){(n==="debug"||n==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const ei="<<";function ti(n,e,{key:t,value:s}){if(n?.doc.schema.merge&&Ga(t))if(s=xe(s)?s.resolve(n.doc):s,We(s))for(const r of s.items)rs(n,e,r);else if(Array.isArray(s))for(const r of s)rs(n,e,r);else rs(n,e,s);else{const r=he(t,"",n);if(e instanceof Map)e.set(r,he(s,r,n));else if(e instanceof Set)e.add(r);else{const i=Wa(t,r,n),o=he(s,i,n);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}const Ga=n=>n===ei||x(n)&&n.value===ei&&(!n.type||n.type===L.PLAIN);function rs(n,e,t){const s=n&&xe(t)?t.resolve(n.doc):t;if(!Ge(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,n,Map);for(const[i,o]of r)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Wa(n,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(G(n)&&t?.doc){const s=zr(t.doc,{});s.anchors=new Set;for(const i of t.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const r=n.toString(s);if(!t.mapKeyWarned){let i=JSON.stringify(r);i.length>40&&(i=i.substring(0,36)+'..."'),Zr(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return r}return JSON.stringify(e)}function is(n,e,t){const s=Et(n,void 0,t),r=Et(e,void 0,t);return new Z(s,r)}class Z{constructor(e,t=null){Object.defineProperty(this,fe,{value:Hr}),this.key=e,this.value=t}clone(e){let{key:t,value:s}=this;return G(t)&&(t=t.clone(e)),G(s)&&(s=s.clone(e)),new Z(t,s)}toJSON(e,t){const s=t?.mapAsMap?new Map:{};return ti(t,s,this)}toString(e,t,s){return e?.doc?Va(this,e,t,s):JSON.stringify(this)}}function ni(n,e,t){return(e.inFlow??n.flow?Qa:Ya)(n,e,t)}function Ya({comment:n,items:e},t,{blockItemPrefix:s,flowChars:r,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=t,u=Object.assign({},t,{indent:i,type:null});let f=!1;const h=[];for(let p=0;p<e.length;++p){const d=e[p];let m=null;if(G(d))!f&&d.spaceBefore&&h.push(""),sn(t,h,d.commentBefore,f),d.comment&&(m=d.comment);else if(H(d)){const E=G(d.key)?d.key:null;E&&(!f&&E.spaceBefore&&h.push(""),sn(t,h,E.commentBefore,f))}f=!1;let w=ot(d,u,()=>m=null,()=>f=!0);m&&(w+=Be(w,i,c(m))),f&&m&&(f=!1),h.push(s+w)}let g;if(h.length===0)g=r.start+r.end;else{g=h[0];for(let p=1;p<h.length;++p){const d=h[p];g+=d?`
+${l}${d}`:`
+`}}return n?(g+=`
+`+Ce(c(n),l),a&&a()):f&&o&&o(),g}function Qa({comment:n,items:e},t,{flowChars:s,itemIndent:r,onComment:i}){const{indent:o,indentStep:a,flowCollectionPadding:l,options:{commentString:c}}=t;r+=a;const u=Object.assign({},t,{indent:r,inFlow:!0,type:null});let f=!1,h=0;const g=[];for(let w=0;w<e.length;++w){const E=e[w];let k=null;if(G(E))E.spaceBefore&&g.push(""),sn(t,g,E.commentBefore,!1),E.comment&&(k=E.comment);else if(H(E)){const A=G(E.key)?E.key:null;A&&(A.spaceBefore&&g.push(""),sn(t,g,A.commentBefore,!1),A.comment&&(f=!0));const S=G(E.value)?E.value:null;S?(S.comment&&(k=S.comment),S.commentBefore&&(f=!0)):E.value==null&&A?.comment&&(k=A.comment)}k&&(f=!0);let T=ot(E,u,()=>k=null);w<e.length-1&&(T+=","),k&&(T+=Be(T,r,c(k))),!f&&(g.length>h||T.includes(`
+`))&&(f=!0),g.push(T),h=g.length}let p;const{start:d,end:m}=s;if(g.length===0)p=d+m;else if(f||(f=g.reduce((E,k)=>E+k.length+2,2)>Xt.maxFlowStringSingleLineLength),f){p=d;for(const w of g)p+=w?`
+${a}${o}${w}`:`
+`;p+=`
+${o}${m}`}else p=`${d}${l}${g.join(" ")}${l}${m}`;return n&&(p+=Be(p,o,c(n)),i&&i()),p}function sn({indent:n,options:{commentString:e}},t,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const i=Ce(e(s),n);t.push(i.trimStart())}}function Ye(n,e){const t=x(e)?e.value:e;for(const s of n)if(H(s)&&(s.key===e||s.key===t||x(s.key)&&s.key.value===t))return s}class oe extends Xt{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(De,e),this.items=[]}static from(e,t,s){const{keepUndefined:r,replacer:i}=s,o=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(t,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||r)&&o.items.push(is(l,c,s))};if(t instanceof Map)for(const[l,c]of t)a(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))a(l,t[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,t){let s;H(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Z(e,e?.value):s=new Z(e.key,e.value);const r=Ye(this.items,s.key),i=this.schema?.sortMapEntries;if(r){if(!t)throw new Error(`Key ${s.key} already set`);x(r.value)&&Qr(s.value)?r.value.value=s.value:r.value=s.value}else if(i){const o=this.items.findIndex(a=>i(s,a)<0);o===-1?this.items.push(s):this.items.splice(o,0,s)}else this.items.push(s)}delete(e){const t=Ye(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const r=Ye(this.items,e)?.value;return(!t&&x(r)?r.value:r)??void 0}has(e){return!!Ye(this.items,e)}set(e,t){this.add(new Z(e,t),!0)}toJSON(e,t,s){const r=s?new s:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(r);for(const i of this.items)ti(t,r,i);return r}toString(e,t,s){if(!e)return JSON.stringify(this);for(const r of this.items)if(!H(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),ni(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:t})}}const at={collection:"map",default:!0,nodeClass:oe,tag:"tag:yaml.org,2002:map",resolve(n,e){return Ge(n)||e("Expected a mapping for this tag"),n},createNode:(n,e,t)=>oe.from(n,e,t)};class Le extends Xt{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(tt,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=rn(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const s=rn(e);if(typeof s!="number")return;const r=this.items[s];return!t&&x(r)?r.value:r}has(e){const t=rn(e);return typeof t=="number"&&t<this.items.length}set(e,t){const s=rn(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[s];x(r)&&Qr(t)?r.value=t:this.items[s]=t}toJSON(e,t){const s=[];t?.onCreate&&t.onCreate(s);let r=0;for(const i of this.items)s.push(he(i,String(r++),t));return s}toString(e,t,s){return e?ni(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:t}):JSON.stringify(this)}static from(e,t,s){const{replacer:r}=s,i=new this(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let a of t){if(typeof r=="function"){const l=t instanceof Set?a:String(o++);a=r.call(t,l,a)}i.items.push(Et(a,void 0,s))}}return i}}function rn(n){let e=x(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const lt={collection:"seq",default:!0,nodeClass:Le,tag:"tag:yaml.org,2002:seq",resolve(n,e){return We(n)||e("Expected a sequence for this tag"),n},createNode:(n,e,t)=>Le.from(n,e,t)},on={identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify(n,e,t,s){return e=Object.assign({actualString:!0},e),kt(n,e,t,s)}},an={identify:n=>n==null,createNode:()=>new L(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new L(null),stringify:({source:n},e)=>typeof n=="string"&&an.test.test(n)?n:e.options.nullStr},os={identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:n=>new L(n[0]==="t"||n[0]==="T"),stringify({source:n,value:e},t){if(n&&os.test.test(n)){const s=n[0]==="t"||n[0]==="T";if(e===s)return n}return e?t.options.trueStr:t.options.falseStr}};function _e({format:n,minFractionDigits:e,tag:t,value:s}){if(typeof s=="bigint")return String(s);const r=typeof s=="number"?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(s);if(!n&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=e-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const si={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},ri={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():_e(n)}},ii={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(n){const e=new L(parseFloat(n)),t=n.indexOf(".");return t!==-1&&n[n.length-1]==="0"&&(e.minFractionDigits=n.length-t-1),e},stringify:_e},ln=n=>typeof n=="bigint"||Number.isInteger(n),as=(n,e,t,{intAsBigInt:s})=>s?BigInt(n):parseInt(n.substring(e),t);function oi(n,e,t){const{value:s}=n;return ln(s)&&s>=0?t+s.toString(e):_e(n)}const ai={identify:n=>ln(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(n,e,t)=>as(n,2,8,t),stringify:n=>oi(n,8,"0o")},li={identify:ln,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(n,e,t)=>as(n,0,10,t),stringify:_e},ci={identify:n=>ln(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(n,e,t)=>as(n,2,16,t),stringify:n=>oi(n,16,"0x")},Ja=[at,lt,on,an,os,ai,li,ci,si,ri,ii];function ui(n){return typeof n=="bigint"||Number.isInteger(n)}const cn=({value:n})=>JSON.stringify(n),Xa=[{identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify:cn},{identify:n=>n==null,createNode:()=>new L(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:cn},{identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:n=>n==="true",stringify:cn},{identify:ui,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(n,e,{intAsBigInt:t})=>t?BigInt(n):parseInt(n,10),stringify:({value:n})=>ui(n)?n.toString():JSON.stringify(n)},{identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:n=>parseFloat(n),stringify:cn}],za={default:!0,tag:"",test:/^/,resolve(n,e){return e(`Unresolved plain scalar ${JSON.stringify(n)}`),n}},Za=[at,lt].concat(Xa,za),ls={identify:n=>n instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(n,e){if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){const t=atob(n.replace(/[\n\r]/g,"")),s=new Uint8Array(t.length);for(let r=0;r<t.length;++r)s[r]=t.charCodeAt(r);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),n},stringify({comment:n,type:e,value:t},s,r,i){const o=t;let a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=L.BLOCK_LITERAL),e!==L.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let f=0,h=0;f<c;++f,h+=l)u[f]=a.substr(h,l);a=u.join(e===L.BLOCK_LITERAL?`
+`:" ")}return kt({comment:n,type:e,value:a},s,r,i)}};function fi(n,e){if(We(n))for(let t=0;t<n.items.length;++t){let s=n.items[t];if(!H(s)){if(Ge(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const r=s.items[0]||new Z(new L(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}
+${r.key.commentBefore}`:s.commentBefore),s.comment){const i=r.value??r.key;i.comment=i.comment?`${s.comment}
+${i.comment}`:s.comment}s=r}n.items[t]=H(s)?s:new Z(s)}}else e("Expected a sequence for this tag");return n}function hi(n,e,t){const{replacer:s}=t,r=new Le(n);r.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;r.items.push(is(a,l,t))}return r}const cs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:fi,createNode:hi};class mt extends Le{constructor(){super(),this.add=oe.prototype.add.bind(this),this.delete=oe.prototype.delete.bind(this),this.get=oe.prototype.get.bind(this),this.has=oe.prototype.has.bind(this),this.set=oe.prototype.set.bind(this),this.tag=mt.tag}toJSON(e,t){if(!t)return super.toJSON(e);const s=new Map;t?.onCreate&&t.onCreate(s);for(const r of this.items){let i,o;if(H(r)?(i=he(r.key,"",t),o=he(r.value,i,t)):i=he(r,"",t),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,o)}return s}static from(e,t,s){const r=hi(e,t,s),i=new this;return i.items=r.items,i}}mt.tag="tag:yaml.org,2002:omap";const us={collection:"seq",identify:n=>n instanceof Map,nodeClass:mt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,e){const t=fi(n,e),s=[];for(const{key:r}of t.items)x(r)&&(s.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new mt,t)},createNode:(n,e,t)=>mt.from(n,e,t)};function di({value:n,source:e},t){return e&&(n?pi:gi).test.test(e)?e:n?t.options.trueStr:t.options.falseStr}const pi={identify:n=>n===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new L(!0),stringify:di},gi={identify:n=>n===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new L(!1),stringify:di},el={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},tl={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n.replace(/_/g,"")),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():_e(n)}},nl={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(n){const e=new L(parseFloat(n.replace(/_/g,""))),t=n.indexOf(".");if(t!==-1){const s=n.substring(t+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:_e},Ot=n=>typeof n=="bigint"||Number.isInteger(n);function un(n,e,t,{intAsBigInt:s}){const r=n[0];if((r==="-"||r==="+")&&(e+=1),n=n.substring(e).replace(/_/g,""),s){switch(t){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`;break}const o=BigInt(n);return r==="-"?BigInt(-1)*o:o}const i=parseInt(n,t);return r==="-"?-1*i:i}function fs(n,e,t){const{value:s}=n;if(Ot(s)){const r=s.toString(e);return s<0?"-"+t+r.substr(1):t+r}return _e(n)}const sl={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(n,e,t)=>un(n,2,2,t),stringify:n=>fs(n,2,"0b")},rl={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(n,e,t)=>un(n,1,8,t),stringify:n=>fs(n,8,"0")},il={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(n,e,t)=>un(n,0,10,t),stringify:_e},ol={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(n,e,t)=>un(n,2,16,t),stringify:n=>fs(n,16,"0x")};class yt extends oe{constructor(e){super(e),this.tag=yt.tag}add(e){let t;H(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new Z(e.key,null):t=new Z(e,null),Ye(this.items,t.key)||this.items.push(t)}get(e,t){const s=Ye(this.items,e);return!t&&H(s)?x(s.key)?s.key.value:s.key:s}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const s=Ye(this.items,e);s&&!t?this.items.splice(this.items.indexOf(s),1):!s&&t&&this.items.push(new Z(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,s);throw new Error("Set items must all have null values")}static from(e,t,s){const{replacer:r}=s,i=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof r=="function"&&(o=r.call(t,o,o)),i.items.push(is(o,null,s));return i}}yt.tag="tag:yaml.org,2002:set";const hs={collection:"map",identify:n=>n instanceof Set,nodeClass:yt,default:!1,tag:"tag:yaml.org,2002:set",createNode:(n,e,t)=>yt.from(n,e,t),resolve(n,e){if(Ge(n)){if(n.hasAllNullValues(!0))return Object.assign(new yt,n);e("Set items must all have null values")}else e("Expected a mapping for this tag");return n}};function ds(n,e){const t=n[0],s=t==="-"||t==="+"?n.substring(1):n,r=o=>e?BigInt(o):Number(o),i=s.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return t==="-"?r(-1)*i:i}function mi(n){let{value:e}=n,t=o=>o;if(typeof e=="bigint")t=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return _e(n);let s="";e<0&&(s="-",e*=t(-1));const r=t(60),i=[e%r];return e<60?i.unshift(0):(e=(e-i[0])/r,i.unshift(e%r),e>=60&&(e=(e-i[0])/r,i.unshift(e))),s+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const yi={identify:n=>typeof n=="bigint"||Number.isInteger(n),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(n,e,{intAsBigInt:t})=>ds(n,t),stringify:mi},_i={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:n=>ds(n,!1),stringify:mi},fn={identify:n=>n instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(n){const e=n.match(fn.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,s,r,i,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(t,s-1,r,i||0,o||0,a||0,l);const u=e[8];if(u&&u!=="Z"){let f=ds(u,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:n})=>n.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},bi=[at,lt,on,an,pi,gi,sl,rl,il,ol,el,tl,nl,ls,us,cs,hs,yi,_i,fn],Si=new Map([["core",Ja],["failsafe",[at,lt,on]],["json",Za],["yaml11",bi],["yaml-1.1",bi]]),wi={binary:ls,bool:os,float:ii,floatExp:ri,floatNaN:si,floatTime:_i,int:li,intHex:ci,intOct:ai,intTime:yi,map:at,null:an,omap:us,pairs:cs,seq:lt,set:hs,timestamp:fn},al={"tag:yaml.org,2002:binary":ls,"tag:yaml.org,2002:omap":us,"tag:yaml.org,2002:pairs":cs,"tag:yaml.org,2002:set":hs,"tag:yaml.org,2002:timestamp":fn};function ps(n,e){let t=Si.get(e);if(!t)if(Array.isArray(n))t=[];else{const s=Array.from(Si.keys()).filter(r=>r!=="yaml11").map(r=>JSON.stringify(r)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(n))for(const s of n)t=t.concat(s);else typeof n=="function"&&(t=n(t.slice()));return t.map(s=>{if(typeof s!="string")return s;const r=wi[s];if(r)return r;const i=Object.keys(wi).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${s}"; use one of ${i}`)})}const ll=(n,e)=>n.key<e.key?-1:n.key>e.key?1:0;class Ft{constructor({compat:e,customTags:t,merge:s,resolveKnownTags:r,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?ps(e,"compat"):e?ps(null,e):null,this.merge=!!s,this.name=typeof i=="string"&&i||"core",this.knownTags=r?al:{},this.tags=ps(t,this.name),this.toStringOptions=a??null,Object.defineProperty(this,De,{value:at}),Object.defineProperty(this,Pe,{value:on}),Object.defineProperty(this,tt,{value:lt}),this.sortMapEntries=typeof o=="function"?o:o===!0?ll:null}clone(){const e=Object.create(Ft.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function cl(n,e){const t=[];let s=e.directives===!0;if(e.directives!==!1&&n.directives){const l=n.directives.toString(n);l?(t.push(l),s=!0):n.directives.docStart&&(s=!0)}s&&t.push("---");const r=zr(n,e),{commentString:i}=r.options;if(n.commentBefore){t.length!==1&&t.unshift("");const l=i(n.commentBefore);t.unshift(Ce(l,""))}let o=!1,a=null;if(n.contents){if(G(n.contents)){if(n.contents.spaceBefore&&s&&t.push(""),n.contents.commentBefore){const u=i(n.contents.commentBefore);t.push(Ce(u,""))}r.forceBlockIndent=!!n.comment,a=n.contents.comment}const l=a?void 0:()=>o=!0;let c=ot(n.contents,r,()=>a=null,l);a&&(c+=Be(c,"",i(a))),(c[0]==="|"||c[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${c}`:t.push(c)}else t.push(ot(n.contents,r));if(n.directives?.docEnd)if(n.comment){const l=i(n.comment);l.includes(`
+`)?(t.push("..."),t.push(Ce(l,""))):t.push(`... ${l}`)}else t.push("...");else{let l=n.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&t[t.length-1]!==""&&t.push(""),t.push(Ce(i(l),"")))}return t.join(`
+`)+`
+`}class et{constructor(e,t,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,fe,{value:Zn});let r=null;typeof t=="function"||Array.isArray(t)?r=t:s===void 0&&t&&(s=t,t=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},s);this.options=i;let{version:o}=i;s?._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new re({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,r,s)}clone(){const e=Object.create(et.prototype,{[fe]:{value:Zn}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=G(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){ct(this.contents)&&this.contents.add(e)}addIn(e,t){ct(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const s=Wr(this);e.anchor=!t||s.has(t)?Yr(t||"a",s):t}return new wt(e.anchor)}createNode(e,t,s){let r;if(typeof t=="function")e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){const m=E=>typeof E=="number"||E instanceof String||E instanceof Number,w=t.filter(m).map(String);w.length>0&&(t=t.concat(w)),r=t}else s===void 0&&t&&(s=t,t=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=s??{},{onAnchor:f,setAnchors:h,sourceObjects:g}=xa(this,o||"a"),p={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:g},d=Et(e,u,p);return a&&K(d)&&(d.flow=!0),h(),d}createPair(e,t,s={}){const r=this.createNode(e,null,s),i=this.createNode(t,null,s);return new Z(r,i)}delete(e){return ct(this.contents)?this.contents.delete(e):!1}deleteIn(e){return At(e)?this.contents==null?!1:(this.contents=null,!0):ct(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return K(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return At(e)?!t&&x(this.contents)?this.contents.value:this.contents:K(this.contents)?this.contents.getIn(e,t):void 0}has(e){return K(this.contents)?this.contents.has(e):!1}hasIn(e){return At(e)?this.contents!==void 0:K(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=Jt(this.schema,[e],t):ct(this.contents)&&this.contents.set(e,t)}setIn(e,t){At(e)?this.contents=t:this.contents==null?this.contents=Jt(this.schema,Array.from(e),t):ct(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new re({version:"1.1"}),s={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new re({version:e}),s={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(s)this.schema=new Ft(Object.assign(s,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:s,maxAliasCount:r,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=he(this.contents,t??"",a);if(typeof i=="function")for(const{count:c,res:u}of a.anchors.values())i(u,c);return typeof o=="function"?rt(o,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return cl(this,e)}}function ct(n){if(K(n))return!0;throw new Error("Expected a YAML collection as document contents")}class hn extends Error{constructor(e,t,s,r){super(),this.name=e,this.code=s,this.message=r,this.pos=t}}class je extends hn{constructor(e,t,s){super("YAMLParseError",e,t,s)}}class gs extends hn{constructor(e,t,s){super("YAMLWarning",e,t,s)}}const dn=(n,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(a=>e.linePos(a));const{line:s,col:r}=t.linePos[0];t.message+=` at line ${s}, column ${r}`;let i=r-1,o=n.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o="\u2026"+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),s>1&&/^ *$/.test(o.substring(0,i))){let a=n.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
+`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=t.linePos[1];l&&l.line===s&&l.col>r&&(a=Math.max(1,Math.min(l.col-r,80-i)));const c=" ".repeat(i)+"^".repeat(a);t.message+=`:
+
+${o}
+${c}
+`}};function ut(n,{flow:e,indicator:t,next:s,offset:r,onError:i,startOnNewline:o}){let a=!1,l=o,c=o,u="",f="",h=!1,g=!1,p=!1,d=null,m=null,w=null,E=null,k=null;for(const S of n)switch(p&&(S.type!=="space"&&S.type!=="newline"&&S.type!=="comma"&&i(S.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),S.type){case"space":!e&&l&&t!=="doc-start"&&S.source[0]==="	"&&i(S,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||i(S,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const R=S.source.substring(1)||" ";u?u+=f+R:u=R,f="",l=!1;break}case"newline":l?u?u+=S.source:a=!0:f+=S.source,l=!0,h=!0,(d||m)&&(g=!0),c=!0;break;case"anchor":d&&i(S,"MULTIPLE_ANCHORS","A node can have at most one anchor"),S.source.endsWith(":")&&i(S.offset+S.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),d=S,k===null&&(k=S.offset),l=!1,c=!1,p=!0;break;case"tag":{m&&i(S,"MULTIPLE_TAGS","A node can have at most one tag"),m=S,k===null&&(k=S.offset),l=!1,c=!1,p=!0;break}case t:(d||m)&&i(S,"BAD_PROP_ORDER",`Anchors and tags must be after the ${S.source} indicator`),E&&i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.source} in ${e??"collection"}`),E=S,l=!1,c=!1;break;case"comma":if(e){w&&i(S,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),w=S,l=!1,c=!1;break}default:i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.type} token`),l=!1,c=!1}const T=n[n.length-1],A=T?T.offset+T.source.length:r;return p&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:w,found:E,spaceBefore:a,comment:u,hasNewline:h,hasNewlineAfterProp:g,anchor:d,tag:m,end:A,start:k??A}}function $t(n){if(!n)return null;switch(n.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(n.source.includes(`
+`))return!0;if(n.end){for(const e of n.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of n.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if($t(e.key)||$t(e.value))return!0}return!1;default:return!0}}function ms(n,e,t){if(e?.type==="flow-collection"){const s=e.end[0];s.indent===n&&(s.source==="]"||s.source==="}")&&$t(e)&&t(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Ei(n,e,t){const{uniqueKeys:s}=n.options;if(s===!1)return!1;const r=typeof s=="function"?s:(i,o)=>i===o||x(i)&&x(o)&&i.value===o.value&&!(i.value==="<<"&&n.schema.merge);return e.some(i=>r(i.key,t))}const Ai="All mapping items must start at the same column";function ul({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=i?.nodeClass??oe,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=s.offset,c=null;for(const u of s.items){const{start:f,key:h,sep:g,value:p}=u,d=ut(f,{indicator:"explicit-key-ind",next:h??g?.[0],offset:l,onError:r,startOnNewline:!0}),m=!d.found;if(m){if(h&&(h.type==="block-seq"?r(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==s.indent&&r(l,"BAD_INDENT",Ai)),!d.anchor&&!d.tag&&!g){c=d.end,d.comment&&(a.comment?a.comment+=`
+`+d.comment:a.comment=d.comment);continue}(d.hasNewlineAfterProp||$t(h))&&r(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else d.found?.indent!==s.indent&&r(l,"BAD_INDENT",Ai);const w=d.end,E=h?n(t,h,d,r):e(t,w,f,null,d,r);t.schema.compat&&ms(s.indent,h,r),Ei(t,a.items,E)&&r(w,"DUPLICATE_KEY","Map keys must be unique");const k=ut(g??[],{indicator:"map-value-ind",next:p,offset:E.range[2],onError:r,startOnNewline:!h||h.type==="block-scalar"});if(l=k.end,k.found){m&&(p?.type==="block-map"&&!k.hasNewline&&r(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&d.start<k.found.offset-1024&&r(E.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const T=p?n(t,p,k,r):e(t,l,g,null,k,r);t.schema.compat&&ms(s.indent,p,r),l=T.range[2];const A=new Z(E,T);t.options.keepSourceTokens&&(A.srcToken=u),a.items.push(A)}else{m&&r(E.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),k.comment&&(E.comment?E.comment+=`
+`+k.comment:E.comment=k.comment);const T=new Z(E);t.options.keepSourceTokens&&(T.srcToken=u),a.items.push(T)}}return c&&c<l&&r(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[s.offset,l,c??l],a}function fl({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=i?.nodeClass??Le,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=s.offset,c=null;for(const{start:u,value:f}of s.items){const h=ut(u,{indicator:"seq-item-ind",next:f,offset:l,onError:r,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?r(h.end,"BAD_INDENT","All sequence items must start at the same column"):r(l,"MISSING_CHAR","Sequence item without - indicator");else{c=h.end,h.comment&&(a.comment=h.comment);continue}const g=f?n(t,f,h,r):e(t,h.end,u,null,h,r);t.schema.compat&&ms(s.indent,f,r),l=g.range[2],a.items.push(g)}return a.range=[s.offset,l,c??l],a}function Tt(n,e,t,s){let r="";if(n){let i=!1,o="";for(const a of n){const{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{t&&!i&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";r?r+=o+u:r=u,o="";break}case"newline":r&&(o+=l),i=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:r,offset:e}}const ys="Block collections are not allowed within flow collections",_s=n=>n&&(n.type==="block-map"||n.type==="block-seq");function hl({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=s.start.source==="{",a=o?"flow map":"flow sequence",l=i?.nodeClass??(o?oe:Le),c=new l(t.schema);c.flow=!0;const u=t.atRoot;u&&(t.atRoot=!1);let f=s.offset+s.start.source.length;for(let m=0;m<s.items.length;++m){const w=s.items[m],{start:E,key:k,sep:T,value:A}=w,S=ut(E,{flow:a,indicator:"explicit-key-ind",next:k??T?.[0],offset:f,onError:r,startOnNewline:!1});if(!S.found){if(!S.anchor&&!S.tag&&!T&&!A){m===0&&S.comma?r(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<s.items.length-1&&r(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),S.comment&&(c.comment?c.comment+=`
+`+S.comment:c.comment=S.comment),f=S.end;continue}!o&&t.options.strict&&$t(k)&&r(k,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(m===0)S.comma&&r(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(S.comma||r(S.start,"MISSING_CHAR",`Missing , between ${a} items`),S.comment){let R="";e:for(const $ of E)switch($.type){case"comma":case"space":break;case"comment":R=$.source.substring(1);break e;default:break e}if(R){let $=c.items[c.items.length-1];H($)&&($=$.value??$.key),$.comment?$.comment+=`
+`+R:$.comment=R,S.comment=S.comment.substring(R.length+1)}}if(!o&&!T&&!S.found){const R=A?n(t,A,S,r):e(t,S.end,T,null,S,r);c.items.push(R),f=R.range[2],_s(A)&&r(R.range,"BLOCK_IN_FLOW",ys)}else{const R=S.end,$=k?n(t,k,S,r):e(t,R,E,null,S,r);_s(k)&&r($.range,"BLOCK_IN_FLOW",ys);const P=ut(T??[],{flow:a,indicator:"map-value-ind",next:A,offset:$.range[2],onError:r,startOnNewline:!1});if(P.found){if(!o&&!S.found&&t.options.strict){if(T)for(const C of T){if(C===P.found)break;if(C.type==="newline"){r(C,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<P.found.offset-1024&&r(P.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else A&&("source"in A&&A.source&&A.source[0]===":"?r(A,"MISSING_CHAR",`Missing space after : in ${a}`):r(P.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const B=A?n(t,A,P,r):P.found?e(t,P.end,T,null,P,r):null;B?_s(A)&&r(B.range,"BLOCK_IN_FLOW",ys):P.comment&&($.comment?$.comment+=`
+`+P.comment:$.comment=P.comment);const b=new Z($,B);if(t.options.keepSourceTokens&&(b.srcToken=w),o){const C=c;Ei(t,C.items,$)&&r(R,"DUPLICATE_KEY","Map keys must be unique"),C.items.push(b)}else{const C=new oe(t.schema);C.flow=!0,C.items.push(b),c.items.push(C)}f=B?B.range[2]:P.end}}const h=o?"}":"]",[g,...p]=s.end;let d=f;if(g&&g.source===h)d=g.offset+g.source.length;else{const m=a[0].toUpperCase()+a.substring(1),w=u?`${m} must end with a ${h}`:`${m} in block collection must be sufficiently indented and end with a ${h}`;r(f,u?"MISSING_CHAR":"BAD_INDENT",w),g&&g.source.length!==1&&p.unshift(g)}if(p.length>0){const m=Tt(p,d,t.options.strict,r);m.comment&&(c.comment?c.comment+=`
+`+m.comment:c.comment=m.comment),c.range=[s.offset,d,m.offset]}else c.range=[s.offset,d,d];return c}function bs(n,e,t,s,r,i){const o=t.type==="block-map"?ul(n,e,t,s,i):t.type==="block-seq"?fl(n,e,t,s,i):hl(n,e,t,s,i),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function dl(n,e,t,s,r){const i=s?e.directives.tagName(s.source,f=>r(s,"TAG_RESOLVE_FAILED",f)):null,o=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!s||!i||i==="!"||i===oe.tagName&&o==="map"||i===Le.tagName&&o==="seq"||!o)return bs(n,e,t,r,i);let a=e.schema.tags.find(f=>f.tag===i&&f.collection===o);if(!a){const f=e.schema.knownTags[i];if(f&&f.collection===o)e.schema.tags.push(Object.assign({},f,{default:!1})),a=f;else return f?.collection?r(s,"BAD_COLLECTION_TYPE",`${f.tag} used for ${o} collection, but expects ${f.collection}`,!0):r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,!0),bs(n,e,t,r,i)}const l=bs(n,e,t,r,i,a),c=a.resolve?.(l,f=>r(s,"TAG_RESOLVE_FAILED",f),e.options)??l,u=G(c)?c:new L(c);return u.range=l.range,u.tag=i,a?.format&&(u.format=a.format),u}function vi(n,e,t){const s=n.offset,r=pl(n,e,t);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const i=r.mode===">"?L.BLOCK_FOLDED:L.BLOCK_LITERAL,o=n.source?gl(n.source):[];let a=o.length;for(let d=o.length-1;d>=0;--d){const m=o[d][1];if(m===""||m==="\r")a=d;else break}if(a===0){const d=r.chomp==="+"&&o.length>0?`
+`.repeat(Math.max(1,o.length-1)):"";let m=s+r.length;return n.source&&(m+=n.source.length),{value:d,type:i,comment:r.comment,range:[s,m,m]}}let l=n.indent+r.indent,c=n.offset+r.length,u=0;for(let d=0;d<a;++d){const[m,w]=o[d];if(w===""||w==="\r")r.indent===0&&m.length>l&&(l=m.length);else{if(m.length<l){const E="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";t(c+m.length,"MISSING_CHAR",E)}r.indent===0&&(l=m.length),u=d;break}c+=m.length+w.length+1}for(let d=o.length-1;d>=a;--d)o[d][0].length>l&&(a=d+1);let f="",h="",g=!1;for(let d=0;d<u;++d)f+=o[d][0].slice(l)+`
+`;for(let d=u;d<a;++d){let[m,w]=o[d];c+=m.length+w.length+1;const E=w[w.length-1]==="\r";if(E&&(w=w.slice(0,-1)),w&&m.length<l){const T=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;t(c-w.length-(E?2:1),"BAD_INDENT",T),m=""}i===L.BLOCK_LITERAL?(f+=h+m.slice(l)+w,h=`
+`):m.length>l||w[0]==="	"?(h===" "?h=`
+`:!g&&h===`
+`&&(h=`
+
+`),f+=h+m.slice(l)+w,h=`
+`,g=!0):w===""?h===`
+`?f+=`
+`:h=`
+`:(f+=h+w,h=" ",g=!1)}switch(r.chomp){case"-":break;case"+":for(let d=a;d<o.length;++d)f+=`
+`+o[d][0].slice(l);f[f.length-1]!==`
+`&&(f+=`
+`);break;default:f+=`
+`}const p=s+r.length+n.source.length;return{value:f,type:i,comment:r.comment,range:[s,p,p]}}function pl({offset:n,props:e},t,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],i=r[0];let o=0,a="",l=-1;for(let h=1;h<r.length;++h){const g=r[h];if(!a&&(g==="-"||g==="+"))a=g;else{const p=Number(g);!o&&p?o=p:l===-1&&(l=n+h)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let c=!1,u="",f=r.length;for(let h=1;h<e.length;++h){const g=e[h];switch(g.type){case"space":c=!0;case"newline":f+=g.source.length;break;case"comment":t&&!c&&s(g,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=g.source.length,u=g.source.substring(1);break;case"error":s(g,"UNEXPECTED_TOKEN",g.message),f+=g.source.length;break;default:{const p=`Unexpected token in block scalar header: ${g.type}`;s(g,"UNEXPECTED_TOKEN",p);const d=g.source;d&&typeof d=="string"&&(f+=d.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:f}}function gl(n){const e=n.split(/\n( *)/),t=e[0],s=t.match(/^( *)/),i=[s?.[1]?[s[1],t.slice(s[1].length)]:["",t]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function ki(n,e,t){const{offset:s,type:r,source:i,end:o}=n;let a,l;const c=(h,g,p)=>t(s+h,g,p);switch(r){case"scalar":a=L.PLAIN,l=ml(i,c);break;case"single-quoted-scalar":a=L.QUOTE_SINGLE,l=yl(i,c);break;case"double-quoted-scalar":a=L.QUOTE_DOUBLE,l=_l(i,c);break;default:return t(n,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const u=s+i.length,f=Tt(o,u,e,t);return{value:l,type:a,comment:f.comment,range:[s,u,f.offset]}}function ml(n,e){let t="";switch(n[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${n[0]}`;break}case"@":case"`":{t=`reserved character ${n[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),Oi(n)}function yl(n,e){return(n[n.length-1]!=="'"||n.length===1)&&e(n.length,"MISSING_CHAR","Missing closing 'quote"),Oi(n.slice(1,-1)).replace(/''/g,"'")}function Oi(n){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
+`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
+`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(n);if(!s)return n;let r=s[1],i=" ",o=e.lastIndex;for(t.lastIndex=o;s=t.exec(n);)s[1]===""?i===`
+`?r+=i:i=`
+`:(r+=i+s[1],i=" "),o=t.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(n),r+i+(s?.[1]??"")}function _l(n,e){let t="";for(let s=1;s<n.length-1;++s){const r=n[s];if(!(r==="\r"&&n[s+1]===`
+`))if(r===`
+`){const{fold:i,offset:o}=bl(n,s);t+=i,s=o}else if(r==="\\"){let i=n[++s];const o=Sl[i];if(o)t+=o;else if(i===`
+`)for(i=n[s+1];i===" "||i==="	";)i=n[++s+1];else if(i==="\r"&&n[s+1]===`
+`)for(i=n[++s+1];i===" "||i==="	";)i=n[++s+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];t+=wl(n,s+1,a,e),s+=a}else{const a=n.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),t+=a}}else if(r===" "||r==="	"){const i=s;let o=n[s+1];for(;o===" "||o==="	";)o=n[++s+1];o!==`
+`&&!(o==="\r"&&n[s+2]===`
+`)&&(t+=s>i?n.slice(i,s+1):r)}else t+=r}return(n[n.length-1]!=='"'||n.length===1)&&e(n.length,"MISSING_CHAR",'Missing closing "quote'),t}function bl(n,e){let t="",s=n[e+1];for(;(s===" "||s==="	"||s===`
+`||s==="\r")&&!(s==="\r"&&n[e+2]!==`
+`);)s===`
+`&&(t+=`
+`),e+=1,s=n[e+1];return t||(t=" "),{fold:t,offset:e}}const Sl={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
+`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function wl(n,e,t,s){const r=n.substr(e,t),o=r.length===t&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){const a=n.substr(e-2,t+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function $i(n,e,t,s){const{value:r,type:i,comment:o,range:a}=e.type==="block-scalar"?vi(e,n.options.strict,s):ki(e,n.options.strict,s),l=t?n.directives.tagName(t.source,f=>s(t,"TAG_RESOLVE_FAILED",f)):null,c=t&&l?El(n.schema,r,l,t,s):e.type==="scalar"?Al(n,r,e,s):n.schema[Pe];let u;try{const f=c.resolve(r,h=>s(t??e,"TAG_RESOLVE_FAILED",h),n.options);u=x(f)?f:new L(f)}catch(f){const h=f instanceof Error?f.message:String(f);s(t??e,"TAG_RESOLVE_FAILED",h),u=new L(r)}return u.range=a,u.source=r,i&&(u.type=i),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function El(n,e,t,s,r){if(t==="!")return n[Pe];const i=[];for(const a of n.tags)if(!a.collection&&a.tag===t)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if(a.test?.test(e))return a;const o=n.knownTags[t];return o&&!o.collection?(n.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),n[Pe])}function Al({directives:n,schema:e},t,s,r){const i=e.tags.find(o=>o.default&&o.test?.test(t))||e[Pe];if(e.compat){const o=e.compat.find(a=>a.default&&a.test?.test(t))??e[Pe];if(i.tag!==o.tag){const a=n.tagString(i.tag),l=n.tagString(o.tag),c=`Value may be parsed as either ${a} or ${l}`;r(s,"TAG_RESOLVE_FAILED",c,!0)}}return i}function vl(n,e,t){if(e){t===null&&(t=e.length);for(let s=t-1;s>=0;--s){let r=e[s];switch(r.type){case"space":case"comment":case"newline":n-=r.source.length;continue}for(r=e[++s];r?.type==="space";)n+=r.source.length,r=e[++s];break}}return n}const kl={composeNode:Ti,composeEmptyNode:Ss};function Ti(n,e,t,s){const{spaceBefore:r,comment:i,anchor:o,tag:a}=t;let l,c=!0;switch(e.type){case"alias":l=Ol(n,e,s),(o||a)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=$i(n,e,a,s),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=dl(kl,n,e,a,s),o&&(l.anchor=o.source.substring(1));break;default:{const u=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",u),l=Ss(n,e.offset,void 0,null,t,s),c=!1}}return o&&l.anchor===""&&s(o,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(l.spaceBefore=!0),i&&(e.type==="scalar"&&e.source===""?l.comment=i:l.commentBefore=i),n.options.keepSourceTokens&&c&&(l.srcToken=e),l}function Ss(n,e,t,s,{spaceBefore:r,comment:i,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:vl(e,t,s),indent:-1,source:""},f=$i(n,u,a,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(f.spaceBefore=!0),i&&(f.comment=i,f.range[2]=l),f}function Ol({options:n},{offset:e,source:t,end:s},r){const i=new wt(t.substring(1));i.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&r(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+t.length,a=Tt(s,o,n.strict,r);return i.range=[e,o,a.offset],a.comment&&(i.comment=a.comment),i}function $l(n,e,{offset:t,start:s,value:r,end:i},o){const a=Object.assign({_directives:e},n),l=new et(void 0,a),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=ut(s,{indicator:"doc-start",next:r??i?.[0],offset:t,onError:o,startOnNewline:!0});u.found&&(l.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?Ti(c,r,u,o):Ss(c,u.end,s,null,u,o);const f=l.contents.range[2],h=Tt(i,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[t,f,h.offset],l}function Rt(n){if(typeof n=="number")return[n,n+1];if(Array.isArray(n))return n.length===2?n:[n[0],n[1]];const{offset:e,source:t}=n;return[e,e+(typeof t=="string"?t.length:1)]}function Ri(n){let e="",t=!1,s=!1;for(let r=0;r<n.length;++r){const i=n[r];switch(i[0]){case"#":e+=(e===""?"":s?`
+
+`:`
+`)+(i.substring(1)||" "),t=!0,s=!1;break;case"%":n[r+1]?.[0]!=="#"&&(r+=1),t=!1;break;default:t||(s=!0),t=!1}}return{comment:e,afterEmptyLine:s}}class pn{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,s,r,i)=>{const o=Rt(t);i?this.warnings.push(new gs(o,s,r)):this.errors.push(new je(o,s,r))},this.directives=new re({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:s,afterEmptyLine:r}=Ri(this.prelude);if(s){const i=e.contents;if(t)e.comment=e.comment?`${e.comment}
+${s}`:s;else if(r||e.directives.docStart||!i)e.commentBefore=s;else if(K(i)&&!i.flow&&i.items.length>0){let o=i.items[0];H(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${s}
+${a}`:s}else{const o=i.commentBefore;i.commentBefore=o?`${s}
+${o}`:s}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Ri(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,s=-1){for(const r of e)yield*this.next(r);yield*this.end(t,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,s,r)=>{const i=Rt(e);i[0]+=t,this.onError(i,"BAD_DIRECTIVE",s,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=$l(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new je(Rt(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new je(Rt(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const t=Tt(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
+${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new je(Rt(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),r=new et(void 0,s);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,t,t],this.decorate(r,!1),yield r}}}function Tl(n,e=!0,t){if(n){const s=(r,i,o)=>{const a=typeof r=="number"?r:Array.isArray(r)?r[0]:r.offset;if(t)t(a,i,o);else throw new je([a,a+1],i,o)};switch(n.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return ki(n,e,s);case"block-scalar":return vi(n,e,s)}}return null}function Rl(n,e){const{implicitKey:t=!1,indent:s,inFlow:r=!1,offset:i=-1,type:o="PLAIN"}=e,a=kt({type:o,value:n},{implicitKey:t,indent:s>0?" ".repeat(s):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:s,source:`
+`}];switch(a[0]){case"|":case">":{const c=a.indexOf(`
+`),u=a.substring(0,c),f=a.substring(c+1)+`
+`,h=[{type:"block-scalar-header",offset:i,indent:s,source:u}];return Pi(h,l)||h.push({type:"newline",offset:-1,indent:s,source:`
+`}),{type:"block-scalar",offset:i,indent:s,props:h,source:f}}case'"':return{type:"double-quoted-scalar",offset:i,indent:s,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:i,indent:s,source:a,end:l};default:return{type:"scalar",offset:i,indent:s,source:a,end:l}}}function Pl(n,e,t={}){let{afterKey:s=!1,implicitKey:r=!1,inFlow:i=!1,type:o}=t,a="indent"in n?n.indent:null;if(s&&typeof a=="number"&&(a+=2),!o)switch(n.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const c=n.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=kt({type:o,value:e},{implicitKey:r||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Nl(n,l);break;case'"':ws(n,l,"double-quoted-scalar");break;case"'":ws(n,l,"single-quoted-scalar");break;default:ws(n,l,"scalar")}}function Nl(n,e){const t=e.indexOf(`
+`),s=e.substring(0,t),r=e.substring(t+1)+`
+`;if(n.type==="block-scalar"){const i=n.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=s,n.source=r}else{const{offset:i}=n,o="indent"in n?n.indent:-1,a=[{type:"block-scalar-header",offset:i,indent:o,source:s}];Pi(a,"end"in n?n.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
+`});for(const l of Object.keys(n))l!=="type"&&l!=="offset"&&delete n[l];Object.assign(n,{type:"block-scalar",indent:o,props:a,source:r})}}function Pi(n,e){if(e)for(const t of e)switch(t.type){case"space":case"comment":n.push(t);break;case"newline":return n.push(t),!0}return!1}function ws(n,e,t){switch(n.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":n.type=t,n.source=e;break;case"block-scalar":{const s=n.props.slice(1);let r=e.length;n.props[0].type==="block-scalar-header"&&(r-=n.props[0].source.length);for(const i of s)i.offset+=r;delete n.props,Object.assign(n,{type:t,source:e,end:s});break}case"block-map":case"block-seq":{const r={type:"newline",offset:n.offset+e.length,indent:n.indent,source:`
+`};delete n.items,Object.assign(n,{type:t,source:e,end:[r]});break}default:{const s="indent"in n?n.indent:-1,r="end"in n&&Array.isArray(n.end)?n.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(n))i!=="type"&&i!=="offset"&&delete n[i];Object.assign(n,{type:t,indent:s,source:e,end:r})}}}const Cl=n=>"type"in n?gn(n):mn(n);function gn(n){switch(n.type){case"block-scalar":{let e="";for(const t of n.props)e+=gn(t);return e+n.source}case"block-map":case"block-seq":{let e="";for(const t of n.items)e+=mn(t);return e}case"flow-collection":{let e=n.start.source;for(const t of n.items)e+=mn(t);for(const t of n.end)e+=t.source;return e}case"document":{let e=mn(n);if(n.end)for(const t of n.end)e+=t.source;return e}default:{let e=n.source;if("end"in n&&n.end)for(const t of n.end)e+=t.source;return e}}}function mn({start:n,key:e,sep:t,value:s}){let r="";for(const i of n)r+=i.source;if(e&&(r+=gn(e)),t)for(const i of t)r+=i.source;return s&&(r+=gn(s)),r}const Es=Symbol("break visit"),Ll=Symbol("skip children"),Ni=Symbol("remove item");function Qe(n,e){"type"in n&&n.type==="document"&&(n={start:n.start,value:n.value}),Ci(Object.freeze([]),n,e)}Qe.BREAK=Es,Qe.SKIP=Ll,Qe.REMOVE=Ni,Qe.itemAtPath=(n,e)=>{let t=n;for(const[s,r]of e){const i=t?.[s];if(i&&"items"in i)t=i.items[r];else return}return t},Qe.parentCollection=(n,e)=>{const t=Qe.itemAtPath(n,e.slice(0,-1)),s=e[e.length-1][0],r=t?.[s];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};function Ci(n,e,t){let s=t(e,n);if(typeof s=="symbol")return s;for(const r of["key","value"]){const i=e[r];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const a=Ci(Object.freeze(n.concat([[r,o]])),i.items[o],t);if(typeof a=="number")o=a-1;else{if(a===Es)return Es;a===Ni&&(i.items.splice(o,1),o-=1)}}typeof s=="function"&&r==="key"&&(s=s(e,n))}}return typeof s=="function"?s(e,n):s}const yn="\uFEFF",_n="",bn="",Pt="",Il=n=>!!n&&"items"in n,Ml=n=>!!n&&(n.type==="scalar"||n.type==="single-quoted-scalar"||n.type==="double-quoted-scalar"||n.type==="block-scalar");function Dl(n){switch(n){case yn:return"<BOM>";case _n:return"<DOC>";case bn:return"<FLOW_END>";case Pt:return"<SCALAR>";default:return JSON.stringify(n)}}function Li(n){switch(n){case yn:return"byte-order-mark";case _n:return"doc-mode";case bn:return"flow-error-end";case Pt:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
+`:case`\r
+`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(n[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}var Ii=Object.freeze({__proto__:null,BOM:yn,DOCUMENT:_n,FLOW_END:bn,SCALAR:Pt,createScalarToken:Rl,isCollection:Il,isScalar:Ml,prettyToken:Dl,resolveAsScalar:Tl,setScalarValue:Pl,stringify:Cl,tokenType:Li,visit:Qe});function de(n){switch(n){case void 0:case" ":case`
+`:case"\r":case"	":return!0;default:return!1}}const Mi="0123456789ABCDEFabcdef".split(""),xl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),As=",[]{}".split(""),Bl=` ,[]{}
+\r	`.split(""),vs=n=>!n||Bl.includes(n);class ks{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let s=this.next??"stream";for(;s&&(t||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
+`?!0:t==="\r"?this.buffer[e+1]===`
+`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let s=0;for(;t===" ";)t=this.buffer[++s+e];if(t==="\r"){const r=this.buffer[s+e+1];if(r===`
+`||!r&&!this.atEnd)return e+s+1}return t===`
+`||s>=this.indentNext||!t&&!this.atEnd?e+s:-1}if(t==="-"||t==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&de(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
+`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===yn&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length;const s=e.indexOf("#");if(s!==-1){const i=e[s-1];(i===" "||i==="	")&&(t=s-1)}for(;;){const i=e[t-1];if(i===" "||i==="	")t-=1;else break}const r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield _n,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if(t==="---"&&de(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&de(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!de(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&de(t)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(vs),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,s=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=s=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);const r=this.getLine();if(r===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&r[0]!=="#"||s===0&&(r.startsWith("---")||r.startsWith("..."))&&de(r[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield bn,yield*this.parseLineStart();let i=0;for(;r[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),r[i]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(vs),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||de(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let i=0;for(;this.buffer[t-1-i]==="\\";)i+=1;if(i%2===0)break;t=this.buffer.indexOf('"',t+1)}const s=this.buffer.substring(0,t);let r=s.indexOf(`
+`,this.pos);if(r!==-1){for(;r!==-1;){const i=this.continueScalar(r+1);if(i===-1)break;r=s.indexOf(`
+`,i)}r!==-1&&(t=r-(s[r-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>de(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,s;e:for(let r=this.pos;s=this.buffer[r];++r)switch(s){case" ":t+=1;break;case`
+`:e=r,t=0;break;case"\r":{const i=this.buffer[r+1];if(!i&&!this.atEnd)return this.setNext("block-scalar");if(i===`
+`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
+`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let r=e-1,i=this.buffer[r];i==="\r"&&(i=this.buffer[--r]);const o=r;for(;i===" "||i==="	";)i=this.buffer[--r];if(i===`
+`&&r>=this.pos&&r+1+t>o)e=r;else break}while(!0);return yield Pt,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,s=this.pos-1,r;for(;r=this.buffer[++s];)if(r===":"){const i=this.buffer[s+1];if(de(i)||e&&i===",")break;t=s}else if(de(r)){let i=this.buffer[s+1];if(r==="\r"&&(i===`
+`?(s+=1,r=`
+`,i=this.buffer[s+1]):t=s),i==="#"||e&&As.includes(i))break;if(r===`
+`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&As.includes(r))break;t=s}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield Pt,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(vs))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(de(t)||e&&As.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!de(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(xl.includes(t))t=this.buffer[++e];else if(t==="%"&&Mi.includes(this.buffer[e+1])&&Mi.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
+`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
+`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,s;do s=this.buffer[++t];while(s===" "||e&&s==="	");const r=t-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=t),r}*pushUntil(e){let t=this.pos,s=this.buffer[t];for(;!e(s);)s=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Os{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,s=this.lineStarts.length;for(;t<s;){const i=t+s>>1;this.lineStarts[i]<e?t=i+1:s=i}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const r=this.lineStarts[t-1];return{line:t,col:e-r+1}}}}function be(n,e){for(let t=0;t<n.length;++t)if(n[t].type===e)return!0;return!1}function Di(n){for(let e=0;e<n.length;++e)switch(n[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function xi(n){switch(n?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Sn(n){switch(n.type){case"document":return n.start;case"block-map":{const e=n.items[n.items.length-1];return e.sep??e.start}case"block-seq":return n.items[n.items.length-1].start;default:return[]}}function ft(n){if(n.length===0)return[];let e=n.length;e:for(;--e>=0;)switch(n[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;n[++e]?.type==="space";);return n.splice(e,n.length)}function Bi(n){if(n.start.type==="flow-seq-start")for(const e of n.items)e.sep&&!e.value&&!be(e.start,"explicit-key-ind")&&!be(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,xi(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class wn{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new ks,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,t))yield*this.next(s);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const t=Li(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(this.stack.length===0)yield t;else{const s=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in s?s.indent:0:t.type==="flow-collection"&&s.type==="document"&&(t.indent=0),t.type==="flow-collection"&&Bi(t),s.type){case"document":s.value=t;break;case"block-scalar":s.props.push(t);break;case"block-map":{const r=s.items[s.items.length-1];if(r.value){s.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=t;else{Object.assign(r,{key:t,sep:[]}),this.onKeyLine=!be(r.start,"explicit-key-ind");return}break}case"block-seq":{const r=s.items[s.items.length-1];r.value?s.items.push({start:[],value:t}):r.value=t;break}case"flow-collection":{const r=s.items[s.items.length-1];!r||r.value?s.items.push({start:[],key:t,sep:[]}):r.sep?r.value=t:Object.assign(r,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const r=t.items[t.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&Di(r.start)===-1&&(t.indent===0||r.start.every(i=>i.type!=="comment"||i.indent<t.indent))&&(s.type==="document"?s.end=r.start:s.items.push({start:r.start}),t.items.splice(-1,1))}}else{const s="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:s}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Di(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=Sn(this.peek(2)),s=ft(t);let r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
+`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
+`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const s="end"in t.value?t.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent&&t.sep;let r=[];if(s&&t.sep&&!t.value){const i=[];for(let o=0;o<t.sep.length;++o){const a=t.sep[o];switch(a.type){case"newline":i.push(o);break;case"space":break;case"comment":a.indent>e.indent&&(i.length=0);break;default:i.length=0}}i.length>=2&&(r=t.sep.splice(i[1]))}switch(this.type){case"anchor":case"tag":s||t.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!be(t.start,"explicit-key-ind")?t.start.push(this.sourceToken):s||t.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(be(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(be(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(xi(t.key)&&!be(t.sep,"newline")){const i=ft(t.start),o=t.key,a=t.sep;a.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:o,sep:a}]})}else r.length>0?t.sep=t.sep.concat(r,this.sourceToken):t.sep.push(this.sourceToken);else if(be(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const i=ft(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||s?e.items.push({start:r,key:null,sep:[this.sourceToken]}):be(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);s||t.value?(e.items.push({start:r,key:i,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(i):(Object.assign(t,{key:i,sep:[]}),this.onKeyLine=!0);return}default:{const i=this.startBlockValue(e);if(i){s&&i.type!=="block-seq"&&be(t.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(i);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const s="end"in t.value?t.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||be(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:r,sep:[]}):t.sep?this.stack.push(r):Object.assign(t,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const r=Sn(s),i=ft(r);Bi(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
+`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
+`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Sn(e),s=ft(t);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Sn(e),s=ft(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function ji(n){const e=n.prettyErrors!==!1;return{lineCounter:n.lineCounter||e&&new Os||null,prettyErrors:e}}function Fi(n,e={}){const{lineCounter:t,prettyErrors:s}=ji(e),r=new wn(t?.addNewLine),i=new pn(e),o=Array.from(i.compose(r.parse(n)));if(s&&t)for(const a of o)a.errors.forEach(dn(n,t)),a.warnings.forEach(dn(n,t));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function $s(n,e={}){const{lineCounter:t,prettyErrors:s}=ji(e),r=new wn(t?.addNewLine),i=new pn(e);let o=null;for(const a of i.compose(r.parse(n),!0,n.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new je(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&t&&(o.errors.forEach(dn(n,t)),o.warnings.forEach(dn(n,t))),o}function Hi(n,e,t){let s;typeof e=="function"?s=e:t===void 0&&e&&typeof e=="object"&&(t=e);const r=$s(n,t);if(!r)return null;if(r.warnings.forEach(i=>Zr(r.options.logLevel,i)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},t))}function Ki(n,e,t){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){const r=Math.round(t);t=r<1?void 0:r>8?{indent:8}:{indent:r}}if(n===void 0){const{keepUndefined:r}=t??e??{};if(!r)return}return new et(n,s,t).toString(t)}var jl=Object.freeze({__proto__:null,Alias:wt,CST:Ii,Composer:pn,Document:et,Lexer:ks,LineCounter:Os,Pair:Z,Parser:wn,Scalar:L,Schema:Ft,YAMLError:hn,YAMLMap:oe,YAMLParseError:je,YAMLSeq:Le,YAMLWarning:gs,isAlias:xe,isCollection:K,isDocument:Ve,isMap:Ge,isNode:G,isPair:H,isScalar:x,isSeq:We,parse:Hi,parseAllDocuments:Fi,parseDocument:$s,stringify:Ki,visit:Ne,visitAsync:St}),Fl=Object.freeze({__proto__:null,Alias:wt,CST:Ii,Composer:pn,Document:et,Lexer:ks,LineCounter:Os,Pair:Z,Parser:wn,Scalar:L,Schema:Ft,YAMLError:hn,YAMLMap:oe,YAMLParseError:je,YAMLSeq:Le,YAMLWarning:gs,default:jl,isAlias:xe,isCollection:K,isDocument:Ve,isMap:Ge,isNode:G,isPair:H,isScalar:x,isSeq:We,parse:Hi,parseAllDocuments:Fi,parseDocument:$s,stringify:Ki,visit:Ne,visitAsync:St}),Hl=_a(Fl),ee={},V={},ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.splitWhen=ht.flatten=void 0;function Kl(n){return n.reduce((e,t)=>[].concat(e,t),[])}ht.flatten=Kl;function Ul(n,e){const t=[[]];let s=0;for(const r of n)e(r)?(s++,t[s]=[]):t[s].push(r);return t}ht.splitWhen=Ul;var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.isEnoentCodeError=void 0;function ql(n){return n.code==="ENOENT"}En.isEnoentCodeError=ql;var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.createDirentFromStats=void 0;let Vl=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};function Gl(n,e){return new Vl(n,e)}An.createDirentFromStats=Gl;var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.convertPosixPathToPattern=Y.convertWindowsPathToPattern=Y.convertPathToPattern=Y.escapePosixPath=Y.escapeWindowsPath=Y.escape=Y.removeLeadingDotSegment=Y.makeAbsolute=Y.unixify=void 0;const Wl=Gn,Yl=ve,Ui=Wl.platform()==="win32",Ql=2,Jl=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,Xl=/(\\?)([(){}]|^!|[!+@](?=\())/g,zl=/^\\\\([.?])/,Zl=/\\(?![!()+@{}])/g;function ec(n){return n.replace(/\\/g,"/")}Y.unixify=ec;function tc(n,e){return Yl.resolve(n,e)}Y.makeAbsolute=tc;function nc(n){if(n.charAt(0)==="."){const e=n.charAt(1);if(e==="/"||e==="\\")return n.slice(Ql)}return n}Y.removeLeadingDotSegment=nc,Y.escape=Ui?Ts:Rs;function Ts(n){return n.replace(Xl,"\\$2")}Y.escapeWindowsPath=Ts;function Rs(n){return n.replace(Jl,"\\$2")}Y.escapePosixPath=Rs,Y.convertPathToPattern=Ui?qi:Vi;function qi(n){return Ts(n).replace(zl,"//$1").replace(Zl,"/")}Y.convertWindowsPathToPattern=qi;function Vi(n){return Rs(n)}Y.convertPosixPathToPattern=Vi;var N={};/*!
+ * is-extglob <https://github.com/jonschlinkert/is-extglob>
+ *
+ * Copyright (c) 2014-2016, Jon Schlinkert.
+ * Licensed under the MIT License.
+ */var sc=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1};/*!
+ * is-glob <https://github.com/jonschlinkert/is-glob>
+ *
+ * Copyright (c) 2014-2017, Jon Schlinkert.
+ * Released under the MIT License.
+ */var rc=sc,Gi={"{":"}","(":")","[":"]"},ic=function(n){if(n[0]==="!")return!0;for(var e=0,t=-2,s=-2,r=-2,i=-2,o=-2;e<n.length;){if(n[e]==="*"||n[e+1]==="?"&&/[\].+)]/.test(n[e])||s!==-1&&n[e]==="["&&n[e+1]!=="]"&&(s<e&&(s=n.indexOf("]",e)),s>e&&(o===-1||o>s||(o=n.indexOf("\\",e),o===-1||o>s)))||r!==-1&&n[e]==="{"&&n[e+1]!=="}"&&(r=n.indexOf("}",e),r>e&&(o=n.indexOf("\\",e),o===-1||o>r))||i!==-1&&n[e]==="("&&n[e+1]==="?"&&/[:!=]/.test(n[e+2])&&n[e+3]!==")"&&(i=n.indexOf(")",e),i>e&&(o=n.indexOf("\\",e),o===-1||o>i))||t!==-1&&n[e]==="("&&n[e+1]!=="|"&&(t<e&&(t=n.indexOf("|",e)),t!==-1&&n[t+1]!==")"&&(i=n.indexOf(")",t),i>t&&(o=n.indexOf("\\",t),o===-1||o>i))))return!0;if(n[e]==="\\"){var a=n[e+1];e+=2;var l=Gi[a];if(l){var c=n.indexOf(l,e);c!==-1&&(e=c+1)}if(n[e]==="!")return!0}else e++}return!1},oc=function(n){if(n[0]==="!")return!0;for(var e=0;e<n.length;){if(/[*?{}()[\]]/.test(n[e]))return!0;if(n[e]==="\\"){var t=n[e+1];e+=2;var s=Gi[t];if(s){var r=n.indexOf(s,e);r!==-1&&(e=r+1)}if(n[e]==="!")return!0}else e++}return!1},ac=function(e,t){if(typeof e!="string"||e==="")return!1;if(rc(e))return!0;var s=ic;return t&&t.strict===!1&&(s=oc),s(e)},lc=ac,cc=ve.posix.dirname,uc=Gn.platform()==="win32",Ps="/",fc=/\\/g,hc=/[\{\[].*[\}\]]$/,dc=/(^|[^\\])([\{\[]|\([^\)]+$)/,pc=/\\([\!\*\?\|\[\]\(\)\{\}])/g,gc=function(e,t){var s=Object.assign({flipBackslashes:!0},t);s.flipBackslashes&&uc&&e.indexOf(Ps)<0&&(e=e.replace(fc,Ps)),hc.test(e)&&(e+=Ps),e+="a";do e=cc(e);while(lc(e)||dc.test(e));return e.replace(pc,"$1")},vn={};(function(n){n.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1,n.find=(e,t)=>e.nodes.find(s=>s.type===t),n.exceedsLimit=(e,t,s=1,r)=>r===!1||!n.isInteger(e)||!n.isInteger(t)?!1:(Number(t)-Number(e))/Number(s)>=r,n.escapeNode=(e,t=0,s)=>{let r=e.nodes[t];r&&(s&&r.type===s||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)},n.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0),n.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1,n.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0,n.reduce=e=>e.reduce((t,s)=>(s.type==="text"&&t.push(s.value),s.type==="range"&&(s.type="text"),t),[]),n.flatten=(...e)=>{const t=[],s=r=>{for(let i=0;i<r.length;i++){let o=r[i];Array.isArray(o)?s(o):o!==void 0&&t.push(o)}return t};return s(e),t}})(vn);const Wi=vn;var Ns=(n,e={})=>{let t=(s,r={})=>{let i=e.escapeInvalid&&Wi.isInvalidBrace(r),o=s.invalid===!0&&e.escapeInvalid===!0,a="";if(s.value)return(i||o)&&Wi.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let l of s.nodes)a+=t(l);return a};return t(n)};/*!
+ * is-number <https://github.com/jonschlinkert/is-number>
+ *
+ * Copyright (c) 2014-present, Jon Schlinkert.
+ * Released under the MIT License.
+ */var mc=function(n){return typeof n=="number"?n-n===0:typeof n=="string"&&n.trim()!==""?Number.isFinite?Number.isFinite(+n):isFinite(+n):!1};/*!
+ * to-regex-range <https://github.com/micromatch/to-regex-range>
+ *
+ * Copyright (c) 2015-present, Jon Schlinkert.
+ * Released under the MIT License.
+ */const Yi=mc,Je=(n,e,t)=>{if(Yi(n)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||n===e)return String(n);if(Yi(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...t};typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let r=String(s.relaxZeros),i=String(s.shorthand),o=String(s.capture),a=String(s.wrap),l=n+":"+e+"="+r+i+o+a;if(Je.cache.hasOwnProperty(l))return Je.cache[l].result;let c=Math.min(n,e),u=Math.max(n,e);if(Math.abs(c-u)===1){let d=n+"|"+e;return s.capture?`(${d})`:s.wrap===!1?d:`(?:${d})`}let f=eo(n)||eo(e),h={min:n,max:e,a:c,b:u},g=[],p=[];if(f&&(h.isPadded=f,h.maxLen=String(h.max).length),c<0){let d=u<0?Math.abs(u):1;p=Qi(d,Math.abs(c),h,s),c=h.a=0}return u>=0&&(g=Qi(c,u,h,s)),h.negatives=p,h.positives=g,h.result=yc(p,g),s.capture===!0?h.result=`(${h.result})`:s.wrap!==!1&&g.length+p.length>1&&(h.result=`(?:${h.result})`),Je.cache[l]=h,h.result};function yc(n,e,t){let s=Cs(n,e,"-",!1)||[],r=Cs(e,n,"",!1)||[],i=Cs(n,e,"-?",!0)||[];return s.concat(i).concat(r).join("|")}function _c(n,e){let t=1,s=1,r=Xi(n,t),i=new Set([e]);for(;n<=r&&r<=e;)i.add(r),t+=1,r=Xi(n,t);for(r=zi(e+1,s)-1;n<r&&r<=e;)i.add(r),s+=1,r=zi(e+1,s)-1;return i=[...i],i.sort(wc),i}function bc(n,e,t){if(n===e)return{pattern:n,count:[],digits:0};let s=Sc(n,e),r=s.length,i="",o=0;for(let a=0;a<r;a++){let[l,c]=s[a];l===c?i+=l:l!=="0"||c!=="9"?i+=Ec(l,c):o++}return o&&(i+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:i,count:[o],digits:r}}function Qi(n,e,t,s){let r=_c(n,e),i=[],o=n,a;for(let l=0;l<r.length;l++){let c=r[l],u=bc(String(o),String(c),s),f="";if(!t.isPadded&&a&&a.pattern===u.pattern){a.count.length>1&&a.count.pop(),a.count.push(u.count[0]),a.string=a.pattern+Zi(a.count),o=c+1;continue}t.isPadded&&(f=Ac(c,t,s)),u.string=f+u.pattern+Zi(u.count),i.push(u),o=c+1,a=u}return i}function Cs(n,e,t,s,r){let i=[];for(let o of n){let{string:a}=o;!s&&!Ji(e,"string",a)&&i.push(t+a),s&&Ji(e,"string",a)&&i.push(t+a)}return i}function Sc(n,e){let t=[];for(let s=0;s<n.length;s++)t.push([n[s],e[s]]);return t}function wc(n,e){return n>e?1:e>n?-1:0}function Ji(n,e,t){return n.some(s=>s[e]===t)}function Xi(n,e){return Number(String(n).slice(0,-e)+"9".repeat(e))}function zi(n,e){return n-n%Math.pow(10,e)}function Zi(n){let[e=0,t=""]=n;return t||e>1?`{${e+(t?","+t:"")}}`:""}function Ec(n,e,t){return`[${n}${e-n===1?"":"-"}${e}]`}function eo(n){return/^-?(0+)\d/.test(n)}function Ac(n,e,t){if(!e.isPadded)return n;let s=Math.abs(e.maxLen-String(n).length),r=t.relaxZeros!==!1;switch(s){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${s}}`:`0{${s}}`}}Je.cache={},Je.clearCache=()=>Je.cache={};var vc=Je;/*!
+ * fill-range <https://github.com/jonschlinkert/fill-range>
+ *
+ * Copyright (c) 2014-present, Jon Schlinkert.
+ * Licensed under the MIT License.
+ */const kc=Tr,to=vc,no=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),Oc=n=>e=>n===!0?Number(e):String(e),Ls=n=>typeof n=="number"||typeof n=="string"&&n!=="",Nt=n=>Number.isInteger(+n),Is=n=>{let e=`${n}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},$c=(n,e,t)=>typeof n=="string"||typeof e=="string"?!0:t.stringify===!0,Tc=(n,e,t)=>{if(e>0){let s=n[0]==="-"?"-":"";s&&(n=n.slice(1)),n=s+n.padStart(s?e-1:e,"0")}return t===!1?String(n):n},so=(n,e)=>{let t=n[0]==="-"?"-":"";for(t&&(n=n.slice(1),e--);n.length<e;)n="0"+n;return t?"-"+n:n},Rc=(n,e)=>{n.negatives.sort((o,a)=>o<a?-1:o>a?1:0),n.positives.sort((o,a)=>o<a?-1:o>a?1:0);let t=e.capture?"":"?:",s="",r="",i;return n.positives.length&&(s=n.positives.join("|")),n.negatives.length&&(r=`-(${t}${n.negatives.join("|")})`),s&&r?i=`${s}|${r}`:i=s||r,e.wrap?`(${t}${i})`:i},ro=(n,e,t,s)=>{if(t)return to(n,e,{wrap:!1,...s});let r=String.fromCharCode(n);if(n===e)return r;let i=String.fromCharCode(e);return`[${r}-${i}]`},io=(n,e,t)=>{if(Array.isArray(n)){let s=t.wrap===!0,r=t.capture?"":"?:";return s?`(${r}${n.join("|")})`:n.join("|")}return to(n,e,t)},oo=(...n)=>new RangeError("Invalid range arguments: "+kc.inspect(...n)),ao=(n,e,t)=>{if(t.strictRanges===!0)throw oo([n,e]);return[]},Pc=(n,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${n}" to be a number`);return[]},Nc=(n,e,t=1,s={})=>{let r=Number(n),i=Number(e);if(!Number.isInteger(r)||!Number.isInteger(i)){if(s.strictRanges===!0)throw oo([n,e]);return[]}r===0&&(r=0),i===0&&(i=0);let o=r>i,a=String(n),l=String(e),c=String(t);t=Math.max(Math.abs(t),1);let u=Is(a)||Is(l)||Is(c),f=u?Math.max(a.length,l.length,c.length):0,h=u===!1&&$c(n,e,s)===!1,g=s.transform||Oc(h);if(s.toRegex&&t===1)return ro(so(n,f),so(e,f),!0,s);let p={negatives:[],positives:[]},d=E=>p[E<0?"negatives":"positives"].push(Math.abs(E)),m=[],w=0;for(;o?r>=i:r<=i;)s.toRegex===!0&&t>1?d(r):m.push(Tc(g(r,w),f,h)),r=o?r-t:r+t,w++;return s.toRegex===!0?t>1?Rc(p,s):io(m,null,{wrap:!1,...s}):m},Cc=(n,e,t=1,s={})=>{if(!Nt(n)&&n.length>1||!Nt(e)&&e.length>1)return ao(n,e,s);let r=s.transform||(h=>String.fromCharCode(h)),i=`${n}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=i>o,l=Math.min(i,o),c=Math.max(i,o);if(s.toRegex&&t===1)return ro(l,c,!1,s);let u=[],f=0;for(;a?i>=o:i<=o;)u.push(r(i,f)),i=a?i-t:i+t,f++;return s.toRegex===!0?io(u,null,{wrap:!1,options:s}):u},kn=(n,e,t,s={})=>{if(e==null&&Ls(n))return[n];if(!Ls(n)||!Ls(e))return ao(n,e,s);if(typeof t=="function")return kn(n,e,1,{transform:t});if(no(t))return kn(n,e,0,t);let r={...s};return r.capture===!0&&(r.wrap=!0),t=t||r.step||1,Nt(t)?Nt(n)&&Nt(e)?Nc(n,e,t,r):Cc(n,e,Math.max(Math.abs(t),1),r):t!=null&&!no(t)?Pc(t,r):kn(n,e,1,t)};var lo=kn;const Lc=lo,co=vn,Ic=(n,e={})=>{let t=(s,r={})=>{let i=co.isInvalidBrace(r),o=s.invalid===!0&&e.escapeInvalid===!0,a=i===!0||o===!0,l=e.escapeInvalid===!0?"\\":"",c="";if(s.isOpen===!0||s.isClose===!0)return l+s.value;if(s.type==="open")return a?l+s.value:"(";if(s.type==="close")return a?l+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":a?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let u=co.reduce(s.nodes),f=Lc(...u,{...e,wrap:!1,toRegex:!0});if(f.length!==0)return u.length>1&&f.length>1?`(${f})`:f}if(s.nodes)for(let u of s.nodes)c+=t(u,s);return c};return t(n)};var Mc=Ic;const Dc=lo,uo=Ns,dt=vn,Xe=(n="",e="",t=!1)=>{let s=[];if(n=[].concat(n),e=[].concat(e),!e.length)return n;if(!n.length)return t?dt.flatten(e).map(r=>`{${r}}`):e;for(let r of n)if(Array.isArray(r))for(let i of r)s.push(Xe(i,e,t));else for(let i of e)t===!0&&typeof i=="string"&&(i=`{${i}}`),s.push(Array.isArray(i)?Xe(r,i,t):r+i);return dt.flatten(s)},xc=(n,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,s=(r,i={})=>{r.queue=[];let o=i,a=i.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(r.invalid||r.dollar){a.push(Xe(a.pop(),uo(r,e)));return}if(r.type==="brace"&&r.invalid!==!0&&r.nodes.length===2){a.push(Xe(a.pop(),["{}"]));return}if(r.nodes&&r.ranges>0){let f=dt.reduce(r.nodes);if(dt.exceedsLimit(...f,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let h=Dc(...f,e);h.length===0&&(h=uo(r,e)),a.push(Xe(a.pop(),h)),r.nodes=[];return}let l=dt.encloseBrace(r),c=r.queue,u=r;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,c=u.queue;for(let f=0;f<r.nodes.length;f++){let h=r.nodes[f];if(h.type==="comma"&&r.type==="brace"){f===1&&c.push(""),c.push("");continue}if(h.type==="close"){a.push(Xe(a.pop(),c,l));continue}if(h.value&&h.type!=="open"){c.push(Xe(c.pop(),h.value));continue}h.nodes&&s(h,r)}return c};return dt.flatten(s(n))};var Bc=xc,jc={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
+`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const Fc=Ns,{MAX_LENGTH:fo,CHAR_BACKSLASH:Ms,CHAR_BACKTICK:Hc,CHAR_COMMA:Kc,CHAR_DOT:Uc,CHAR_LEFT_PARENTHESES:qc,CHAR_RIGHT_PARENTHESES:Vc,CHAR_LEFT_CURLY_BRACE:Gc,CHAR_RIGHT_CURLY_BRACE:Wc,CHAR_LEFT_SQUARE_BRACKET:ho,CHAR_RIGHT_SQUARE_BRACKET:po,CHAR_DOUBLE_QUOTE:Yc,CHAR_SINGLE_QUOTE:Qc,CHAR_NO_BREAK_SPACE:Jc,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Xc}=jc,zc=(n,e={})=>{if(typeof n!="string")throw new TypeError("Expected a string");let t=e||{},s=typeof t.maxLength=="number"?Math.min(fo,t.maxLength):fo;if(n.length>s)throw new SyntaxError(`Input length (${n.length}), exceeds max characters (${s})`);let r={type:"root",input:n,nodes:[]},i=[r],o=r,a=r,l=0,c=n.length,u=0,f=0,h;const g=()=>n[u++],p=d=>{if(d.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&d.type==="text"){a.value+=d.value;return}return o.nodes.push(d),d.parent=o,d.prev=a,a=d,d};for(p({type:"bos"});u<c;)if(o=i[i.length-1],h=g(),!(h===Xc||h===Jc)){if(h===Ms){p({type:"text",value:(e.keepEscaping?h:"")+g()});continue}if(h===po){p({type:"text",value:"\\"+h});continue}if(h===ho){l++;let d;for(;u<c&&(d=g());){if(h+=d,d===ho){l++;continue}if(d===Ms){h+=g();continue}if(d===po&&(l--,l===0))break}p({type:"text",value:h});continue}if(h===qc){o=p({type:"paren",nodes:[]}),i.push(o),p({type:"text",value:h});continue}if(h===Vc){if(o.type!=="paren"){p({type:"text",value:h});continue}o=i.pop(),p({type:"text",value:h}),o=i[i.length-1];continue}if(h===Yc||h===Qc||h===Hc){let d=h,m;for(e.keepQuotes!==!0&&(h="");u<c&&(m=g());){if(m===Ms){h+=m+g();continue}if(m===d){e.keepQuotes===!0&&(h+=m);break}h+=m}p({type:"text",value:h});continue}if(h===Gc){f++;let m={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};o=p(m),i.push(o),p({type:"open",value:h});continue}if(h===Wc){if(o.type!=="brace"){p({type:"text",value:h});continue}let d="close";o=i.pop(),o.close=!0,p({type:d,value:h}),f--,o=i[i.length-1];continue}if(h===Kc&&f>0){if(o.ranges>0){o.ranges=0;let d=o.nodes.shift();o.nodes=[d,{type:"text",value:Fc(o)}]}p({type:"comma",value:h}),o.commas++;continue}if(h===Uc&&f>0&&o.commas===0){let d=o.nodes;if(f===0||d.length===0){p({type:"text",value:h});continue}if(a.type==="dot"){if(o.range=[],a.value+=h,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){d.pop();let m=d[d.length-1];m.value+=a.value+h,a=m,o.ranges--;continue}p({type:"dot",value:h});continue}p({type:"text",value:h})}do if(o=i.pop(),o.type!=="root"){o.nodes.forEach(w=>{w.nodes||(w.type==="open"&&(w.isOpen=!0),w.type==="close"&&(w.isClose=!0),w.nodes||(w.type="text"),w.invalid=!0)});let d=i[i.length-1],m=d.nodes.indexOf(o);d.nodes.splice(m,1,...o.nodes)}while(i.length>0);return p({type:"eos"}),r};var Zc=zc;const go=Ns,eu=Mc,tu=Bc,nu=Zc,le=(n,e={})=>{let t=[];if(Array.isArray(n))for(let s of n){let r=le.create(s,e);Array.isArray(r)?t.push(...r):t.push(r)}else t=[].concat(le.create(n,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};le.parse=(n,e={})=>nu(n,e),le.stringify=(n,e={})=>go(typeof n=="string"?le.parse(n,e):n,e),le.compile=(n,e={})=>(typeof n=="string"&&(n=le.parse(n,e)),eu(n,e)),le.expand=(n,e={})=>{typeof n=="string"&&(n=le.parse(n,e));let t=tu(n,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t},le.create=(n,e={})=>n===""||n.length<3?[n]:e.expand!==!0?le.compile(n,e):le.expand(n,e);var su=le,Ct={};const ru=ve,Oe="\\\\/",mo=`[^${Oe}]`,Ie="\\.",iu="\\+",ou="\\?",On="\\/",au="(?=.)",yo="[^/]",Ds=`(?:${On}|$)`,_o=`(?:^|${On})`,xs=`${Ie}{1,2}${Ds}`,lu=`(?!${Ie})`,cu=`(?!${_o}${xs})`,uu=`(?!${Ie}{0,1}${Ds})`,fu=`(?!${xs})`,hu=`[^.${On}]`,du=`${yo}*?`,bo={DOT_LITERAL:Ie,PLUS_LITERAL:iu,QMARK_LITERAL:ou,SLASH_LITERAL:On,ONE_CHAR:au,QMARK:yo,END_ANCHOR:Ds,DOTS_SLASH:xs,NO_DOT:lu,NO_DOTS:cu,NO_DOT_SLASH:uu,NO_DOTS_SLASH:fu,QMARK_NO_DOT:hu,STAR:du,START_ANCHOR:_o},pu={...bo,SLASH_LITERAL:`[${Oe}]`,QMARK:mo,STAR:`${mo}*?`,DOTS_SLASH:`${Ie}{1,2}(?:[${Oe}]|$)`,NO_DOT:`(?!${Ie})`,NO_DOTS:`(?!(?:^|[${Oe}])${Ie}{1,2}(?:[${Oe}]|$))`,NO_DOT_SLASH:`(?!${Ie}{0,1}(?:[${Oe}]|$))`,NO_DOTS_SLASH:`(?!${Ie}{1,2}(?:[${Oe}]|$))`,QMARK_NO_DOT:`[^.${Oe}]`,START_ANCHOR:`(?:^|[${Oe}])`,END_ANCHOR:`(?:[${Oe}]|$)`},gu={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var $n={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:gu,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:ru.sep,extglobChars(n){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${n.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(n){return n===!0?pu:bo}};(function(n){const e=ve,t=process.platform==="win32",{REGEX_BACKSLASH:s,REGEX_REMOVE_BACKSLASH:r,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:o}=$n;n.isObject=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n.hasRegexChars=a=>i.test(a),n.isRegexChar=a=>a.length===1&&n.hasRegexChars(a),n.escapeRegex=a=>a.replace(o,"\\$1"),n.toPosixSlashes=a=>a.replace(s,"/"),n.removeBackslashes=a=>a.replace(r,l=>l==="\\"?"":l),n.supportsLookbehinds=()=>{const a=process.version.slice(1).split(".").map(Number);return a.length===3&&a[0]>=9||a[0]===8&&a[1]>=10},n.isWindows=a=>a&&typeof a.windows=="boolean"?a.windows:t===!0||e.sep==="\\",n.escapeLast=(a,l,c)=>{const u=a.lastIndexOf(l,c);return u===-1?a:a[u-1]==="\\"?n.escapeLast(a,l,u-1):`${a.slice(0,u)}\\${a.slice(u)}`},n.removePrefix=(a,l={})=>{let c=a;return c.startsWith("./")&&(c=c.slice(2),l.prefix="./"),c},n.wrapOutput=(a,l={},c={})=>{const u=c.contains?"":"^",f=c.contains?"":"$";let h=`${u}(?:${a})${f}`;return l.negated===!0&&(h=`(?:^(?!${h}).*$)`),h}})(Ct);const So=Ct,{CHAR_ASTERISK:Bs,CHAR_AT:mu,CHAR_BACKWARD_SLASH:Lt,CHAR_COMMA:yu,CHAR_DOT:js,CHAR_EXCLAMATION_MARK:Fs,CHAR_FORWARD_SLASH:wo,CHAR_LEFT_CURLY_BRACE:Hs,CHAR_LEFT_PARENTHESES:Ks,CHAR_LEFT_SQUARE_BRACKET:_u,CHAR_PLUS:bu,CHAR_QUESTION_MARK:Eo,CHAR_RIGHT_CURLY_BRACE:Su,CHAR_RIGHT_PARENTHESES:Ao,CHAR_RIGHT_SQUARE_BRACKET:wu}=$n,vo=n=>n===wo||n===Lt,ko=n=>{n.isPrefix!==!0&&(n.depth=n.isGlobstar?1/0:1)},Eu=(n,e)=>{const t=e||{},s=n.length-1,r=t.parts===!0||t.scanToEnd===!0,i=[],o=[],a=[];let l=n,c=-1,u=0,f=0,h=!1,g=!1,p=!1,d=!1,m=!1,w=!1,E=!1,k=!1,T=!1,A=!1,S=0,R,$,P={value:"",depth:0,isGlob:!1};const B=()=>c>=s,b=()=>l.charCodeAt(c+1),C=()=>(R=$,l.charCodeAt(++c));for(;c<s;){$=C();let te;if($===Lt){E=P.backslashes=!0,$=C(),$===Hs&&(w=!0);continue}if(w===!0||$===Hs){for(S++;B()!==!0&&($=C());){if($===Lt){E=P.backslashes=!0,C();continue}if($===Hs){S++;continue}if(w!==!0&&$===js&&($=C())===js){if(h=P.isBrace=!0,p=P.isGlob=!0,A=!0,r===!0)continue;break}if(w!==!0&&$===yu){if(h=P.isBrace=!0,p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===Su&&(S--,S===0)){w=!1,h=P.isBrace=!0,A=!0;break}}if(r===!0)continue;break}if($===wo){if(i.push(c),o.push(P),P={value:"",depth:0,isGlob:!1},A===!0)continue;if(R===js&&c===u+1){u+=2;continue}f=c+1;continue}if(t.noext!==!0&&($===bu||$===mu||$===Bs||$===Eo||$===Fs)===!0&&b()===Ks){if(p=P.isGlob=!0,d=P.isExtglob=!0,A=!0,$===Fs&&c===u&&(T=!0),r===!0){for(;B()!==!0&&($=C());){if($===Lt){E=P.backslashes=!0,$=C();continue}if($===Ao){p=P.isGlob=!0,A=!0;break}}continue}break}if($===Bs){if(R===Bs&&(m=P.isGlobstar=!0),p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===Eo){if(p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===_u){for(;B()!==!0&&(te=C());){if(te===Lt){E=P.backslashes=!0,C();continue}if(te===wu){g=P.isBracket=!0,p=P.isGlob=!0,A=!0;break}}if(r===!0)continue;break}if(t.nonegate!==!0&&$===Fs&&c===u){k=P.negated=!0,u++;continue}if(t.noparen!==!0&&$===Ks){if(p=P.isGlob=!0,r===!0){for(;B()!==!0&&($=C());){if($===Ks){E=P.backslashes=!0,$=C();continue}if($===Ao){A=!0;break}}continue}break}if(p===!0){if(A=!0,r===!0)continue;break}}t.noext===!0&&(d=!1,p=!1);let j=l,Me="",y="";u>0&&(Me=l.slice(0,u),l=l.slice(u),f-=u),j&&p===!0&&f>0?(j=l.slice(0,f),y=l.slice(f)):p===!0?(j="",y=l):j=l,j&&j!==""&&j!=="/"&&j!==l&&vo(j.charCodeAt(j.length-1))&&(j=j.slice(0,-1)),t.unescape===!0&&(y&&(y=So.removeBackslashes(y)),j&&E===!0&&(j=So.removeBackslashes(j)));const _={prefix:Me,input:n,start:u,base:j,glob:y,isBrace:h,isBracket:g,isGlob:p,isExtglob:d,isGlobstar:m,negated:k,negatedExtglob:T};if(t.tokens===!0&&(_.maxDepth=0,vo($)||o.push(P),_.tokens=o),t.parts===!0||t.tokens===!0){let te;for(let D=0;D<i.length;D++){const Ee=te?te+1:u,Ae=i[D],ae=n.slice(Ee,Ae);t.tokens&&(D===0&&u!==0?(o[D].isPrefix=!0,o[D].value=Me):o[D].value=ae,ko(o[D]),_.maxDepth+=o[D].depth),(D!==0||ae!=="")&&a.push(ae),te=Ae}if(te&&te+1<n.length){const D=n.slice(te+1);a.push(D),t.tokens&&(o[o.length-1].value=D,ko(o[o.length-1]),_.maxDepth+=o[o.length-1].depth)}_.slashes=i,_.parts=a}return _};var Au=Eu;const Tn=$n,ce=Ct,{MAX_LENGTH:Rn,POSIX_REGEX_SOURCE:vu,REGEX_NON_SPECIAL_CHARS:ku,REGEX_SPECIAL_CHARS_BACKREF:Ou,REPLACEMENTS:Oo}=Tn,$u=(n,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...n,e);n.sort();const t=`[${n.join("-")}]`;try{new RegExp(t)}catch{return n.map(r=>ce.escapeRegex(r)).join("..")}return t},pt=(n,e)=>`Missing ${n}: "${e}" - use "\\\\${e}" to match literal characters`,Us=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");n=Oo[n]||n;const t={...e},s=typeof t.maxLength=="number"?Math.min(Rn,t.maxLength):Rn;let r=n.length;if(r>s)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${s}`);const i={type:"bos",value:"",output:t.prepend||""},o=[i],a=t.capture?"":"?:",l=ce.isWindows(e),c=Tn.globChars(l),u=Tn.extglobChars(c),{DOT_LITERAL:f,PLUS_LITERAL:h,SLASH_LITERAL:g,ONE_CHAR:p,DOTS_SLASH:d,NO_DOT:m,NO_DOT_SLASH:w,NO_DOTS_SLASH:E,QMARK:k,QMARK_NO_DOT:T,STAR:A,START_ANCHOR:S}=c,R=O=>`(${a}(?:(?!${S}${O.dot?d:f}).)*?)`,$=t.dot?"":m,P=t.dot?k:T;let B=t.bash===!0?R(t):A;t.capture&&(B=`(${B})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);const b={input:n,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};n=ce.removePrefix(n,b),r=n.length;const C=[],j=[],Me=[];let y=i,_;const te=()=>b.index===r-1,D=b.peek=(O=1)=>n[b.index+O],Ee=b.advance=()=>n[++b.index]||"",Ae=()=>n.slice(b.index+1),ae=(O="",F=0)=>{b.consumed+=O,b.index+=F},Ht=O=>{b.output+=O.output!=null?O.output:O.value,ae(O.value)},ha=()=>{let O=1;for(;D()==="!"&&(D(2)!=="("||D(3)==="?");)Ee(),b.start++,O++;return O%2===0?!1:(b.negated=!0,b.start++,!0)},Kt=O=>{b[O]++,Me.push(O)},Ue=O=>{b[O]--,Me.pop()},M=O=>{if(y.type==="globstar"){const F=b.braces>0&&(O.type==="comma"||O.type==="brace"),v=O.extglob===!0||C.length&&(O.type==="pipe"||O.type==="paren");O.type!=="slash"&&O.type!=="paren"&&!F&&!v&&(b.output=b.output.slice(0,-y.output.length),y.type="star",y.value="*",y.output=B,b.output+=y.output)}if(C.length&&O.type!=="paren"&&(C[C.length-1].inner+=O.value),(O.value||O.output)&&Ht(O),y&&y.type==="text"&&O.type==="text"){y.value+=O.value,y.output=(y.output||"")+O.value;return}O.prev=y,o.push(O),y=O},Ut=(O,F)=>{const v={...u[F],conditions:1,inner:""};v.prev=y,v.parens=b.parens,v.output=b.output;const I=(t.capture?"(":"")+v.open;Kt("parens"),M({type:O,value:F,output:b.output?"":p}),M({type:"paren",extglob:!0,value:Ee(),output:I}),C.push(v)},da=O=>{let F=O.close+(t.capture?")":""),v;if(O.type==="negate"){let I=B;if(O.inner&&O.inner.length>1&&O.inner.includes("/")&&(I=R(t)),(I!==B||te()||/^\)+$/.test(Ae()))&&(F=O.close=`)$))${I}`),O.inner.includes("*")&&(v=Ae())&&/^\.[^\\/.]+$/.test(v)){const q=Us(v,{...e,fastpaths:!1}).output;F=O.close=`)${q})${I})`}O.prev.type==="bos"&&(b.negatedExtglob=!0)}M({type:"paren",extglob:!0,value:_,output:F}),Ue("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(n)){let O=!1,F=n.replace(Ou,(v,I,q,ne,J,Vn)=>ne==="\\"?(O=!0,v):ne==="?"?I?I+ne+(J?k.repeat(J.length):""):Vn===0?P+(J?k.repeat(J.length):""):k.repeat(q.length):ne==="."?f.repeat(q.length):ne==="*"?I?I+ne+(J?B:""):B:I?v:`\\${v}`);return O===!0&&(t.unescape===!0?F=F.replace(/\\/g,""):F=F.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),F===n&&t.contains===!0?(b.output=n,b):(b.output=ce.wrapOutput(F,b,e),b)}for(;!te();){if(_=Ee(),_==="\0")continue;if(_==="\\"){const v=D();if(v==="/"&&t.bash!==!0||v==="."||v===";")continue;if(!v){_+="\\",M({type:"text",value:_});continue}const I=/^\\+/.exec(Ae());let q=0;if(I&&I[0].length>2&&(q=I[0].length,b.index+=q,q%2!==0&&(_+="\\")),t.unescape===!0?_=Ee():_+=Ee(),b.brackets===0){M({type:"text",value:_});continue}}if(b.brackets>0&&(_!=="]"||y.value==="["||y.value==="[^")){if(t.posix!==!1&&_===":"){const v=y.value.slice(1);if(v.includes("[")&&(y.posix=!0,v.includes(":"))){const I=y.value.lastIndexOf("["),q=y.value.slice(0,I),ne=y.value.slice(I+2),J=vu[ne];if(J){y.value=q+J,b.backtrack=!0,Ee(),!i.output&&o.indexOf(y)===1&&(i.output=p);continue}}}(_==="["&&D()!==":"||_==="-"&&D()==="]")&&(_=`\\${_}`),_==="]"&&(y.value==="["||y.value==="[^")&&(_=`\\${_}`),t.posix===!0&&_==="!"&&y.value==="["&&(_="^"),y.value+=_,Ht({value:_});continue}if(b.quotes===1&&_!=='"'){_=ce.escapeRegex(_),y.value+=_,Ht({value:_});continue}if(_==='"'){b.quotes=b.quotes===1?0:1,t.keepQuotes===!0&&M({type:"text",value:_});continue}if(_==="("){Kt("parens"),M({type:"paren",value:_});continue}if(_===")"){if(b.parens===0&&t.strictBrackets===!0)throw new SyntaxError(pt("opening","("));const v=C[C.length-1];if(v&&b.parens===v.parens+1){da(C.pop());continue}M({type:"paren",value:_,output:b.parens?")":"\\)"}),Ue("parens");continue}if(_==="["){if(t.nobracket===!0||!Ae().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(pt("closing","]"));_=`\\${_}`}else Kt("brackets");M({type:"bracket",value:_});continue}if(_==="]"){if(t.nobracket===!0||y&&y.type==="bracket"&&y.value.length===1){M({type:"text",value:_,output:`\\${_}`});continue}if(b.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(pt("opening","["));M({type:"text",value:_,output:`\\${_}`});continue}Ue("brackets");const v=y.value.slice(1);if(y.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(_=`/${_}`),y.value+=_,Ht({value:_}),t.literalBrackets===!1||ce.hasRegexChars(v))continue;const I=ce.escapeRegex(y.value);if(b.output=b.output.slice(0,-y.value.length),t.literalBrackets===!0){b.output+=I,y.value=I;continue}y.value=`(${a}${I}|${y.value})`,b.output+=y.value;continue}if(_==="{"&&t.nobrace!==!0){Kt("braces");const v={type:"brace",value:_,output:"(",outputIndex:b.output.length,tokensIndex:b.tokens.length};j.push(v),M(v);continue}if(_==="}"){const v=j[j.length-1];if(t.nobrace===!0||!v){M({type:"text",value:_,output:_});continue}let I=")";if(v.dots===!0){const q=o.slice(),ne=[];for(let J=q.length-1;J>=0&&(o.pop(),q[J].type!=="brace");J--)q[J].type!=="dots"&&ne.unshift(q[J].value);I=$u(ne,t),b.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){const q=b.output.slice(0,v.outputIndex),ne=b.tokens.slice(v.tokensIndex);v.value=v.output="\\{",_=I="\\}",b.output=q;for(const J of ne)b.output+=J.output||J.value}M({type:"brace",value:_,output:I}),Ue("braces"),j.pop();continue}if(_==="|"){C.length>0&&C[C.length-1].conditions++,M({type:"text",value:_});continue}if(_===","){let v=_;const I=j[j.length-1];I&&Me[Me.length-1]==="braces"&&(I.comma=!0,v="|"),M({type:"comma",value:_,output:v});continue}if(_==="/"){if(y.type==="dot"&&b.index===b.start+1){b.start=b.index+1,b.consumed="",b.output="",o.pop(),y=i;continue}M({type:"slash",value:_,output:g});continue}if(_==="."){if(b.braces>0&&y.type==="dot"){y.value==="."&&(y.output=f);const v=j[j.length-1];y.type="dots",y.output+=_,y.value+=_,v.dots=!0;continue}if(b.braces+b.parens===0&&y.type!=="bos"&&y.type!=="slash"){M({type:"text",value:_,output:f});continue}M({type:"dot",value:_,output:f});continue}if(_==="?"){if(!(y&&y.value==="(")&&t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ut("qmark",_);continue}if(y&&y.type==="paren"){const I=D();let q=_;if(I==="<"&&!ce.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(y.value==="("&&!/[!=<:]/.test(I)||I==="<"&&!/<([!=]|\w+>)/.test(Ae()))&&(q=`\\${_}`),M({type:"text",value:_,output:q});continue}if(t.dot!==!0&&(y.type==="slash"||y.type==="bos")){M({type:"qmark",value:_,output:T});continue}M({type:"qmark",value:_,output:k});continue}if(_==="!"){if(t.noextglob!==!0&&D()==="("&&(D(2)!=="?"||!/[!=<:]/.test(D(3)))){Ut("negate",_);continue}if(t.nonegate!==!0&&b.index===0){ha();continue}}if(_==="+"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ut("plus",_);continue}if(y&&y.value==="("||t.regex===!1){M({type:"plus",value:_,output:h});continue}if(y&&(y.type==="bracket"||y.type==="paren"||y.type==="brace")||b.parens>0){M({type:"plus",value:_});continue}M({type:"plus",value:h});continue}if(_==="@"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){M({type:"at",extglob:!0,value:_,output:""});continue}M({type:"text",value:_});continue}if(_!=="*"){(_==="$"||_==="^")&&(_=`\\${_}`);const v=ku.exec(Ae());v&&(_+=v[0],b.index+=v[0].length),M({type:"text",value:_});continue}if(y&&(y.type==="globstar"||y.star===!0)){y.type="star",y.star=!0,y.value+=_,y.output=B,b.backtrack=!0,b.globstar=!0,ae(_);continue}let O=Ae();if(t.noextglob!==!0&&/^\([^?]/.test(O)){Ut("star",_);continue}if(y.type==="star"){if(t.noglobstar===!0){ae(_);continue}const v=y.prev,I=v.prev,q=v.type==="slash"||v.type==="bos",ne=I&&(I.type==="star"||I.type==="globstar");if(t.bash===!0&&(!q||O[0]&&O[0]!=="/")){M({type:"star",value:_,output:""});continue}const J=b.braces>0&&(v.type==="comma"||v.type==="brace"),Vn=C.length&&(v.type==="pipe"||v.type==="paren");if(!q&&v.type!=="paren"&&!J&&!Vn){M({type:"star",value:_,output:""});continue}for(;O.slice(0,3)==="/**";){const qt=n[b.index+4];if(qt&&qt!=="/")break;O=O.slice(3),ae("/**",3)}if(v.type==="bos"&&te()){y.type="globstar",y.value+=_,y.output=R(t),b.output=y.output,b.globstar=!0,ae(_);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!ne&&te()){b.output=b.output.slice(0,-(v.output+y.output).length),v.output=`(?:${v.output}`,y.type="globstar",y.output=R(t)+(t.strictSlashes?")":"|$)"),y.value+=_,b.globstar=!0,b.output+=v.output+y.output,ae(_);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&O[0]==="/"){const qt=O[1]!==void 0?"|$":"";b.output=b.output.slice(0,-(v.output+y.output).length),v.output=`(?:${v.output}`,y.type="globstar",y.output=`${R(t)}${g}|${g}${qt})`,y.value+=_,b.output+=v.output+y.output,b.globstar=!0,ae(_+Ee()),M({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&O[0]==="/"){y.type="globstar",y.value+=_,y.output=`(?:^|${g}|${R(t)}${g})`,b.output=y.output,b.globstar=!0,ae(_+Ee()),M({type:"slash",value:"/",output:""});continue}b.output=b.output.slice(0,-y.output.length),y.type="globstar",y.output=R(t),y.value+=_,b.output+=y.output,b.globstar=!0,ae(_);continue}const F={type:"star",value:_,output:B};if(t.bash===!0){F.output=".*?",(y.type==="bos"||y.type==="slash")&&(F.output=$+F.output),M(F);continue}if(y&&(y.type==="bracket"||y.type==="paren")&&t.regex===!0){F.output=_,M(F);continue}(b.index===b.start||y.type==="slash"||y.type==="dot")&&(y.type==="dot"?(b.output+=w,y.output+=w):t.dot===!0?(b.output+=E,y.output+=E):(b.output+=$,y.output+=$),D()!=="*"&&(b.output+=p,y.output+=p)),M(F)}for(;b.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing","]"));b.output=ce.escapeLast(b.output,"["),Ue("brackets")}for(;b.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing",")"));b.output=ce.escapeLast(b.output,"("),Ue("parens")}for(;b.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing","}"));b.output=ce.escapeLast(b.output,"{"),Ue("braces")}if(t.strictSlashes!==!0&&(y.type==="star"||y.type==="bracket")&&M({type:"maybe_slash",value:"",output:`${g}?`}),b.backtrack===!0){b.output="";for(const O of b.tokens)b.output+=O.output!=null?O.output:O.value,O.suffix&&(b.output+=O.suffix)}return b};Us.fastpaths=(n,e)=>{const t={...e},s=typeof t.maxLength=="number"?Math.min(Rn,t.maxLength):Rn,r=n.length;if(r>s)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${s}`);n=Oo[n]||n;const i=ce.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:c,NO_DOT:u,NO_DOTS:f,NO_DOTS_SLASH:h,STAR:g,START_ANCHOR:p}=Tn.globChars(i),d=t.dot?f:u,m=t.dot?h:u,w=t.capture?"":"?:",E={negated:!1,prefix:""};let k=t.bash===!0?".*?":g;t.capture&&(k=`(${k})`);const T=$=>$.noglobstar===!0?k:`(${w}(?:(?!${p}${$.dot?c:o}).)*?)`,A=$=>{switch($){case"*":return`${d}${l}${k}`;case".*":return`${o}${l}${k}`;case"*.*":return`${d}${k}${o}${l}${k}`;case"*/*":return`${d}${k}${a}${l}${m}${k}`;case"**":return d+T(t);case"**/*":return`(?:${d}${T(t)}${a})?${m}${l}${k}`;case"**/*.*":return`(?:${d}${T(t)}${a})?${m}${k}${o}${l}${k}`;case"**/.*":return`(?:${d}${T(t)}${a})?${o}${l}${k}`;default:{const P=/^(.*?)\.(\w+)$/.exec($);if(!P)return;const B=A(P[1]);return B?B+o+P[2]:void 0}}},S=ce.removePrefix(n,E);let R=A(S);return R&&t.strictSlashes!==!0&&(R+=`${a}?`),R};var Tu=Us;const Ru=ve,Pu=Au,qs=Tu,Vs=Ct,Nu=$n,Cu=n=>n&&typeof n=="object"&&!Array.isArray(n),W=(n,e,t=!1)=>{if(Array.isArray(n)){const u=n.map(h=>W(h,e,t));return h=>{for(const g of u){const p=g(h);if(p)return p}return!1}}const s=Cu(n)&&n.tokens&&n.input;if(n===""||typeof n!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");const r=e||{},i=Vs.isWindows(e),o=s?W.compileRe(n,e):W.makeRe(n,e,!1,!0),a=o.state;delete o.state;let l=()=>!1;if(r.ignore){const u={...e,ignore:null,onMatch:null,onResult:null};l=W(r.ignore,u,t)}const c=(u,f=!1)=>{const{isMatch:h,match:g,output:p}=W.test(u,o,e,{glob:n,posix:i}),d={glob:n,state:a,regex:o,posix:i,input:u,output:p,match:g,isMatch:h};return typeof r.onResult=="function"&&r.onResult(d),h===!1?(d.isMatch=!1,f?d:!1):l(u)?(typeof r.onIgnore=="function"&&r.onIgnore(d),d.isMatch=!1,f?d:!1):(typeof r.onMatch=="function"&&r.onMatch(d),f?d:!0)};return t&&(c.state=a),c};W.test=(n,e,t,{glob:s,posix:r}={})=>{if(typeof n!="string")throw new TypeError("Expected input to be a string");if(n==="")return{isMatch:!1,output:""};const i=t||{},o=i.format||(r?Vs.toPosixSlashes:null);let a=n===s,l=a&&o?o(n):n;return a===!1&&(l=o?o(n):n,a=l===s),(a===!1||i.capture===!0)&&(i.matchBase===!0||i.basename===!0?a=W.matchBase(n,e,t,r):a=e.exec(l)),{isMatch:!!a,match:a,output:l}},W.matchBase=(n,e,t,s=Vs.isWindows(t))=>(e instanceof RegExp?e:W.makeRe(e,t)).test(Ru.basename(n)),W.isMatch=(n,e,t)=>W(e,t)(n),W.parse=(n,e)=>Array.isArray(n)?n.map(t=>W.parse(t,e)):qs(n,{...e,fastpaths:!1}),W.scan=(n,e)=>Pu(n,e),W.compileRe=(n,e,t=!1,s=!1)=>{if(t===!0)return n.output;const r=e||{},i=r.contains?"":"^",o=r.contains?"":"$";let a=`${i}(?:${n.output})${o}`;n&&n.negated===!0&&(a=`^(?!${a}).*$`);const l=W.toRegex(a,e);return s===!0&&(l.state=n),l},W.makeRe=(n,e={},t=!1,s=!1)=>{if(!n||typeof n!="string")throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(n[0]==="."||n[0]==="*")&&(r.output=qs.fastpaths(n,e)),r.output||(r=qs(n,e)),W.compileRe(r,e,t,s)},W.toRegex=(n,e)=>{try{const t=e||{};return new RegExp(n,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}},W.constants=Nu;var Lu=W,Iu=Lu;const $o=Tr,To=su,$e=Iu,Gs=Ct,Ro=n=>n===""||n==="./",U=(n,e,t)=>{e=[].concat(e),n=[].concat(n);let s=new Set,r=new Set,i=new Set,o=0,a=u=>{i.add(u.output),t&&t.onResult&&t.onResult(u)};for(let u=0;u<e.length;u++){let f=$e(String(e[u]),{...t,onResult:a},!0),h=f.state.negated||f.state.negatedExtglob;h&&o++;for(let g of n){let p=f(g,!0);(h?!p.isMatch:p.isMatch)&&(h?s.add(p.output):(s.delete(p.output),r.add(p.output)))}}let c=(o===e.length?[...i]:[...r]).filter(u=>!s.has(u));if(t&&c.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?e.map(u=>u.replace(/\\/g,"")):e}return c};U.match=U,U.matcher=(n,e)=>$e(n,e),U.isMatch=(n,e,t)=>$e(e,t)(n),U.any=U.isMatch,U.not=(n,e,t={})=>{e=[].concat(e).map(String);let s=new Set,r=[],i=a=>{t.onResult&&t.onResult(a),r.push(a.output)},o=new Set(U(n,e,{...t,onResult:i}));for(let a of r)o.has(a)||s.add(a);return[...s]},U.contains=(n,e,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${$o.inspect(n)}"`);if(Array.isArray(e))return e.some(s=>U.contains(n,s,t));if(typeof e=="string"){if(Ro(n)||Ro(e))return!1;if(n.includes(e)||n.startsWith("./")&&n.slice(2).includes(e))return!0}return U.isMatch(n,e,{...t,contains:!0})},U.matchKeys=(n,e,t)=>{if(!Gs.isObject(n))throw new TypeError("Expected the first argument to be an object");let s=U(Object.keys(n),e,t),r={};for(let i of s)r[i]=n[i];return r},U.some=(n,e,t)=>{let s=[].concat(n);for(let r of[].concat(e)){let i=$e(String(r),t);if(s.some(o=>i(o)))return!0}return!1},U.every=(n,e,t)=>{let s=[].concat(n);for(let r of[].concat(e)){let i=$e(String(r),t);if(!s.every(o=>i(o)))return!1}return!0},U.all=(n,e,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${$o.inspect(n)}"`);return[].concat(e).every(s=>$e(s,t)(n))},U.capture=(n,e,t)=>{let s=Gs.isWindows(t),i=$e.makeRe(String(n),{...t,capture:!0}).exec(s?Gs.toPosixSlashes(e):e);if(i)return i.slice(1).map(o=>o===void 0?"":o)},U.makeRe=(...n)=>$e.makeRe(...n),U.scan=(...n)=>$e.scan(...n),U.parse=(n,e)=>{let t=[];for(let s of[].concat(n||[]))for(let r of To(String(s),e))t.push($e.parse(r,e));return t},U.braces=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(n)?[n]:To(n,e)},U.braceExpand=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");return U.braces(n,{...e,expand:!0})};var Mu=U;Object.defineProperty(N,"__esModule",{value:!0}),N.removeDuplicateSlashes=N.matchAny=N.convertPatternsToRe=N.makeRe=N.getPatternParts=N.expandBraceExpansion=N.expandPatternsWithBraceExpansion=N.isAffectDepthOfReadingPattern=N.endsWithSlashGlobStar=N.hasGlobStar=N.getBaseDirectory=N.isPatternRelatedToParentDirectory=N.getPatternsOutsideCurrentDirectory=N.getPatternsInsideCurrentDirectory=N.getPositivePatterns=N.getNegativePatterns=N.isPositivePattern=N.isNegativePattern=N.convertToNegativePattern=N.convertToPositivePattern=N.isDynamicPattern=N.isStaticPattern=void 0;const Du=ve,xu=gc,Ws=Mu,Po="**",Bu="\\",ju=/[*?]|^!/,Fu=/\[[^[]*]/,Hu=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,Ku=/[!*+?@]\([^(]*\)/,Uu=/,|\.\./,qu=/(?!^)\/{2,}/g;function No(n,e={}){return!Co(n,e)}N.isStaticPattern=No;function Co(n,e={}){return n===""?!1:!!(e.caseSensitiveMatch===!1||n.includes(Bu)||ju.test(n)||Fu.test(n)||Hu.test(n)||e.extglob!==!1&&Ku.test(n)||e.braceExpansion!==!1&&Vu(n))}N.isDynamicPattern=Co;function Vu(n){const e=n.indexOf("{");if(e===-1)return!1;const t=n.indexOf("}",e+1);if(t===-1)return!1;const s=n.slice(e,t);return Uu.test(s)}function Gu(n){return Pn(n)?n.slice(1):n}N.convertToPositivePattern=Gu;function Wu(n){return"!"+n}N.convertToNegativePattern=Wu;function Pn(n){return n.startsWith("!")&&n[1]!=="("}N.isNegativePattern=Pn;function Lo(n){return!Pn(n)}N.isPositivePattern=Lo;function Yu(n){return n.filter(Pn)}N.getNegativePatterns=Yu;function Qu(n){return n.filter(Lo)}N.getPositivePatterns=Qu;function Ju(n){return n.filter(e=>!Ys(e))}N.getPatternsInsideCurrentDirectory=Ju;function Xu(n){return n.filter(Ys)}N.getPatternsOutsideCurrentDirectory=Xu;function Ys(n){return n.startsWith("..")||n.startsWith("./..")}N.isPatternRelatedToParentDirectory=Ys;function zu(n){return xu(n,{flipBackslashes:!1})}N.getBaseDirectory=zu;function Zu(n){return n.includes(Po)}N.hasGlobStar=Zu;function Io(n){return n.endsWith("/"+Po)}N.endsWithSlashGlobStar=Io;function ef(n){const e=Du.basename(n);return Io(n)||No(e)}N.isAffectDepthOfReadingPattern=ef;function tf(n){return n.reduce((e,t)=>e.concat(Mo(t)),[])}N.expandPatternsWithBraceExpansion=tf;function Mo(n){const e=Ws.braces(n,{expand:!0,nodupes:!0});return e.sort((t,s)=>t.length-s.length),e.filter(t=>t!=="")}N.expandBraceExpansion=Mo;function nf(n,e){let{parts:t}=Ws.scan(n,Object.assign(Object.assign({},e),{parts:!0}));return t.length===0&&(t=[n]),t[0].startsWith("/")&&(t[0]=t[0].slice(1),t.unshift("")),t}N.getPatternParts=nf;function Do(n,e){return Ws.makeRe(n,e)}N.makeRe=Do;function sf(n,e){return n.map(t=>Do(t,e))}N.convertPatternsToRe=sf;function rf(n,e){return e.some(t=>t.test(n))}N.matchAny=rf;function of(n){return n.replace(qu,"/")}N.removeDuplicateSlashes=of;var Nn={};const af=Vt,xo=af.PassThrough,lf=Array.prototype.slice;var cf=uf;function uf(){const n=[],e=lf.call(arguments);let t=!1,s=e[e.length-1];s&&!Array.isArray(s)&&s.pipe==null?e.pop():s={};const r=s.end!==!1,i=s.pipeError===!0;s.objectMode==null&&(s.objectMode=!0),s.highWaterMark==null&&(s.highWaterMark=64*1024);const o=xo(s);function a(){for(let u=0,f=arguments.length;u<f;u++)n.push(Bo(arguments[u],s));return l(),this}function l(){if(t)return;t=!0;let u=n.shift();if(!u){process.nextTick(c);return}Array.isArray(u)||(u=[u]);let f=u.length+1;function h(){--f>0||(t=!1,l())}function g(p){function d(){p.removeListener("merge2UnpipeEnd",d),p.removeListener("end",d),i&&p.removeListener("error",m),h()}function m(w){o.emit("error",w)}if(p._readableState.endEmitted)return h();p.on("merge2UnpipeEnd",d),p.on("end",d),i&&p.on("error",m),p.pipe(o,{end:!1}),p.resume()}for(let p=0;p<u.length;p++)g(u[p]);h()}function c(){t=!1,o.emit("queueDrain"),r&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(u){u.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),o}function Bo(n,e){if(Array.isArray(n))for(let t=0,s=n.length;t<s;t++)n[t]=Bo(n[t],e);else{if(!n._readableState&&n.pipe&&(n=n.pipe(xo(e))),!n._readableState||!n.pause||!n.pipe)throw new Error("Only readable stream can be merged.");n.pause()}return n}Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.merge=void 0;const ff=cf;function hf(n){const e=ff(n);return n.forEach(t=>{t.once("error",s=>e.emit("error",s))}),e.once("close",()=>jo(n)),e.once("end",()=>jo(n)),e}Nn.merge=hf;function jo(n){n.forEach(e=>e.emit("close"))}var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.isEmpty=gt.isString=void 0;function df(n){return typeof n=="string"}gt.isString=df;function pf(n){return n===""}gt.isEmpty=pf,Object.defineProperty(V,"__esModule",{value:!0}),V.string=V.stream=V.pattern=V.path=V.fs=V.errno=V.array=void 0;const gf=ht;V.array=gf;const mf=En;V.errno=mf;const yf=An;V.fs=yf;const _f=Y;V.path=_f;const bf=N;V.pattern=bf;const Sf=Nn;V.stream=Sf;const wf=gt;V.string=wf,Object.defineProperty(ee,"__esModule",{value:!0}),ee.convertPatternGroupToTask=ee.convertPatternGroupsToTasks=ee.groupPatternsByBaseDirectory=ee.getNegativePatternsAsPositive=ee.getPositivePatterns=ee.convertPatternsToTasks=ee.generate=void 0;const Se=V;function Ef(n,e){const t=Fo(n,e),s=Fo(e.ignore,e),r=Ho(t),i=Ko(t,s),o=r.filter(u=>Se.pattern.isStaticPattern(u,e)),a=r.filter(u=>Se.pattern.isDynamicPattern(u,e)),l=Qs(o,i,!1),c=Qs(a,i,!0);return l.concat(c)}ee.generate=Ef;function Fo(n,e){let t=n;return e.braceExpansion&&(t=Se.pattern.expandPatternsWithBraceExpansion(t)),e.baseNameMatch&&(t=t.map(s=>s.includes("/")?s:`**/${s}`)),t.map(s=>Se.pattern.removeDuplicateSlashes(s))}function Qs(n,e,t){const s=[],r=Se.pattern.getPatternsOutsideCurrentDirectory(n),i=Se.pattern.getPatternsInsideCurrentDirectory(n),o=Js(r),a=Js(i);return s.push(...Xs(o,e,t)),"."in a?s.push(zs(".",i,e,t)):s.push(...Xs(a,e,t)),s}ee.convertPatternsToTasks=Qs;function Ho(n){return Se.pattern.getPositivePatterns(n)}ee.getPositivePatterns=Ho;function Ko(n,e){return Se.pattern.getNegativePatterns(n).concat(e).map(Se.pattern.convertToPositivePattern)}ee.getNegativePatternsAsPositive=Ko;function Js(n){const e={};return n.reduce((t,s)=>{const r=Se.pattern.getBaseDirectory(s);return r in t?t[r].push(s):t[r]=[s],t},e)}ee.groupPatternsByBaseDirectory=Js;function Xs(n,e,t){return Object.keys(n).map(s=>zs(s,n[s],e,t))}ee.convertPatternGroupsToTasks=Xs;function zs(n,e,t,s){return{dynamic:s,positive:e,negative:t,base:n,patterns:[].concat(e,t.map(Se.pattern.convertToNegativePattern))}}ee.convertPatternGroupToTask=zs;var Zs={},er={},pe={},tr={},Cn={},Te={},Fe={},ue={},Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.read=void 0;function Af(n,e,t){e.fs.lstat(n,(s,r)=>{if(s!==null){Uo(t,s);return}if(!r.isSymbolicLink()||!e.followSymbolicLink){nr(t,r);return}e.fs.stat(n,(i,o)=>{if(i!==null){if(e.throwErrorOnBrokenSymbolicLink){Uo(t,i);return}nr(t,r);return}e.markSymbolicLink&&(o.isSymbolicLink=()=>!0),nr(t,o)})})}Ln.read=Af;function Uo(n,e){n(e)}function nr(n,e){n(null,e)}var In={};Object.defineProperty(In,"__esModule",{value:!0}),In.read=void 0;function vf(n,e){const t=e.fs.lstatSync(n);if(!t.isSymbolicLink()||!e.followSymbolicLink)return t;try{const s=e.fs.statSync(n);return e.markSymbolicLink&&(s.isSymbolicLink=()=>!0),s}catch(s){if(!e.throwErrorOnBrokenSymbolicLink)return t;throw s}}In.read=vf;var sr={},qo={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const e=_t;n.FILE_SYSTEM_ADAPTER={lstat:e.lstat,stat:e.stat,lstatSync:e.lstatSync,statSync:e.statSync};function t(s){return s===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),s)}n.createFileSystemAdapter=t})(qo),Object.defineProperty(sr,"__esModule",{value:!0});const kf=qo;let Of=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=kf.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return e??t}};sr.default=Of,Object.defineProperty(ue,"__esModule",{value:!0}),ue.statSync=ue.stat=ue.Settings=void 0;const Vo=Ln,$f=In,rr=sr;ue.Settings=rr.default;function Tf(n,e,t){if(typeof e=="function"){Vo.read(n,ir(),e);return}Vo.read(n,ir(e),t)}ue.stat=Tf;function Rf(n,e){const t=ir(e);return $f.read(n,t)}ue.statSync=Rf;function ir(n={}){return n instanceof rr.default?n:new rr.default(n)}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Go;var Pf=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ma):n=>(Go||(Go=Promise.resolve())).then(n).catch(e=>setTimeout(()=>{throw e},0));/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Nf=Lf;const Cf=Pf;function Lf(n,e){let t,s,r,i=!0;Array.isArray(n)?(t=[],s=n.length):(r=Object.keys(n),t={},s=r.length);function o(l){function c(){e&&e(l,t),e=null}i?Cf(c):c()}function a(l,c,u){t[l]=u,(--s===0||c)&&o(c)}s?r?r.forEach(function(l){n[l](function(c,u){a(l,c,u)})}):n.forEach(function(l,c){l(function(u,f){a(c,u,f)})}):o(null),i=!1}var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const Mn=process.versions.node.split(".");if(Mn[0]===void 0||Mn[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const Wo=Number.parseInt(Mn[0],10),If=Number.parseInt(Mn[1],10),Yo=10,Mf=10,Df=Wo>Yo,xf=Wo===Yo&&If>=Mf;It.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Df||xf;var Mt={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.createDirentFromStats=void 0;class Bf{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}function jf(n,e){return new Bf(n,e)}Dn.createDirentFromStats=jf,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.fs=void 0;const Ff=Dn;Mt.fs=Ff;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.joinPathSegments=void 0;function Hf(n,e,t){return n.endsWith(t)?n+e:n+t+e}Dt.joinPathSegments=Hf,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.readdir=Fe.readdirWithFileTypes=Fe.read=void 0;const Kf=ue,Qo=Nf,Uf=It,Jo=Mt,Xo=Dt;function qf(n,e,t){if(!e.stats&&Uf.IS_SUPPORT_READDIR_WITH_FILE_TYPES){zo(n,e,t);return}Zo(n,e,t)}Fe.read=qf;function zo(n,e,t){e.fs.readdir(n,{withFileTypes:!0},(s,r)=>{if(s!==null){xn(t,s);return}const i=r.map(a=>({dirent:a,name:a.name,path:Xo.joinPathSegments(n,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){or(t,i);return}const o=i.map(a=>Vf(a,e));Qo(o,(a,l)=>{if(a!==null){xn(t,a);return}or(t,l)})})}Fe.readdirWithFileTypes=zo;function Vf(n,e){return t=>{if(!n.dirent.isSymbolicLink()){t(null,n);return}e.fs.stat(n.path,(s,r)=>{if(s!==null){if(e.throwErrorOnBrokenSymbolicLink){t(s);return}t(null,n);return}n.dirent=Jo.fs.createDirentFromStats(n.name,r),t(null,n)})}}function Zo(n,e,t){e.fs.readdir(n,(s,r)=>{if(s!==null){xn(t,s);return}const i=r.map(o=>{const a=Xo.joinPathSegments(n,o,e.pathSegmentSeparator);return l=>{Kf.stat(a,e.fsStatSettings,(c,u)=>{if(c!==null){l(c);return}const f={name:o,path:a,dirent:Jo.fs.createDirentFromStats(o,u)};e.stats&&(f.stats=u),l(null,f)})}});Qo(i,(o,a)=>{if(o!==null){xn(t,o);return}or(t,a)})})}Fe.readdir=Zo;function xn(n,e){n(e)}function or(n,e){n(null,e)}var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.readdir=He.readdirWithFileTypes=He.read=void 0;const Gf=ue,Wf=It,ea=Mt,ta=Dt;function Yf(n,e){return!e.stats&&Wf.IS_SUPPORT_READDIR_WITH_FILE_TYPES?na(n,e):sa(n,e)}He.read=Yf;function na(n,e){return e.fs.readdirSync(n,{withFileTypes:!0}).map(s=>{const r={dirent:s,name:s.name,path:ta.joinPathSegments(n,s.name,e.pathSegmentSeparator)};if(r.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{const i=e.fs.statSync(r.path);r.dirent=ea.fs.createDirentFromStats(r.name,i)}catch(i){if(e.throwErrorOnBrokenSymbolicLink)throw i}return r})}He.readdirWithFileTypes=na;function sa(n,e){return e.fs.readdirSync(n).map(s=>{const r=ta.joinPathSegments(n,s,e.pathSegmentSeparator),i=Gf.statSync(r,e.fsStatSettings),o={name:s,path:r,dirent:ea.fs.createDirentFromStats(s,i)};return e.stats&&(o.stats=i),o})}He.readdir=sa;var ar={},ra={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const e=_t;n.FILE_SYSTEM_ADAPTER={lstat:e.lstat,stat:e.stat,lstatSync:e.lstatSync,statSync:e.statSync,readdir:e.readdir,readdirSync:e.readdirSync};function t(s){return s===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),s)}n.createFileSystemAdapter=t})(ra),Object.defineProperty(ar,"__esModule",{value:!0});const Qf=ve,Jf=ue,Xf=ra;let zf=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Xf.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Qf.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Jf.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}};ar.default=zf,Object.defineProperty(Te,"__esModule",{value:!0}),Te.Settings=Te.scandirSync=Te.scandir=void 0;const ia=Fe,Zf=He,lr=ar;Te.Settings=lr.default;function eh(n,e,t){if(typeof e=="function"){ia.read(n,cr(),e);return}ia.read(n,cr(e),t)}Te.scandir=eh;function th(n,e){const t=cr(e);return Zf.read(n,t)}Te.scandirSync=th;function cr(n={}){return n instanceof lr.default?n:new lr.default(n)}var ur={exports:{}};function nh(n){var e=new n,t=e;function s(){var i=e;return i.next?e=i.next:(e=new n,t=e),i.next=null,i}function r(i){t.next=i,t=i}return{get:s,release:r}}var sh=nh,rh=sh;function oa(n,e,t){if(typeof n=="function"&&(t=e,e=n,n=null),t<1)throw new Error("fastqueue concurrency must be greater than 1");var s=rh(ih),r=null,i=null,o=0,a=null,l={push:d,drain:ge,saturated:ge,pause:u,paused:!1,concurrency:t,running:c,resume:g,idle:p,length:f,getQueue:h,unshift:m,empty:ge,kill:E,killAndDrain:k,error:T};return l;function c(){return o}function u(){l.paused=!0}function f(){for(var A=r,S=0;A;)A=A.next,S++;return S}function h(){for(var A=r,S=[];A;)S.push(A.value),A=A.next;return S}function g(){if(l.paused){l.paused=!1;for(var A=0;A<l.concurrency;A++)o++,w()}}function p(){return o===0&&l.length()===0}function d(A,S){var R=s.get();R.context=n,R.release=w,R.value=A,R.callback=S||ge,R.errorHandler=a,o===l.concurrency||l.paused?i?(i.next=R,i=R):(r=R,i=R,l.saturated()):(o++,e.call(n,R.value,R.worked))}function m(A,S){var R=s.get();R.context=n,R.release=w,R.value=A,R.callback=S||ge,o===l.concurrency||l.paused?r?(R.next=r,r=R):(r=R,i=R,l.saturated()):(o++,e.call(n,R.value,R.worked))}function w(A){A&&s.release(A);var S=r;S?l.paused?o--:(i===r&&(i=null),r=S.next,S.next=null,e.call(n,S.value,S.worked),i===null&&l.empty()):--o===0&&l.drain()}function E(){r=null,i=null,l.drain=ge}function k(){r=null,i=null,l.drain(),l.drain=ge}function T(A){a=A}}function ge(){}function ih(){this.value=null,this.callback=ge,this.next=null,this.release=ge,this.context=null,this.errorHandler=null;var n=this;this.worked=function(t,s){var r=n.callback,i=n.errorHandler,o=n.value;n.value=null,n.callback=ge,n.errorHandler&&i(t,o),r.call(n.context,t,s),n.release(n)}}function oh(n,e,t){typeof n=="function"&&(t=e,e=n,n=null);function s(u,f){e.call(this,u).then(function(h){f(null,h)},f)}var r=oa(n,s,t),i=r.push,o=r.unshift;return r.push=a,r.unshift=l,r.drained=c,r;function a(u){var f=new Promise(function(h,g){i(u,function(p,d){if(p){g(p);return}h(d)})});return f.catch(ge),f}function l(u){var f=new Promise(function(h,g){o(u,function(p,d){if(p){g(p);return}h(d)})});return f.catch(ge),f}function c(){if(r.idle())return new Promise(function(h){h()});var u=r.drain,f=new Promise(function(h){r.drain=function(){u(),h()}});return f}}ur.exports=oa,ur.exports.promise=oh;var ah=ur.exports,me={};Object.defineProperty(me,"__esModule",{value:!0}),me.joinPathSegments=me.replacePathSegmentSeparator=me.isAppliedFilter=me.isFatalError=void 0;function lh(n,e){return n.errorFilter===null?!0:!n.errorFilter(e)}me.isFatalError=lh;function ch(n,e){return n===null||n(e)}me.isAppliedFilter=ch;function uh(n,e){return n.split(/[/\\]/).join(e)}me.replacePathSegmentSeparator=uh;function fh(n,e,t){return n===""?e:n.endsWith(t)?n+e:n+t+e}me.joinPathSegments=fh;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});const hh=me;let dh=class{constructor(e,t){this._root=e,this._settings=t,this._root=hh.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}};Bn.default=dh,Object.defineProperty(Cn,"__esModule",{value:!0});const ph=ga,gh=Te,mh=ah,jn=me,yh=Bn;class _h extends yh.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=gh.scandir,this._emitter=new ph.EventEmitter,this._queue=mh(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const s={directory:e,base:t};this._queue.push(s,r=>{r!==null&&this._handleError(r)})}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,(s,r)=>{if(s!==null){t(s,void 0);return}for(const i of r)this._handleEntry(i,e.base);t(null,void 0)})}_handleError(e){this._isDestroyed||!jn.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const s=e.path;t!==void 0&&(e.path=jn.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),jn.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&jn.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,t===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}Cn.default=_h,Object.defineProperty(tr,"__esModule",{value:!0});const bh=Cn;class Sh{constructor(e,t){this._root=e,this._settings=t,this._reader=new bh.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(t=>{wh(e,t)}),this._reader.onEntry(t=>{this._storage.push(t)}),this._reader.onEnd(()=>{Eh(e,this._storage)}),this._reader.read()}}tr.default=Sh;function wh(n,e){n(e)}function Eh(n,e){n(null,e)}var fr={};Object.defineProperty(fr,"__esModule",{value:!0});const Ah=Vt,vh=Cn;class kh{constructor(e,t){this._root=e,this._settings=t,this._reader=new vh.default(this._root,this._settings),this._stream=new Ah.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}fr.default=kh;var hr={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});const Oh=Te,Fn=me,$h=Bn;class Th extends $h.default{constructor(){super(...arguments),this._scandir=Oh.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const s=this._scandir(e,this._settings.fsScandirSettings);for(const r of s)this._handleEntry(r,t)}catch(s){this._handleError(s)}}_handleError(e){if(Fn.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const s=e.path;t!==void 0&&(e.path=Fn.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),Fn.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&Fn.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,t===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}}dr.default=Th,Object.defineProperty(hr,"__esModule",{value:!0});const Rh=dr;class Ph{constructor(e,t){this._root=e,this._settings=t,this._reader=new Rh.default(this._root,this._settings)}read(){return this._reader.read()}}hr.default=Ph;var pr={};Object.defineProperty(pr,"__esModule",{value:!0});const Nh=ve,Ch=Te;class Lh{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Nh.sep),this.fsScandirSettings=new Ch.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}}pr.default=Lh,Object.defineProperty(pe,"__esModule",{value:!0}),pe.Settings=pe.walkStream=pe.walkSync=pe.walk=void 0;const aa=tr,Ih=fr,Mh=hr,gr=pr;pe.Settings=gr.default;function Dh(n,e,t){if(typeof e=="function"){new aa.default(n,Hn()).read(e);return}new aa.default(n,Hn(e)).read(t)}pe.walk=Dh;function xh(n,e){const t=Hn(e);return new Mh.default(n,t).read()}pe.walkSync=xh;function Bh(n,e){const t=Hn(e);return new Ih.default(n,t).read()}pe.walkStream=Bh;function Hn(n={}){return n instanceof gr.default?n:new gr.default(n)}var xt={};Object.defineProperty(xt,"__esModule",{value:!0});const jh=ve,Fh=ue,la=V;class Hh{constructor(e){this._settings=e,this._fsStatSettings=new Fh.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return jh.resolve(this._settings.cwd,e)}_makeEntry(e,t){const s={name:t,path:t,dirent:la.fs.createDirentFromStats(t,e)};return this._settings.stats&&(s.stats=e),s}_isFatalError(e){return!la.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}}xt.default=Hh;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});const Kh=Vt,Uh=ue,qh=pe,Vh=xt;class Gh extends Vh.default{constructor(){super(...arguments),this._walkStream=qh.walkStream,this._stat=Uh.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const s=e.map(this._getFullEntryPath,this),r=new Kh.PassThrough({objectMode:!0});r._write=(i,o,a)=>this._getEntry(s[i],e[i],t).then(l=>{l!==null&&t.entryFilter(l)&&r.push(l),i===s.length-1&&r.end(),a()}).catch(a);for(let i=0;i<s.length;i++)r.write(i);return r}_getEntry(e,t,s){return this._getStat(e).then(r=>this._makeEntry(r,t)).catch(r=>{if(s.errorFilter(r))return null;throw r})}_getStat(e){return new Promise((t,s)=>{this._stat(e,this._fsStatSettings,(r,i)=>r===null?t(i):s(r))})}}Kn.default=Gh,Object.defineProperty(er,"__esModule",{value:!0});const Wh=pe,Yh=xt,Qh=Kn;class Jh extends Yh.default{constructor(){super(...arguments),this._walkAsync=Wh.walk,this._readerStream=new Qh.default(this._settings)}dynamic(e,t){return new Promise((s,r)=>{this._walkAsync(e,t,(i,o)=>{i===null?s(o):r(i)})})}async static(e,t){const s=[],r=this._readerStream.static(e,t);return new Promise((i,o)=>{r.once("error",o),r.on("data",a=>s.push(a)),r.once("end",()=>i(s))})}}er.default=Jh;var Bt={},mr={},yr={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});const jt=V;class Xh{constructor(e,t,s){this._patterns=e,this._settings=t,this._micromatchOptions=s,this._storage=[],this._fillStorage()}_fillStorage(){for(const e of this._patterns){const t=this._getPatternSegments(e),s=this._splitSegmentsIntoSections(t);this._storage.push({complete:s.length<=1,pattern:e,segments:t,sections:s})}}_getPatternSegments(e){return jt.pattern.getPatternParts(e,this._micromatchOptions).map(s=>jt.pattern.isDynamicPattern(s,this._settings)?{dynamic:!0,pattern:s,patternRe:jt.pattern.makeRe(s,this._micromatchOptions)}:{dynamic:!1,pattern:s})}_splitSegmentsIntoSections(e){return jt.array.splitWhen(e,t=>t.dynamic&&jt.pattern.hasGlobStar(t.pattern))}}_r.default=Xh,Object.defineProperty(yr,"__esModule",{value:!0});const zh=_r;class Zh extends zh.default{match(e){const t=e.split("/"),s=t.length,r=this._storage.filter(i=>!i.complete||i.segments.length>s);for(const i of r){const o=i.sections[0];if(!i.complete&&s>o.length||t.every((l,c)=>{const u=i.segments[c];return!!(u.dynamic&&u.patternRe.test(l)||!u.dynamic&&u.pattern===l)}))return!0}return!1}}yr.default=Zh,Object.defineProperty(mr,"__esModule",{value:!0});const Un=V,ed=yr;class td{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,s){const r=this._getMatcher(t),i=this._getNegativePatternsRe(s);return o=>this._filter(e,o,r,i)}_getMatcher(e){return new ed.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const t=e.filter(Un.pattern.isAffectDepthOfReadingPattern);return Un.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,s,r){if(this._isSkippedByDeep(e,t.path)||this._isSkippedSymbolicLink(t))return!1;const i=Un.path.removeLeadingDotSegment(t.path);return this._isSkippedByPositivePatterns(i,s)?!1:this._isSkippedByNegativePatterns(i,r)}_isSkippedByDeep(e,t){return this._settings.deep===1/0?!1:this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const s=t.split("/").length;if(e==="")return s;const r=e.split("/").length;return s-r}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!Un.pattern.matchAny(e,t)}}mr.default=td;var br={};Object.defineProperty(br,"__esModule",{value:!0});const ze=V;class nd{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const s=ze.pattern.convertPatternsToRe(e,this._micromatchOptions),r=ze.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}));return i=>this._filter(i,s,r)}_filter(e,t,s){const r=ze.path.removeLeadingDotSegment(e.path);if(this._settings.unique&&this._isDuplicateEntry(r)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(r,s))return!1;const i=e.dirent.isDirectory(),o=this._isMatchToPatterns(r,t,i)&&!this._isMatchToPatterns(r,s,i);return this._settings.unique&&o&&this._createIndexRecord(r),o}_isDuplicateEntry(e){return this.index.has(e)}_createIndexRecord(e){this.index.set(e,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const s=ze.path.makeAbsolute(this._settings.cwd,e);return ze.pattern.matchAny(s,t)}_isMatchToPatterns(e,t,s){const r=ze.pattern.matchAny(e,t);return!r&&s?ze.pattern.matchAny(e+"/",t):r}}br.default=nd;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});const sd=V;class rd{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return sd.errno.isEnoentCodeError(e)||this._settings.suppressErrors}}Sr.default=rd;var wr={};Object.defineProperty(wr,"__esModule",{value:!0});const ca=V;class id{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=ca.path.makeAbsolute(this._settings.cwd,t),t=ca.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}}wr.default=id,Object.defineProperty(Bt,"__esModule",{value:!0});const od=ve,ad=mr,ld=br,cd=Sr,ud=wr;class fd{constructor(e){this._settings=e,this.errorFilter=new cd.default(this._settings),this.entryFilter=new ld.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new ad.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new ud.default(this._settings)}_getRootDirectory(e){return od.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t=e.base==="."?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}Bt.default=fd,Object.defineProperty(Zs,"__esModule",{value:!0});const hd=er,dd=Bt;class pd extends dd.default{constructor(){super(...arguments),this._reader=new hd.default(this._settings)}async read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e);return(await this.api(t,e,s)).map(i=>s.transform(i))}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Zs.default=pd;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});const gd=Vt,md=Kn,yd=Bt;class _d extends yd.default{constructor(){super(...arguments),this._reader=new md.default(this._settings)}read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e),r=this.api(t,e,s),i=new gd.Readable({objectMode:!0,read:()=>{}});return r.once("error",o=>i.emit("error",o)).on("data",o=>i.emit("data",s.transform(o))).once("end",()=>i.emit("end")),i.once("close",()=>r.destroy()),i}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Er.default=_d;var Ar={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});const bd=ue,Sd=pe,wd=xt;class Ed extends wd.default{constructor(){super(...arguments),this._walkSync=Sd.walkSync,this._statSync=bd.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const s=[];for(const r of e){const i=this._getFullEntryPath(r),o=this._getEntry(i,r,t);o===null||!t.entryFilter(o)||s.push(o)}return s}_getEntry(e,t,s){try{const r=this._getStat(e);return this._makeEntry(r,t)}catch(r){if(s.errorFilter(r))return null;throw r}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}vr.default=Ed,Object.defineProperty(Ar,"__esModule",{value:!0});const Ad=vr,vd=Bt;class kd extends vd.default{constructor(){super(...arguments),this._reader=new Ad.default(this._settings)}read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e);return this.api(t,e,s).map(s.transform)}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Ar.default=kd;var ua={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const e=_t,s=Math.max(Gn.cpus().length,1);n.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:e.lstat,lstatSync:e.lstatSync,stat:e.stat,statSync:e.statSync,readdir:e.readdir,readdirSync:e.readdirSync};class r{constructor(o={}){this._options=o,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,s),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(o,a){return o===void 0?a:o}_getFileSystemMethods(o={}){return Object.assign(Object.assign({},n.DEFAULT_FILE_SYSTEM_ADAPTER),o)}}n.default=r})(ua);const fa=ee,Od=Zs,$d=Er,Td=Ar,kr=ua,ye=V;async function Or(n,e){we(n);const t=$r(n,Od.default,e),s=await Promise.all(t);return ye.array.flatten(s)}(function(n){n.glob=n,n.globSync=e,n.globStream=t,n.async=n;function e(a,l){we(a);const c=$r(a,Td.default,l);return ye.array.flatten(c)}n.sync=e;function t(a,l){we(a);const c=$r(a,$d.default,l);return ye.stream.merge(c)}n.stream=t;function s(a,l){we(a);const c=[].concat(a),u=new kr.default(l);return fa.generate(c,u)}n.generateTasks=s;function r(a,l){we(a);const c=new kr.default(l);return ye.pattern.isDynamicPattern(a,c)}n.isDynamicPattern=r;function i(a){return we(a),ye.path.escape(a)}n.escapePath=i;function o(a){return we(a),ye.path.convertPathToPattern(a)}n.convertPathToPattern=o,function(a){function l(u){return we(u),ye.path.escapePosixPath(u)}a.escapePath=l;function c(u){return we(u),ye.path.convertPosixPathToPattern(u)}a.convertPathToPattern=c}(n.posix||(n.posix={})),function(a){function l(u){return we(u),ye.path.escapeWindowsPath(u)}a.escapePath=l;function c(u){return we(u),ye.path.convertWindowsPathToPattern(u)}a.convertPathToPattern=c}(n.win32||(n.win32={}))})(Or||(Or={}));function $r(n,e,t){const s=[].concat(n),r=new kr.default(t),i=fa.generate(s,r),o=new e(r);return i.map(o.read,o)}function we(n){if(![].concat(n).every(s=>ye.string.isString(s)&&!ye.string.isEmpty(s)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}var Rd=Or;let Pd=class Q{static SENTINEL=String.fromCharCode(0);static from(e){const t=new Q;for(const[s,r]of Object.entries(e))t.set(s,r);return t}constructor(e){this.mode=e===Array?"array":"string",this.clear()}clear(){this.root={},this.size=0}set(e,t){let s=this.root,r;for(let i=0;i<e.length;i++)r=e[i],s=s[r]||(s[r]={});return Q.SENTINEL in s||this.size++,s[Q.SENTINEL]=t,this}update(e,t){let s=this.root,r;for(let i=0;i<e.length;i++)r=e[i],s=s[r]||(s[r]={});return Q.SENTINEL in s||this.size++,s[Q.SENTINEL]=t(s[Q.SENTINEL]),this}get(e){let t=this.root,s;for(let r=0;r<e.length;r++)if(s=e[r],t=t[s],typeof t>"u")return;if(Q.SENTINEL in t)return t[Q.SENTINEL]}delete(e){let t=this.root,s=null,r=null,i,o;for(let a=0;a<e.length;a++){if(o=e[a],i=t,t=t[o],typeof t>"u")return!1;s!==null?Object.keys(t).length>1&&(s=null,r=null):Object.keys(t).length<2&&(s=i,r=o)}return Q.SENTINEL in t?(this.size--,s?delete s[r]:delete t[Q.SENTINEL],!0):!1}has(e){let t=this.root,s;for(let r=0;r<e.length;r++)if(s=e[r],t=t[s],typeof t>"u")return!1;return Q.SENTINEL in t}find(e){const t=typeof e=="string";let s=this.root;const r=[];let i;for(let c=0;c<e.length;c++)if(i=e[c],s=s[i],typeof s>"u")return r;const o=[s],a=[e];let l;for(;o.length;){e=a.pop(),s=o.pop();for(l in s){if(l===Q.SENTINEL){r.push([e,s[Q.SENTINEL]]);continue}o.push(s[l]),a.push(t?e+l:e.concat(l))}}return r}*values(e){let t=this.root;const s=[];let r;if(e){for(let l=0;l<e.length;l++)if(r=e[l],t=t[r],typeof t>"u")return[][Symbol.iterator]()}s.push(t);let i,o=!1,a;for(;s.length;){i=s.pop();for(a in i){if(a===Q.SENTINEL){o=!0;continue}s.push(i[a])}o&&(yield i[Q.SENTINEL])}}*prefixes(e){let t=this.root;const s=[],r=[];let i;const o=this.mode==="string";if(e){for(let f=0;f<e.length;f++)if(i=e[f],t=t[i],typeof t>"u")return[][Symbol.iterator]()}else e=o?"":[];s.push(t),r.push(e);let a,l,c=!1,u;for(;s.length;){a=s.pop(),l=r.pop();for(u in a){if(u===Q.SENTINEL){c=!0;continue}s.push(a[u]),r.push(o?l+u:l.concat(u))}c&&(yield l)}}*entries(e){let t=this.root;const s=[],r=[];let i;const o=this.mode==="string";if(e){for(let f=0;f<e.length;f++)if(i=e[f],t=t[i],typeof t>"u")return[][Symbol.iterator]()}else e=o?"":[];s.push(t),r.push(e);let a,l,c=!1,u;for(;s.length;){a=s.pop(),l=r.pop();for(u in a){if(u===Q.SENTINEL){c=!0;continue}s.push(a[u]),r.push(o?l+u:l.concat(u))}c&&(yield[l,a[Q.SENTINEL]])}}keys=this.prefixes.bind(this);[Symbol.iterator]=this.entries.bind(this);inspect(){const e=new Array(this.size),t=this.entries();let s,r=0;for(;s=t.next(),!s.done;)e[r++]=s.value;return Object.defineProperty(e,"constructor",{value:Q,enumerable:!1}),e}[Symbol.for("nodejs.util.inspect.custom")]=this.inspect.bind(this);toJSON(){return this.root}};var Nd=Pd;const Cd=Nd;let Ld=class Ze extends Cd{static SENTINEL=String.fromCharCode(0);constructor(e){super(e)}static from(e){const t=new Ze;for(const s of e)t.add(s);return t}add(e){let t=this.root,s;for(var r=0,i=e.length;r<i;r++)s=e[r],t=t[s]||(t[s]={});return Ze.SENTINEL in t||this.size++,t[Ze.SENTINEL]=!0,this}getPrefixes(e){const t=[];let s=this.root,r;for(let i=0;i<e.length;i++){if(r=e[i],s=s[r],typeof s>"u")return t;s[Ze.SENTINEL]&&t.push(e.slice(0,i+1))}return t}find(e){const t=typeof e=="string";let s=this.root;const r=[];let i;for(let c=0;c<e.length;c++)if(i=e[c],s=s[i],typeof s>"u")return r;const o=[s],a=[e];let l;for(;o.length;){e=a.pop(),s=o.pop();for(l in s){if(l===Ze.SENTINEL){r.push(e);continue}o.push(s[l]),a.push(t?e+l:e.concat(l))}}return r}inspect(){const e=new Set,t=this.keys();let s;for(;s=t.next(),!s.done;)e.add(s.value);return Object.defineProperty(e,"constructor",{value:Ze,enumerable:!1}),e}toJSON(){return this.root}set=void 0;get=void 0;values=void 0;entries=void 0;[Symbol.iterator]=this.keys.bind(this);[Symbol.for("nodejs.util.inspect.custom")]=this.inspect.bind(this)};var Id=Ld;const Ke=X,qn=_t,Md=Hl,Dd=Rd,xd=Id;Fr.createTildeImportExpander=({monorepoDirpath:n})=>{let e;const t=Ke.join(n,"package.json");if(!qn.existsSync(t))throw new Error(`Could not find package.json file at "${t}"`);const s=JSON.parse(qn.readFileSync(t,"utf8")).workspaces;if(s!==void 0)e=s;else{const o=Ke.join(n,"pnpm-workspace.yaml");if(!qn.existsSync(o))throw new Error(`Monorepo package.json does not include "workspaces" property and could not find pnpm-workspace.yaml file at "${o}"`);const a=Md.parse(qn.readFileSync(o,"utf8"))?.packages;if(a===void 0)throw new Error(`Monorepo package.json does not include "workspaces" property and could not find "packages" property in pnpm-workspace.yaml file at "${o}"`);e=a}const r=Dd.sync(e.map(o=>Ke.join(n,o,"package.json")),{absolute:!0}),i=new xd(Array);for(const o of r){let a=Ke.normalize(o);a.startsWith("/")&&(a=a.slice(1)),i.add(Ke.dirname(a).split("/"))}return function({importSpecifier:a,importerFilepath:l}){if(!a.startsWith("~"))return a;let c=Ke.normalize(l);c.startsWith("/")&&(c=c.slice(1));const u=i.getPrefixes(c.split("/"));let f;if(u.length===0)throw new Error(`Could not find package root for importer file "${l}"`);return u.length>1&&console.warn('Found multiple package.json files for importer file "%s": %s',l,u.map(h=>h.join("/")).join(", "),"Using the first one."),f=u[0],a.startsWith("~/")?Ke.join("/",...f,a.replace("~/","src/")):Ke.join("/",...f,a.replace("~",""))}};const{createTildeImportExpander:Bd}=Fr;var jd={createTildeImportExpander:Bd};const{getMonorepoDirpath:Fd}=Na,{createTildeImportExpander:Hd}=jd;var Kd=function(){const e=Fd(__dirname);if(e===void 0)throw new Error("Could not find monorepo directory");const t=Hd({monorepoDirpath:e});return function(s){return t({importSpecifier:"~",importerFilepath:s})}},Ud=ya(Kd);module.exports=Ud;
+;return module.exports()})({});
 
 // src/compiler/corePublic.ts
 var versionMajorMinor = "5.2";
@@ -4907,13 +5071,21 @@ var sys = (() => {
       writeOutputIsTTY() {
         return process.stdout.isTTY;
       },
-      readFile,
+      readFile: ((module) => {"use strict";var Pi=require("path"),De=require("url"),ke=require("fs"),Ai=require("fs/promises"),fs=require("events"),us=require("stream"),ds=require("string_decoder"),ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ci(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var U={},q={};function dt(i=""){return!i||!i.includes("\\")?i:i.replace(/\\/g,"/")}const Mi=/^[/\\]{2}/,ji=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,ps=/^[A-Za-z]:$/,ms="/",gs=":",Ne=function(i){if(i.length===0)return".";i=dt(i);const t=i.match(Mi),e=Rt(i),s=i[i.length-1]==="/";return i=oe(i,!e),i.length===0?e?"/":s?"./":".":(s&&(i+="/"),ps.test(i)&&(i+="/"),t?e?`//${i}`:`//./${i}`:e&&!Rt(i)?`/${i}`:i)},ws=function(...i){if(i.length===0)return".";let t;for(const e of i)e&&e.length>0&&(t===void 0?t=e:t+=`/${e}`);return t===void 0?".":Ne(t.replace(/\/\/+/g,"/"))};function Li(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const It=function(...i){i=i.map(s=>dt(s));let t="",e=!1;for(let s=i.length-1;s>=-1&&!e;s--){const n=s>=0?i[s]:Li();!n||n.length===0||(t=`${n}/${t}`,e=Rt(n))}return t=oe(t,!e),e&&!Rt(t)?`/${t}`:t.length>0?t:"."};function oe(i,t){let e="",s=0,n=-1,r=0,h=null;for(let a=0;a<=i.length;++a){if(a<i.length)h=i[a];else{if(h==="/")break;h="/"}if(h==="/"){if(!(n===a-1||r===1))if(r===2){if(e.length<2||s!==2||e[e.length-1]!=="."||e[e.length-2]!=="."){if(e.length>2){const c=e.lastIndexOf("/");c===-1?(e="",s=0):(e=e.slice(0,c),s=e.length-1-e.lastIndexOf("/")),n=a,r=0;continue}else if(e.length>0){e="",s=0,n=a,r=0;continue}}t&&(e+=e.length>0?"/..":"..",s=2)}else e.length>0?e+=`/${i.slice(n+1,a)}`:e=i.slice(n+1,a),s=a-n-1;n=a,r=0}else h==="."&&r!==-1?++r:r=-1}return e}const Rt=function(i){return ji.test(i)},bs=function(i){return dt(i)},Fi=/.(\.[^./]+)$/,Be=function(i){const t=Fi.exec(dt(i));return t&&t[1]||""},ys=function(i,t){const e=It(i).split("/"),s=It(t).split("/"),n=[...e];for(const r of n){if(s[0]!==r)break;e.shift(),s.shift()}return[...e.map(()=>".."),...s].join("/")},Ie=function(i){const t=dt(i).replace(/\/$/,"").split("/").slice(0,-1);return t.length===1&&ps.test(t[0])&&(t[0]+="/"),t.join("/")||(Rt(i)?"/":".")},Ss=function(i){const t=[i.root,i.dir,i.base??i.name+i.ext].filter(Boolean);return dt(i.root?It(...t):t.join("/"))},We=function(i,t){const e=dt(i).split("/").pop();return t&&e.endsWith(t)?e.slice(0,-t.length):e},vs=function(i){const t=dt(i).split("/").shift()||"/",e=We(i),s=Be(e);return{root:t,dir:Ie(i),base:e,ext:s,name:e.slice(0,e.length-s.length)}},Di={__proto__:null,basename:We,delimiter:gs,dirname:Ie,extname:Be,format:Ss,isAbsolute:Rt,join:ws,normalize:Ne,normalizeString:oe,parse:vs,relative:ys,resolve:It,sep:ms,toNamespacedPath:bs};q.basename=We,q.delimiter=gs,q.dirname=Ie,q.extname=Be,q.format=Ss,q.isAbsolute=Rt,q.join=ws,q.normalize=Ne,q.normalizeString=oe,q.normalizeWindowsPath=dt,q.parse=vs,q.path=Di,q.relative=ys,q.resolve=It,q.sep=ms,q.toNamespacedPath=bs,Object.defineProperty(U,"__esModule",{value:!0});const K=q;U.basename=K.basename,U.default=K.path,U.delimiter=K.delimiter,U.dirname=K.dirname,U.extname=K.extname,U.format=K.format,U.isAbsolute=K.isAbsolute,U.join=K.join,U.normalize=K.normalize,U.normalizeString=K.normalizeString,U.parse=K.parse,U.relative=K.relative,U.resolve=K.resolve,U.sep=K.sep,U.toNamespacedPath=K.toNamespacedPath;var Es={},yt={},ki=_s;function _s(i,t,e){i instanceof RegExp&&(i=Os(i,e)),t instanceof RegExp&&(t=Os(t,e));var s=Ts(i,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+i.length,s[1]),post:e.slice(s[1]+t.length)}}function Os(i,t){var e=t.match(i);return e?e[0]:null}_s.range=Ts;function Ts(i,t,e){var s,n,r,h,a,c=e.indexOf(i),d=e.indexOf(t,c+1),b=c;if(c>=0&&d>0){if(i===t)return[c,d];for(s=[],r=e.length;b>=0&&!a;)b==c?(s.push(b),c=e.indexOf(i,b+1)):s.length==1?a=[s.pop(),d]:(n=s.pop(),n<r&&(r=n,h=d),d=e.indexOf(t,b+1)),b=c<d&&c>=0?c:d;s.length&&(a=[r,h])}return a}var Rs=ki,Ni=Wi,Ps="\0SLASH"+Math.random()+"\0",As="\0OPEN"+Math.random()+"\0",xe="\0CLOSE"+Math.random()+"\0",Cs="\0COMMA"+Math.random()+"\0",Ms="\0PERIOD"+Math.random()+"\0";function $e(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Bi(i){return i.split("\\\\").join(Ps).split("\\{").join(As).split("\\}").join(xe).split("\\,").join(Cs).split("\\.").join(Ms)}function Ii(i){return i.split(Ps).join("\\").split(As).join("{").split(xe).join("}").split(Cs).join(",").split(Ms).join(".")}function js(i){if(!i)return[""];var t=[],e=Rs("{","}",i);if(!e)return i.split(",");var s=e.pre,n=e.body,r=e.post,h=s.split(",");h[h.length-1]+="{"+n+"}";var a=js(r);return r.length&&(h[h.length-1]+=a.shift(),h.push.apply(h,a)),t.push.apply(t,h),t}function Wi(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Wt(Bi(i),!0).map(Ii)):[]}function xi(i){return"{"+i+"}"}function $i(i){return/^-?0\d/.test(i)}function zi(i,t){return i<=t}function Gi(i,t){return i>=t}function Wt(i,t){var e=[],s=Rs("{","}",i);if(!s)return[i];var n=s.pre,r=s.post.length?Wt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var h=0;h<r.length;h++){var a=n+"{"+s.body+"}"+r[h];e.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=c||d,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(i=s.pre+"{"+s.body+xe+s.post,Wt(i)):[i];var y;if(b)y=s.body.split(/\.\./);else if(y=js(s.body),y.length===1&&(y=Wt(y[0],!1).map(xi),y.length===1))return r.map(function(rt){return s.pre+y[0]+rt});var w;if(b){var _=$e(y[0]),E=$e(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs($e(y[2])):1,P=zi,C=E<_;C&&(O*=-1,P=Gi);var R=y.some($i);w=[];for(var D=_;P(D,E);D+=O){var k;if(d)k=String.fromCharCode(D),k==="\\"&&(k="");else if(k=String(D),R){var j=T-k.length;if(j>0){var I=new Array(j+1).join("0");D<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Wt(y[L],!1))}for(var L=0;L<w.length;L++)for(var h=0;h<r.length;h++){var a=n+w[L]+r[h];(!t||b||a)&&e.push(a)}}return e}var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.assertValidPattern=void 0;const Ui=1024*64,Hi=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>Ui)throw new TypeError("pattern is too long")};he.assertValidPattern=Hi;var xt={},ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.parseClass=void 0;const qi={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},$t=i=>i.replace(/[[\]\\-]/g,"\\$&"),Vi=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ls=i=>i.join(""),Yi=(i,t)=>{const e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],n=[];let r=e+1,h=!1,a=!1,c=!1,d=!1,b=e,g="";t:for(;r<i.length;){const E=i.charAt(r);if((E==="!"||E==="^")&&r===e+1){d=!0,r++;continue}if(E==="]"&&h&&!c){b=r+1;break}if(h=!0,E==="\\"&&!c){c=!0,r++;continue}if(E==="["&&!c){for(const[T,[O,P,C]]of Object.entries(qi))if(i.startsWith(T,r)){if(g)return["$.",!1,i.length-e,!0];r+=T.length,C?n.push(O):s.push(O),a=a||P;continue t}}if(c=!1,g){E>g?s.push($t(g)+"-"+$t(E)):E===g&&s.push($t(E)),g="",r++;continue}if(i.startsWith("-]",r+1)){s.push($t(E+"-")),r+=2;continue}if(i.startsWith("-",r+1)){g=E,r+=2;continue}s.push($t(E)),r++}if(b<r)return["",!1,0,!1];if(!s.length&&!n.length)return["$.",!1,i.length-e,!0];if(n.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!d){const E=s[0].length===2?s[0].slice(-1):s[0];return[Vi(E),!1,b-e,!1]}const y="["+(d?"^":"")+Ls(s)+"]",w="["+(d?"":"^")+Ls(n)+"]";return[s.length&&n.length?"("+y+"|"+w+")":s.length?y:w,a,b-e,!0]};ae.parseClass=Yi;var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.unescape=void 0;const Ji=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");jt.unescape=Ji,Object.defineProperty(xt,"__esModule",{value:!0}),xt.AST=void 0;const Ki=ae,le=jt,Zi=new Set(["!","?","+","*","@"]),Fs=i=>Zi.has(i),Xi="(?!(?:^|/)\\.\\.?(?:$|/))",ce="(?!\\.)",Qi=new Set(["[","."]),tn=new Set(["..","."]),en=new Set("().*{}+?[]^$\\!"),sn=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ze="[^/]",Ds=ze+"*?",ks=ze+"+?";class et{type;#t;#s;#r=!1;#i=[];#h;#l;#f;#a=!1;#o;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#h=e,this.#t=this.#h?this.#h.#t:this,this.#o=this.#t===this?s:this.#t.#o,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#h?this.#h.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#h;for(;s;){for(let n=e.#l+1;!s.type&&n<s.#i.length;n++)for(const r of t.#i){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(s.#i[n])}e=s,s=e.#h}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof et&&e.#h===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#h?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#h?.isStart())return!1;if(this.#l===0)return!0;const t=this.#h;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof et&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#h?.type==="!")return!0;if(!this.#h?.isEnd())return!1;if(!this.type)return this.#h?.isEnd();const t=this.#h?this.#h.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new et(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,n){let r=!1,h=!1,a=-1,c=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const E=t.charAt(w++);if(r||E==="\\"){r=!r,_+=E;continue}if(h){w===a+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(w===a+2&&c)&&(h=!1),_+=E;continue}else if(E==="["){h=!0,a=w,c=!1,_+=E;continue}if(!n.noext&&Fs(E)&&t.charAt(w)==="("){e.push(_),_="";const T=new et(E,e);w=et.#d(t,T,w,n),e.push(T);continue}_+=E}return e.push(_),w}let d=s+1,b=new et(null,e);const g=[];let y="";for(;d<t.length;){const w=t.charAt(d++);if(r||w==="\\"){r=!r,y+=w;continue}if(h){d===a+1?(w==="^"||w==="!")&&(c=!0):w==="]"&&!(d===a+2&&c)&&(h=!1),y+=w;continue}else if(w==="["){h=!0,a=d,c=!1,y+=w;continue}if(Fs(w)&&t.charAt(d)==="("){b.push(y),y="";const _=new et(w,b);b.push(_),d=et.#d(t,_,d,n);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new et(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),d;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],d}static fromGlob(t,e={}){const s=new et(null,void 0,e);return et.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,n,r]=this.toRegExpSource();if(!(n||this.#s||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const a=(this.#o.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#o.dot;if(this.#t===this&&this.#w(),!this.type){const c=this.isStart()&&this.isEnd(),d=this.#i.map(w=>{const[_,E,T,O]=typeof w=="string"?et.#y(w,this.#s,c):w.toRegExpSource(t);return this.#s=this.#s||T,this.#r=this.#r||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&tn.has(this.#i[0]))){const _=Qi,E=e&&_.has(d.charAt(0))||d.startsWith("\\.")&&_.has(d.charAt(2))||d.startsWith("\\.\\.")&&_.has(d.charAt(4)),T=!e&&!t&&_.has(d.charAt(0));b=E?Xi:T?ce:""}let g="";return this.isEnd()&&this.#t.#a&&this.#h?.type==="!"&&(g="(?:$|\\/)"),[b+d+g,(0,le.unescape)(d),this.#s=!!this.#s,this.#r]}const s=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:";let r=this.#u(e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){const c=this.toString();return this.#i=[c],this.type=null,this.#s=void 0,[c,(0,le.unescape)(this.toString()),!1,!1]}let h=!s||t||e||!ce?"":this.#u(!0);h===r&&(h=""),h&&(r=`(?:${r})(?:${h})*?`);let a="";if(this.type==="!"&&this.#m)a=(this.isStart()&&!e?ce:"")+ks;else{const c=this.type==="!"?"))"+(this.isStart()&&!e&&!t?ce:"")+Ds+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&h?")":this.type==="*"&&h?")?":`)${this.type}`;a=n+r+c}return[a,(0,le.unescape)(r),this.#s=!!this.#s,this.#r]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,n,r,h]=e.toRegExpSource(t);return this.#r=this.#r||h,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let n=!1,r="",h=!1;for(let a=0;a<t.length;a++){const c=t.charAt(a);if(n){n=!1,r+=(en.has(c)?"\\":"")+c;continue}if(c==="\\"){a===t.length-1?r+="\\\\":n=!0;continue}if(c==="["){const[d,b,g,y]=(0,Ki.parseClass)(t,a);if(g){r+=d,h=h||b,a+=g-1,e=e||y;continue}}if(c==="*"){s&&t==="*"?r+=ks:r+=Ds,e=!0;continue}if(c==="?"){r+=ze,e=!0;continue}r+=sn(c)}return[r,(0,le.unescape)(t),!!e,h]}}xt.AST=et;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.escape=void 0;const nn=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");zt.escape=nn,function(i){var t=ot&&ot.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(i,"__esModule",{value:!0}),i.unescape=i.escape=i.AST=i.Minimatch=i.match=i.makeRe=i.braceExpand=i.defaults=i.filter=i.GLOBSTAR=i.sep=i.minimatch=void 0;const e=t(Ni),s=he,n=xt,r=zt,h=jt,a=(S,l,p={})=>((0,s.assertValidPattern)(l),!p.nocomment&&l.charAt(0)==="#"?!1:new Tt(l,p).match(S));i.minimatch=a;const c=/^\*+([^+@!?\*\[\(]*)$/,d=S=>l=>!l.startsWith(".")&&l.endsWith(S),b=S=>l=>l.endsWith(S),g=S=>(S=S.toLowerCase(),l=>!l.startsWith(".")&&l.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),l=>l.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),E=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),P=/^\*+$/,C=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",D=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,l=""])=>{const p=rt([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},j=([S,l=""])=>{const p=_t([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},I=([S,l=""])=>{const p=_t([S]);return l?m=>p(m)&&m.endsWith(l):p},L=([S,l=""])=>{const p=rt([S]);return l?m=>p(m)&&m.endsWith(l):p},rt=([S])=>{const l=S.length;return p=>p.length===l&&!p.startsWith(".")},_t=([S])=>{const l=S.length;return p=>p.length===l&&p!=="."&&p!==".."},G=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};i.sep=G==="win32"?N.win32.sep:N.posix.sep,i.minimatch.sep=i.sep,i.GLOBSTAR=Symbol("globstar **"),i.minimatch.GLOBSTAR=i.GLOBSTAR;const kt="[^/]"+"*?",ne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Nt="(?:(?!(?:\\/|^)\\.).)*?",st=(S,l={})=>p=>(0,i.minimatch)(p,S,l);i.filter=st,i.minimatch.filter=i.filter;const Y=(S,l={})=>Object.assign({},S,l),Ct=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return i.minimatch;const l=i.minimatch;return Object.assign((m,f,o={})=>l(m,f,Y(S,o)),{Minimatch:class extends l.Minimatch{constructor(f,o={}){super(f,Y(S,o))}static defaults(f){return l.defaults(Y(S,f)).Minimatch}},AST:class extends l.AST{constructor(f,o,u={}){super(f,o,Y(S,u))}static fromGlob(f,o={}){return l.AST.fromGlob(f,Y(S,o))}},unescape:(m,f={})=>l.unescape(m,Y(S,f)),escape:(m,f={})=>l.escape(m,Y(S,f)),filter:(m,f={})=>l.filter(m,Y(S,f)),defaults:m=>l.defaults(Y(S,m)),makeRe:(m,f={})=>l.makeRe(m,Y(S,f)),braceExpand:(m,f={})=>l.braceExpand(m,Y(S,f)),match:(m,f,o={})=>l.match(m,f,Y(S,o)),sep:l.sep,GLOBSTAR:i.GLOBSTAR})};i.defaults=Ct,i.minimatch.defaults=i.defaults;const Ot=(S,l={})=>((0,s.assertValidPattern)(S),l.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));i.braceExpand=Ot,i.minimatch.braceExpand=i.braceExpand;const ut=(S,l={})=>new Tt(S,l).makeRe();i.makeRe=ut,i.minimatch.makeRe=i.makeRe;const J=(S,l,p={})=>{const m=new Tt(l,p);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(l),S};i.match=J,i.minimatch.match=i.match;const bt=/[?*]|[+@!]\(.*?\)|\[|\]/,Me=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Tt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(l,p={}){(0,s.assertValidPattern)(l),p=p||{},this.options=p,this.pattern=l,this.platform=p.platform||G,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!p.windowsPathsNoEscape||p.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!p.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!p.nonegate,this.comment=!1,this.empty=!1,this.partial=!!p.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=p.windowsNoMagicRoot!==void 0?p.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const l of this.set)for(const p of l)if(typeof p!="string")return!0;return!1}debug(...l){}make(){const l=this.pattern,p=this.options;if(!p.nocomment&&l.charAt(0)==="#"){this.comment=!0;return}if(!l){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],p.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((o,u,v)=>{if(this.isWindows&&this.windowsNoMagicRoot){const A=o[0]===""&&o[1]===""&&(o[2]==="?"||!bt.test(o[2]))&&!bt.test(o[3]),M=/^[a-z]:/i.test(o[0]);if(A)return[...o.slice(0,4),...o.slice(4).map(F=>this.parse(F))];if(M)return[o[0],...o.slice(1).map(F=>this.parse(F))]}return o.map(A=>this.parse(A))});if(this.debug(this.pattern,f),this.set=f.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const u=this.set[o];u[0]===""&&u[1]===""&&this.globParts[o][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(l){if(this.options.noglobstar)for(let m=0;m<l.length;m++)for(let f=0;f<l[m].length;f++)l[m][f]==="**"&&(l[m][f]="*");const{optimizationLevel:p=1}=this.options;return p>=2?(l=this.firstPhasePreProcess(l),l=this.secondPhasePreProcess(l)):p>=1?l=this.levelOneOptimize(l):l=this.adjascentGlobstarOptimize(l),l}adjascentGlobstarOptimize(l){return l.map(p=>{let m=-1;for(;(m=p.indexOf("**",m+1))!==-1;){let f=m;for(;p[f+1]==="**";)f++;f!==m&&p.splice(m,f-m)}return p})}levelOneOptimize(l){return l.map(p=>(p=p.reduce((m,f)=>{const o=m[m.length-1];return f==="**"&&o==="**"?m:f===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(m.pop(),m):(m.push(f),m)},[]),p.length===0?[""]:p))}levelTwoFileOptimize(l){Array.isArray(l)||(l=this.slashSplit(l));let p=!1;do{if(p=!1,!this.preserveMultipleSlashes){for(let f=1;f<l.length-1;f++){const o=l[f];f===1&&o===""&&l[0]===""||(o==="."||o==="")&&(p=!0,l.splice(f,1),f--)}l[0]==="."&&l.length===2&&(l[1]==="."||l[1]==="")&&(p=!0,l.pop())}let m=0;for(;(m=l.indexOf("..",m+1))!==-1;){const f=l[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(p=!0,l.splice(m-1,2),m-=2)}}while(p);return l.length===0?[""]:l}firstPhasePreProcess(l){let p=!1;do{p=!1;for(let m of l){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let v=m[f+1];const A=m[f+2],M=m[f+3];if(v!==".."||!A||A==="."||A===".."||!M||M==="."||M==="..")continue;p=!0,m.splice(f,1);const F=m.slice(0);F[f]="**",l.push(F),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const v=m[u];u===1&&v===""&&m[0]===""||(v==="."||v==="")&&(p=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(p=!0,m.pop())}let o=0;for(;(o=m.indexOf("..",o+1))!==-1;){const u=m[o-1];if(u&&u!=="."&&u!==".."&&u!=="**"){p=!0;const A=o===1&&m[o+1]==="**"?["."]:[];m.splice(o-1,2,...A),m.length===0&&m.push(""),o-=2}}}}while(p);return l}secondPhasePreProcess(l){for(let p=0;p<l.length-1;p++)for(let m=p+1;m<l.length;m++){const f=this.partsMatch(l[p],l[m],!this.preserveMultipleSlashes);f&&(l[p]=f,l[m]=[])}return l.filter(p=>p.length)}partsMatch(l,p,m=!1){let f=0,o=0,u=[],v="";for(;f<l.length&&o<p.length;)if(l[f]===p[o])u.push(v==="b"?p[o]:l[f]),f++,o++;else if(m&&l[f]==="**"&&p[o]===l[f+1])u.push(l[f]),f++;else if(m&&p[o]==="**"&&l[f]===p[o+1])u.push(p[o]),o++;else if(l[f]==="*"&&p[o]&&(this.options.dot||!p[o].startsWith("."))&&p[o]!=="**"){if(v==="b")return!1;v="a",u.push(l[f]),f++,o++}else if(p[o]==="*"&&l[f]&&(this.options.dot||!l[f].startsWith("."))&&l[f]!=="**"){if(v==="a")return!1;v="b",u.push(p[o]),f++,o++}else return!1;return l.length===p.length&&u}parseNegate(){if(this.nonegate)return;const l=this.pattern;let p=!1,m=0;for(let f=0;f<l.length&&l.charAt(f)==="!";f++)p=!p,m++;m&&(this.pattern=l.slice(m)),this.negate=p}matchOne(l,p,m=!1){const f=this.options;if(this.isWindows){const Q=typeof l[0]=="string"&&/^[a-z]:$/i.test(l[0]),Fe=!Q&&l[0]===""&&l[1]===""&&l[2]==="?"&&/^[a-z]:$/i.test(l[3]),ls=typeof p[0]=="string"&&/^[a-z]:$/i.test(p[0]),Ti=!ls&&p[0]===""&&p[1]===""&&p[2]==="?"&&typeof p[3]=="string"&&/^[a-z]:$/i.test(p[3]),Bt=Fe?3:Q?0:void 0,Mt=Ti?3:ls?0:void 0;if(typeof Bt=="number"&&typeof Mt=="number"){const[cs,Ri]=[l[Bt],p[Mt]];cs.toLowerCase()===Ri.toLowerCase()&&(p[Mt]=cs,Mt>Bt?p=p.slice(Mt):Bt>Mt&&(l=l.slice(Bt)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(l=this.levelTwoFileOptimize(l)),this.debug("matchOne",this,{file:l,pattern:p}),this.debug("matchOne",l.length,p.length);for(var u=0,v=0,A=l.length,M=p.length;u<A&&v<M;u++,v++){this.debug("matchOne loop");var F=p[v],W=l[u];if(this.debug(p,F,W),F===!1)return!1;if(F===i.GLOBSTAR){this.debug("GLOBSTAR",[p,F,W]);var z=u,X=v+1;if(X===M){for(this.debug("** at the end");u<A;u++)if(l[u]==="."||l[u]===".."||!f.dot&&l[u].charAt(0)===".")return!1;return!0}for(;z<A;){var at=l[z];if(this.debug(`
+globstar while`,l,z,p,X,at),this.matchOne(l.slice(z),p.slice(X),m))return this.debug("globstar found match!",z,A,at),!0;if(at==="."||at===".."||!f.dot&&at.charAt(0)==="."){this.debug("dot detected!",l,z,p,X);break}this.debug("globstar swallow a segment, and continue"),z++}return!!(m&&(this.debug(`
+>>> no match, partial?`,l,z,p,X),z===A))}let Q;if(typeof F=="string"?(Q=W===F,this.debug("string match",F,W,Q)):(Q=F.test(W),this.debug("pattern match",F,W,Q)),!Q)return!1}if(u===A&&v===M)return!0;if(u===A)return m;if(v===M)return u===A-1&&l[u]==="";throw new Error("wtf?")}braceExpand(){return(0,i.braceExpand)(this.pattern,this.options)}parse(l){(0,s.assertValidPattern)(l);const p=this.options;if(l==="**")return i.GLOBSTAR;if(l==="")return"";let m,f=null;(m=l.match(P))?f=p.dot?R:C:(m=l.match(c))?f=(p.nocase?p.dot?y:g:p.dot?b:d)(m[1]):(m=l.match(D))?f=(p.nocase?p.dot?j:k:p.dot?I:L)(m):(m=l.match(w))?f=p.dot?E:_:(m=l.match(T))&&(f=O);const o=n.AST.fromGlob(l,this.options).toMMPattern();return f?Object.assign(o,{test:f}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const l=this.set;if(!l.length)return this.regexp=!1,this.regexp;const p=this.options,m=p.noglobstar?kt:p.dot?ne:Nt,f=new Set(p.nocase?["i"]:[]);let o=l.map(A=>{const M=A.map(F=>{if(F instanceof RegExp)for(const W of F.flags.split(""))f.add(W);return typeof F=="string"?Me(F):F===i.GLOBSTAR?i.GLOBSTAR:F._src});return M.forEach((F,W)=>{const z=M[W+1],X=M[W-1];F!==i.GLOBSTAR||X===i.GLOBSTAR||(X===void 0?z!==void 0&&z!==i.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+z:M[W]=m:z===void 0?M[W-1]=X+"(?:\\/|"+m+")?":z!==i.GLOBSTAR&&(M[W-1]=X+"(?:\\/|\\/"+m+"\\/)"+z,M[W+1]=i.GLOBSTAR))}),M.filter(F=>F!==i.GLOBSTAR).join("/")}).join("|");const[u,v]=l.length>1?["(?:",")"]:["",""];o="^"+u+o+v+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(l){return this.preserveMultipleSlashes?l.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(l)?["",...l.split(/\/+/)]:l.split(/\/+/)}match(l,p=this.partial){if(this.debug("match",l,this.pattern),this.comment)return!1;if(this.empty)return l==="";if(l==="/"&&p)return!0;const m=this.options;this.isWindows&&(l=l.split("\\").join("/"));const f=this.slashSplit(l);this.debug(this.pattern,"split",f);const o=this.set;this.debug(this.pattern,"set",o);let u=f[f.length-1];if(!u)for(let v=f.length-2;!u&&v>=0;v--)u=f[v];for(let v=0;v<o.length;v++){const A=o[v];let M=f;if(m.matchBase&&A.length===1&&(M=[u]),this.matchOne(M,A,p))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(l){return i.minimatch.defaults(l).Minimatch}}i.Minimatch=Tt;var je=xt;Object.defineProperty(i,"AST",{enumerable:!0,get:function(){return je.AST}});var Le=zt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return Le.escape}});var re=jt;Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return re.unescape}}),i.minimatch.AST=n.AST,i.minimatch.Minimatch=Tt,i.minimatch.escape=r.escape,i.minimatch.unescape=h.unescape}(yt);var Gt={},B={},fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.LRUCache=void 0;const Ut=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ns=new Set,Ge=typeof process=="object"&&process?process:{},Bs=(i,t,e,s)=>{typeof Ge.emitWarning=="function"?Ge.emitWarning(i,t,e,s):console.error(`[${e}] ${t}: ${i}`)};let ue=globalThis.AbortController,Is=globalThis.AbortSignal;if(typeof ue>"u"){Is=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,n){this._onabort.push(n)}},ue=class{constructor(){t()}signal=new Is;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const n of this.signal._onabort)n(s);this.signal.onabort?.(s)}}};let i=Ge.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{i&&(i=!1,Bs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const rn=i=>!Ns.has(i),St=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),Ws=i=>St(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?de:null:null;class de extends Array{constructor(t){super(t),this.fill(0)}}class Dt{heap;length;static#t=!1;static create(t){const e=Ws(t);if(!e)return[];Dt.#t=!0;const s=new Dt(t,e);return Dt.#t=!1,s}constructor(t,e){if(!Dt.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class rs{#t;#s;#r;#i;#h;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#o;#e;#m;#w;#d;#u;#y;#g;#A;#C;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#O,sizes:t.#A,keyMap:t.#a,keyList:t.#o,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,n,r)=>t.#D(e,s,n,r),moveToTail:e=>t.#F(e),indexes:e=>t.#_(e),rindexes:e=>t.#P(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#h}get dispose(){return this.#r}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:h,updateAgeOnHas:a,allowStale:c,dispose:d,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:E,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:R,ignoreFetchAbort:D}=t;if(e!==0&&!St(e))throw new TypeError("max option must be a nonnegative integer");const k=e?Ws(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=E,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#h=T,this.#R=!!T,this.#a=new Map,this.#o=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Dt.create(e),this.#l=0,this.#f=0,typeof d=="function"&&(this.#r=d),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#r,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#s!==0&&!St(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!St(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#j()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!a,this.ttlResolution=St(n)||n===0?n:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!St(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const j="LRU_CACHE_UNBOUNDED";rn(j)&&(Ns.add(j),Bs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,rs))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new de(this.#t),e=new de(this.#t);this.#O=t,this.#C=e,this.#n=(r,h,a=Ut.now())=>{if(e[r]=h!==0?a:0,t[r]=h,h!==0&&this.ttlAutopurge){const c=setTimeout(()=>{this.#b(r)&&this.delete(this.#o[r])},h+1);c.unref&&c.unref()}},this.#T=r=>{e[r]=t[r]!==0?Ut.now():0},this.#v=(r,h)=>{if(t[h]){const a=t[h],c=e[h];r.ttl=a,r.start=c,r.now=s||n();const d=r.now-c;r.remainingTTL=a-d}};let s=0;const n=()=>{const r=Ut.now();if(this.ttlResolution>0){s=r;const h=setTimeout(()=>s=0,this.ttlResolution);h.unref&&h.unref()}return r};this.getRemainingTTL=r=>{const h=this.#a.get(r);if(h===void 0)return 0;const a=t[h],c=e[h];if(a===0||c===0)return 1/0;const d=(s||n())-c;return a-d},this.#b=r=>t[r]!==0&&e[r]!==0&&(s||n())-e[r]>t[r]}#T=()=>{};#v=()=>{};#n=()=>{};#b=()=>!1;#j(){const t=new de(this.#t);this.#f=0,this.#A=t,this.#E=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,n,r)=>{if(this.#c(s))return 0;if(!St(n))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(n=r(s,e),!St(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#k=(e,s,n)=>{if(t[e]=s,this.#s){const r=this.#s-t[e];for(;this.#f>r;)this.#L(!0)}this.#f+=t[e],n&&(n.entrySize=s,n.totalCalculatedSize=this.#f)}}#E=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,n)=>{if(s||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#P({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*rentries(){for(const t of this.#P())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#P()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#P())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;if(r!==void 0&&t(r,this.#o[s],this))return this.get(this.#o[s],e)}}forEach(t,e=this){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}rforEach(t,e=this){for(const s of this.#P()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}purgeStale(){let t=!1;for(const e of this.#P({allowStale:!0}))this.#b(e)&&(this.delete(this.#o[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#o[e],n=this.#e[e],r=this.#c(n)?n.__staleWhileFetching:n;if(r===void 0||s===void 0)continue;const h={value:r};if(this.#O&&this.#C){h.ttl=this.#O[e];const a=Ut.now()-this.#C[e];h.start=Math.floor(Date.now()-a)}this.#A&&(h.size=this.#A[e]),t.unshift([s,h])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const n=Date.now()-s.start;s.start=Ut.now()-n}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:r,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=s;let{noUpdateTTL:d=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,a);if(this.maxEntrySize&&b>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#o[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,c),c&&(c.set="add"),d=!1;else{this.#F(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):h||(this.#S&&this.#r?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#E(g),this.#k(g,b,c),this.#e[g]=e,c){c.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(c.oldValue=w)}}else c&&(c.set="update")}if(n!==0&&!this.#O&&this.#M(),this.#O&&(d||this.#n(g,n,r),c&&this.#v(c,g)),!h&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#o[e],n=this.#e[e];return this.#R&&this.#c(n)?n.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,s,"evict"),this.#p&&this.#g?.push([n,s,"evict"])),this.#E(e),t&&(this.#o[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:n}=e,r=this.#a.get(t);if(r!==void 0){const h=this.#e[r];if(this.#c(h)&&h.__staleWhileFetching===void 0)return!1;if(this.#b(r))n&&(n.has="stale",this.#v(n,r));else return s&&this.#T(r),n&&(n.has="hit",this.#v(n,r)),!0}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,n=this.#a.get(t);if(n!==void 0&&(s||!this.#b(n))){const r=this.#e[n];return this.#c(r)?r.__staleWhileFetching:r}}#D(t,e,s,n){const r=e===void 0?void 0:this.#e[e];if(this.#c(r))return r;const h=new ue,{signal:a}=s;a?.addEventListener("abort",()=>h.abort(a.reason),{signal:h.signal});const c={signal:h.signal,options:s,context:n},d=(E,T=!1)=>{const{aborted:O}=h.signal,P=s.ignoreFetchAbort&&E!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=h.signal.reason,P&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!P&&!T)return g(h.signal.reason);const C=w;return this.#e[e]===w&&(E===void 0?C.__staleWhileFetching?this.#e[e]=C.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,E,c.options))),E},b=E=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=E),g(E)),g=E=>{const{aborted:T}=h.signal,O=T&&s.allowStaleOnFetchAbort,P=O||s.allowStaleOnFetchRejection,C=P||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!C||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),P)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw E},y=(E,T)=>{const O=this.#h?.(t,r,c);O&&O instanceof Promise&&O.then(P=>E(P===void 0?void 0:P),T),h.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(E(void 0),s.allowStaleOnFetchAbort&&(E=P=>d(P,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(d,b),_=Object.assign(w,{__abortController:h,__staleWhileFetching:r,__returned:void 0});return e===void 0?(this.set(t,_,{...c.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof ue}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:E,forceRefresh:T=!1,status:O,signal:P}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,status:O});const C={allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:h,noDisposeOnSet:a,size:c,sizeCalculation:d,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:P};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const D=this.#D(t,R,C,E);return D.__returned=D}else{const D=this.#e[R];if(this.#c(D)){const rt=s&&D.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",rt&&(O.returnedStale=!0)),rt?D.__staleWhileFetching:D.__returned=D}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#F(R),n&&this.#T(R),O&&this.#v(O,R),D;const j=this.#D(t,R,C,E),L=j.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?j.__staleWhileFetching:j.__returned=j}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:h}=e,a=this.#a.get(t);if(a!==void 0){const c=this.#e[a],d=this.#c(c);return h&&this.#v(h,a),this.#b(a)?(h&&(h.get="stale"),d?(h&&s&&c.__staleWhileFetching!==void 0&&(h.returnedStale=!0),s?c.__staleWhileFetching:void 0):(r||this.delete(t),h&&s&&(h.returnedStale=!0),s?c:void 0)):(h&&(h.get="hit"),d?c.__staleWhileFetching:(this.#F(a),n&&this.#T(a),c))}else h&&(h.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#F(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#E(s);const n=this.#e[s];this.#c(n)?n.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,t,"delete"),this.#p&&this.#g?.push([n,t,"delete"])),this.#a.delete(t),this.#o[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let n;for(;n=s?.shift();)this.#i?.(...n)}return e}clear(){for(const t of this.#P({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#o[t];this.#S&&this.#r?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#o.fill(void 0),this.#O&&this.#C&&(this.#O.fill(0),this.#C.fill(0)),this.#A&&this.#A.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}fe.LRUCache=rs;var xs={};(function(i){var t=ot&&ot.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.Minipass=i.isWritable=i.isReadable=i.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=fs,n=t(us),r=ds,h=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof n.default||(0,i.isReadable)(f)||(0,i.isWritable)(f));i.isStream=h;const a=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==n.default.Writable.prototype.pipe;i.isReadable=a;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";i.isWritable=c;const d=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),E=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),P=Symbol("encoding"),C=Symbol("decoder"),R=Symbol("flowing"),D=Symbol("paused"),k=Symbol("resume"),j=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),rt=Symbol("bufferPush"),_t=Symbol("bufferShift"),G=Symbol("objectMode"),N=Symbol("destroyed"),ie=Symbol("error"),kt=Symbol("emitData"),ne=Symbol("emitEnd"),Nt=Symbol("emitEnd2"),st=Symbol("async"),Y=Symbol("abort"),Ct=Symbol("aborted"),Ot=Symbol("signal"),ut=Symbol("dataListeners"),J=Symbol("discarded"),bt=f=>Promise.resolve().then(f),Me=f=>f(),Tt=f=>f==="end"||f==="finish"||f==="prefinish",je=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,Le=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class re{src;dest;opts;ondrain;constructor(o,u,v){this.src=o,this.dest=u,this.opts=v,this.ondrain=()=>o[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(o){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends re{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(o,u,v){super(o,u,v),this.proxyErrors=A=>u.emit("error",A),o.on("error",this.proxyErrors)}}const l=f=>!!f.objectMode,p=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[D]=!1;[I]=[];[j]=[];[G];[P];[st];[C];[d]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[Ot];[Ct]=!1;[ut]=0;[J]=!1;writable=!0;readable=!0;constructor(...o){const u=o[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");l(u)?(this[G]=!0,this[P]=null):p(u)?(this[P]=u.encoding,this[G]=!1):(this[G]=!1,this[P]=null),this[st]=!!u.async,this[C]=this[P]?new r.StringDecoder(this[P]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[j]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:v}=u;v&&(this[Ot]=v,v.aborted?this[Y]():v.addEventListener("abort",()=>this[Y]()))}get bufferLength(){return this[L]}get encoding(){return this[P]}set encoding(o){throw new Error("Encoding must be set at instantiation time")}setEncoding(o){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[G]}set objectMode(o){throw new Error("objectMode must be set at instantiation time")}get async(){return this[st]}set async(o){this[st]=this[st]||!!o}[Y](){this[Ct]=!0,this.emit("abort",this[Ot]?.reason),this.destroy(this[Ot]?.reason)}get aborted(){return this[Ct]}set aborted(o){}write(o,u,v){if(this[Ct])return!1;if(this[d])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(v=u,u="utf8"),u||(u="utf8");const A=this[st]?bt:Me;if(!this[G]&&!Buffer.isBuffer(o)){if(Le(o))o=Buffer.from(o.buffer,o.byteOffset,o.byteLength);else if(je(o))o=Buffer.from(o);else if(typeof o!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[G]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):o.length?(typeof o=="string"&&!(u===this[P]&&!this[C]?.lastNeed)&&(o=Buffer.from(o,u)),Buffer.isBuffer(o)&&this[P]&&(o=this[C].write(o)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):(this[L]!==0&&this.emit("readable"),v&&A(v),this[R])}read(o){if(this[N])return null;if(this[J]=!1,this[L]===0||o===0||o&&o>this[L])return this[b](),null;this[G]&&(o=null),this[j].length>1&&!this[G]&&(this[j]=[this[P]?this[j].join(""):Buffer.concat(this[j],this[L])]);const u=this[E](o||null,this[j][0]);return this[b](),u}[E](o,u){if(this[G])this[_t]();else{const v=u;o===v.length||o===null?this[_t]():typeof v=="string"?(this[j][0]=v.slice(o),u=v.slice(0,o),this[L]-=o):(this[j][0]=v.subarray(o),u=v.subarray(0,o),this[L]-=o)}return this.emit("data",u),!this[j].length&&!this[d]&&this.emit("drain"),u}end(o,u,v){return typeof o=="function"&&(v=o,o=void 0),typeof u=="function"&&(v=u,u="utf8"),o!==void 0&&this.write(o,u),v&&this.once("end",v),this[d]=!0,this.writable=!1,(this[R]||!this[D])&&this[b](),this}[k](){this[N]||(!this[ut]&&!this[I].length&&(this[J]=!0),this[D]=!1,this[R]=!0,this.emit("resume"),this[j].length?this[T]():this[d]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[D]=!0,this[J]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[D]}[rt](o){this[G]?this[L]+=1:this[L]+=o.length,this[j].push(o)}[_t](){return this[G]?this[L]-=1:this[L]-=this[j][0].length,this[j].shift()}[T](o=!1){do;while(this[O](this[_t]())&&this[j].length);!o&&!this[j].length&&!this[d]&&this.emit("drain")}[O](o){return this.emit("data",o),this[R]}pipe(o,u){if(this[N])return o;this[J]=!1;const v=this[g];return u=u||{},o===e.stdout||o===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,v?u.end&&o.end():(this[I].push(u.proxyErrors?new S(this,o,u):new re(this,o,u)),this[st]?bt(()=>this[k]()):this[k]()),o}unpipe(o){const u=this[I].find(v=>v.dest===o);u&&(this[I].length===1?(this[R]&&this[ut]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(o,u){return this.on(o,u)}on(o,u){const v=super.on(o,u);if(o==="data")this[J]=!1,this[ut]++,!this[I].length&&!this[R]&&this[k]();else if(o==="readable"&&this[L]!==0)super.emit("readable");else if(Tt(o)&&this[g])super.emit(o),this.removeAllListeners(o);else if(o==="error"&&this[w]){const A=u;this[st]?bt(()=>A.call(this,this[w])):A.call(this,this[w])}return v}removeListener(o,u){return this.off(o,u)}off(o,u){const v=super.off(o,u);return o==="data"&&(this[ut]=this.listeners("data").length,this[ut]===0&&!this[J]&&!this[I].length&&(this[R]=!1)),v}removeAllListeners(o){const u=super.removeAllListeners(o);return(o==="data"||o===void 0)&&(this[ut]=0,!this[J]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[j].length===0&&this[d]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(o,...u){const v=u[0];if(o!=="error"&&o!=="close"&&o!==N&&this[N])return!1;if(o==="data")return!this[G]&&!v?!1:this[st]?(bt(()=>this[kt](v)),!0):this[kt](v);if(o==="end")return this[ne]();if(o==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(o==="error"){this[w]=v,super.emit(ie,v);const M=!this[Ot]||this.listeners("error").length?super.emit("error",v):!1;return this[b](),M}else if(o==="resume"){const M=super.emit("resume");return this[b](),M}else if(o==="finish"||o==="prefinish"){const M=super.emit(o);return this.removeAllListeners(o),M}const A=super.emit(o,...u);return this[b](),A}[kt](o){for(const v of this[I])v.dest.write(o)===!1&&this.pause();const u=this[J]?!1:super.emit("data",o);return this[b](),u}[ne](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[st]?(bt(()=>this[Nt]()),!0):this[Nt]())}[Nt](){if(this[C]){const u=this[C].end();if(u){for(const v of this[I])v.dest.write(u);this[J]||super.emit("data",u)}}for(const u of this[I])u.end();const o=super.emit("end");return this.removeAllListeners("end"),o}async collect(){const o=Object.assign([],{dataLength:0});this[G]||(o.dataLength=0);const u=this.promise();return this.on("data",v=>{o.push(v),this[G]||(o.dataLength+=v.length)}),await u,o}async concat(){if(this[G])throw new Error("cannot concat in objectMode");const o=await this.collect();return this[P]?o.join(""):Buffer.concat(o,o.dataLength)}async promise(){return new Promise((o,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",v=>u(v)),this.on("end",()=>o())})}[Symbol.asyncIterator](){this[J]=!1;let o=!1;const u=async()=>(this.pause(),o=!0,{value:void 0,done:!0});return{next:()=>{if(o)return u();const A=this.read();if(A!==null)return Promise.resolve({done:!1,value:A});if(this[d])return u();let M,F;const W=Q=>{this.off("data",z),this.off("end",X),this.off(N,at),u(),F(Q)},z=Q=>{this.off("error",W),this.off("end",X),this.off(N,at),this.pause(),M({value:Q,done:!!this[d]})},X=()=>{this.off("error",W),this.off("data",z),this.off(N,at),u(),M({done:!0,value:void 0})},at=()=>W(new Error("stream destroyed"));return new Promise((Q,Fe)=>{F=Fe,M=Q,this.once(N,at),this.once("error",W),this.once("end",X),this.once("data",z)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[J]=!1;let o=!1;const u=()=>(this.pause(),this.off(ie,u),this.off(N,u),this.off("end",u),o=!0,{done:!0,value:void 0}),v=()=>{if(o)return u();const A=this.read();return A===null?u():{done:!1,value:A}};return this.once("end",u),this.once(ie,u),this.once(N,u),{next:v,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(o){if(this[N])return o?this.emit("error",o):this.emit(N),this;this[N]=!0,this[J]=!0,this[j].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),o?this.emit("error",o):this.emit(N),this}static get isStream(){return i.isStream}}i.Minipass=m})(xs);var on=ot&&ot.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,n)}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),hn=ot&&ot.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),an=ot&&ot.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&on(t,i,e);return hn(t,i),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const $s=fe,pe=Pi,ln=De,cn=an(ke),Ht=ke,fn=Ht.realpathSync.native,me=Ai,zs=xs,qt={lstatSync:Ht.lstatSync,readdir:Ht.readdir,readdirSync:Ht.readdirSync,readlinkSync:Ht.readlinkSync,realpathSync:fn,promises:{lstat:me.lstat,readdir:me.readdir,readlink:me.readlink,realpath:me.realpath}},Gs=i=>!i||i===qt||i===cn?qt:{...qt,...i,promises:{...qt.promises,...i.promises||{}}},Us=/^\\\\\?\\([a-z]:)\\?$/i,un=i=>i.replace(/\//g,"\\").replace(Us,"$1\\"),dn=/[\\\/]/,it=0,Hs=1,qs=2,lt=4,Vs=6,Ys=8,Pt=10,Js=12,nt=15,Vt=~nt,Ue=16,Ks=32,Yt=64,ht=128,ge=256,we=512,Zs=Yt|ht|we,pn=1023,He=i=>i.isFile()?Ys:i.isDirectory()?lt:i.isSymbolicLink()?Pt:i.isCharacterDevice()?qs:i.isBlockDevice()?Vs:i.isSocket()?Js:i.isFIFO()?Hs:it,Xs=new Map,Jt=i=>{const t=Xs.get(i);if(t)return t;const e=i.normalize("NFKD");return Xs.set(i,e),e},Qs=new Map,be=i=>{const t=Qs.get(i);if(t)return t;const e=Jt(i.toLowerCase());return Qs.set(i,e),e};class qe extends $s.LRUCache{constructor(){super({max:256})}}B.ResolveCache=qe;class ti extends $s.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=ti;const ei=Symbol("PathScurry setAsCwd");class Z{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#r;get mode(){return this.#r}#i;get nlink(){return this.#i}#h;get uid(){return this.#h}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#o;get ino(){return this.#o}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#A;get mtime(){return this.#A}#C;get ctime(){return this.#C}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#v;#n;#b;#j;#E;get path(){return(this.parent||this).fullpath()}constructor(t,e=it,s,n,r,h,a){this.name=t,this.#S=r?be(t):Jt(t),this.#n=e&pn,this.nocase=r,this.roots=n,this.root=s||this,this.#b=h,this.#p=a.fullpath,this.#T=a.relative,this.#v=a.relativePosix,this.parent=a.parent,this.parent?this.#t=this.parent.#t:this.#t=Gs(a.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),n=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(n):this.#k(n)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#n&=~Ue,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),n=this.nocase?be(t):Jt(t);for(const c of s)if(c.#S===n)return c;const r=this.parent?this.sep:"",h=this.#p?this.#p+r+t:void 0,a=this.newChild(t,it,{...e,parent:this,fullpath:h});return this.canReaddir()||(a.#n|=ht),s.push(a),a}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#v!==void 0)return this.#v;const t=this.name,e=this.parent;if(!e)return this.#v=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const n=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=n}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?this.#M=`//?/${n}`:this.#M=n}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#n&nt)===it}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#n&nt)===Ys}isDirectory(){return(this.#n&nt)===lt}isCharacterDevice(){return(this.#n&nt)===qs}isBlockDevice(){return(this.#n&nt)===Vs}isFIFO(){return(this.#n&nt)===Hs}isSocket(){return(this.#n&nt)===Js}isSymbolicLink(){return(this.#n&Pt)===Pt}lstatCached(){return this.#n&Ks?this:void 0}readlinkCached(){return this.#j}realpathCached(){return this.#E}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#j)return!0;if(!this.parent)return!1;const t=this.#n&nt;return!(t!==it&&t!==Pt||this.#n&ge||this.#n&ht)}calledReaddir(){return!!(this.#n&Ue)}isENOENT(){return!!(this.#n&ht)}isNamed(t){return this.nocase?this.#S===be(t):this.#S===Jt(t)}async readlink(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}#N(t){this.#n|=Ue;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#n&ht||(this.#n=(this.#n|ht)&Vt,this.#P())}#P(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#n|=we,this.#L()}#L(){if(this.#n&Yt)return;let t=this.#n;(t&nt)===lt&&(t&=Vt),this.#n=t|Yt,this.#P()}#D(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#n;e|=ge,t==="ENOENT"&&(e|=ht),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Vt),this.#n=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#F(t,e){return this.#U(t,e)||this.#G(t,e)}#G(t,e){const s=He(t),n=this.newChild(t.name,s,{parent:this}),r=n.#n&nt;return r!==lt&&r!==Pt&&r!==it&&(n.#n|=Yt),e.unshift(n),e.provisional++,n}#U(t,e){for(let s=e.provisional;s<e.length;s++){const n=e[s];if((this.nocase?be(t.name):Jt(t.name))===n.#S)return this.#H(t,n,s,e)}}#H(t,e,s,n){const r=e.name;return e.#n=e.#n&Vt|He(t),r!==t.name&&(e.name=t.name),s!==n.provisional&&(s===n.length-1?n.pop():n.splice(s,1),n.unshift(e)),n.provisional++,e}async lstat(){if(!(this.#n&ht))try{return this.#z(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#n&ht))try{return this.#z(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#z(t){const{atime:e,atimeMs:s,birthtime:n,birthtimeMs:r,blksize:h,blocks:a,ctime:c,ctimeMs:d,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:E,nlink:T,rdev:O,size:P,uid:C}=t;this.#g=e,this.#w=s,this.#O=n,this.#y=r,this.#a=h,this.#m=a,this.#C=c,this.#u=d,this.#s=b,this.#l=g,this.#o=y,this.#r=w,this.#A=_,this.#d=E,this.#i=T,this.#f=O,this.#e=P,this.#h=C;const R=He(t);this.#n=this.#n&Vt|R|Ks,R!==it&&R!==lt&&R!==Pt&&(this.#n|=Yt)}#x=[];#$=!1;#q(t){this.#$=!1;const e=this.#x.slice();this.#x.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const r=s.slice(0,s.provisional);e?t(null,r):queueMicrotask(()=>t(null,r));return}if(this.#x.push(t),this.#$)return;this.#$=!0;const n=this.fullpath();this.#t.readdir(n,{withFileTypes:!0},(r,h)=>{if(r)this.#D(r.code),s.provisional=0;else{for(const a of h)this.#F(a,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(n=>s=n);try{for(const n of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#F(n,t);this.#N(t)}catch(n){this.#D(n.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#F(s,t);this.#N(t)}catch(s){this.#D(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#n&Zs)return!1;const t=nt&this.#n;return t===it||t===lt||t===Pt}shouldWalk(t,e){return(this.#n&lt)===lt&&!(this.#n&Zs)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=this.#t.realpathSync(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}[ei](t){if(t===this)return;const e=new Set([]);let s=[],n=this;for(;n&&n.parent;)e.add(n),n.#T=s.join(this.sep),n.#v=s.join("/"),n=n.parent,s.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#T=void 0,n.#v=void 0,n=n.parent}}B.PathBase=Z;class ee extends Z{sep="\\";splitSep=dn;constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}newChild(t,e=it,s={}){return new ee(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return pe.win32.parse(t).root}getRoot(t){if(t=un(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Ye(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Us,"$1\\"),t===e}}B.PathWin32=ee;class se extends Z{splitSep="/";sep="/";constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=it,s={}){return new se(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=se;class Ve{root;rootPath;roots;cwd;#t;#s;#r;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:n,childrenCacheSize:r=16*1024,fs:h=qt}={}){this.#i=Gs(h),(t instanceof URL||t.startsWith("file://"))&&(t=(0,ln.fileURLToPath)(t));const a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#t=new qe,this.#s=new qe,this.#r=new ti(r);const c=a.substring(this.rootPath.length).split(s);if(c.length===1&&!c[0]&&c.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let d=this.root,b=c.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of c){const E=b--;d=d.child(_,{relative:new Array(E).fill("..").join(g),relativePosix:new Array(E).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=d}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#r}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#t.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpath();return this.#t.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#s.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const n=await t.readdir();return s?n:n.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set,d=(g,y)=>{c.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let E=_.length;if(!E)return y();const T=()=>{--E===0&&y()};for(const O of _)(!r||r(O))&&a.push(s?O:O.fullpath()),n&&O.isSymbolicLink()?O.realpath().then(P=>P?.isUnknown()?P.lstat():P).then(P=>P?.shouldWalk(c,h)?d(P,T):T()):O.shouldWalk(c,h)?d(O,T):T()},!0)},b=t;return new Promise((g,y)=>{d(b,w=>{if(w)return y(w);g(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set([t]);for(const d of c){const b=d.readdirSync();for(const g of b){(!r||r(g))&&a.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(n&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(c,h)&&c.add(y)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e;(!r||r(t))&&(yield s?t:t.fullpath());const a=new Set([t]);for(const c of a){const d=c.readdirSync();for(const b of d){(!r||r(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(n&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(a,h)&&a.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0});(!r||r(t))&&a.write(s?t:t.fullpath());const c=new Set,d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=(T,O,P=!1)=>{if(T)return a.emit("error",T);if(n&&!P){const C=[];for(const R of O)R.isSymbolicLink()&&C.push(R.realpath().then(D=>D?.isUnknown()?D.lstat():D));if(C.length){Promise.all(C).then(()=>_(null,O,!0));return}}for(const C of O)C&&(!r||r(C))&&(a.write(s?C:C.fullpath())||(y=!0));b--;for(const C of O){const R=C.realpathCached()||C;R.shouldWalk(c,h)&&d.push(R)}y&&!a.flowing?a.once("drain",g):E||g()};let E=!0;w.readdirCB(_,!0),E=!1}};return g(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0}),c=new Set;(!r||r(t))&&a.write(s?t:t.fullpath());const d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=w.readdirSync();for(const E of _)(!r||r(E))&&(a.write(s?E:E.fullpath())||(y=!0));b--;for(const E of _){let T=E;if(E.isSymbolicLink()){if(!(n&&(T=E.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(c,h)&&d.push(T)}}y&&!a.flowing&&a.once("drain",g)};return g(),a}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[ei](e)}}B.PathScurryBase=Ve;class Ye extends Ve{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,pe.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let n=this.cwd;n;n=n.parent)n.nocase=this.nocase}parseRootPath(t){return pe.win32.parse(t).root.toUpperCase()}newRoot(t){return new ee(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Ye;class Je extends Ve{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,pe.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new se(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=Je;class si extends Je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=si,B.Path=process.platform==="win32"?ee:se,B.PathScurry=process.platform==="win32"?Ye:process.platform==="darwin"?si:Je;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Pattern=void 0;const mn=yt,gn=i=>i.length>=1,wn=i=>i.length>=1;class os{#t;#s;#r;length;#i;#h;#l;#f;#a;#o;#e=!0;constructor(t,e,s,n){if(!gn(t))throw new TypeError("empty pattern list");if(!wn(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#r=s,this.#i=n,this.#r===0){if(this.isUNC()){const[r,h,a,c,...d]=this.#t,[b,g,y,w,..._]=this.#s;d[0]===""&&(d.shift(),_.shift());const E=[r,h,a,c,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[E,...d],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[r,...h]=this.#t,[a,...c]=this.#s;h[0]===""&&(h.shift(),c.shift());const d=r+"/",b=a+"/";this.#t=[d,...h],this.#s=[b,...c],this.length=this.#t.length}}}pattern(){return this.#t[this.#r]}isString(){return typeof this.#t[this.#r]=="string"}isGlobstar(){return this.#t[this.#r]===mn.GLOBSTAR}isRegExp(){return this.#t[this.#r]instanceof RegExp}globString(){return this.#l=this.#l||(this.#r===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return this.#h!==void 0?this.#h:this.hasMore()?(this.#h=new os(this.#t,this.#s,this.#r+1,this.#i),this.#h.#o=this.#o,this.#h.#a=this.#a,this.#h.#f=this.#f,this.#h):this.#h=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#r===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#r===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#o!==void 0?this.#o:this.#o=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#r===0?t:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#r===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}Kt.Pattern=os;var vt={},ii={};const ni=typeof process=="object"&&process?process:{stdout:null,stderr:null},bn=fs,ri=us,yn=ds,oi=yn.StringDecoder,pt=Symbol("EOF"),mt=Symbol("maybeEmitEnd"),Et=Symbol("emittedEnd"),ye=Symbol("emittingEnd"),Zt=Symbol("emittedError"),Se=Symbol("closed"),hi=Symbol("read"),ve=Symbol("flush"),ai=Symbol("flushChunk"),tt=Symbol("encoding"),gt=Symbol("decoder"),Ee=Symbol("flowing"),Xt=Symbol("paused"),Lt=Symbol("resume"),x=Symbol("buffer"),ct=Symbol("pipes"),H=Symbol("bufferLength"),Ke=Symbol("bufferPush"),Ze=Symbol("bufferShift"),V=Symbol("objectMode"),$=Symbol("destroyed"),Xe=Symbol("error"),Qe=Symbol("emitData"),li=Symbol("emitEnd"),ts=Symbol("emitEnd2"),wt=Symbol("async"),es=Symbol("abort"),_e=Symbol("aborted"),At=Symbol("signal"),Qt=i=>Promise.resolve().then(i),ci=ot._MP_NO_ITERATOR_SYMBOLS_!=="1",fi=ci&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),ui=ci&&Symbol.iterator||Symbol("iterator not implemented"),Sn=i=>i==="end"||i==="finish"||i==="prefinish",vn=i=>i instanceof ArrayBuffer||typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,En=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i);class di{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[Lt](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class _n extends di{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=n=>e.emit("error",n),t.on("error",this.proxyErrors)}}class hs extends ri{constructor(t){super(),this[Ee]=!1,this[Xt]=!1,this[ct]=[],this[x]=[],this[V]=t&&t.objectMode||!1,this[V]?this[tt]=null:this[tt]=t&&t.encoding||null,this[tt]==="buffer"&&(this[tt]=null),this[wt]=t&&!!t.async||!1,this[gt]=this[tt]?new oi(this[tt]):null,this[pt]=!1,this[Et]=!1,this[ye]=!1,this[Se]=!1,this[Zt]=null,this.writable=!0,this.readable=!0,this[H]=0,this[$]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[x]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ct]}),this[At]=t&&t.signal,this[_e]=!1,this[At]&&(this[At].addEventListener("abort",()=>this[es]()),this[At].aborted&&this[es]())}get bufferLength(){return this[H]}get encoding(){return this[tt]}set encoding(t){if(this[V])throw new Error("cannot set encoding in objectMode");if(this[tt]&&t!==this[tt]&&(this[gt]&&this[gt].lastNeed||this[H]))throw new Error("cannot change encoding");this[tt]!==t&&(this[gt]=t?new oi(t):null,this[x].length&&(this[x]=this[x].map(e=>this[gt].write(e)))),this[tt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[V]}set objectMode(t){this[V]=this[V]||!!t}get async(){return this[wt]}set async(t){this[wt]=this[wt]||!!t}[es](){this[_e]=!0,this.emit("abort",this[At].reason),this.destroy(this[At].reason)}get aborted(){return this[_e]}set aborted(t){}write(t,e,s){if(this[_e])return!1;if(this[pt])throw new Error("write after end");if(this[$])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const n=this[wt]?Qt:r=>r();return!this[V]&&!Buffer.isBuffer(t)&&(En(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):vn(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[V]?(this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[tt]&&!this[gt].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[tt]&&(t=this[gt].write(t)),this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):(this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing)}read(t){if(this[$])return null;if(this[H]===0||t===0||t>this[H])return this[mt](),null;this[V]&&(t=null),this[x].length>1&&!this[V]&&(this.encoding?this[x]=[this[x].join("")]:this[x]=[Buffer.concat(this[x],this[H])]);const e=this[hi](t||null,this[x][0]);return this[mt](),e}[hi](t,e){return t===e.length||t===null?this[Ze]():(this[x][0]=e.slice(t),e=e.slice(0,t),this[H]-=t),this.emit("data",e),!this[x].length&&!this[pt]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[pt]=!0,this.writable=!1,(this.flowing||!this[Xt])&&this[mt](),this}[Lt](){this[$]||(this[Xt]=!1,this[Ee]=!0,this.emit("resume"),this[x].length?this[ve]():this[pt]?this[mt]():this.emit("drain"))}resume(){return this[Lt]()}pause(){this[Ee]=!1,this[Xt]=!0}get destroyed(){return this[$]}get flowing(){return this[Ee]}get paused(){return this[Xt]}[Ke](t){this[V]?this[H]+=1:this[H]+=t.length,this[x].push(t)}[Ze](){return this[V]?this[H]-=1:this[H]-=this[x][0].length,this[x].shift()}[ve](t){do;while(this[ai](this[Ze]())&&this[x].length);!t&&!this[x].length&&!this[pt]&&this.emit("drain")}[ai](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[$])return;const s=this[Et];return e=e||{},t===ni.stdout||t===ni.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ct].push(e.proxyErrors?new _n(this,t,e):new di(this,t,e)),this[wt]?Qt(()=>this[Lt]()):this[Lt]()),t}unpipe(t){const e=this[ct].find(s=>s.dest===t);e&&(this[ct].splice(this[ct].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ct].length&&!this.flowing?this[Lt]():t==="readable"&&this[H]!==0?super.emit("readable"):Sn(t)&&this[Et]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Zt]&&(this[wt]?Qt(()=>e.call(this,this[Zt])):e.call(this,this[Zt])),s}get emittedEnd(){return this[Et]}[mt](){!this[ye]&&!this[Et]&&!this[$]&&this[x].length===0&&this[pt]&&(this[ye]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Se]&&this.emit("close"),this[ye]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==$&&this[$])return;if(t==="data")return!this[V]&&!e?!1:this[wt]?Qt(()=>this[Qe](e)):this[Qe](e);if(t==="end")return this[li]();if(t==="close"){if(this[Se]=!0,!this[Et]&&!this[$])return;const r=super.emit("close");return this.removeAllListeners("close"),r}else if(t==="error"){this[Zt]=e,super.emit(Xe,e);const r=!this[At]||this.listeners("error").length?super.emit("error",e):!1;return this[mt](),r}else if(t==="resume"){const r=super.emit("resume");return this[mt](),r}else if(t==="finish"||t==="prefinish"){const r=super.emit(t);return this.removeAllListeners(t),r}const n=super.emit(t,e,...s);return this[mt](),n}[Qe](t){for(const s of this[ct])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[mt](),e}[li](){this[Et]||(this[Et]=!0,this.readable=!1,this[wt]?Qt(()=>this[ts]()):this[ts]())}[ts](){if(this[gt]){const e=this[gt].end();if(e){for(const s of this[ct])s.dest.write(e);super.emit("data",e)}}for(const e of this[ct])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[V]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[V]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[V]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[V]?Promise.reject(new Error("cannot concat in objectMode")):this[tt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on($,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[fi](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[pt])return e();let r=null,h=null;const a=g=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener($,b),e(),h(g)},c=g=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener($,b),this.pause(),r({value:g,done:!!this[pt]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener($,b),e(),r({done:!0})},b=()=>a(new Error("stream destroyed"));return new Promise((g,y)=>{h=y,r=g,this.once($,b),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:e,return:e,[fi](){return this}}}[ui](){let t=!1;const e=()=>(this.pause(),this.removeListener(Xe,e),this.removeListener($,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const n=this.read();return n===null?e():{value:n}};return this.once("end",e),this.once(Xe,e),this.once($,e),{next:s,throw:e,return:e,[ui](){return this}}}destroy(t){return this[$]?(t?this.emit("error",t):this.emit($),this):(this[$]=!0,this[x].length=0,this[H]=0,typeof this.close=="function"&&!this[Se]&&this.close(),t?this.emit("error",t):this.emit($),this)}static isStream(t){return!!t&&(t instanceof hs||t instanceof ri||t instanceof bn&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}ii.Minipass=hs;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Ignore=void 0;const pi=yt,On=Kt,Tn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Rn{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:n,noglobstar:r,platform:h=Tn}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const a={dot:!0,nobrace:e,nocase:s,noext:n,noglobstar:r,optimizationLevel:2,platform:h,nocomment:!0,nonegate:!0};for(const c of t){const d=new pi.Minimatch(c,a);for(let b=0;b<d.set.length;b++){const g=d.set[b],y=d.globParts[b],w=new On.Pattern(g,y,0,h),_=new pi.Minimatch(w.globString(),a),E=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),E&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,n=t.relative()||".",r=`${n}/`;for(const h of this.relative)if(h.match(n)||h.match(r))return!0;for(const h of this.absolute)if(h.match(e)||h.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const n of this.relativeChildren)if(n.match(s))return!0;for(const n of this.absoluteChildren)n.match(e);return!1}}Oe.Ignore=Rn;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.Processor=ft.SubWalks=ft.MatchRecord=ft.HasWalkedCache=void 0;const mi=yt;class Ce{store;constructor(t=new Map){this.store=t}copy(){return new Ce(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),n=this.store.get(s);n?n.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}ft.HasWalkedCache=Ce;class gi{store=new Map;add(t,e,s){const n=(e?2:0)|(s?1:0),r=this.store.get(t);this.store.set(t,r===void 0?n:n&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}ft.MatchRecord=gi;class wi{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(n=>n.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}ft.SubWalks=wi;class as{hasWalkedCache;matches=new gi;subwalks=new wi;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Ce}processPatterns(t,e){this.patterns=e;const s=e.map(n=>[t,n]);for(let[n,r]of s){this.hasWalkedCache.storeWalked(n,r);const h=r.root(),a=r.isAbsolute()&&this.opts.absolute!==!1;if(h){n=n.resolve(h==="/"&&this.opts.root!==void 0?this.opts.root:h);const g=r.rest();if(g)r=g;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let c,d,b=!1;for(;typeof(c=r.pattern())=="string"&&(d=r.rest());){const g=n.resolve(c);if(g.isUnknown()&&c!=="..")break;n=g,r=d,b=!0}if(c=r.pattern(),d=r.rest(),b){if(this.hasWalkedCache.hasWalked(n,r))continue;this.hasWalkedCache.storeWalked(n,r)}if(typeof c=="string"){if(d)this.subwalks.add(n,r);else{const g=c===".."||c===""||c===".";this.matches.add(n.resolve(c),a,g)}continue}else if(c===mi.GLOBSTAR){(!n.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(n,r);const g=d?.pattern(),y=d?.rest();if(!d||(g===""||g===".")&&!y)this.matches.add(n,a,g===""||g===".");else if(g===".."){const w=n.parent||n;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,a,!0)}}else c instanceof RegExp&&this.subwalks.add(n,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new as(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),n=this.child();for(const r of e)for(const h of s){const a=h.isAbsolute(),c=h.pattern(),d=h.rest();c===mi.GLOBSTAR?n.testGlobstar(r,h,d,a):c instanceof RegExp?n.testRegExp(r,c,d,a):n.testString(r,c,d,a)}return n}testGlobstar(t,e,s,n){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const r=s.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,s.rest(),n);else if(r===".."){const h=t.parent||t;this.subwalks.add(h,s)}else r instanceof RegExp&&this.testRegExp(t,r,s.rest(),n)}}testRegExp(t,e,s,n){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}testString(t,e,s,n){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}}ft.Processor=as,Object.defineProperty(vt,"__esModule",{value:!0}),vt.GlobStream=vt.GlobWalker=vt.GlobUtil=void 0;const Pn=ii,bi=Oe,yi=ft,An=(i,t)=>typeof i=="string"?new bi.Ignore([i],t):Array.isArray(i)?new bi.Ignore(i,t):i;class ss{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#r;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#r=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=An(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#h(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#r:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const r=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(r+n)}else{const r=this.opts.posix?t.relativePosix():t.relative(),h=this.opts.dotRelative&&!r.startsWith(".."+this.#r)?"."+this.#r:"";this.matchEmit(r?h+r+n:"."+n)}}async match(t,e,s){const n=await this.matchCheck(t,s);n&&this.matchFinish(n,e)}matchSync(t,e,s){const n=this.matchCheckSync(t,s);n&&this.matchFinish(n,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new yi.Processor(this.opts),s)}walkCB2(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirCached();a.calledReaddir()?this.walkCB3(a,c,s,h):a.readdirCB((d,b)=>this.walkCB3(a,b,s,h),!0)}h()}walkCB3(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const[a,c]of s.subwalks.entries())r++,this.walkCB2(a,c,s.child(),h);h()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new yi.Processor(this.opts),s)}walkCB2Sync(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirSync();this.walkCB3Sync(a,c,s,h)}h()}walkCB3Sync(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const[a,c]of s.subwalks.entries())r++,this.walkCB2Sync(a,c,s.child(),h);h()}}vt.GlobUtil=ss;class Cn extends ss{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}vt.GlobWalker=Cn;class Mn extends ss{results;constructor(t,e,s){super(t,e,s),this.results=new Pn.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}vt.GlobStream=Mn,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.Glob=void 0;const jn=yt,Te=B,Ln=De,Fn=Kt,Re=vt,Dn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class kn{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Ln.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(c=>c.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(c=>c.includes("/")?c:`./**/${c}`)}if(this.pattern=t,this.platform=e.platform||Dn,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const c=e.platform==="win32"?Te.PathScurryWin32:e.platform==="darwin"?Te.PathScurryDarwin:e.platform?Te.PathScurryPosix:Te.PathScurry;this.scurry=new c(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(c=>new jn.Minimatch(c,n)),[h,a]=r.reduce((c,d)=>(c[0].push(...d.set),c[1].push(...d.globParts),c),[[],[]]);this.patterns=h.map((c,d)=>new Fn.Pattern(c,a[d],0,this.platform))}async walk(){return[...await new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Gt.Glob=kn;var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.hasMagic=void 0;const Nn=yt,Bn=(i,t={})=>{Array.isArray(i)||(i=[i]);for(const e of i)if(new Nn.Minimatch(e,t).hasMagic())return!0;return!1};te.hasMagic=Bn,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.glob=i.hasMagic=i.Glob=i.unescape=i.escape=i.sync=i.iterate=i.iterateSync=i.stream=i.streamSync=i.globIterate=i.globIterateSync=i.globSync=i.globStream=i.globStreamSync=void 0;const t=yt,e=Gt,s=te;function n(w,_={}){return new e.Glob(w,_).streamSync()}i.globStreamSync=n;function r(w,_={}){return new e.Glob(w,_).stream()}i.globStream=r;function h(w,_={}){return new e.Glob(w,_).walkSync()}i.globSync=h;async function a(w,_={}){return new e.Glob(w,_).walk()}function c(w,_={}){return new e.Glob(w,_).iterateSync()}i.globIterateSync=c;function d(w,_={}){return new e.Glob(w,_).iterate()}i.globIterate=d,i.streamSync=n,i.stream=Object.assign(r,{sync:n}),i.iterateSync=c,i.iterate=Object.assign(d,{sync:c}),i.sync=Object.assign(h,{stream:n,iterate:c});var b=yt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Gt;Object.defineProperty(i,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=te;Object.defineProperty(i,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),i.glob=Object.assign(a,{glob:a,globSync:h,sync:i.sync,globStream:r,stream:i.stream,globStreamSync:n,streamSync:i.streamSync,globIterate:d,iterate:i.iterate,globIterateSync:c,iterateSync:i.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),i.glob.glob=i.glob}(Es);var is=Object.defineProperty,In=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyNames,xn=Object.prototype.hasOwnProperty,$n=(i,t)=>{for(var e in t)is(i,e,{get:t[e],enumerable:!0})},zn=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wn(t))!xn.call(i,n)&&n!==e&&is(i,n,{get:()=>t[n],enumerable:!(s=In(t,n))||s.enumerable});return i},Gn=i=>zn(is({},"__esModule",{value:!0}),i),Si={};$n(Si,{default:()=>Hn});var Un=Gn(Si);function Hn(i,t){return t?.allExtensions?i.replace(/\..+$/,""):i.replace(/\.[^.]+$/,"")}var qn=Object.create,Pe=Object.defineProperty,Vn=Object.getOwnPropertyDescriptor,Yn=Object.getOwnPropertyNames,Jn=Object.getPrototypeOf,Kn=Object.prototype.hasOwnProperty,Zn=(i,t)=>{for(var e in t)Pe(i,e,{get:t[e],enumerable:!0})},vi=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Yn(t))!Kn.call(i,n)&&n!==e&&Pe(i,n,{get:()=>t[n],enumerable:!(s=Vn(t,n))||s.enumerable});return i},Ei=(i,t,e)=>(e=i!=null?qn(Jn(i)):{},vi(t||!i||!i.__esModule?Pe(e,"default",{value:i,enumerable:!0}):e,i)),Xn=i=>vi(Pe({},"__esModule",{value:!0}),i),_i={};Zn(_i,{getMonorepoDirpath:()=>er});var Qn=Xn(_i),ns=Ei(ke),Ae=Ei(U),tr=De;function er(i=process.cwd()){i=i.startsWith("file://")?(0,tr.fileURLToPath)(i):i,ns.statSync(i).isFile()&&(i=Ae.default.dirname(i));let t;for(;i!=="/";){const e=ns.existsSync(Ae.default.join(i,"pnpm-workspace.yaml"));if(ns.existsSync(Ae.default.join(i,"pnpm-lock.yaml"))&&(t=i),e)return i;i=Ae.default.dirname(i)}return t}const Ft=U,{globSync:sr}=Es,Oi=Un,{getMonorepoDirpath:ir}=Qn;var nr=function(){const t=ir(__dirname);if(t===void 0)throw new Error("Could not find monorepo directory");const e=s=>`__${s.replaceAll(/[^\w$]/g,"_")}`;return function(s){if(Ft.basename(s).startsWith("__virtual__:")){const n=(Oi.default??Oi)(Ft.basename(s).replace("__virtual__:","")),r=Ft.dirname(s),h=sr(r,{absolute:!0}),a=[];switch(n){case"files":{for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`import * as ${b} from ${JSON.stringify(c)};`)}a.push("export default {");for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`${JSON.stringify(d)}: ${b},`)}a.push("};");break}case"matches":{a.push(...h.map(c=>`export * from ${JSON.stringify(c)};`));break}case"filepaths":{a.push("export default {");for(const c of h){const d=Ft.relative(t,c);a.push(`${JSON.stringify(d)}: true,`)}a.push("};");break}default:throw new Error(`Unknown virtual file type: ${n}`)}return a.push("export {};"),a.join(`
+`)}else return readFile(s)}},rr=Ci(nr);module.exports=rr;
+;return module.exports()})({}),
       writeFile: writeFile2,
       watchFile: watchFile2,
       watchDirectory,
       resolvePath: (path) => _path.resolve(path),
-      fileExists,
-      directoryExists,
+      fileExists: ((module) => {"use strict";var t=require("node:path");function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const s=t;var i=function(){return function(r){return s.basename(r).startsWith("__virtual__:")?!0:fileExists(r)}},u=a(i);module.exports=u;
+;return module.exports()})({}),
+      directoryExists: ((module) => {"use strict";var Xs=require("path"),Ve=require("url"),Ye=require("fs"),Qs=require("fs/promises"),Ke=require("events"),Je=require("stream"),Ze=require("string_decoder"),it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ti(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xe={},mt={},ei=Qe;function Qe(r,t,e){r instanceof RegExp&&(r=ts(r,e)),t instanceof RegExp&&(t=ts(t,e));var s=es(r,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+r.length,s[1]),post:e.slice(s[1]+t.length)}}function ts(r,t){var e=t.match(r);return e?e[0]:null}Qe.range=es;function es(r,t,e){var s,i,n,o,c,l=e.indexOf(r),p=e.indexOf(t,l+1),b=l;if(l>=0&&p>0){if(r===t)return[l,p];for(s=[],n=e.length;b>=0&&!c;)b==l?(s.push(b),l=e.indexOf(r,b+1)):s.length==1?c=[s.pop(),p]:(i=s.pop(),i<n&&(n=i,o=p),p=e.indexOf(t,b+1)),b=l<p&&l>=0?l:p;s.length&&(c=[n,o])}return c}var ss=ei,si=ni,is="\0SLASH"+Math.random()+"\0",rs="\0OPEN"+Math.random()+"\0",Oe="\0CLOSE"+Math.random()+"\0",ns="\0COMMA"+Math.random()+"\0",hs="\0PERIOD"+Math.random()+"\0";function Te(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function ii(r){return r.split("\\\\").join(is).split("\\{").join(rs).split("\\}").join(Oe).split("\\,").join(ns).split("\\.").join(hs)}function ri(r){return r.split(is).join("\\").split(rs).join("{").split(Oe).join("}").split(ns).join(",").split(hs).join(".")}function os(r){if(!r)return[""];var t=[],e=ss("{","}",r);if(!e)return r.split(",");var s=e.pre,i=e.body,n=e.post,o=s.split(",");o[o.length-1]+="{"+i+"}";var c=os(n);return n.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),t.push.apply(t,o),t}function ni(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),Lt(ii(r),!0).map(ri)):[]}function hi(r){return"{"+r+"}"}function oi(r){return/^-?0\d/.test(r)}function ai(r,t){return r<=t}function li(r,t){return r>=t}function Lt(r,t){var e=[],s=ss("{","}",r);if(!s)return[r];var i=s.pre,n=s.post.length?Lt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<n.length;o++){var c=i+"{"+s.body+"}"+n[o];e.push(c)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),p=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=l||p,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(r=s.pre+"{"+s.body+Oe+s.post,Lt(r)):[r];var y;if(b)y=s.body.split(/\.\./);else if(y=os(s.body),y.length===1&&(y=Lt(y[0],!1).map(hi),y.length===1))return n.map(function(st){return s.pre+y[0]+st});var w;if(b){var _=Te(y[0]),v=Te(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs(Te(y[2])):1,A=ai,P=v<_;P&&(O*=-1,A=li);var R=y.some(oi);w=[];for(var F=_;A(F,v);F+=O){var k;if(p)k=String.fromCharCode(F),k==="\\"&&(k="");else if(k=String(F),R){var D=T-k.length;if(D>0){var I=new Array(D+1).join("0");F<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Lt(y[L],!1))}for(var L=0;L<w.length;L++)for(var o=0;o<n.length;o++){var c=i+w[L]+n[o];(!t||b||c)&&e.push(c)}}return e}var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.assertValidPattern=void 0;const ci=1024*64,fi=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>ci)throw new TypeError("pattern is too long")};Qt.assertValidPattern=fi;var jt={},te={};Object.defineProperty(te,"__esModule",{value:!0}),te.parseClass=void 0;const ui={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ft=r=>r.replace(/[[\]\\-]/g,"\\$&"),di=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),as=r=>r.join(""),pi=(r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],i=[];let n=e+1,o=!1,c=!1,l=!1,p=!1,b=e,g="";t:for(;n<r.length;){const v=r.charAt(n);if((v==="!"||v==="^")&&n===e+1){p=!0,n++;continue}if(v==="]"&&o&&!l){b=n+1;break}if(o=!0,v==="\\"&&!l){l=!0,n++;continue}if(v==="["&&!l){for(const[T,[O,A,P]]of Object.entries(ui))if(r.startsWith(T,n)){if(g)return["$.",!1,r.length-e,!0];n+=T.length,P?i.push(O):s.push(O),c=c||A;continue t}}if(l=!1,g){v>g?s.push(Ft(g)+"-"+Ft(v)):v===g&&s.push(Ft(v)),g="",n++;continue}if(r.startsWith("-]",n+1)){s.push(Ft(v+"-")),n+=2;continue}if(r.startsWith("-",n+1)){g=v,n+=2;continue}s.push(Ft(v)),n++}if(b<n)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,r.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!p){const v=s[0].length===2?s[0].slice(-1):s[0];return[di(v),!1,b-e,!1]}const y="["+(p?"^":"")+as(s)+"]",w="["+(p?"":"^")+as(i)+"]";return[s.length&&i.length?"("+y+"|"+w+")":s.length?y:w,c,b-e,!0]};te.parseClass=pi;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.unescape=void 0;const mi=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Rt.unescape=mi,Object.defineProperty(jt,"__esModule",{value:!0}),jt.AST=void 0;const gi=te,ee=Rt,wi=new Set(["!","?","+","*","@"]),ls=r=>wi.has(r),bi="(?!(?:^|/)\\.\\.?(?:$|/))",se="(?!\\.)",yi=new Set(["[","."]),Si=new Set(["..","."]),Ei=new Set("().*{}+?[]^$\\!"),vi=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Re="[^/]",cs=Re+"*?",fs=Re+"+?";class X{type;#t;#s;#n=!1;#i=[];#o;#l;#f;#a=!1;#h;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#o=e,this.#t=this.#o?this.#o.#t:this,this.#h=this.#t===this?s:this.#t.#h,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#o?this.#o.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#o;for(;s;){for(let i=e.#l+1;!s.type&&i<s.#i.length;i++)for(const n of t.#i){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#i[i])}e=s,s=e.#o}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof X&&e.#o===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#o?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#o?.isStart())return!1;if(this.#l===0)return!0;const t=this.#o;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof X&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();const t=this.#o?this.#o.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new X(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,i){let n=!1,o=!1,c=-1,l=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const v=t.charAt(w++);if(n||v==="\\"){n=!n,_+=v;continue}if(o){w===c+1?(v==="^"||v==="!")&&(l=!0):v==="]"&&!(w===c+2&&l)&&(o=!1),_+=v;continue}else if(v==="["){o=!0,c=w,l=!1,_+=v;continue}if(!i.noext&&ls(v)&&t.charAt(w)==="("){e.push(_),_="";const T=new X(v,e);w=X.#d(t,T,w,i),e.push(T);continue}_+=v}return e.push(_),w}let p=s+1,b=new X(null,e);const g=[];let y="";for(;p<t.length;){const w=t.charAt(p++);if(n||w==="\\"){n=!n,y+=w;continue}if(o){p===c+1?(w==="^"||w==="!")&&(l=!0):w==="]"&&!(p===c+2&&l)&&(o=!1),y+=w;continue}else if(w==="["){o=!0,c=p,l=!1,y+=w;continue}if(ls(w)&&t.charAt(p)==="("){b.push(y),y="";const _=new X(w,b);b.push(_),p=X.#d(t,_,p,i);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new X(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),p;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],p}static fromGlob(t,e={}){const s=new X(null,void 0,e);return X.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,i,n]=this.toRegExpSource();if(!(i||this.#s||this.#h.nocase&&!this.#h.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const c=(this.#h.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,c),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#h.dot;if(this.#t===this&&this.#w(),!this.type){const l=this.isStart()&&this.isEnd(),p=this.#i.map(w=>{const[_,v,T,O]=typeof w=="string"?X.#y(w,this.#s,l):w.toRegExpSource(t);return this.#s=this.#s||T,this.#n=this.#n||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&Si.has(this.#i[0]))){const _=yi,v=e&&_.has(p.charAt(0))||p.startsWith("\\.")&&_.has(p.charAt(2))||p.startsWith("\\.\\.")&&_.has(p.charAt(4)),T=!e&&!t&&_.has(p.charAt(0));b=v?bi:T?se:""}let g="";return this.isEnd()&&this.#t.#a&&this.#o?.type==="!"&&(g="(?:$|\\/)"),[b+p+g,(0,ee.unescape)(p),this.#s=!!this.#s,this.#n]}const s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let n=this.#u(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){const l=this.toString();return this.#i=[l],this.type=null,this.#s=void 0,[l,(0,ee.unescape)(this.toString()),!1,!1]}let o=!s||t||e||!se?"":this.#u(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let c="";if(this.type==="!"&&this.#m)c=(this.isStart()&&!e?se:"")+fs;else{const l=this.type==="!"?"))"+(this.isStart()&&!e&&!t?se:"")+cs+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;c=i+n+l}return[c,(0,ee.unescape)(n),this.#s=!!this.#s,this.#n]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,i,n,o]=e.toRegExpSource(t);return this.#n=this.#n||o,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let i=!1,n="",o=!1;for(let c=0;c<t.length;c++){const l=t.charAt(c);if(i){i=!1,n+=(Ei.has(l)?"\\":"")+l;continue}if(l==="\\"){c===t.length-1?n+="\\\\":i=!0;continue}if(l==="["){const[p,b,g,y]=(0,gi.parseClass)(t,c);if(g){n+=p,o=o||b,c+=g-1,e=e||y;continue}}if(l==="*"){s&&t==="*"?n+=fs:n+=cs,e=!0;continue}if(l==="?"){n+=Re,e=!0;continue}n+=vi(l)}return[n,(0,ee.unescape)(t),!!e,o]}}jt.AST=X;var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.escape=void 0;const _i=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");kt.escape=_i,function(r){var t=it&&it.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.unescape=r.escape=r.AST=r.Minimatch=r.match=r.makeRe=r.braceExpand=r.defaults=r.filter=r.GLOBSTAR=r.sep=r.minimatch=void 0;const e=t(si),s=Qt,i=jt,n=kt,o=Rt,c=(S,a,d={})=>((0,s.assertValidPattern)(a),!d.nocomment&&a.charAt(0)==="#"?!1:new Et(a,d).match(S));r.minimatch=c;const l=/^\*+([^+@!?\*\[\(]*)$/,p=S=>a=>!a.startsWith(".")&&a.endsWith(S),b=S=>a=>a.endsWith(S),g=S=>(S=S.toLowerCase(),a=>!a.startsWith(".")&&a.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),a=>a.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),v=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),A=/^\*+$/,P=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",F=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,a=""])=>{const d=st([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},D=([S,a=""])=>{const d=yt([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},I=([S,a=""])=>{const d=yt([S]);return a?m=>d(m)&&m.endsWith(a):d},L=([S,a=""])=>{const d=st([S]);return a?m=>d(m)&&m.endsWith(a):d},st=([S])=>{const a=S.length;return d=>d.length===a&&!d.startsWith(".")},yt=([S])=>{const a=S.length;return d=>d.length===a&&d!=="."&&d!==".."},z=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};r.sep=z==="win32"?N.win32.sep:N.posix.sep,r.minimatch.sep=r.sep,r.GLOBSTAR=Symbol("globstar **"),r.minimatch.GLOBSTAR=r.GLOBSTAR;const Pt="[^/]"+"*?",Zt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Mt="(?:(?!(?:\\/|^)\\.).)*?",Q=(S,a={})=>d=>(0,r.minimatch)(d,S,a);r.filter=Q,r.minimatch.filter=r.filter;const q=(S,a={})=>Object.assign({},S,a),Ot=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return r.minimatch;const a=r.minimatch;return Object.assign((m,f,h={})=>a(m,f,q(S,h)),{Minimatch:class extends a.Minimatch{constructor(f,h={}){super(f,q(S,h))}static defaults(f){return a.defaults(q(S,f)).Minimatch}},AST:class extends a.AST{constructor(f,h,u={}){super(f,h,q(S,u))}static fromGlob(f,h={}){return a.AST.fromGlob(f,q(S,h))}},unescape:(m,f={})=>a.unescape(m,q(S,f)),escape:(m,f={})=>a.escape(m,q(S,f)),filter:(m,f={})=>a.filter(m,q(S,f)),defaults:m=>a.defaults(q(S,m)),makeRe:(m,f={})=>a.makeRe(m,q(S,f)),braceExpand:(m,f={})=>a.braceExpand(m,q(S,f)),match:(m,f,h={})=>a.match(m,f,q(S,h)),sep:a.sep,GLOBSTAR:r.GLOBSTAR})};r.defaults=Ot,r.minimatch.defaults=r.defaults;const St=(S,a={})=>((0,s.assertValidPattern)(S),a.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));r.braceExpand=St,r.minimatch.braceExpand=r.braceExpand;const lt=(S,a={})=>new Et(S,a).makeRe();r.makeRe=lt,r.minimatch.makeRe=r.makeRe;const V=(S,a,d={})=>{const m=new Et(a,d);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(a),S};r.match=V,r.minimatch.match=r.match;const pt=/[?*]|[+@!]\(.*?\)|\[|\]/,Se=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Et{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(a,d={}){(0,s.assertValidPattern)(a),d=d||{},this.options=d,this.pattern=a,this.platform=d.platform||z,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!d.windowsPathsNoEscape||d.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!d.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!d.nonegate,this.comment=!1,this.empty=!1,this.partial=!!d.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=d.windowsNoMagicRoot!==void 0?d.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const a of this.set)for(const d of a)if(typeof d!="string")return!0;return!1}debug(...a){}make(){const a=this.pattern,d=this.options;if(!d.nocomment&&a.charAt(0)==="#"){this.comment=!0;return}if(!a){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],d.debug&&(this.debug=(...h)=>console.error(...h)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(h=>this.slashSplit(h));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((h,u,E)=>{if(this.isWindows&&this.windowsNoMagicRoot){const C=h[0]===""&&h[1]===""&&(h[2]==="?"||!pt.test(h[2]))&&!pt.test(h[3]),M=/^[a-z]:/i.test(h[0]);if(C)return[...h.slice(0,4),...h.slice(4).map(j=>this.parse(j))];if(M)return[h[0],...h.slice(1).map(j=>this.parse(j))]}return h.map(C=>this.parse(C))});if(this.debug(this.pattern,f),this.set=f.filter(h=>h.indexOf(!1)===-1),this.isWindows)for(let h=0;h<this.set.length;h++){const u=this.set[h];u[0]===""&&u[1]===""&&this.globParts[h][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(a){if(this.options.noglobstar)for(let m=0;m<a.length;m++)for(let f=0;f<a[m].length;f++)a[m][f]==="**"&&(a[m][f]="*");const{optimizationLevel:d=1}=this.options;return d>=2?(a=this.firstPhasePreProcess(a),a=this.secondPhasePreProcess(a)):d>=1?a=this.levelOneOptimize(a):a=this.adjascentGlobstarOptimize(a),a}adjascentGlobstarOptimize(a){return a.map(d=>{let m=-1;for(;(m=d.indexOf("**",m+1))!==-1;){let f=m;for(;d[f+1]==="**";)f++;f!==m&&d.splice(m,f-m)}return d})}levelOneOptimize(a){return a.map(d=>(d=d.reduce((m,f)=>{const h=m[m.length-1];return f==="**"&&h==="**"?m:f===".."&&h&&h!==".."&&h!=="."&&h!=="**"?(m.pop(),m):(m.push(f),m)},[]),d.length===0?[""]:d))}levelTwoFileOptimize(a){Array.isArray(a)||(a=this.slashSplit(a));let d=!1;do{if(d=!1,!this.preserveMultipleSlashes){for(let f=1;f<a.length-1;f++){const h=a[f];f===1&&h===""&&a[0]===""||(h==="."||h==="")&&(d=!0,a.splice(f,1),f--)}a[0]==="."&&a.length===2&&(a[1]==="."||a[1]==="")&&(d=!0,a.pop())}let m=0;for(;(m=a.indexOf("..",m+1))!==-1;){const f=a[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(d=!0,a.splice(m-1,2),m-=2)}}while(d);return a.length===0?[""]:a}firstPhasePreProcess(a){let d=!1;do{d=!1;for(let m of a){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let E=m[f+1];const C=m[f+2],M=m[f+3];if(E!==".."||!C||C==="."||C===".."||!M||M==="."||M==="..")continue;d=!0,m.splice(f,1);const j=m.slice(0);j[f]="**",a.push(j),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const E=m[u];u===1&&E===""&&m[0]===""||(E==="."||E==="")&&(d=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(d=!0,m.pop())}let h=0;for(;(h=m.indexOf("..",h+1))!==-1;){const u=m[h-1];if(u&&u!=="."&&u!==".."&&u!=="**"){d=!0;const C=h===1&&m[h+1]==="**"?["."]:[];m.splice(h-1,2,...C),m.length===0&&m.push(""),h-=2}}}}while(d);return a}secondPhasePreProcess(a){for(let d=0;d<a.length-1;d++)for(let m=d+1;m<a.length;m++){const f=this.partsMatch(a[d],a[m],!this.preserveMultipleSlashes);f&&(a[d]=f,a[m]=[])}return a.filter(d=>d.length)}partsMatch(a,d,m=!1){let f=0,h=0,u=[],E="";for(;f<a.length&&h<d.length;)if(a[f]===d[h])u.push(E==="b"?d[h]:a[f]),f++,h++;else if(m&&a[f]==="**"&&d[h]===a[f+1])u.push(a[f]),f++;else if(m&&d[h]==="**"&&a[f]===d[h+1])u.push(d[h]),h++;else if(a[f]==="*"&&d[h]&&(this.options.dot||!d[h].startsWith("."))&&d[h]!=="**"){if(E==="b")return!1;E="a",u.push(a[f]),f++,h++}else if(d[h]==="*"&&a[f]&&(this.options.dot||!a[f].startsWith("."))&&a[f]!=="**"){if(E==="a")return!1;E="b",u.push(d[h]),f++,h++}else return!1;return a.length===d.length&&u}parseNegate(){if(this.nonegate)return;const a=this.pattern;let d=!1,m=0;for(let f=0;f<a.length&&a.charAt(f)==="!";f++)d=!d,m++;m&&(this.pattern=a.slice(m)),this.negate=d}matchOne(a,d,m=!1){const f=this.options;if(this.isWindows){const J=typeof a[0]=="string"&&/^[a-z]:$/i.test(a[0]),_e=!J&&a[0]===""&&a[1]===""&&a[2]==="?"&&/^[a-z]:$/i.test(a[3]),He=typeof d[0]=="string"&&/^[a-z]:$/i.test(d[0]),Js=!He&&d[0]===""&&d[1]===""&&d[2]==="?"&&typeof d[3]=="string"&&/^[a-z]:$/i.test(d[3]),Dt=_e?3:J?0:void 0,Tt=Js?3:He?0:void 0;if(typeof Dt=="number"&&typeof Tt=="number"){const[qe,Zs]=[a[Dt],d[Tt]];qe.toLowerCase()===Zs.toLowerCase()&&(d[Tt]=qe,Tt>Dt?d=d.slice(Tt):Dt>Tt&&(a=a.slice(Dt)))}}const{optimizationLevel:h=1}=this.options;h>=2&&(a=this.levelTwoFileOptimize(a)),this.debug("matchOne",this,{file:a,pattern:d}),this.debug("matchOne",a.length,d.length);for(var u=0,E=0,C=a.length,M=d.length;u<C&&E<M;u++,E++){this.debug("matchOne loop");var j=d[E],W=a[u];if(this.debug(d,j,W),j===!1)return!1;if(j===r.GLOBSTAR){this.debug("GLOBSTAR",[d,j,W]);var $=u,K=E+1;if(K===M){for(this.debug("** at the end");u<C;u++)if(a[u]==="."||a[u]===".."||!f.dot&&a[u].charAt(0)===".")return!1;return!0}for(;$<C;){var nt=a[$];if(this.debug(`
+globstar while`,a,$,d,K,nt),this.matchOne(a.slice($),d.slice(K),m))return this.debug("globstar found match!",$,C,nt),!0;if(nt==="."||nt===".."||!f.dot&&nt.charAt(0)==="."){this.debug("dot detected!",a,$,d,K);break}this.debug("globstar swallow a segment, and continue"),$++}return!!(m&&(this.debug(`
+>>> no match, partial?`,a,$,d,K),$===C))}let J;if(typeof j=="string"?(J=W===j,this.debug("string match",j,W,J)):(J=j.test(W),this.debug("pattern match",j,W,J)),!J)return!1}if(u===C&&E===M)return!0;if(u===C)return m;if(E===M)return u===C-1&&a[u]==="";throw new Error("wtf?")}braceExpand(){return(0,r.braceExpand)(this.pattern,this.options)}parse(a){(0,s.assertValidPattern)(a);const d=this.options;if(a==="**")return r.GLOBSTAR;if(a==="")return"";let m,f=null;(m=a.match(A))?f=d.dot?R:P:(m=a.match(l))?f=(d.nocase?d.dot?y:g:d.dot?b:p)(m[1]):(m=a.match(F))?f=(d.nocase?d.dot?D:k:d.dot?I:L)(m):(m=a.match(w))?f=d.dot?v:_:(m=a.match(T))&&(f=O);const h=i.AST.fromGlob(a,this.options).toMMPattern();return f?Object.assign(h,{test:f}):h}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const a=this.set;if(!a.length)return this.regexp=!1,this.regexp;const d=this.options,m=d.noglobstar?Pt:d.dot?Zt:Mt,f=new Set(d.nocase?["i"]:[]);let h=a.map(C=>{const M=C.map(j=>{if(j instanceof RegExp)for(const W of j.flags.split(""))f.add(W);return typeof j=="string"?Se(j):j===r.GLOBSTAR?r.GLOBSTAR:j._src});return M.forEach((j,W)=>{const $=M[W+1],K=M[W-1];j!==r.GLOBSTAR||K===r.GLOBSTAR||(K===void 0?$!==void 0&&$!==r.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+$:M[W]=m:$===void 0?M[W-1]=K+"(?:\\/|"+m+")?":$!==r.GLOBSTAR&&(M[W-1]=K+"(?:\\/|\\/"+m+"\\/)"+$,M[W+1]=r.GLOBSTAR))}),M.filter(j=>j!==r.GLOBSTAR).join("/")}).join("|");const[u,E]=a.length>1?["(?:",")"]:["",""];h="^"+u+h+E+"$",this.negate&&(h="^(?!"+h+").+$");try{this.regexp=new RegExp(h,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(a){return this.preserveMultipleSlashes?a.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(a)?["",...a.split(/\/+/)]:a.split(/\/+/)}match(a,d=this.partial){if(this.debug("match",a,this.pattern),this.comment)return!1;if(this.empty)return a==="";if(a==="/"&&d)return!0;const m=this.options;this.isWindows&&(a=a.split("\\").join("/"));const f=this.slashSplit(a);this.debug(this.pattern,"split",f);const h=this.set;this.debug(this.pattern,"set",h);let u=f[f.length-1];if(!u)for(let E=f.length-2;!u&&E>=0;E--)u=f[E];for(let E=0;E<h.length;E++){const C=h[E];let M=f;if(m.matchBase&&C.length===1&&(M=[u]),this.matchOne(M,C,d))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(a){return r.minimatch.defaults(a).Minimatch}}r.Minimatch=Et;var Ee=jt;Object.defineProperty(r,"AST",{enumerable:!0,get:function(){return Ee.AST}});var ve=kt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return ve.escape}});var Xt=Rt;Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return Xt.unescape}}),r.minimatch.AST=i.AST,r.minimatch.Minimatch=Et,r.minimatch.escape=n.escape,r.minimatch.unescape=o.unescape}(mt);var Nt={},B={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.LRUCache=void 0;const Bt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,us=new Set,Ae=typeof process=="object"&&process?process:{},ds=(r,t,e,s)=>{typeof Ae.emitWarning=="function"?Ae.emitWarning(r,t,e,s):console.error(`[${e}] ${t}: ${r}`)};let re=globalThis.AbortController,ps=globalThis.AbortSignal;if(typeof re>"u"){ps=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,i){this._onabort.push(i)}},re=class{constructor(){t()}signal=new ps;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const i of this.signal._onabort)i(s);this.signal.onabort?.(s)}}};let r=Ae.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{r&&(r=!1,ds("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Oi=r=>!us.has(r),gt=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),ms=r=>gt(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?ne:null:null;class ne extends Array{constructor(t){super(t),this.fill(0)}}class Ct{heap;length;static#t=!1;static create(t){const e=ms(t);if(!e)return[];Ct.#t=!0;const s=new Ct(t,e);return Ct.#t=!1,s}constructor(t,e){if(!Ct.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class xe{#t;#s;#n;#i;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#h;#e;#m;#w;#d;#u;#y;#g;#C;#P;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#P,ttls:t.#O,sizes:t.#C,keyMap:t.#a,keyList:t.#h,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,i,n)=>t.#F(e,s,i,n),moveToTail:e=>t.#j(e),indexes:e=>t.#_(e),rindexes:e=>t.#A(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#o}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:c,allowStale:l,dispose:p,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:v,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:R,ignoreFetchAbort:F}=t;if(e!==0&&!gt(e))throw new TypeError("max option must be a nonnegative integer");const k=e?ms(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=v,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=T,this.#R=!!T,this.#a=new Map,this.#h=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Ct.create(e),this.#l=0,this.#f=0,typeof p=="function"&&(this.#n=p),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#n,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!P,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!F,this.maxEntrySize!==0){if(this.#s!==0&&!gt(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!gt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#D()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!c,this.ttlResolution=gt(i)||i===0?i:1,this.ttlAutopurge=!!n,this.ttl=s||0,this.ttl){if(!gt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const D="LRU_CACHE_UNBOUNDED";Oi(D)&&(us.add(D),ds("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,xe))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new ne(this.#t),e=new ne(this.#t);this.#O=t,this.#P=e,this.#r=(n,o,c=Bt.now())=>{if(e[n]=o!==0?c:0,t[n]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{this.#b(n)&&this.delete(this.#h[n])},o+1);l.unref&&l.unref()}},this.#T=n=>{e[n]=t[n]!==0?Bt.now():0},this.#E=(n,o)=>{if(t[o]){const c=t[o],l=e[o];n.ttl=c,n.start=l,n.now=s||i();const p=n.now-l;n.remainingTTL=c-p}};let s=0;const i=()=>{const n=Bt.now();if(this.ttlResolution>0){s=n;const o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{const o=this.#a.get(n);if(o===void 0)return 0;const c=t[o],l=e[o];if(c===0||l===0)return 1/0;const p=(s||i())-l;return c-p},this.#b=n=>t[n]!==0&&e[n]!==0&&(s||i())-e[n]>t[n]}#T=()=>{};#E=()=>{};#r=()=>{};#b=()=>!1;#D(){const t=new ne(this.#t);this.#f=0,this.#C=t,this.#v=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,i,n)=>{if(this.#c(s))return 0;if(!gt(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(s,e),!gt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#k=(e,s,i)=>{if(t[e]=s,this.#s){const n=this.#s-t[e];for(;this.#f>n;)this.#L(!0)}this.#f+=t[e],i&&(i.entrySize=s,i.totalCalculatedSize=this.#f)}}#v=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#A({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#h[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*rentries(){for(const t of this.#A())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#A()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#A())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;if(n!==void 0&&t(n,this.#h[s],this))return this.get(this.#h[s],e)}}forEach(t,e=this){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}rforEach(t,e=this){for(const s of this.#A()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}purgeStale(){let t=!1;for(const e of this.#A({allowStale:!0}))this.#b(e)&&(this.delete(this.#h[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#h[e],i=this.#e[e],n=this.#c(i)?i.__staleWhileFetching:i;if(n===void 0||s===void 0)continue;const o={value:n};if(this.#O&&this.#P){o.ttl=this.#O[e];const c=Bt.now()-this.#P[e];o.start=Math.floor(Date.now()-c)}this.#C&&(o.size=this.#C[e]),t.unshift([s,o])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const i=Date.now()-s.start;s.start=Bt.now()-i}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:l}=s;let{noUpdateTTL:p=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,c);if(this.maxEntrySize&&b>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#h[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,l),l&&(l.set="add"),p=!1;else{this.#j(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):o||(this.#S&&this.#n?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#v(g),this.#k(g,b,l),this.#e[g]=e,l){l.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(l.oldValue=w)}}else l&&(l.set="update")}if(i!==0&&!this.#O&&this.#M(),this.#O&&(p||this.#r(g,i,n),l&&this.#E(l,g)),!o&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#h[e],i=this.#e[e];return this.#R&&this.#c(i)?i.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,s,"evict"),this.#p&&this.#g?.push([i,s,"evict"])),this.#v(e),t&&(this.#h[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=e,n=this.#a.get(t);if(n!==void 0){const o=this.#e[n];if(this.#c(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(n))i&&(i.has="stale",this.#E(i,n));else return s&&this.#T(n),i&&(i.has="hit",this.#E(i,n)),!0}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,i=this.#a.get(t);if(i!==void 0&&(s||!this.#b(i))){const n=this.#e[i];return this.#c(n)?n.__staleWhileFetching:n}}#F(t,e,s,i){const n=e===void 0?void 0:this.#e[e];if(this.#c(n))return n;const o=new re,{signal:c}=s;c?.addEventListener("abort",()=>o.abort(c.reason),{signal:o.signal});const l={signal:o.signal,options:s,context:i},p=(v,T=!1)=>{const{aborted:O}=o.signal,A=s.ignoreFetchAbort&&v!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,A&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!A&&!T)return g(o.signal.reason);const P=w;return this.#e[e]===w&&(v===void 0?P.__staleWhileFetching?this.#e[e]=P.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,v,l.options))),v},b=v=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=v),g(v)),g=v=>{const{aborted:T}=o.signal,O=T&&s.allowStaleOnFetchAbort,A=O||s.allowStaleOnFetchRejection,P=A||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!P||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),A)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw v},y=(v,T)=>{const O=this.#o?.(t,n,l);O&&O instanceof Promise&&O.then(A=>v(A===void 0?void 0:A),T),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(v(void 0),s.allowStaleOnFetchAbort&&(v=A=>p(A,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(p,b),_=Object.assign(w,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,_,{...l.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof re}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:v,forceRefresh:T=!1,status:O,signal:A}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:O});const P={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:c,size:l,sizeCalculation:p,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:A};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const F=this.#F(t,R,P,v);return F.__returned=F}else{const F=this.#e[R];if(this.#c(F)){const st=s&&F.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",st&&(O.returnedStale=!0)),st?F.__staleWhileFetching:F.__returned=F}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#j(R),i&&this.#T(R),O&&this.#E(O,R),F;const D=this.#F(t,R,P,v),L=D.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?D.__staleWhileFetching:D.__returned=D}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,c=this.#a.get(t);if(c!==void 0){const l=this.#e[c],p=this.#c(l);return o&&this.#E(o,c),this.#b(c)?(o&&(o.get="stale"),p?(o&&s&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?l.__staleWhileFetching:void 0):(n||this.delete(t),o&&s&&(o.returnedStale=!0),s?l:void 0)):(o&&(o.get="hit"),p?l.__staleWhileFetching:(this.#j(c),i&&this.#T(c),l))}else o&&(o.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#j(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#v(s);const i=this.#e[s];this.#c(i)?i.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,t,"delete"),this.#p&&this.#g?.push([i,t,"delete"])),this.#a.delete(t),this.#h[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let i;for(;i=s?.shift();)this.#i?.(...i)}return e}clear(){for(const t of this.#A({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#h[t];this.#S&&this.#n?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#h.fill(void 0),this.#O&&this.#P&&(this.#O.fill(0),this.#P.fill(0)),this.#C&&this.#C.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}ie.LRUCache=xe;var gs={};(function(r){var t=it&&it.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(r,"__esModule",{value:!0}),r.Minipass=r.isWritable=r.isReadable=r.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=Ke,i=t(Je),n=Ze,o=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof i.default||(0,r.isReadable)(f)||(0,r.isWritable)(f));r.isStream=o;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==i.default.Writable.prototype.pipe;r.isReadable=c;const l=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";r.isWritable=l;const p=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),v=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),A=Symbol("encoding"),P=Symbol("decoder"),R=Symbol("flowing"),F=Symbol("paused"),k=Symbol("resume"),D=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),st=Symbol("bufferPush"),yt=Symbol("bufferShift"),z=Symbol("objectMode"),N=Symbol("destroyed"),Jt=Symbol("error"),Pt=Symbol("emitData"),Zt=Symbol("emitEnd"),Mt=Symbol("emitEnd2"),Q=Symbol("async"),q=Symbol("abort"),Ot=Symbol("aborted"),St=Symbol("signal"),lt=Symbol("dataListeners"),V=Symbol("discarded"),pt=f=>Promise.resolve().then(f),Se=f=>f(),Et=f=>f==="end"||f==="finish"||f==="prefinish",Ee=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,ve=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class Xt{src;dest;opts;ondrain;constructor(h,u,E){this.src=h,this.dest=u,this.opts=E,this.ondrain=()=>h[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(h){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends Xt{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(h,u,E){super(h,u,E),this.proxyErrors=C=>u.emit("error",C),h.on("error",this.proxyErrors)}}const a=f=>!!f.objectMode,d=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[F]=!1;[I]=[];[D]=[];[z];[A];[Q];[P];[p]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[St];[Ot]=!1;[lt]=0;[V]=!1;writable=!0;readable=!0;constructor(...h){const u=h[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");a(u)?(this[z]=!0,this[A]=null):d(u)?(this[A]=u.encoding,this[z]=!1):(this[z]=!1,this[A]=null),this[Q]=!!u.async,this[P]=this[A]?new n.StringDecoder(this[A]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[D]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:E}=u;E&&(this[St]=E,E.aborted?this[q]():E.addEventListener("abort",()=>this[q]()))}get bufferLength(){return this[L]}get encoding(){return this[A]}set encoding(h){throw new Error("Encoding must be set at instantiation time")}setEncoding(h){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[z]}set objectMode(h){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Q]}set async(h){this[Q]=this[Q]||!!h}[q](){this[Ot]=!0,this.emit("abort",this[St]?.reason),this.destroy(this[St]?.reason)}get aborted(){return this[Ot]}set aborted(h){}write(h,u,E){if(this[Ot])return!1;if(this[p])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(E=u,u="utf8"),u||(u="utf8");const C=this[Q]?pt:Se;if(!this[z]&&!Buffer.isBuffer(h)){if(ve(h))h=Buffer.from(h.buffer,h.byteOffset,h.byteLength);else if(Ee(h))h=Buffer.from(h);else if(typeof h!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[z]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):h.length?(typeof h=="string"&&!(u===this[A]&&!this[P]?.lastNeed)&&(h=Buffer.from(h,u)),Buffer.isBuffer(h)&&this[A]&&(h=this[P].write(h)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):(this[L]!==0&&this.emit("readable"),E&&C(E),this[R])}read(h){if(this[N])return null;if(this[V]=!1,this[L]===0||h===0||h&&h>this[L])return this[b](),null;this[z]&&(h=null),this[D].length>1&&!this[z]&&(this[D]=[this[A]?this[D].join(""):Buffer.concat(this[D],this[L])]);const u=this[v](h||null,this[D][0]);return this[b](),u}[v](h,u){if(this[z])this[yt]();else{const E=u;h===E.length||h===null?this[yt]():typeof E=="string"?(this[D][0]=E.slice(h),u=E.slice(0,h),this[L]-=h):(this[D][0]=E.subarray(h),u=E.subarray(0,h),this[L]-=h)}return this.emit("data",u),!this[D].length&&!this[p]&&this.emit("drain"),u}end(h,u,E){return typeof h=="function"&&(E=h,h=void 0),typeof u=="function"&&(E=u,u="utf8"),h!==void 0&&this.write(h,u),E&&this.once("end",E),this[p]=!0,this.writable=!1,(this[R]||!this[F])&&this[b](),this}[k](){this[N]||(!this[lt]&&!this[I].length&&(this[V]=!0),this[F]=!1,this[R]=!0,this.emit("resume"),this[D].length?this[T]():this[p]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[F]=!0,this[V]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[F]}[st](h){this[z]?this[L]+=1:this[L]+=h.length,this[D].push(h)}[yt](){return this[z]?this[L]-=1:this[L]-=this[D][0].length,this[D].shift()}[T](h=!1){do;while(this[O](this[yt]())&&this[D].length);!h&&!this[D].length&&!this[p]&&this.emit("drain")}[O](h){return this.emit("data",h),this[R]}pipe(h,u){if(this[N])return h;this[V]=!1;const E=this[g];return u=u||{},h===e.stdout||h===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,E?u.end&&h.end():(this[I].push(u.proxyErrors?new S(this,h,u):new Xt(this,h,u)),this[Q]?pt(()=>this[k]()):this[k]()),h}unpipe(h){const u=this[I].find(E=>E.dest===h);u&&(this[I].length===1?(this[R]&&this[lt]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(h,u){return this.on(h,u)}on(h,u){const E=super.on(h,u);if(h==="data")this[V]=!1,this[lt]++,!this[I].length&&!this[R]&&this[k]();else if(h==="readable"&&this[L]!==0)super.emit("readable");else if(Et(h)&&this[g])super.emit(h),this.removeAllListeners(h);else if(h==="error"&&this[w]){const C=u;this[Q]?pt(()=>C.call(this,this[w])):C.call(this,this[w])}return E}removeListener(h,u){return this.off(h,u)}off(h,u){const E=super.off(h,u);return h==="data"&&(this[lt]=this.listeners("data").length,this[lt]===0&&!this[V]&&!this[I].length&&(this[R]=!1)),E}removeAllListeners(h){const u=super.removeAllListeners(h);return(h==="data"||h===void 0)&&(this[lt]=0,!this[V]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[D].length===0&&this[p]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(h,...u){const E=u[0];if(h!=="error"&&h!=="close"&&h!==N&&this[N])return!1;if(h==="data")return!this[z]&&!E?!1:this[Q]?(pt(()=>this[Pt](E)),!0):this[Pt](E);if(h==="end")return this[Zt]();if(h==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(h==="error"){this[w]=E,super.emit(Jt,E);const M=!this[St]||this.listeners("error").length?super.emit("error",E):!1;return this[b](),M}else if(h==="resume"){const M=super.emit("resume");return this[b](),M}else if(h==="finish"||h==="prefinish"){const M=super.emit(h);return this.removeAllListeners(h),M}const C=super.emit(h,...u);return this[b](),C}[Pt](h){for(const E of this[I])E.dest.write(h)===!1&&this.pause();const u=this[V]?!1:super.emit("data",h);return this[b](),u}[Zt](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[Q]?(pt(()=>this[Mt]()),!0):this[Mt]())}[Mt](){if(this[P]){const u=this[P].end();if(u){for(const E of this[I])E.dest.write(u);this[V]||super.emit("data",u)}}for(const u of this[I])u.end();const h=super.emit("end");return this.removeAllListeners("end"),h}async collect(){const h=Object.assign([],{dataLength:0});this[z]||(h.dataLength=0);const u=this.promise();return this.on("data",E=>{h.push(E),this[z]||(h.dataLength+=E.length)}),await u,h}async concat(){if(this[z])throw new Error("cannot concat in objectMode");const h=await this.collect();return this[A]?h.join(""):Buffer.concat(h,h.dataLength)}async promise(){return new Promise((h,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",E=>u(E)),this.on("end",()=>h())})}[Symbol.asyncIterator](){this[V]=!1;let h=!1;const u=async()=>(this.pause(),h=!0,{value:void 0,done:!0});return{next:()=>{if(h)return u();const C=this.read();if(C!==null)return Promise.resolve({done:!1,value:C});if(this[p])return u();let M,j;const W=J=>{this.off("data",$),this.off("end",K),this.off(N,nt),u(),j(J)},$=J=>{this.off("error",W),this.off("end",K),this.off(N,nt),this.pause(),M({value:J,done:!!this[p]})},K=()=>{this.off("error",W),this.off("data",$),this.off(N,nt),u(),M({done:!0,value:void 0})},nt=()=>W(new Error("stream destroyed"));return new Promise((J,_e)=>{j=_e,M=J,this.once(N,nt),this.once("error",W),this.once("end",K),this.once("data",$)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[V]=!1;let h=!1;const u=()=>(this.pause(),this.off(Jt,u),this.off(N,u),this.off("end",u),h=!0,{done:!0,value:void 0}),E=()=>{if(h)return u();const C=this.read();return C===null?u():{done:!1,value:C}};return this.once("end",u),this.once(Jt,u),this.once(N,u),{next:E,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(h){if(this[N])return h?this.emit("error",h):this.emit(N),this;this[N]=!0,this[V]=!0,this[D].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),h?this.emit("error",h):this.emit(N),this}static get isStream(){return r.isStream}}r.Minipass=m})(gs);var Ti=it&&it.__createBinding||(Object.create?function(r,t,e,s){s===void 0&&(s=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,s,i)}:function(r,t,e,s){s===void 0&&(s=e),r[s]=t[e]}),Ri=it&&it.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Ai=it&&it.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&Ti(t,r,e);return Ri(t,r),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const ws=ie,he=Xs,Ci=Ve,Pi=Ai(Ye),It=Ye,Mi=It.realpathSync.native,oe=Qs,bs=gs,Wt={lstatSync:It.lstatSync,readdir:It.readdir,readdirSync:It.readdirSync,readlinkSync:It.readlinkSync,realpathSync:Mi,promises:{lstat:oe.lstat,readdir:oe.readdir,readlink:oe.readlink,realpath:oe.realpath}},ys=r=>!r||r===Wt||r===Pi?Wt:{...Wt,...r,promises:{...Wt.promises,...r.promises||{}}},Ss=/^\\\\\?\\([a-z]:)\\?$/i,Di=r=>r.replace(/\//g,"\\").replace(Ss,"$1\\"),Li=/[\\\/]/,tt=0,Es=1,vs=2,ht=4,_s=6,Os=8,vt=10,Ts=12,et=15,Gt=~et,Ce=16,Rs=32,xt=64,rt=128,ae=256,le=512,As=xt|rt|le,ji=1023,Pe=r=>r.isFile()?Os:r.isDirectory()?ht:r.isSymbolicLink()?vt:r.isCharacterDevice()?vs:r.isBlockDevice()?_s:r.isSocket()?Ts:r.isFIFO()?Es:tt,Cs=new Map,$t=r=>{const t=Cs.get(r);if(t)return t;const e=r.normalize("NFKD");return Cs.set(r,e),e},Ps=new Map,ce=r=>{const t=Ps.get(r);if(t)return t;const e=$t(r.toLowerCase());return Ps.set(r,e),e};class Me extends ws.LRUCache{constructor(){super({max:256})}}B.ResolveCache=Me;class Ms extends ws.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=Ms;const Ds=Symbol("PathScurry setAsCwd");class Y{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#n;get mode(){return this.#n}#i;get nlink(){return this.#i}#o;get uid(){return this.#o}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#h;get ino(){return this.#h}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#C;get mtime(){return this.#C}#P;get ctime(){return this.#P}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#E;#r;#b;#D;#v;get path(){return(this.parent||this).fullpath()}constructor(t,e=tt,s,i,n,o,c){this.name=t,this.#S=n?ce(t):$t(t),this.#r=e&ji,this.nocase=n,this.roots=i,this.root=s||this,this.#b=o,this.#p=c.fullpath,this.#T=c.relative,this.#E=c.relativePosix,this.parent=c.parent,this.parent?this.#t=this.parent.#t:this.#t=ys(c.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(i):this.#k(i)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#r&=~Ce,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),i=this.nocase?ce(t):$t(t);for(const l of s)if(l.#S===i)return l;const n=this.parent?this.sep:"",o=this.#p?this.#p+n+t:void 0,c=this.newChild(t,tt,{...e,parent:this,fullpath:o});return this.canReaddir()||(c.#r|=rt),s.push(c),c}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#E!==void 0)return this.#E;const t=this.name,e=this.parent;if(!e)return this.#E=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=i}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#M=`//?/${i}`:this.#M=i}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#r&et)===tt}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&et)===Os}isDirectory(){return(this.#r&et)===ht}isCharacterDevice(){return(this.#r&et)===vs}isBlockDevice(){return(this.#r&et)===_s}isFIFO(){return(this.#r&et)===Es}isSocket(){return(this.#r&et)===Ts}isSymbolicLink(){return(this.#r&vt)===vt}lstatCached(){return this.#r&Rs?this:void 0}readlinkCached(){return this.#D}realpathCached(){return this.#v}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#D)return!0;if(!this.parent)return!1;const t=this.#r&et;return!(t!==tt&&t!==vt||this.#r&ae||this.#r&rt)}calledReaddir(){return!!(this.#r&Ce)}isENOENT(){return!!(this.#r&rt)}isNamed(t){return this.nocase?this.#S===ce(t):this.#S===$t(t)}async readlink(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}#N(t){this.#r|=Ce;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#r&rt||(this.#r=(this.#r|rt)&Gt,this.#A())}#A(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#r|=le,this.#L()}#L(){if(this.#r&xt)return;let t=this.#r;(t&et)===ht&&(t&=Gt),this.#r=t|xt,this.#A()}#F(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#r;e|=ae,t==="ENOENT"&&(e|=rt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Gt),this.#r=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#j(t,e){return this.#U(t,e)||this.#z(t,e)}#z(t,e){const s=Pe(t),i=this.newChild(t.name,s,{parent:this}),n=i.#r&et;return n!==ht&&n!==vt&&n!==tt&&(i.#r|=xt),e.unshift(i),e.provisional++,i}#U(t,e){for(let s=e.provisional;s<e.length;s++){const i=e[s];if((this.nocase?ce(t.name):$t(t.name))===i.#S)return this.#H(t,i,s,e)}}#H(t,e,s,i){const n=e.name;return e.#r=e.#r&Gt|Pe(t),n!==t.name&&(e.name=t.name),s!==i.provisional&&(s===i.length-1?i.pop():i.splice(s,1),i.unshift(e)),i.provisional++,e}async lstat(){if(!(this.#r&rt))try{return this.#$(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#r&rt))try{return this.#$(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#$(t){const{atime:e,atimeMs:s,birthtime:i,birthtimeMs:n,blksize:o,blocks:c,ctime:l,ctimeMs:p,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:v,nlink:T,rdev:O,size:A,uid:P}=t;this.#g=e,this.#w=s,this.#O=i,this.#y=n,this.#a=o,this.#m=c,this.#P=l,this.#u=p,this.#s=b,this.#l=g,this.#h=y,this.#n=w,this.#C=_,this.#d=v,this.#i=T,this.#f=O,this.#e=A,this.#o=P;const R=Pe(t);this.#r=this.#r&Gt|R|Rs,R!==tt&&R!==ht&&R!==vt&&(this.#r|=xt)}#G=[];#x=!1;#q(t){this.#x=!1;const e=this.#G.slice();this.#G.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const n=s.slice(0,s.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#G.push(t),this.#x)return;this.#x=!0;const i=this.fullpath();this.#t.readdir(i,{withFileTypes:!0},(n,o)=>{if(n)this.#F(n.code),s.provisional=0;else{for(const c of o)this.#j(c,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(i=>s=i);try{for(const i of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#j(i,t);this.#N(t)}catch(i){this.#F(i.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#j(s,t);this.#N(t)}catch(s){this.#F(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#r&As)return!1;const t=et&this.#r;return t===tt||t===ht||t===vt}shouldWalk(t,e){return(this.#r&ht)===ht&&!(this.#r&As)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=this.#t.realpathSync(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}[Ds](t){if(t===this)return;const e=new Set([]);let s=[],i=this;for(;i&&i.parent;)e.add(i),i.#T=s.join(this.sep),i.#E=s.join("/"),i=i.parent,s.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#T=void 0,i.#E=void 0,i=i.parent}}B.PathBase=Y;class Yt extends Y{sep="\\";splitSep=Li;constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}newChild(t,e=tt,s={}){return new Yt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return he.win32.parse(t).root}getRoot(t){if(t=Di(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Le(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Ss,"$1\\"),t===e}}B.PathWin32=Yt;class Kt extends Y{splitSep="/";sep="/";constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=tt,s={}){return new Kt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=Kt;class De{root;rootPath;roots;cwd;#t;#s;#n;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:i,childrenCacheSize:n=16*1024,fs:o=Wt}={}){this.#i=ys(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Ci.fileURLToPath)(t));const c=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(c),this.#t=new Me,this.#s=new Me,this.#n=new Ms(n);const l=c.substring(this.rootPath.length).split(s);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let p=this.root,b=l.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of l){const v=b--;p=p.child(_,{relative:new Array(v).fill("..").join(g),relativePosix:new Array(v).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=p}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#n}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#t.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpath();return this.#t.set(e,i),i}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#s.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,i),i}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const i=await t.readdir();return s?i:i.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(i=>i.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set,p=(g,y)=>{l.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let v=_.length;if(!v)return y();const T=()=>{--v===0&&y()};for(const O of _)(!n||n(O))&&c.push(s?O:O.fullpath()),i&&O.isSymbolicLink()?O.realpath().then(A=>A?.isUnknown()?A.lstat():A).then(A=>A?.shouldWalk(l,o)?p(A,T):T()):O.shouldWalk(l,o)?p(O,T):T()},!0)},b=t;return new Promise((g,y)=>{p(b,w=>{if(w)return y(w);g(c)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set([t]);for(const p of l){const b=p.readdirSync();for(const g of b){(!n||n(g))&&c.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(i&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(l,o)&&l.add(y)}}return c}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield s?t:t.fullpath());const c=new Set([t]);for(const l of c){const p=l.readdirSync();for(const b of p){(!n||n(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(i&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(c,o)&&c.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0});(!n||n(t))&&c.write(s?t:t.fullpath());const l=new Set,p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=(T,O,A=!1)=>{if(T)return c.emit("error",T);if(i&&!A){const P=[];for(const R of O)R.isSymbolicLink()&&P.push(R.realpath().then(F=>F?.isUnknown()?F.lstat():F));if(P.length){Promise.all(P).then(()=>_(null,O,!0));return}}for(const P of O)P&&(!n||n(P))&&(c.write(s?P:P.fullpath())||(y=!0));b--;for(const P of O){const R=P.realpathCached()||P;R.shouldWalk(l,o)&&p.push(R)}y&&!c.flowing?c.once("drain",g):v||g()};let v=!0;w.readdirCB(_,!0),v=!1}};return g(),c}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0}),l=new Set;(!n||n(t))&&c.write(s?t:t.fullpath());const p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=w.readdirSync();for(const v of _)(!n||n(v))&&(c.write(s?v:v.fullpath())||(y=!0));b--;for(const v of _){let T=v;if(v.isSymbolicLink()){if(!(i&&(T=v.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(l,o)&&p.push(T)}}y&&!c.flowing&&c.once("drain",g)};return g(),c}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[Ds](e)}}B.PathScurryBase=De;class Le extends De{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,he.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(t){return he.win32.parse(t).root.toUpperCase()}newRoot(t){return new Yt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Le;class je extends De{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,he.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Kt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=je;class Ls extends je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=Ls,B.Path=process.platform==="win32"?Yt:Kt,B.PathScurry=process.platform==="win32"?Le:process.platform==="darwin"?Ls:je;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.Pattern=void 0;const Fi=mt,ki=r=>r.length>=1,Ni=r=>r.length>=1;class $e{#t;#s;#n;length;#i;#o;#l;#f;#a;#h;#e=!0;constructor(t,e,s,i){if(!ki(t))throw new TypeError("empty pattern list");if(!Ni(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#n=s,this.#i=i,this.#n===0){if(this.isUNC()){const[n,o,c,l,...p]=this.#t,[b,g,y,w,..._]=this.#s;p[0]===""&&(p.shift(),_.shift());const v=[n,o,c,l,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[v,...p],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[n,...o]=this.#t,[c,...l]=this.#s;o[0]===""&&(o.shift(),l.shift());const p=n+"/",b=c+"/";this.#t=[p,...o],this.#s=[b,...l],this.length=this.#t.length}}}pattern(){return this.#t[this.#n]}isString(){return typeof this.#t[this.#n]=="string"}isGlobstar(){return this.#t[this.#n]===Fi.GLOBSTAR}isRegExp(){return this.#t[this.#n]instanceof RegExp}globString(){return this.#l=this.#l||(this.#n===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new $e(this.#t,this.#s,this.#n+1,this.#i),this.#o.#h=this.#h,this.#o.#a=this.#a,this.#o.#f=this.#f,this.#o):this.#o=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#n===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#n===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#h!==void 0?this.#h:this.#h=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#n===0?t:""}checkFollowGlobstar(){return!(this.#n===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#n===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}zt.Pattern=$e;var wt={},js={};const Fs=typeof process=="object"&&process?process:{stdout:null,stderr:null},Bi=Ke,ks=Je,Ii=Ze,Ns=Ii.StringDecoder,ct=Symbol("EOF"),ft=Symbol("maybeEmitEnd"),bt=Symbol("emittedEnd"),fe=Symbol("emittingEnd"),Ut=Symbol("emittedError"),ue=Symbol("closed"),Bs=Symbol("read"),de=Symbol("flush"),Is=Symbol("flushChunk"),Z=Symbol("encoding"),ut=Symbol("decoder"),pe=Symbol("flowing"),Ht=Symbol("paused"),At=Symbol("resume"),G=Symbol("buffer"),ot=Symbol("pipes"),U=Symbol("bufferLength"),Fe=Symbol("bufferPush"),ke=Symbol("bufferShift"),H=Symbol("objectMode"),x=Symbol("destroyed"),Ne=Symbol("error"),Be=Symbol("emitData"),Ws=Symbol("emitEnd"),Ie=Symbol("emitEnd2"),dt=Symbol("async"),We=Symbol("abort"),me=Symbol("aborted"),_t=Symbol("signal"),qt=r=>Promise.resolve().then(r),Gs=it._MP_NO_ITERATOR_SYMBOLS_!=="1",xs=Gs&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$s=Gs&&Symbol.iterator||Symbol("iterator not implemented"),Wi=r=>r==="end"||r==="finish"||r==="prefinish",Gi=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,xi=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r);class zs{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[At](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class $i extends zs{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=i=>e.emit("error",i),t.on("error",this.proxyErrors)}}class ze extends ks{constructor(t){super(),this[pe]=!1,this[Ht]=!1,this[ot]=[],this[G]=[],this[H]=t&&t.objectMode||!1,this[H]?this[Z]=null:this[Z]=t&&t.encoding||null,this[Z]==="buffer"&&(this[Z]=null),this[dt]=t&&!!t.async||!1,this[ut]=this[Z]?new Ns(this[Z]):null,this[ct]=!1,this[bt]=!1,this[fe]=!1,this[ue]=!1,this[Ut]=null,this.writable=!0,this.readable=!0,this[U]=0,this[x]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[G]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ot]}),this[_t]=t&&t.signal,this[me]=!1,this[_t]&&(this[_t].addEventListener("abort",()=>this[We]()),this[_t].aborted&&this[We]())}get bufferLength(){return this[U]}get encoding(){return this[Z]}set encoding(t){if(this[H])throw new Error("cannot set encoding in objectMode");if(this[Z]&&t!==this[Z]&&(this[ut]&&this[ut].lastNeed||this[U]))throw new Error("cannot change encoding");this[Z]!==t&&(this[ut]=t?new Ns(t):null,this[G].length&&(this[G]=this[G].map(e=>this[ut].write(e)))),this[Z]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[H]}set objectMode(t){this[H]=this[H]||!!t}get async(){return this[dt]}set async(t){this[dt]=this[dt]||!!t}[We](){this[me]=!0,this.emit("abort",this[_t].reason),this.destroy(this[_t].reason)}get aborted(){return this[me]}set aborted(t){}write(t,e,s){if(this[me])return!1;if(this[ct])throw new Error("write after end");if(this[x])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const i=this[dt]?qt:n=>n();return!this[H]&&!Buffer.isBuffer(t)&&(xi(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gi(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[H]?(this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[Z]&&!this[ut].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[Z]&&(t=this[ut].write(t)),this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):(this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing)}read(t){if(this[x])return null;if(this[U]===0||t===0||t>this[U])return this[ft](),null;this[H]&&(t=null),this[G].length>1&&!this[H]&&(this.encoding?this[G]=[this[G].join("")]:this[G]=[Buffer.concat(this[G],this[U])]);const e=this[Bs](t||null,this[G][0]);return this[ft](),e}[Bs](t,e){return t===e.length||t===null?this[ke]():(this[G][0]=e.slice(t),e=e.slice(0,t),this[U]-=t),this.emit("data",e),!this[G].length&&!this[ct]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[ct]=!0,this.writable=!1,(this.flowing||!this[Ht])&&this[ft](),this}[At](){this[x]||(this[Ht]=!1,this[pe]=!0,this.emit("resume"),this[G].length?this[de]():this[ct]?this[ft]():this.emit("drain"))}resume(){return this[At]()}pause(){this[pe]=!1,this[Ht]=!0}get destroyed(){return this[x]}get flowing(){return this[pe]}get paused(){return this[Ht]}[Fe](t){this[H]?this[U]+=1:this[U]+=t.length,this[G].push(t)}[ke](){return this[H]?this[U]-=1:this[U]-=this[G][0].length,this[G].shift()}[de](t){do;while(this[Is](this[ke]())&&this[G].length);!t&&!this[G].length&&!this[ct]&&this.emit("drain")}[Is](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[x])return;const s=this[bt];return e=e||{},t===Fs.stdout||t===Fs.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ot].push(e.proxyErrors?new $i(this,t,e):new zs(this,t,e)),this[dt]?qt(()=>this[At]()):this[At]()),t}unpipe(t){const e=this[ot].find(s=>s.dest===t);e&&(this[ot].splice(this[ot].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ot].length&&!this.flowing?this[At]():t==="readable"&&this[U]!==0?super.emit("readable"):Wi(t)&&this[bt]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Ut]&&(this[dt]?qt(()=>e.call(this,this[Ut])):e.call(this,this[Ut])),s}get emittedEnd(){return this[bt]}[ft](){!this[fe]&&!this[bt]&&!this[x]&&this[G].length===0&&this[ct]&&(this[fe]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ue]&&this.emit("close"),this[fe]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==x&&this[x])return;if(t==="data")return!this[H]&&!e?!1:this[dt]?qt(()=>this[Be](e)):this[Be](e);if(t==="end")return this[Ws]();if(t==="close"){if(this[ue]=!0,!this[bt]&&!this[x])return;const n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[Ut]=e,super.emit(Ne,e);const n=!this[_t]||this.listeners("error").length?super.emit("error",e):!1;return this[ft](),n}else if(t==="resume"){const n=super.emit("resume");return this[ft](),n}else if(t==="finish"||t==="prefinish"){const n=super.emit(t);return this.removeAllListeners(t),n}const i=super.emit(t,e,...s);return this[ft](),i}[Be](t){for(const s of this[ot])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[ft](),e}[Ws](){this[bt]||(this[bt]=!0,this.readable=!1,this[dt]?qt(()=>this[Ie]()):this[Ie]())}[Ie](){if(this[ut]){const e=this[ut].end();if(e){for(const s of this[ot])s.dest.write(e);super.emit("data",e)}}for(const e of this[ot])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[H]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[H]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[H]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[H]?Promise.reject(new Error("cannot concat in objectMode")):this[Z]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(x,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[xs](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[ct])return e();let n=null,o=null;const c=g=>{this.removeListener("data",l),this.removeListener("end",p),this.removeListener(x,b),e(),o(g)},l=g=>{this.removeListener("error",c),this.removeListener("end",p),this.removeListener(x,b),this.pause(),n({value:g,done:!!this[ct]})},p=()=>{this.removeListener("error",c),this.removeListener("data",l),this.removeListener(x,b),e(),n({done:!0})},b=()=>c(new Error("stream destroyed"));return new Promise((g,y)=>{o=y,n=g,this.once(x,b),this.once("error",c),this.once("end",p),this.once("data",l)})},throw:e,return:e,[xs](){return this}}}[$s](){let t=!1;const e=()=>(this.pause(),this.removeListener(Ne,e),this.removeListener(x,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const i=this.read();return i===null?e():{value:i}};return this.once("end",e),this.once(Ne,e),this.once(x,e),{next:s,throw:e,return:e,[$s](){return this}}}destroy(t){return this[x]?(t?this.emit("error",t):this.emit(x),this):(this[x]=!0,this[G].length=0,this[U]=0,typeof this.close=="function"&&!this[ue]&&this.close(),t?this.emit("error",t):this.emit(x),this)}static isStream(t){return!!t&&(t instanceof ze||t instanceof ks||t instanceof Bi&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}js.Minipass=ze;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.Ignore=void 0;const Us=mt,zi=zt,Ui=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Hi{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:i,noglobstar:n,platform:o=Ui}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const c={dot:!0,nobrace:e,nocase:s,noext:i,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(const l of t){const p=new Us.Minimatch(l,c);for(let b=0;b<p.set.length;b++){const g=p.set[b],y=p.globParts[b],w=new zi.Pattern(g,y,0,o),_=new Us.Minimatch(w.globString(),c),v=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),v&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,i=t.relative()||".",n=`${i}/`;for(const o of this.relative)if(o.match(i)||o.match(n))return!0;for(const o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const i of this.relativeChildren)if(i.match(s))return!0;for(const i of this.absoluteChildren)i.match(e);return!1}}ge.Ignore=Hi;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.Processor=at.SubWalks=at.MatchRecord=at.HasWalkedCache=void 0;const Hs=mt;class ye{store;constructor(t=new Map){this.store=t}copy(){return new ye(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),i=this.store.get(s);i?i.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}at.HasWalkedCache=ye;class qs{store=new Map;add(t,e,s){const i=(e?2:0)|(s?1:0),n=this.store.get(t);this.store.set(t,n===void 0?i:i&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}at.MatchRecord=qs;class Vs{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(i=>i.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}at.SubWalks=Vs;class Ue{hasWalkedCache;matches=new qs;subwalks=new Vs;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new ye}processPatterns(t,e){this.patterns=e;const s=e.map(i=>[t,i]);for(let[i,n]of s){this.hasWalkedCache.storeWalked(i,n);const o=n.root(),c=n.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);const g=n.rest();if(g)n=g;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,p,b=!1;for(;typeof(l=n.pattern())=="string"&&(p=n.rest());){const g=i.resolve(l);if(g.isUnknown()&&l!=="..")break;i=g,n=p,b=!0}if(l=n.pattern(),p=n.rest(),b){if(this.hasWalkedCache.hasWalked(i,n))continue;this.hasWalkedCache.storeWalked(i,n)}if(typeof l=="string"){if(p)this.subwalks.add(i,n);else{const g=l===".."||l===""||l===".";this.matches.add(i.resolve(l),c,g)}continue}else if(l===Hs.GLOBSTAR){(!i.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(i,n);const g=p?.pattern(),y=p?.rest();if(!p||(g===""||g===".")&&!y)this.matches.add(i,c,g===""||g===".");else if(g===".."){const w=i.parent||i;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,c,!0)}}else l instanceof RegExp&&this.subwalks.add(i,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Ue(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),i=this.child();for(const n of e)for(const o of s){const c=o.isAbsolute(),l=o.pattern(),p=o.rest();l===Hs.GLOBSTAR?i.testGlobstar(n,o,p,c):l instanceof RegExp?i.testRegExp(n,l,p,c):i.testString(n,l,p,c)}return i}testGlobstar(t,e,s,i){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const n=s.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,s.rest(),i);else if(n===".."){const o=t.parent||t;this.subwalks.add(o,s)}else n instanceof RegExp&&this.testRegExp(t,n,s.rest(),i)}}testRegExp(t,e,s,i){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}testString(t,e,s,i){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}}at.Processor=Ue,Object.defineProperty(wt,"__esModule",{value:!0}),wt.GlobStream=wt.GlobWalker=wt.GlobUtil=void 0;const qi=js,Ys=ge,Ks=at,Vi=(r,t)=>typeof r=="string"?new Ys.Ignore([r],t):Array.isArray(r)?new Ys.Ignore(r,t):r;class Ge{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#n;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#n=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=Vi(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#o(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?this.#n:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+i)}else{const n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#n)?"."+this.#n:"";this.matchEmit(n?o+n+i:"."+i)}}async match(t,e,s){const i=await this.matchCheck(t,s);i&&this.matchFinish(i,e)}matchSync(t,e,s){const i=this.matchCheckSync(t,s);i&&this.matchFinish(i,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new Ks.Processor(this.opts),s)}walkCB2(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirCached();c.calledReaddir()?this.walkCB3(c,l,s,o):c.readdirCB((p,b)=>this.walkCB3(c,b,s,o),!0)}o()}walkCB3(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const[c,l]of s.subwalks.entries())n++,this.walkCB2(c,l,s.child(),o);o()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new Ks.Processor(this.opts),s)}walkCB2Sync(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirSync();this.walkCB3Sync(c,l,s,o)}o()}walkCB3Sync(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const[c,l]of s.subwalks.entries())n++,this.walkCB2Sync(c,l,s.child(),o);o()}}wt.GlobUtil=Ge;class Yi extends Ge{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}wt.GlobWalker=Yi;class Ki extends Ge{results;constructor(t,e,s){super(t,e,s),this.results=new qi.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}wt.GlobStream=Ki,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.Glob=void 0;const Ji=mt,we=B,Zi=Ve,Xi=zt,be=wt,Qi=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class tr{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Zi.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=t,this.platform=e.platform||Qi,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const l=e.platform==="win32"?we.PathScurryWin32:e.platform==="darwin"?we.PathScurryDarwin:e.platform?we.PathScurryPosix:we.PathScurry;this.scurry=new l(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(l=>new Ji.Minimatch(l,i)),[o,c]=n.reduce((l,p)=>(l[0].push(...p.set),l[1].push(...p.globParts),l),[[],[]]);this.patterns=o.map((l,p)=>new Xi.Pattern(l,c[p],0,this.platform))}async walk(){return[...await new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Nt.Glob=tr;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.hasMagic=void 0;const er=mt,sr=(r,t={})=>{Array.isArray(r)||(r=[r]);for(const e of r)if(new er.Minimatch(e,t).hasMagic())return!0;return!1};Vt.hasMagic=sr,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.glob=r.hasMagic=r.Glob=r.unescape=r.escape=r.sync=r.iterate=r.iterateSync=r.stream=r.streamSync=r.globIterate=r.globIterateSync=r.globSync=r.globStream=r.globStreamSync=void 0;const t=mt,e=Nt,s=Vt;function i(w,_={}){return new e.Glob(w,_).streamSync()}r.globStreamSync=i;function n(w,_={}){return new e.Glob(w,_).stream()}r.globStream=n;function o(w,_={}){return new e.Glob(w,_).walkSync()}r.globSync=o;async function c(w,_={}){return new e.Glob(w,_).walk()}function l(w,_={}){return new e.Glob(w,_).iterateSync()}r.globIterateSync=l;function p(w,_={}){return new e.Glob(w,_).iterate()}r.globIterate=p,r.streamSync=i,r.stream=Object.assign(n,{sync:i}),r.iterateSync=l,r.iterate=Object.assign(p,{sync:l}),r.sync=Object.assign(o,{stream:i,iterate:l});var b=mt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Nt;Object.defineProperty(r,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=Vt;Object.defineProperty(r,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),r.glob=Object.assign(c,{glob:c,globSync:o,sync:r.sync,globStream:n,stream:r.stream,globStreamSync:i,streamSync:r.streamSync,globIterate:p,iterate:r.iterate,globIterateSync:l,iterateSync:r.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),r.glob.glob=r.glob}(Xe);const{globSync:ir}=Xe;var rr=function(){return function(t){if(directoryExists(t))return!0;const e=t.replace(/\/__virtual__:.*$/,"");return ir(e+"/").length>0}},nr=ti(rr);module.exports=nr;
+;return module.exports()})({}),
       createDirectory(directoryName) {
         if (!nodeSystem.directoryExists(directoryName)) {
           try {
@@ -38919,7 +39091,20 @@ function tryLoadModuleUsingPaths(extensions, moduleName, baseDirectory, paths, p
       trace(state.host, Diagnostics.Module_name_0_matched_pattern_1, moduleName, matchedPatternText);
     }
     const resolved = forEach(paths[matchedPatternText], (subst) => {
-      const path = matchedStar ? subst.replace("*", matchedStar) : subst;
+      const unreplacedPath = (matchedStar ? subst.replace("*", matchedStar) : subst);
+let path;
+if (unreplacedPath.includes('./<packagePath>')) {
+	path = unreplacedPath.replace('./<packagePath>', getPackagePath(state.requestContainingDirectory))
+} else {
+	path = unreplacedPath
+}
+
+if (path.includes('./<dirname>')) {
+	path = path.replace(
+		'./<dirname>',
+		state.requestContainingDirectory
+	)
+}
       const candidate = normalizePath(combinePaths(baseDirectory, path));
       if (state.traceEnabled) {
         trace(state.host, Diagnostics.Trying_substitution_0_candidate_module_location_Colon_1, subst, path);
@@ -117644,7 +117829,7 @@ function createProgram(rootNamesOrOptions, _options, _host, _oldProgram, _config
     if (options.composite) {
       const rootPaths = new Set(rootNames.map(toPath3));
       for (const file of files) {
-        if (sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
+        if (!require('path').basename(file.path).startsWith('__virtual__:') && require('path').basename(file.path) !== 'package.json' && sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
           addProgramDiagnosticExplainingFile(
             file,
             Diagnostics.File_0_is_not_listed_within_the_file_list_of_project_1_Projects_must_list_all_files_or_use_an_include_pattern,
diff --git a/lib/tsserver.js b/lib/tsserver.js
index 382e1e2937fd02bed4c84b52f366049f2060ef1f..96dc9867acbdecfbea1affd219513b12e93a5d6a 100644
--- a/lib/tsserver.js
+++ b/lib/tsserver.js
@@ -14,7 +14,171 @@ and limitations under the License.
 ***************************************************************************** */
 
 
-"use strict";
+"use strict";var getPackagePath = ((module) => {"use strict";var _t=require("fs"),pa=require("url"),Gn=require("os"),ve=require("path"),Tr=require("util"),Vt=require("stream"),ga=require("events"),ma=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ya(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function _a(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}),t}var X={},z={};function Re(n=""){return!n||!n.includes("\\")?n:n.replace(/\\/g,"/")}const ba=/^[/\\]{2}/,Sa=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,Rr=/^[A-Za-z]:$/,Pr="/",Nr=":",Wn=function(n){if(n.length===0)return".";n=Re(n);const e=n.match(ba),t=qe(n),s=n[n.length-1]==="/";return n=Gt(n,!t),n.length===0?t?"/":s?"./":".":(s&&(n+="/"),Rr.test(n)&&(n+="/"),e?t?`//${n}`:`//./${n}`:t&&!qe(n)?`/${n}`:n)},Cr=function(...n){if(n.length===0)return".";let e;for(const t of n)t&&t.length>0&&(e===void 0?e=t:e+=`/${t}`);return e===void 0?".":Wn(e.replace(/\/\/+/g,"/"))};function wa(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const bt=function(...n){n=n.map(s=>Re(s));let e="",t=!1;for(let s=n.length-1;s>=-1&&!t;s--){const r=s>=0?n[s]:wa();!r||r.length===0||(e=`${r}/${e}`,t=qe(r))}return e=Gt(e,!t),t&&!qe(e)?`/${e}`:e.length>0?e:"."};function Gt(n,e){let t="",s=0,r=-1,i=0,o=null;for(let a=0;a<=n.length;++a){if(a<n.length)o=n[a];else{if(o==="/")break;o="/"}if(o==="/"){if(!(r===a-1||i===1))if(i===2){if(t.length<2||s!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const l=t.lastIndexOf("/");l===-1?(t="",s=0):(t=t.slice(0,l),s=t.length-1-t.lastIndexOf("/")),r=a,i=0;continue}else if(t.length>0){t="",s=0,r=a,i=0;continue}}e&&(t+=t.length>0?"/..":"..",s=2)}else t.length>0?t+=`/${n.slice(r+1,a)}`:t=n.slice(r+1,a),s=a-r-1;r=a,i=0}else o==="."&&i!==-1?++i:i=-1}return t}const qe=function(n){return Sa.test(n)},Lr=function(n){return Re(n)},Ea=/.(\.[^./]+)$/,Yn=function(n){const e=Ea.exec(Re(n));return e&&e[1]||""},Ir=function(n,e){const t=bt(n).split("/"),s=bt(e).split("/"),r=[...t];for(const i of r){if(s[0]!==i)break;t.shift(),s.shift()}return[...t.map(()=>".."),...s].join("/")},Qn=function(n){const e=Re(n).replace(/\/$/,"").split("/").slice(0,-1);return e.length===1&&Rr.test(e[0])&&(e[0]+="/"),e.join("/")||(qe(n)?"/":".")},Mr=function(n){const e=[n.root,n.dir,n.base??n.name+n.ext].filter(Boolean);return Re(n.root?bt(...e):e.join("/"))},Jn=function(n,e){const t=Re(n).split("/").pop();return e&&t.endsWith(e)?t.slice(0,-e.length):t},Dr=function(n){const e=Re(n).split("/").shift()||"/",t=Jn(n),s=Yn(t);return{root:e,dir:Qn(n),base:t,ext:s,name:t.slice(0,t.length-s.length)}},Aa={__proto__:null,basename:Jn,delimiter:Nr,dirname:Qn,extname:Yn,format:Mr,isAbsolute:qe,join:Cr,normalize:Wn,normalizeString:Gt,parse:Dr,relative:Ir,resolve:bt,sep:Pr,toNamespacedPath:Lr};z.basename=Jn,z.delimiter=Nr,z.dirname=Qn,z.extname=Yn,z.format=Mr,z.isAbsolute=qe,z.join=Cr,z.normalize=Wn,z.normalizeString=Gt,z.normalizeWindowsPath=Re,z.parse=Dr,z.path=Aa,z.relative=Ir,z.resolve=bt,z.sep=Pr,z.toNamespacedPath=Lr,Object.defineProperty(X,"__esModule",{value:!0});const se=z;X.basename=se.basename,X.default=se.path,X.delimiter=se.delimiter,X.dirname=se.dirname,X.extname=se.extname,X.format=se.format,X.isAbsolute=se.isAbsolute,X.join=se.join,X.normalize=se.normalize,X.normalizeString=se.normalizeString,X.parse=se.parse,X.relative=se.relative,X.resolve=se.resolve,X.sep=se.sep,X.toNamespacedPath=se.toNamespacedPath;var va=Object.create,Wt=Object.defineProperty,ka=Object.getOwnPropertyDescriptor,Oa=Object.getOwnPropertyNames,$a=Object.getPrototypeOf,Ta=Object.prototype.hasOwnProperty,Ra=(n,e)=>{for(var t in e)Wt(n,t,{get:e[t],enumerable:!0})},xr=(n,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Oa(e))!Ta.call(n,r)&&r!==t&&Wt(n,r,{get:()=>e[r],enumerable:!(s=ka(e,r))||s.enumerable});return n},Br=(n,e,t)=>(t=n!=null?va($a(n)):{},xr(e||!n||!n.__esModule?Wt(t,"default",{value:n,enumerable:!0}):t,n)),Pa=n=>xr(Wt({},"__esModule",{value:!0}),n),jr={};Ra(jr,{getMonorepoDirpath:()=>La});var Na=Pa(jr),Xn=Br(_t),Yt=Br(X),Ca=pa;function La(n=process.cwd()){n=n.startsWith("file://")?(0,Ca.fileURLToPath)(n):n,Xn.statSync(n).isFile()&&(n=Yt.default.dirname(n));let e;for(;n!=="/";){const t=Xn.existsSync(Yt.default.join(n,"pnpm-workspace.yaml"));if(Xn.existsSync(Yt.default.join(n,"pnpm-lock.yaml"))&&(e=n),t)return n;n=Yt.default.dirname(n)}return e}var Fr={};const zn=Symbol.for("yaml.alias"),Zn=Symbol.for("yaml.document"),De=Symbol.for("yaml.map"),Hr=Symbol.for("yaml.pair"),Pe=Symbol.for("yaml.scalar"),tt=Symbol.for("yaml.seq"),fe=Symbol.for("yaml.node.type"),xe=n=>!!n&&typeof n=="object"&&n[fe]===zn,Ve=n=>!!n&&typeof n=="object"&&n[fe]===Zn,Ge=n=>!!n&&typeof n=="object"&&n[fe]===De,H=n=>!!n&&typeof n=="object"&&n[fe]===Hr,x=n=>!!n&&typeof n=="object"&&n[fe]===Pe,We=n=>!!n&&typeof n=="object"&&n[fe]===tt;function K(n){if(n&&typeof n=="object")switch(n[fe]){case De:case tt:return!0}return!1}function G(n){if(n&&typeof n=="object")switch(n[fe]){case zn:case De:case Pe:case tt:return!0}return!1}const Ia=n=>(x(n)||K(n))&&!!n.anchor,ie=Symbol("break visit"),Kr=Symbol("skip children"),ke=Symbol("remove node");function Ne(n,e){const t=Ur(e);Ve(n)?nt(null,n.contents,t,Object.freeze([n]))===ke&&(n.contents=null):nt(null,n,t,Object.freeze([]))}Ne.BREAK=ie,Ne.SKIP=Kr,Ne.REMOVE=ke;function nt(n,e,t,s){const r=qr(n,e,t,s);if(G(r)||H(r))return Vr(n,s,r),nt(n,r,t,s);if(typeof r!="symbol"){if(K(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const o=nt(i,e.items[i],t,s);if(typeof o=="number")i=o-1;else{if(o===ie)return ie;o===ke&&(e.items.splice(i,1),i-=1)}}}else if(H(e)){s=Object.freeze(s.concat(e));const i=nt("key",e.key,t,s);if(i===ie)return ie;i===ke&&(e.key=null);const o=nt("value",e.value,t,s);if(o===ie)return ie;o===ke&&(e.value=null)}}return r}async function St(n,e){const t=Ur(e);Ve(n)?await st(null,n.contents,t,Object.freeze([n]))===ke&&(n.contents=null):await st(null,n,t,Object.freeze([]))}St.BREAK=ie,St.SKIP=Kr,St.REMOVE=ke;async function st(n,e,t,s){const r=await qr(n,e,t,s);if(G(r)||H(r))return Vr(n,s,r),st(n,r,t,s);if(typeof r!="symbol"){if(K(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const o=await st(i,e.items[i],t,s);if(typeof o=="number")i=o-1;else{if(o===ie)return ie;o===ke&&(e.items.splice(i,1),i-=1)}}}else if(H(e)){s=Object.freeze(s.concat(e));const i=await st("key",e.key,t,s);if(i===ie)return ie;i===ke&&(e.key=null);const o=await st("value",e.value,t,s);if(o===ie)return ie;o===ke&&(e.value=null)}}return r}function Ur(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function qr(n,e,t,s){if(typeof t=="function")return t(n,e,s);if(Ge(e))return t.Map?.(n,e,s);if(We(e))return t.Seq?.(n,e,s);if(H(e))return t.Pair?.(n,e,s);if(x(e))return t.Scalar?.(n,e,s);if(xe(e))return t.Alias?.(n,e,s)}function Vr(n,e,t){const s=e[e.length-1];if(K(s))s.items[n]=t;else if(H(s))n==="key"?s.key=t:s.value=t;else if(Ve(s))s.contents=t;else{const r=xe(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}const Ma={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Da=n=>n.replace(/[!,[\]{}]/g,e=>Ma[e]);class re{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},re.defaultYaml,e),this.tags=Object.assign({},re.defaultTags,t)}clone(){const e=new re(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new re(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:re.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},re.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:re.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},re.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),r=s.shift();switch(r){case"%TAG":{if(s.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[i,o]=s;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[i]=s;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return t(6,`Unsupported YAML version ${i}`,o),!1}}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),o)}const[,s,r]=e.match(/^(.*!)([^!]*)$/);r||t(`The ${e} tag has no suffix`);const i=this.tags[s];return i?i+decodeURIComponent(r):s==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,s]of Object.entries(this.tags))if(e.startsWith(s))return t+Da(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let r;if(e&&s.length>0&&G(e.contents)){const i={};Ne(e.contents,(o,a)=>{G(a)&&a.tag&&(i[a.tag]=!0)}),r=Object.keys(i)}else r=[];for(const[i,o]of s)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&t.push(`%TAG ${i} ${o}`);return t.join(`
+`)}}re.defaultYaml={explicit:!1,version:"1.2"},re.defaultTags={"!!":"tag:yaml.org,2002:"};function Gr(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return!0}function Wr(n){const e=new Set;return Ne(n,{Value(t,s){s.anchor&&e.add(s.anchor)}}),e}function Yr(n,e){for(let t=1;;++t){const s=`${n}${t}`;if(!e.has(s))return s}}function xa(n,e){const t=[],s=new Map;let r=null;return{onAnchor:i=>{t.push(i),r||(r=Wr(n));const o=Yr(e,r);return r.add(o),o},setAnchors:()=>{for(const i of t){const o=s.get(i);if(typeof o=="object"&&o.anchor&&(x(o.node)||K(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:s}}function rt(n,e,t,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,i=s.length;r<i;++r){const o=s[r],a=rt(n,s,String(r),o);a===void 0?delete s[r]:a!==o&&(s[r]=a)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const i=s.get(r),o=rt(n,s,r,i);o===void 0?s.delete(r):o!==i&&s.set(r,o)}else if(s instanceof Set)for(const r of Array.from(s)){const i=rt(n,s,r,r);i===void 0?s.delete(r):i!==r&&(s.delete(r),s.add(i))}else for(const[r,i]of Object.entries(s)){const o=rt(n,s,r,i);o===void 0?delete s[r]:o!==i&&(s[r]=o)}return n.call(e,t,s)}function he(n,e,t){if(Array.isArray(n))return n.map((s,r)=>he(s,String(r),t));if(n&&typeof n.toJSON=="function"){if(!t||!Ia(n))return n.toJSON(e,t);const s={aliasCount:0,count:1,res:void 0};t.anchors.set(n,s),t.onCreate=i=>{s.res=i,delete t.onCreate};const r=n.toJSON(e,t);return t.onCreate&&t.onCreate(r),r}return typeof n=="bigint"&&!t?.keep?Number(n):n}class es{constructor(e){Object.defineProperty(this,fe,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:s,onAnchor:r,reviver:i}={}){if(!Ve(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=he(this,"",o);if(typeof r=="function")for(const{count:l,res:c}of o.anchors.values())r(c,l);return typeof i=="function"?rt(i,{"":a},"",a):a}}class wt extends es{constructor(e){super(zn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return Ne(e,{Node:(s,r)=>{if(r===this)return Ne.BREAK;r.anchor===this.source&&(t=r)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:s,doc:r,maxAliasCount:i}=t,o=this.resolve(r);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(o);if(a||(he(o,null,t),a=s.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Qt(r,o,s)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,t,s){const r=`*${this.source}`;if(e){if(Gr(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${r} `}return r}}function Qt(n,e,t){if(xe(e)){const s=e.resolve(n),r=t&&s&&t.get(s);return r?r.count*r.aliasCount:0}else if(K(e)){let s=0;for(const r of e.items){const i=Qt(n,r,t);i>s&&(s=i)}return s}else if(H(e)){const s=Qt(n,e.key,t),r=Qt(n,e.value,t);return Math.max(s,r)}return 1}const Qr=n=>!n||typeof n!="function"&&typeof n!="object";class L extends es{constructor(e){super(Pe),this.value=e}toJSON(e,t){return t?.keep?this.value:he(this.value,e,t)}toString(){return String(this.value)}}L.BLOCK_FOLDED="BLOCK_FOLDED",L.BLOCK_LITERAL="BLOCK_LITERAL",L.PLAIN="PLAIN",L.QUOTE_DOUBLE="QUOTE_DOUBLE",L.QUOTE_SINGLE="QUOTE_SINGLE";const Ba="tag:yaml.org,2002:";function ja(n,e,t){if(e){const s=t.filter(i=>i.tag===e),r=s.find(i=>!i.format)??s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return t.find(s=>s.identify?.(n)&&!s.format)}function Et(n,e,t){if(Ve(n)&&(n=n.contents),G(n))return n;if(H(n)){const f=t.schema[De].createNode?.(t.schema,null,t);return f.items.push(n),f}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:i,schema:o,sourceObjects:a}=t;let l;if(s&&n&&typeof n=="object"){if(l=a.get(n),l)return l.anchor||(l.anchor=r(n)),new wt(l.anchor);l={anchor:null,node:null},a.set(n,l)}e?.startsWith("!!")&&(e=Ba+e.slice(2));let c=ja(n,e,o.tags);if(!c){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const f=new L(n);return l&&(l.node=f),f}c=n instanceof Map?o[De]:Symbol.iterator in Object(n)?o[tt]:o[De]}i&&(i(c),delete t.onTagObj);const u=c?.createNode?c.createNode(t.schema,n,t):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(t.schema,n,t):new L(n);return e?u.tag=e:c.default||(u.tag=c.tag),l&&(l.node=u),u}function Jt(n,e,t){let s=t;for(let r=e.length-1;r>=0;--r){const i=e[r];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=s,s=o}else s=new Map([[i,s]])}return Et(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const At=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class Xt extends es{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(s=>G(s)||H(s)?s.clone(e):s),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(At(e))this.add(t);else{const[s,...r]=e,i=this.get(s,!0);if(K(i))i.addIn(r,t);else if(i===void 0&&this.schema)this.set(s,Jt(this.schema,r,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(e){const[t,...s]=e;if(s.length===0)return this.delete(t);const r=this.get(t,!0);if(K(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${s}`)}getIn(e,t){const[s,...r]=e,i=this.get(s,!0);return r.length===0?!t&&x(i)?i.value:i:K(i)?i.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!H(t))return!1;const s=t.value;return s==null||e&&x(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[t,...s]=e;if(s.length===0)return this.has(t);const r=this.get(t,!0);return K(r)?r.hasIn(s):!1}setIn(e,t){const[s,...r]=e;if(r.length===0)this.set(s,t);else{const i=this.get(s,!0);if(K(i))i.setIn(r,t);else if(i===void 0&&this.schema)this.set(s,Jt(this.schema,r,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}}Xt.maxFlowStringSingleLineLength=60;const Fa=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function Ce(n,e){return/^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}const Be=(n,e,t)=>n.endsWith(`
+`)?Ce(t,e):t.includes(`
+`)?`
+`+Ce(t,e):(n.endsWith(" ")?"":" ")+t,Jr="flow",ts="block",zt="quoted";function Zt(n,e,t="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return n;const l=Math.max(1+i,1+r-e.length);if(n.length<=l)return n;const c=[],u={};let f=r-e.length;typeof s=="number"&&(s>r-Math.max(2,i)?c.push(0):f=r-s);let h,g,p=!1,d=-1,m=-1,w=-1;t===ts&&(d=Xr(n,d),d!==-1&&(f=d+l));for(let k;k=n[d+=1];){if(t===zt&&k==="\\"){switch(m=d,n[d+1]){case"x":d+=3;break;case"u":d+=5;break;case"U":d+=9;break;default:d+=1}w=d}if(k===`
+`)t===ts&&(d=Xr(n,d)),f=d+l,h=void 0;else{if(k===" "&&g&&g!==" "&&g!==`
+`&&g!=="	"){const T=n[d+1];T&&T!==" "&&T!==`
+`&&T!=="	"&&(h=d)}if(d>=f)if(h)c.push(h),f=h+l,h=void 0;else if(t===zt){for(;g===" "||g==="	";)g=k,k=n[d+=1],p=!0;const T=d>w+1?d-2:m-1;if(u[T])return n;c.push(T),u[T]=!0,f=T+l,h=void 0}else p=!0}g=k}if(p&&a&&a(),c.length===0)return n;o&&o();let E=n.slice(0,c[0]);for(let k=0;k<c.length;++k){const T=c[k],A=c[k+1]||n.length;T===0?E=`
+${e}${n.slice(0,A)}`:(t===zt&&u[T]&&(E+=`${n[T]}\\`),E+=`
+${e}${n.slice(T+1,A)}`)}return E}function Xr(n,e){let t=n[e+1];for(;t===" "||t==="	";){do t=n[e+=1];while(t&&t!==`
+`);t=n[e+1]}return e}const en=(n,e)=>({indentAtStart:e?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),tn=n=>/^(%|---|\.\.\.)/m.test(n);function Ha(n,e,t){if(!e||e<0)return!1;const s=e-t,r=n.length;if(r<=s)return!1;for(let i=0,o=0;i<r;++i)if(n[i]===`
+`){if(i-o>s)return!0;if(o=i+1,r-o<=s)return!1}return!0}function vt(n,e){const t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(tn(n)?"  ":"");let o="",a=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(o+=t.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{o+=t.slice(a,l);const u=t.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=t.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||t[l+2]==='"'||t.length<r)l+=1;else{for(o+=t.slice(a,l)+`
+
+`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)o+=`
+`,l+=2;o+=i,t[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+t.slice(a):t,s?o:Zt(o,i,zt,en(e,!1))}function ns(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
+`)||/[ \t]\n|\n[ \t]/.test(n))return vt(n,e);const t=e.indent||(tn(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
+${t}`)+"'";return e.implicitKey?s:Zt(s,t,Jr,en(e,!1))}function it(n,e){const{singleQuote:t}=e.options;let s;if(t===!1)s=vt;else{const r=n.includes('"'),i=n.includes("'");r&&!i?s=ns:i&&!r?s=vt:s=t?ns:vt}return s(n,e)}let ss;try{ss=new RegExp(`(^|(?<!
+))
++(?!
+|$)`,"g")}catch{ss=/\n+(?!\n|$)/g}function nn({comment:n,type:e,value:t},s,r,i){const{blockQuote:o,commentString:a,lineWidth:l}=s.options;if(!o||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return it(t,s);const c=s.indent||(s.forceBlockIndent||tn(t)?"  ":""),u=o==="literal"?!0:o==="folded"||e===L.BLOCK_FOLDED?!1:e===L.BLOCK_LITERAL?!0:!Ha(t,l,c.length);if(!t)return u?`|
+`:`>
+`;let f,h;for(h=t.length;h>0;--h){const S=t[h-1];if(S!==`
+`&&S!=="	"&&S!==" ")break}let g=t.substring(h);const p=g.indexOf(`
+`);p===-1?f="-":t===g||p!==g.length-1?(f="+",i&&i()):f="",g&&(t=t.slice(0,-g.length),g[g.length-1]===`
+`&&(g=g.slice(0,-1)),g=g.replace(ss,`$&${c}`));let d=!1,m,w=-1;for(m=0;m<t.length;++m){const S=t[m];if(S===" ")d=!0;else if(S===`
+`)w=m;else break}let E=t.substring(0,w<m?w+1:m);E&&(t=t.substring(E.length),E=E.replace(/\n+/g,`$&${c}`));let T=(u?"|":">")+(d?c?"2":"1":"")+f;if(n&&(T+=" "+a(n.replace(/ ?[\r\n]+/g," ")),r&&r()),u)return t=t.replace(/\n+/g,`$&${c}`),`${T}
+${c}${E}${t}${g}`;t=t.replace(/\n+/g,`
+$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const A=Zt(`${E}${t}${g}`,c,ts,en(s,!0));return`${T}
+${c}${A}`}function Ka(n,e,t,s){const{type:r,value:i}=n,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&i.includes(`
+`)||u&&/[[\]{},]/.test(i))return it(i,e);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||u||!i.includes(`
+`)?it(i,e):nn(n,e,t,s);if(!a&&!u&&r!==L.PLAIN&&i.includes(`
+`))return nn(n,e,t,s);if(tn(i)){if(l==="")return e.forceBlockIndent=!0,nn(n,e,t,s);if(a&&l===c)return it(i,e)}const f=i.replace(/\n+/g,`$&
+${l}`);if(o){const h=d=>d.default&&d.tag!=="tag:yaml.org,2002:str"&&d.test?.test(f),{compat:g,tags:p}=e.doc.schema;if(p.some(h)||g?.some(h))return it(i,e)}return a?f:Zt(f,l,Jr,en(e,!1))}function kt(n,e,t,s){const{implicitKey:r,inFlow:i}=e,o=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:a}=n;a!==L.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=L.QUOTE_DOUBLE);const l=u=>{switch(u){case L.BLOCK_FOLDED:case L.BLOCK_LITERAL:return r||i?it(o.value,e):nn(o,e,t,s);case L.QUOTE_DOUBLE:return vt(o.value,e);case L.QUOTE_SINGLE:return ns(o.value,e);case L.PLAIN:return Ka(o,e,t,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:f}=e.options,h=r&&u||f;if(c=l(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function zr(n,e){const t=Object.assign({blockQuote:!0,commentString:Fa,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e);let s;switch(t.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:s,options:t}}function Ua(n,e){if(e.tag){const r=n.filter(i=>i.tag===e.tag);if(r.length>0)return r.find(i=>i.format===e.format)??r[0]}let t,s;if(x(e)){s=e.value;const r=n.filter(i=>i.identify?.(s));t=r.find(i=>i.format===e.format)??r.find(i=>!i.format)}else s=e,t=n.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!t){const r=s?.constructor?.name??typeof s;throw new Error(`Tag not resolved for ${r} value`)}return t}function qa(n,e,{anchors:t,doc:s}){if(!s.directives)return"";const r=[],i=(x(n)||K(n))&&n.anchor;i&&Gr(i)&&(t.add(i),r.push(`&${i}`));const o=n.tag?n.tag:e.default?null:e.tag;return o&&r.push(s.directives.tagString(o)),r.join(" ")}function ot(n,e,t,s){if(H(n))return n.toString(e,t,s);if(xe(n)){if(e.doc.directives)return n.toString(e);if(e.resolvedAliases?.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc)}let r;const i=G(n)?n:e.doc.createNode(n,{onTagObj:l=>r=l});r||(r=Ua(e.doc.schema.tags,i));const o=qa(i,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof r.stringify=="function"?r.stringify(i,e,t,s):x(i)?kt(i,e,t,s):i.toString(e,t,s);return o?x(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
+${e.indent}${a}`:a}function Va({key:n,value:e},t,s,r){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:f}}=t;let h=G(n)&&n.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(K(n)){const R="With simple keys, collection cannot be used as a key value";throw new Error(R)}}let g=!f&&(!n||h&&e==null&&!t.inFlow||K(n)||(x(n)?n.type===L.BLOCK_FOLDED||n.type===L.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!g&&(f||!i),indent:a+l});let p=!1,d=!1,m=ot(n,t,()=>p=!0,()=>d=!0);if(!g&&!t.inFlow&&m.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");g=!0}if(t.inFlow){if(i||e==null)return p&&s&&s(),m===""?"?":g?`? ${m}`:m}else if(i&&!f||e==null&&g)return m=`? ${m}`,h&&!p?m+=Be(m,t.indent,c(h)):d&&r&&r(),m;p&&(h=null),g?(h&&(m+=Be(m,t.indent,c(h))),m=`? ${m}
+${a}:`):(m=`${m}:`,h&&(m+=Be(m,t.indent,c(h))));let w,E,k;G(e)?(w=!!e.spaceBefore,E=e.commentBefore,k=e.comment):(w=!1,E=null,k=null,e&&typeof e=="object"&&(e=o.createNode(e))),t.implicitKey=!1,!g&&!h&&x(e)&&(t.indentAtStart=m.length+1),d=!1,!u&&l.length>=2&&!t.inFlow&&!g&&We(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let T=!1;const A=ot(e,t,()=>T=!0,()=>d=!0);let S=" ";if(h||w||E){if(S=w?`
+`:"",E){const R=c(E);S+=`
+${Ce(R,t.indent)}`}A===""&&!t.inFlow?S===`
+`&&(S=`
+
+`):S+=`
+${t.indent}`}else if(!g&&K(e)){const R=A[0],$=A.indexOf(`
+`),P=$!==-1,B=t.inFlow??e.flow??e.items.length===0;if(P||!B){let b=!1;if(P&&(R==="&"||R==="!")){let C=A.indexOf(" ");R==="&"&&C!==-1&&C<$&&A[C+1]==="!"&&(C=A.indexOf(" ",C+1)),(C===-1||$<C)&&(b=!0)}b||(S=`
+${t.indent}`)}}else(A===""||A[0]===`
+`)&&(S="");return m+=S+A,t.inFlow?T&&s&&s():k&&!T?m+=Be(m,t.indent,c(k)):d&&r&&r(),m}function Zr(n,e){(n==="debug"||n==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const ei="<<";function ti(n,e,{key:t,value:s}){if(n?.doc.schema.merge&&Ga(t))if(s=xe(s)?s.resolve(n.doc):s,We(s))for(const r of s.items)rs(n,e,r);else if(Array.isArray(s))for(const r of s)rs(n,e,r);else rs(n,e,s);else{const r=he(t,"",n);if(e instanceof Map)e.set(r,he(s,r,n));else if(e instanceof Set)e.add(r);else{const i=Wa(t,r,n),o=he(s,i,n);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}const Ga=n=>n===ei||x(n)&&n.value===ei&&(!n.type||n.type===L.PLAIN);function rs(n,e,t){const s=n&&xe(t)?t.resolve(n.doc):t;if(!Ge(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,n,Map);for(const[i,o]of r)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Wa(n,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(G(n)&&t?.doc){const s=zr(t.doc,{});s.anchors=new Set;for(const i of t.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const r=n.toString(s);if(!t.mapKeyWarned){let i=JSON.stringify(r);i.length>40&&(i=i.substring(0,36)+'..."'),Zr(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return r}return JSON.stringify(e)}function is(n,e,t){const s=Et(n,void 0,t),r=Et(e,void 0,t);return new Z(s,r)}class Z{constructor(e,t=null){Object.defineProperty(this,fe,{value:Hr}),this.key=e,this.value=t}clone(e){let{key:t,value:s}=this;return G(t)&&(t=t.clone(e)),G(s)&&(s=s.clone(e)),new Z(t,s)}toJSON(e,t){const s=t?.mapAsMap?new Map:{};return ti(t,s,this)}toString(e,t,s){return e?.doc?Va(this,e,t,s):JSON.stringify(this)}}function ni(n,e,t){return(e.inFlow??n.flow?Qa:Ya)(n,e,t)}function Ya({comment:n,items:e},t,{blockItemPrefix:s,flowChars:r,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=t,u=Object.assign({},t,{indent:i,type:null});let f=!1;const h=[];for(let p=0;p<e.length;++p){const d=e[p];let m=null;if(G(d))!f&&d.spaceBefore&&h.push(""),sn(t,h,d.commentBefore,f),d.comment&&(m=d.comment);else if(H(d)){const E=G(d.key)?d.key:null;E&&(!f&&E.spaceBefore&&h.push(""),sn(t,h,E.commentBefore,f))}f=!1;let w=ot(d,u,()=>m=null,()=>f=!0);m&&(w+=Be(w,i,c(m))),f&&m&&(f=!1),h.push(s+w)}let g;if(h.length===0)g=r.start+r.end;else{g=h[0];for(let p=1;p<h.length;++p){const d=h[p];g+=d?`
+${l}${d}`:`
+`}}return n?(g+=`
+`+Ce(c(n),l),a&&a()):f&&o&&o(),g}function Qa({comment:n,items:e},t,{flowChars:s,itemIndent:r,onComment:i}){const{indent:o,indentStep:a,flowCollectionPadding:l,options:{commentString:c}}=t;r+=a;const u=Object.assign({},t,{indent:r,inFlow:!0,type:null});let f=!1,h=0;const g=[];for(let w=0;w<e.length;++w){const E=e[w];let k=null;if(G(E))E.spaceBefore&&g.push(""),sn(t,g,E.commentBefore,!1),E.comment&&(k=E.comment);else if(H(E)){const A=G(E.key)?E.key:null;A&&(A.spaceBefore&&g.push(""),sn(t,g,A.commentBefore,!1),A.comment&&(f=!0));const S=G(E.value)?E.value:null;S?(S.comment&&(k=S.comment),S.commentBefore&&(f=!0)):E.value==null&&A?.comment&&(k=A.comment)}k&&(f=!0);let T=ot(E,u,()=>k=null);w<e.length-1&&(T+=","),k&&(T+=Be(T,r,c(k))),!f&&(g.length>h||T.includes(`
+`))&&(f=!0),g.push(T),h=g.length}let p;const{start:d,end:m}=s;if(g.length===0)p=d+m;else if(f||(f=g.reduce((E,k)=>E+k.length+2,2)>Xt.maxFlowStringSingleLineLength),f){p=d;for(const w of g)p+=w?`
+${a}${o}${w}`:`
+`;p+=`
+${o}${m}`}else p=`${d}${l}${g.join(" ")}${l}${m}`;return n&&(p+=Be(p,o,c(n)),i&&i()),p}function sn({indent:n,options:{commentString:e}},t,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const i=Ce(e(s),n);t.push(i.trimStart())}}function Ye(n,e){const t=x(e)?e.value:e;for(const s of n)if(H(s)&&(s.key===e||s.key===t||x(s.key)&&s.key.value===t))return s}class oe extends Xt{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(De,e),this.items=[]}static from(e,t,s){const{keepUndefined:r,replacer:i}=s,o=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(t,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||r)&&o.items.push(is(l,c,s))};if(t instanceof Map)for(const[l,c]of t)a(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))a(l,t[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,t){let s;H(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Z(e,e?.value):s=new Z(e.key,e.value);const r=Ye(this.items,s.key),i=this.schema?.sortMapEntries;if(r){if(!t)throw new Error(`Key ${s.key} already set`);x(r.value)&&Qr(s.value)?r.value.value=s.value:r.value=s.value}else if(i){const o=this.items.findIndex(a=>i(s,a)<0);o===-1?this.items.push(s):this.items.splice(o,0,s)}else this.items.push(s)}delete(e){const t=Ye(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const r=Ye(this.items,e)?.value;return(!t&&x(r)?r.value:r)??void 0}has(e){return!!Ye(this.items,e)}set(e,t){this.add(new Z(e,t),!0)}toJSON(e,t,s){const r=s?new s:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(r);for(const i of this.items)ti(t,r,i);return r}toString(e,t,s){if(!e)return JSON.stringify(this);for(const r of this.items)if(!H(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),ni(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:t})}}const at={collection:"map",default:!0,nodeClass:oe,tag:"tag:yaml.org,2002:map",resolve(n,e){return Ge(n)||e("Expected a mapping for this tag"),n},createNode:(n,e,t)=>oe.from(n,e,t)};class Le extends Xt{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(tt,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=rn(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const s=rn(e);if(typeof s!="number")return;const r=this.items[s];return!t&&x(r)?r.value:r}has(e){const t=rn(e);return typeof t=="number"&&t<this.items.length}set(e,t){const s=rn(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[s];x(r)&&Qr(t)?r.value=t:this.items[s]=t}toJSON(e,t){const s=[];t?.onCreate&&t.onCreate(s);let r=0;for(const i of this.items)s.push(he(i,String(r++),t));return s}toString(e,t,s){return e?ni(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:t}):JSON.stringify(this)}static from(e,t,s){const{replacer:r}=s,i=new this(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let a of t){if(typeof r=="function"){const l=t instanceof Set?a:String(o++);a=r.call(t,l,a)}i.items.push(Et(a,void 0,s))}}return i}}function rn(n){let e=x(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const lt={collection:"seq",default:!0,nodeClass:Le,tag:"tag:yaml.org,2002:seq",resolve(n,e){return We(n)||e("Expected a sequence for this tag"),n},createNode:(n,e,t)=>Le.from(n,e,t)},on={identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify(n,e,t,s){return e=Object.assign({actualString:!0},e),kt(n,e,t,s)}},an={identify:n=>n==null,createNode:()=>new L(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new L(null),stringify:({source:n},e)=>typeof n=="string"&&an.test.test(n)?n:e.options.nullStr},os={identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:n=>new L(n[0]==="t"||n[0]==="T"),stringify({source:n,value:e},t){if(n&&os.test.test(n)){const s=n[0]==="t"||n[0]==="T";if(e===s)return n}return e?t.options.trueStr:t.options.falseStr}};function _e({format:n,minFractionDigits:e,tag:t,value:s}){if(typeof s=="bigint")return String(s);const r=typeof s=="number"?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(s);if(!n&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=e-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const si={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},ri={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():_e(n)}},ii={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(n){const e=new L(parseFloat(n)),t=n.indexOf(".");return t!==-1&&n[n.length-1]==="0"&&(e.minFractionDigits=n.length-t-1),e},stringify:_e},ln=n=>typeof n=="bigint"||Number.isInteger(n),as=(n,e,t,{intAsBigInt:s})=>s?BigInt(n):parseInt(n.substring(e),t);function oi(n,e,t){const{value:s}=n;return ln(s)&&s>=0?t+s.toString(e):_e(n)}const ai={identify:n=>ln(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(n,e,t)=>as(n,2,8,t),stringify:n=>oi(n,8,"0o")},li={identify:ln,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(n,e,t)=>as(n,0,10,t),stringify:_e},ci={identify:n=>ln(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(n,e,t)=>as(n,2,16,t),stringify:n=>oi(n,16,"0x")},Ja=[at,lt,on,an,os,ai,li,ci,si,ri,ii];function ui(n){return typeof n=="bigint"||Number.isInteger(n)}const cn=({value:n})=>JSON.stringify(n),Xa=[{identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify:cn},{identify:n=>n==null,createNode:()=>new L(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:cn},{identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:n=>n==="true",stringify:cn},{identify:ui,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(n,e,{intAsBigInt:t})=>t?BigInt(n):parseInt(n,10),stringify:({value:n})=>ui(n)?n.toString():JSON.stringify(n)},{identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:n=>parseFloat(n),stringify:cn}],za={default:!0,tag:"",test:/^/,resolve(n,e){return e(`Unresolved plain scalar ${JSON.stringify(n)}`),n}},Za=[at,lt].concat(Xa,za),ls={identify:n=>n instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(n,e){if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){const t=atob(n.replace(/[\n\r]/g,"")),s=new Uint8Array(t.length);for(let r=0;r<t.length;++r)s[r]=t.charCodeAt(r);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),n},stringify({comment:n,type:e,value:t},s,r,i){const o=t;let a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=L.BLOCK_LITERAL),e!==L.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let f=0,h=0;f<c;++f,h+=l)u[f]=a.substr(h,l);a=u.join(e===L.BLOCK_LITERAL?`
+`:" ")}return kt({comment:n,type:e,value:a},s,r,i)}};function fi(n,e){if(We(n))for(let t=0;t<n.items.length;++t){let s=n.items[t];if(!H(s)){if(Ge(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const r=s.items[0]||new Z(new L(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}
+${r.key.commentBefore}`:s.commentBefore),s.comment){const i=r.value??r.key;i.comment=i.comment?`${s.comment}
+${i.comment}`:s.comment}s=r}n.items[t]=H(s)?s:new Z(s)}}else e("Expected a sequence for this tag");return n}function hi(n,e,t){const{replacer:s}=t,r=new Le(n);r.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;r.items.push(is(a,l,t))}return r}const cs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:fi,createNode:hi};class mt extends Le{constructor(){super(),this.add=oe.prototype.add.bind(this),this.delete=oe.prototype.delete.bind(this),this.get=oe.prototype.get.bind(this),this.has=oe.prototype.has.bind(this),this.set=oe.prototype.set.bind(this),this.tag=mt.tag}toJSON(e,t){if(!t)return super.toJSON(e);const s=new Map;t?.onCreate&&t.onCreate(s);for(const r of this.items){let i,o;if(H(r)?(i=he(r.key,"",t),o=he(r.value,i,t)):i=he(r,"",t),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,o)}return s}static from(e,t,s){const r=hi(e,t,s),i=new this;return i.items=r.items,i}}mt.tag="tag:yaml.org,2002:omap";const us={collection:"seq",identify:n=>n instanceof Map,nodeClass:mt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,e){const t=fi(n,e),s=[];for(const{key:r}of t.items)x(r)&&(s.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new mt,t)},createNode:(n,e,t)=>mt.from(n,e,t)};function di({value:n,source:e},t){return e&&(n?pi:gi).test.test(e)?e:n?t.options.trueStr:t.options.falseStr}const pi={identify:n=>n===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new L(!0),stringify:di},gi={identify:n=>n===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new L(!1),stringify:di},el={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},tl={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n.replace(/_/g,"")),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():_e(n)}},nl={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(n){const e=new L(parseFloat(n.replace(/_/g,""))),t=n.indexOf(".");if(t!==-1){const s=n.substring(t+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:_e},Ot=n=>typeof n=="bigint"||Number.isInteger(n);function un(n,e,t,{intAsBigInt:s}){const r=n[0];if((r==="-"||r==="+")&&(e+=1),n=n.substring(e).replace(/_/g,""),s){switch(t){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`;break}const o=BigInt(n);return r==="-"?BigInt(-1)*o:o}const i=parseInt(n,t);return r==="-"?-1*i:i}function fs(n,e,t){const{value:s}=n;if(Ot(s)){const r=s.toString(e);return s<0?"-"+t+r.substr(1):t+r}return _e(n)}const sl={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(n,e,t)=>un(n,2,2,t),stringify:n=>fs(n,2,"0b")},rl={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(n,e,t)=>un(n,1,8,t),stringify:n=>fs(n,8,"0")},il={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(n,e,t)=>un(n,0,10,t),stringify:_e},ol={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(n,e,t)=>un(n,2,16,t),stringify:n=>fs(n,16,"0x")};class yt extends oe{constructor(e){super(e),this.tag=yt.tag}add(e){let t;H(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new Z(e.key,null):t=new Z(e,null),Ye(this.items,t.key)||this.items.push(t)}get(e,t){const s=Ye(this.items,e);return!t&&H(s)?x(s.key)?s.key.value:s.key:s}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const s=Ye(this.items,e);s&&!t?this.items.splice(this.items.indexOf(s),1):!s&&t&&this.items.push(new Z(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,s);throw new Error("Set items must all have null values")}static from(e,t,s){const{replacer:r}=s,i=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof r=="function"&&(o=r.call(t,o,o)),i.items.push(is(o,null,s));return i}}yt.tag="tag:yaml.org,2002:set";const hs={collection:"map",identify:n=>n instanceof Set,nodeClass:yt,default:!1,tag:"tag:yaml.org,2002:set",createNode:(n,e,t)=>yt.from(n,e,t),resolve(n,e){if(Ge(n)){if(n.hasAllNullValues(!0))return Object.assign(new yt,n);e("Set items must all have null values")}else e("Expected a mapping for this tag");return n}};function ds(n,e){const t=n[0],s=t==="-"||t==="+"?n.substring(1):n,r=o=>e?BigInt(o):Number(o),i=s.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return t==="-"?r(-1)*i:i}function mi(n){let{value:e}=n,t=o=>o;if(typeof e=="bigint")t=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return _e(n);let s="";e<0&&(s="-",e*=t(-1));const r=t(60),i=[e%r];return e<60?i.unshift(0):(e=(e-i[0])/r,i.unshift(e%r),e>=60&&(e=(e-i[0])/r,i.unshift(e))),s+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const yi={identify:n=>typeof n=="bigint"||Number.isInteger(n),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(n,e,{intAsBigInt:t})=>ds(n,t),stringify:mi},_i={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:n=>ds(n,!1),stringify:mi},fn={identify:n=>n instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(n){const e=n.match(fn.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,s,r,i,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(t,s-1,r,i||0,o||0,a||0,l);const u=e[8];if(u&&u!=="Z"){let f=ds(u,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:n})=>n.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},bi=[at,lt,on,an,pi,gi,sl,rl,il,ol,el,tl,nl,ls,us,cs,hs,yi,_i,fn],Si=new Map([["core",Ja],["failsafe",[at,lt,on]],["json",Za],["yaml11",bi],["yaml-1.1",bi]]),wi={binary:ls,bool:os,float:ii,floatExp:ri,floatNaN:si,floatTime:_i,int:li,intHex:ci,intOct:ai,intTime:yi,map:at,null:an,omap:us,pairs:cs,seq:lt,set:hs,timestamp:fn},al={"tag:yaml.org,2002:binary":ls,"tag:yaml.org,2002:omap":us,"tag:yaml.org,2002:pairs":cs,"tag:yaml.org,2002:set":hs,"tag:yaml.org,2002:timestamp":fn};function ps(n,e){let t=Si.get(e);if(!t)if(Array.isArray(n))t=[];else{const s=Array.from(Si.keys()).filter(r=>r!=="yaml11").map(r=>JSON.stringify(r)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(n))for(const s of n)t=t.concat(s);else typeof n=="function"&&(t=n(t.slice()));return t.map(s=>{if(typeof s!="string")return s;const r=wi[s];if(r)return r;const i=Object.keys(wi).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${s}"; use one of ${i}`)})}const ll=(n,e)=>n.key<e.key?-1:n.key>e.key?1:0;class Ft{constructor({compat:e,customTags:t,merge:s,resolveKnownTags:r,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?ps(e,"compat"):e?ps(null,e):null,this.merge=!!s,this.name=typeof i=="string"&&i||"core",this.knownTags=r?al:{},this.tags=ps(t,this.name),this.toStringOptions=a??null,Object.defineProperty(this,De,{value:at}),Object.defineProperty(this,Pe,{value:on}),Object.defineProperty(this,tt,{value:lt}),this.sortMapEntries=typeof o=="function"?o:o===!0?ll:null}clone(){const e=Object.create(Ft.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function cl(n,e){const t=[];let s=e.directives===!0;if(e.directives!==!1&&n.directives){const l=n.directives.toString(n);l?(t.push(l),s=!0):n.directives.docStart&&(s=!0)}s&&t.push("---");const r=zr(n,e),{commentString:i}=r.options;if(n.commentBefore){t.length!==1&&t.unshift("");const l=i(n.commentBefore);t.unshift(Ce(l,""))}let o=!1,a=null;if(n.contents){if(G(n.contents)){if(n.contents.spaceBefore&&s&&t.push(""),n.contents.commentBefore){const u=i(n.contents.commentBefore);t.push(Ce(u,""))}r.forceBlockIndent=!!n.comment,a=n.contents.comment}const l=a?void 0:()=>o=!0;let c=ot(n.contents,r,()=>a=null,l);a&&(c+=Be(c,"",i(a))),(c[0]==="|"||c[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${c}`:t.push(c)}else t.push(ot(n.contents,r));if(n.directives?.docEnd)if(n.comment){const l=i(n.comment);l.includes(`
+`)?(t.push("..."),t.push(Ce(l,""))):t.push(`... ${l}`)}else t.push("...");else{let l=n.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&t[t.length-1]!==""&&t.push(""),t.push(Ce(i(l),"")))}return t.join(`
+`)+`
+`}class et{constructor(e,t,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,fe,{value:Zn});let r=null;typeof t=="function"||Array.isArray(t)?r=t:s===void 0&&t&&(s=t,t=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},s);this.options=i;let{version:o}=i;s?._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new re({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,r,s)}clone(){const e=Object.create(et.prototype,{[fe]:{value:Zn}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=G(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){ct(this.contents)&&this.contents.add(e)}addIn(e,t){ct(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const s=Wr(this);e.anchor=!t||s.has(t)?Yr(t||"a",s):t}return new wt(e.anchor)}createNode(e,t,s){let r;if(typeof t=="function")e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){const m=E=>typeof E=="number"||E instanceof String||E instanceof Number,w=t.filter(m).map(String);w.length>0&&(t=t.concat(w)),r=t}else s===void 0&&t&&(s=t,t=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=s??{},{onAnchor:f,setAnchors:h,sourceObjects:g}=xa(this,o||"a"),p={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:g},d=Et(e,u,p);return a&&K(d)&&(d.flow=!0),h(),d}createPair(e,t,s={}){const r=this.createNode(e,null,s),i=this.createNode(t,null,s);return new Z(r,i)}delete(e){return ct(this.contents)?this.contents.delete(e):!1}deleteIn(e){return At(e)?this.contents==null?!1:(this.contents=null,!0):ct(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return K(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return At(e)?!t&&x(this.contents)?this.contents.value:this.contents:K(this.contents)?this.contents.getIn(e,t):void 0}has(e){return K(this.contents)?this.contents.has(e):!1}hasIn(e){return At(e)?this.contents!==void 0:K(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=Jt(this.schema,[e],t):ct(this.contents)&&this.contents.set(e,t)}setIn(e,t){At(e)?this.contents=t:this.contents==null?this.contents=Jt(this.schema,Array.from(e),t):ct(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new re({version:"1.1"}),s={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new re({version:e}),s={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(s)this.schema=new Ft(Object.assign(s,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:s,maxAliasCount:r,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=he(this.contents,t??"",a);if(typeof i=="function")for(const{count:c,res:u}of a.anchors.values())i(u,c);return typeof o=="function"?rt(o,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return cl(this,e)}}function ct(n){if(K(n))return!0;throw new Error("Expected a YAML collection as document contents")}class hn extends Error{constructor(e,t,s,r){super(),this.name=e,this.code=s,this.message=r,this.pos=t}}class je extends hn{constructor(e,t,s){super("YAMLParseError",e,t,s)}}class gs extends hn{constructor(e,t,s){super("YAMLWarning",e,t,s)}}const dn=(n,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(a=>e.linePos(a));const{line:s,col:r}=t.linePos[0];t.message+=` at line ${s}, column ${r}`;let i=r-1,o=n.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o="\u2026"+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),s>1&&/^ *$/.test(o.substring(0,i))){let a=n.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
+`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=t.linePos[1];l&&l.line===s&&l.col>r&&(a=Math.max(1,Math.min(l.col-r,80-i)));const c=" ".repeat(i)+"^".repeat(a);t.message+=`:
+
+${o}
+${c}
+`}};function ut(n,{flow:e,indicator:t,next:s,offset:r,onError:i,startOnNewline:o}){let a=!1,l=o,c=o,u="",f="",h=!1,g=!1,p=!1,d=null,m=null,w=null,E=null,k=null;for(const S of n)switch(p&&(S.type!=="space"&&S.type!=="newline"&&S.type!=="comma"&&i(S.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),S.type){case"space":!e&&l&&t!=="doc-start"&&S.source[0]==="	"&&i(S,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||i(S,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const R=S.source.substring(1)||" ";u?u+=f+R:u=R,f="",l=!1;break}case"newline":l?u?u+=S.source:a=!0:f+=S.source,l=!0,h=!0,(d||m)&&(g=!0),c=!0;break;case"anchor":d&&i(S,"MULTIPLE_ANCHORS","A node can have at most one anchor"),S.source.endsWith(":")&&i(S.offset+S.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),d=S,k===null&&(k=S.offset),l=!1,c=!1,p=!0;break;case"tag":{m&&i(S,"MULTIPLE_TAGS","A node can have at most one tag"),m=S,k===null&&(k=S.offset),l=!1,c=!1,p=!0;break}case t:(d||m)&&i(S,"BAD_PROP_ORDER",`Anchors and tags must be after the ${S.source} indicator`),E&&i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.source} in ${e??"collection"}`),E=S,l=!1,c=!1;break;case"comma":if(e){w&&i(S,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),w=S,l=!1,c=!1;break}default:i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.type} token`),l=!1,c=!1}const T=n[n.length-1],A=T?T.offset+T.source.length:r;return p&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:w,found:E,spaceBefore:a,comment:u,hasNewline:h,hasNewlineAfterProp:g,anchor:d,tag:m,end:A,start:k??A}}function $t(n){if(!n)return null;switch(n.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(n.source.includes(`
+`))return!0;if(n.end){for(const e of n.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of n.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if($t(e.key)||$t(e.value))return!0}return!1;default:return!0}}function ms(n,e,t){if(e?.type==="flow-collection"){const s=e.end[0];s.indent===n&&(s.source==="]"||s.source==="}")&&$t(e)&&t(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Ei(n,e,t){const{uniqueKeys:s}=n.options;if(s===!1)return!1;const r=typeof s=="function"?s:(i,o)=>i===o||x(i)&&x(o)&&i.value===o.value&&!(i.value==="<<"&&n.schema.merge);return e.some(i=>r(i.key,t))}const Ai="All mapping items must start at the same column";function ul({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=i?.nodeClass??oe,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=s.offset,c=null;for(const u of s.items){const{start:f,key:h,sep:g,value:p}=u,d=ut(f,{indicator:"explicit-key-ind",next:h??g?.[0],offset:l,onError:r,startOnNewline:!0}),m=!d.found;if(m){if(h&&(h.type==="block-seq"?r(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==s.indent&&r(l,"BAD_INDENT",Ai)),!d.anchor&&!d.tag&&!g){c=d.end,d.comment&&(a.comment?a.comment+=`
+`+d.comment:a.comment=d.comment);continue}(d.hasNewlineAfterProp||$t(h))&&r(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else d.found?.indent!==s.indent&&r(l,"BAD_INDENT",Ai);const w=d.end,E=h?n(t,h,d,r):e(t,w,f,null,d,r);t.schema.compat&&ms(s.indent,h,r),Ei(t,a.items,E)&&r(w,"DUPLICATE_KEY","Map keys must be unique");const k=ut(g??[],{indicator:"map-value-ind",next:p,offset:E.range[2],onError:r,startOnNewline:!h||h.type==="block-scalar"});if(l=k.end,k.found){m&&(p?.type==="block-map"&&!k.hasNewline&&r(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&d.start<k.found.offset-1024&&r(E.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const T=p?n(t,p,k,r):e(t,l,g,null,k,r);t.schema.compat&&ms(s.indent,p,r),l=T.range[2];const A=new Z(E,T);t.options.keepSourceTokens&&(A.srcToken=u),a.items.push(A)}else{m&&r(E.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),k.comment&&(E.comment?E.comment+=`
+`+k.comment:E.comment=k.comment);const T=new Z(E);t.options.keepSourceTokens&&(T.srcToken=u),a.items.push(T)}}return c&&c<l&&r(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[s.offset,l,c??l],a}function fl({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=i?.nodeClass??Le,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=s.offset,c=null;for(const{start:u,value:f}of s.items){const h=ut(u,{indicator:"seq-item-ind",next:f,offset:l,onError:r,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?r(h.end,"BAD_INDENT","All sequence items must start at the same column"):r(l,"MISSING_CHAR","Sequence item without - indicator");else{c=h.end,h.comment&&(a.comment=h.comment);continue}const g=f?n(t,f,h,r):e(t,h.end,u,null,h,r);t.schema.compat&&ms(s.indent,f,r),l=g.range[2],a.items.push(g)}return a.range=[s.offset,l,c??l],a}function Tt(n,e,t,s){let r="";if(n){let i=!1,o="";for(const a of n){const{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{t&&!i&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";r?r+=o+u:r=u,o="";break}case"newline":r&&(o+=l),i=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:r,offset:e}}const ys="Block collections are not allowed within flow collections",_s=n=>n&&(n.type==="block-map"||n.type==="block-seq");function hl({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=s.start.source==="{",a=o?"flow map":"flow sequence",l=i?.nodeClass??(o?oe:Le),c=new l(t.schema);c.flow=!0;const u=t.atRoot;u&&(t.atRoot=!1);let f=s.offset+s.start.source.length;for(let m=0;m<s.items.length;++m){const w=s.items[m],{start:E,key:k,sep:T,value:A}=w,S=ut(E,{flow:a,indicator:"explicit-key-ind",next:k??T?.[0],offset:f,onError:r,startOnNewline:!1});if(!S.found){if(!S.anchor&&!S.tag&&!T&&!A){m===0&&S.comma?r(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<s.items.length-1&&r(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),S.comment&&(c.comment?c.comment+=`
+`+S.comment:c.comment=S.comment),f=S.end;continue}!o&&t.options.strict&&$t(k)&&r(k,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(m===0)S.comma&&r(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(S.comma||r(S.start,"MISSING_CHAR",`Missing , between ${a} items`),S.comment){let R="";e:for(const $ of E)switch($.type){case"comma":case"space":break;case"comment":R=$.source.substring(1);break e;default:break e}if(R){let $=c.items[c.items.length-1];H($)&&($=$.value??$.key),$.comment?$.comment+=`
+`+R:$.comment=R,S.comment=S.comment.substring(R.length+1)}}if(!o&&!T&&!S.found){const R=A?n(t,A,S,r):e(t,S.end,T,null,S,r);c.items.push(R),f=R.range[2],_s(A)&&r(R.range,"BLOCK_IN_FLOW",ys)}else{const R=S.end,$=k?n(t,k,S,r):e(t,R,E,null,S,r);_s(k)&&r($.range,"BLOCK_IN_FLOW",ys);const P=ut(T??[],{flow:a,indicator:"map-value-ind",next:A,offset:$.range[2],onError:r,startOnNewline:!1});if(P.found){if(!o&&!S.found&&t.options.strict){if(T)for(const C of T){if(C===P.found)break;if(C.type==="newline"){r(C,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<P.found.offset-1024&&r(P.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else A&&("source"in A&&A.source&&A.source[0]===":"?r(A,"MISSING_CHAR",`Missing space after : in ${a}`):r(P.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const B=A?n(t,A,P,r):P.found?e(t,P.end,T,null,P,r):null;B?_s(A)&&r(B.range,"BLOCK_IN_FLOW",ys):P.comment&&($.comment?$.comment+=`
+`+P.comment:$.comment=P.comment);const b=new Z($,B);if(t.options.keepSourceTokens&&(b.srcToken=w),o){const C=c;Ei(t,C.items,$)&&r(R,"DUPLICATE_KEY","Map keys must be unique"),C.items.push(b)}else{const C=new oe(t.schema);C.flow=!0,C.items.push(b),c.items.push(C)}f=B?B.range[2]:P.end}}const h=o?"}":"]",[g,...p]=s.end;let d=f;if(g&&g.source===h)d=g.offset+g.source.length;else{const m=a[0].toUpperCase()+a.substring(1),w=u?`${m} must end with a ${h}`:`${m} in block collection must be sufficiently indented and end with a ${h}`;r(f,u?"MISSING_CHAR":"BAD_INDENT",w),g&&g.source.length!==1&&p.unshift(g)}if(p.length>0){const m=Tt(p,d,t.options.strict,r);m.comment&&(c.comment?c.comment+=`
+`+m.comment:c.comment=m.comment),c.range=[s.offset,d,m.offset]}else c.range=[s.offset,d,d];return c}function bs(n,e,t,s,r,i){const o=t.type==="block-map"?ul(n,e,t,s,i):t.type==="block-seq"?fl(n,e,t,s,i):hl(n,e,t,s,i),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function dl(n,e,t,s,r){const i=s?e.directives.tagName(s.source,f=>r(s,"TAG_RESOLVE_FAILED",f)):null,o=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!s||!i||i==="!"||i===oe.tagName&&o==="map"||i===Le.tagName&&o==="seq"||!o)return bs(n,e,t,r,i);let a=e.schema.tags.find(f=>f.tag===i&&f.collection===o);if(!a){const f=e.schema.knownTags[i];if(f&&f.collection===o)e.schema.tags.push(Object.assign({},f,{default:!1})),a=f;else return f?.collection?r(s,"BAD_COLLECTION_TYPE",`${f.tag} used for ${o} collection, but expects ${f.collection}`,!0):r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,!0),bs(n,e,t,r,i)}const l=bs(n,e,t,r,i,a),c=a.resolve?.(l,f=>r(s,"TAG_RESOLVE_FAILED",f),e.options)??l,u=G(c)?c:new L(c);return u.range=l.range,u.tag=i,a?.format&&(u.format=a.format),u}function vi(n,e,t){const s=n.offset,r=pl(n,e,t);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const i=r.mode===">"?L.BLOCK_FOLDED:L.BLOCK_LITERAL,o=n.source?gl(n.source):[];let a=o.length;for(let d=o.length-1;d>=0;--d){const m=o[d][1];if(m===""||m==="\r")a=d;else break}if(a===0){const d=r.chomp==="+"&&o.length>0?`
+`.repeat(Math.max(1,o.length-1)):"";let m=s+r.length;return n.source&&(m+=n.source.length),{value:d,type:i,comment:r.comment,range:[s,m,m]}}let l=n.indent+r.indent,c=n.offset+r.length,u=0;for(let d=0;d<a;++d){const[m,w]=o[d];if(w===""||w==="\r")r.indent===0&&m.length>l&&(l=m.length);else{if(m.length<l){const E="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";t(c+m.length,"MISSING_CHAR",E)}r.indent===0&&(l=m.length),u=d;break}c+=m.length+w.length+1}for(let d=o.length-1;d>=a;--d)o[d][0].length>l&&(a=d+1);let f="",h="",g=!1;for(let d=0;d<u;++d)f+=o[d][0].slice(l)+`
+`;for(let d=u;d<a;++d){let[m,w]=o[d];c+=m.length+w.length+1;const E=w[w.length-1]==="\r";if(E&&(w=w.slice(0,-1)),w&&m.length<l){const T=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;t(c-w.length-(E?2:1),"BAD_INDENT",T),m=""}i===L.BLOCK_LITERAL?(f+=h+m.slice(l)+w,h=`
+`):m.length>l||w[0]==="	"?(h===" "?h=`
+`:!g&&h===`
+`&&(h=`
+
+`),f+=h+m.slice(l)+w,h=`
+`,g=!0):w===""?h===`
+`?f+=`
+`:h=`
+`:(f+=h+w,h=" ",g=!1)}switch(r.chomp){case"-":break;case"+":for(let d=a;d<o.length;++d)f+=`
+`+o[d][0].slice(l);f[f.length-1]!==`
+`&&(f+=`
+`);break;default:f+=`
+`}const p=s+r.length+n.source.length;return{value:f,type:i,comment:r.comment,range:[s,p,p]}}function pl({offset:n,props:e},t,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],i=r[0];let o=0,a="",l=-1;for(let h=1;h<r.length;++h){const g=r[h];if(!a&&(g==="-"||g==="+"))a=g;else{const p=Number(g);!o&&p?o=p:l===-1&&(l=n+h)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let c=!1,u="",f=r.length;for(let h=1;h<e.length;++h){const g=e[h];switch(g.type){case"space":c=!0;case"newline":f+=g.source.length;break;case"comment":t&&!c&&s(g,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=g.source.length,u=g.source.substring(1);break;case"error":s(g,"UNEXPECTED_TOKEN",g.message),f+=g.source.length;break;default:{const p=`Unexpected token in block scalar header: ${g.type}`;s(g,"UNEXPECTED_TOKEN",p);const d=g.source;d&&typeof d=="string"&&(f+=d.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:f}}function gl(n){const e=n.split(/\n( *)/),t=e[0],s=t.match(/^( *)/),i=[s?.[1]?[s[1],t.slice(s[1].length)]:["",t]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function ki(n,e,t){const{offset:s,type:r,source:i,end:o}=n;let a,l;const c=(h,g,p)=>t(s+h,g,p);switch(r){case"scalar":a=L.PLAIN,l=ml(i,c);break;case"single-quoted-scalar":a=L.QUOTE_SINGLE,l=yl(i,c);break;case"double-quoted-scalar":a=L.QUOTE_DOUBLE,l=_l(i,c);break;default:return t(n,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const u=s+i.length,f=Tt(o,u,e,t);return{value:l,type:a,comment:f.comment,range:[s,u,f.offset]}}function ml(n,e){let t="";switch(n[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${n[0]}`;break}case"@":case"`":{t=`reserved character ${n[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),Oi(n)}function yl(n,e){return(n[n.length-1]!=="'"||n.length===1)&&e(n.length,"MISSING_CHAR","Missing closing 'quote"),Oi(n.slice(1,-1)).replace(/''/g,"'")}function Oi(n){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
+`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
+`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(n);if(!s)return n;let r=s[1],i=" ",o=e.lastIndex;for(t.lastIndex=o;s=t.exec(n);)s[1]===""?i===`
+`?r+=i:i=`
+`:(r+=i+s[1],i=" "),o=t.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(n),r+i+(s?.[1]??"")}function _l(n,e){let t="";for(let s=1;s<n.length-1;++s){const r=n[s];if(!(r==="\r"&&n[s+1]===`
+`))if(r===`
+`){const{fold:i,offset:o}=bl(n,s);t+=i,s=o}else if(r==="\\"){let i=n[++s];const o=Sl[i];if(o)t+=o;else if(i===`
+`)for(i=n[s+1];i===" "||i==="	";)i=n[++s+1];else if(i==="\r"&&n[s+1]===`
+`)for(i=n[++s+1];i===" "||i==="	";)i=n[++s+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];t+=wl(n,s+1,a,e),s+=a}else{const a=n.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),t+=a}}else if(r===" "||r==="	"){const i=s;let o=n[s+1];for(;o===" "||o==="	";)o=n[++s+1];o!==`
+`&&!(o==="\r"&&n[s+2]===`
+`)&&(t+=s>i?n.slice(i,s+1):r)}else t+=r}return(n[n.length-1]!=='"'||n.length===1)&&e(n.length,"MISSING_CHAR",'Missing closing "quote'),t}function bl(n,e){let t="",s=n[e+1];for(;(s===" "||s==="	"||s===`
+`||s==="\r")&&!(s==="\r"&&n[e+2]!==`
+`);)s===`
+`&&(t+=`
+`),e+=1,s=n[e+1];return t||(t=" "),{fold:t,offset:e}}const Sl={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
+`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function wl(n,e,t,s){const r=n.substr(e,t),o=r.length===t&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){const a=n.substr(e-2,t+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function $i(n,e,t,s){const{value:r,type:i,comment:o,range:a}=e.type==="block-scalar"?vi(e,n.options.strict,s):ki(e,n.options.strict,s),l=t?n.directives.tagName(t.source,f=>s(t,"TAG_RESOLVE_FAILED",f)):null,c=t&&l?El(n.schema,r,l,t,s):e.type==="scalar"?Al(n,r,e,s):n.schema[Pe];let u;try{const f=c.resolve(r,h=>s(t??e,"TAG_RESOLVE_FAILED",h),n.options);u=x(f)?f:new L(f)}catch(f){const h=f instanceof Error?f.message:String(f);s(t??e,"TAG_RESOLVE_FAILED",h),u=new L(r)}return u.range=a,u.source=r,i&&(u.type=i),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function El(n,e,t,s,r){if(t==="!")return n[Pe];const i=[];for(const a of n.tags)if(!a.collection&&a.tag===t)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if(a.test?.test(e))return a;const o=n.knownTags[t];return o&&!o.collection?(n.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),n[Pe])}function Al({directives:n,schema:e},t,s,r){const i=e.tags.find(o=>o.default&&o.test?.test(t))||e[Pe];if(e.compat){const o=e.compat.find(a=>a.default&&a.test?.test(t))??e[Pe];if(i.tag!==o.tag){const a=n.tagString(i.tag),l=n.tagString(o.tag),c=`Value may be parsed as either ${a} or ${l}`;r(s,"TAG_RESOLVE_FAILED",c,!0)}}return i}function vl(n,e,t){if(e){t===null&&(t=e.length);for(let s=t-1;s>=0;--s){let r=e[s];switch(r.type){case"space":case"comment":case"newline":n-=r.source.length;continue}for(r=e[++s];r?.type==="space";)n+=r.source.length,r=e[++s];break}}return n}const kl={composeNode:Ti,composeEmptyNode:Ss};function Ti(n,e,t,s){const{spaceBefore:r,comment:i,anchor:o,tag:a}=t;let l,c=!0;switch(e.type){case"alias":l=Ol(n,e,s),(o||a)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=$i(n,e,a,s),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=dl(kl,n,e,a,s),o&&(l.anchor=o.source.substring(1));break;default:{const u=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",u),l=Ss(n,e.offset,void 0,null,t,s),c=!1}}return o&&l.anchor===""&&s(o,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(l.spaceBefore=!0),i&&(e.type==="scalar"&&e.source===""?l.comment=i:l.commentBefore=i),n.options.keepSourceTokens&&c&&(l.srcToken=e),l}function Ss(n,e,t,s,{spaceBefore:r,comment:i,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:vl(e,t,s),indent:-1,source:""},f=$i(n,u,a,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(f.spaceBefore=!0),i&&(f.comment=i,f.range[2]=l),f}function Ol({options:n},{offset:e,source:t,end:s},r){const i=new wt(t.substring(1));i.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&r(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+t.length,a=Tt(s,o,n.strict,r);return i.range=[e,o,a.offset],a.comment&&(i.comment=a.comment),i}function $l(n,e,{offset:t,start:s,value:r,end:i},o){const a=Object.assign({_directives:e},n),l=new et(void 0,a),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=ut(s,{indicator:"doc-start",next:r??i?.[0],offset:t,onError:o,startOnNewline:!0});u.found&&(l.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?Ti(c,r,u,o):Ss(c,u.end,s,null,u,o);const f=l.contents.range[2],h=Tt(i,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[t,f,h.offset],l}function Rt(n){if(typeof n=="number")return[n,n+1];if(Array.isArray(n))return n.length===2?n:[n[0],n[1]];const{offset:e,source:t}=n;return[e,e+(typeof t=="string"?t.length:1)]}function Ri(n){let e="",t=!1,s=!1;for(let r=0;r<n.length;++r){const i=n[r];switch(i[0]){case"#":e+=(e===""?"":s?`
+
+`:`
+`)+(i.substring(1)||" "),t=!0,s=!1;break;case"%":n[r+1]?.[0]!=="#"&&(r+=1),t=!1;break;default:t||(s=!0),t=!1}}return{comment:e,afterEmptyLine:s}}class pn{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,s,r,i)=>{const o=Rt(t);i?this.warnings.push(new gs(o,s,r)):this.errors.push(new je(o,s,r))},this.directives=new re({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:s,afterEmptyLine:r}=Ri(this.prelude);if(s){const i=e.contents;if(t)e.comment=e.comment?`${e.comment}
+${s}`:s;else if(r||e.directives.docStart||!i)e.commentBefore=s;else if(K(i)&&!i.flow&&i.items.length>0){let o=i.items[0];H(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${s}
+${a}`:s}else{const o=i.commentBefore;i.commentBefore=o?`${s}
+${o}`:s}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Ri(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,s=-1){for(const r of e)yield*this.next(r);yield*this.end(t,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,s,r)=>{const i=Rt(e);i[0]+=t,this.onError(i,"BAD_DIRECTIVE",s,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=$l(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new je(Rt(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new je(Rt(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const t=Tt(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
+${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new je(Rt(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),r=new et(void 0,s);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,t,t],this.decorate(r,!1),yield r}}}function Tl(n,e=!0,t){if(n){const s=(r,i,o)=>{const a=typeof r=="number"?r:Array.isArray(r)?r[0]:r.offset;if(t)t(a,i,o);else throw new je([a,a+1],i,o)};switch(n.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return ki(n,e,s);case"block-scalar":return vi(n,e,s)}}return null}function Rl(n,e){const{implicitKey:t=!1,indent:s,inFlow:r=!1,offset:i=-1,type:o="PLAIN"}=e,a=kt({type:o,value:n},{implicitKey:t,indent:s>0?" ".repeat(s):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:s,source:`
+`}];switch(a[0]){case"|":case">":{const c=a.indexOf(`
+`),u=a.substring(0,c),f=a.substring(c+1)+`
+`,h=[{type:"block-scalar-header",offset:i,indent:s,source:u}];return Pi(h,l)||h.push({type:"newline",offset:-1,indent:s,source:`
+`}),{type:"block-scalar",offset:i,indent:s,props:h,source:f}}case'"':return{type:"double-quoted-scalar",offset:i,indent:s,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:i,indent:s,source:a,end:l};default:return{type:"scalar",offset:i,indent:s,source:a,end:l}}}function Pl(n,e,t={}){let{afterKey:s=!1,implicitKey:r=!1,inFlow:i=!1,type:o}=t,a="indent"in n?n.indent:null;if(s&&typeof a=="number"&&(a+=2),!o)switch(n.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const c=n.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=kt({type:o,value:e},{implicitKey:r||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Nl(n,l);break;case'"':ws(n,l,"double-quoted-scalar");break;case"'":ws(n,l,"single-quoted-scalar");break;default:ws(n,l,"scalar")}}function Nl(n,e){const t=e.indexOf(`
+`),s=e.substring(0,t),r=e.substring(t+1)+`
+`;if(n.type==="block-scalar"){const i=n.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=s,n.source=r}else{const{offset:i}=n,o="indent"in n?n.indent:-1,a=[{type:"block-scalar-header",offset:i,indent:o,source:s}];Pi(a,"end"in n?n.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
+`});for(const l of Object.keys(n))l!=="type"&&l!=="offset"&&delete n[l];Object.assign(n,{type:"block-scalar",indent:o,props:a,source:r})}}function Pi(n,e){if(e)for(const t of e)switch(t.type){case"space":case"comment":n.push(t);break;case"newline":return n.push(t),!0}return!1}function ws(n,e,t){switch(n.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":n.type=t,n.source=e;break;case"block-scalar":{const s=n.props.slice(1);let r=e.length;n.props[0].type==="block-scalar-header"&&(r-=n.props[0].source.length);for(const i of s)i.offset+=r;delete n.props,Object.assign(n,{type:t,source:e,end:s});break}case"block-map":case"block-seq":{const r={type:"newline",offset:n.offset+e.length,indent:n.indent,source:`
+`};delete n.items,Object.assign(n,{type:t,source:e,end:[r]});break}default:{const s="indent"in n?n.indent:-1,r="end"in n&&Array.isArray(n.end)?n.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(n))i!=="type"&&i!=="offset"&&delete n[i];Object.assign(n,{type:t,indent:s,source:e,end:r})}}}const Cl=n=>"type"in n?gn(n):mn(n);function gn(n){switch(n.type){case"block-scalar":{let e="";for(const t of n.props)e+=gn(t);return e+n.source}case"block-map":case"block-seq":{let e="";for(const t of n.items)e+=mn(t);return e}case"flow-collection":{let e=n.start.source;for(const t of n.items)e+=mn(t);for(const t of n.end)e+=t.source;return e}case"document":{let e=mn(n);if(n.end)for(const t of n.end)e+=t.source;return e}default:{let e=n.source;if("end"in n&&n.end)for(const t of n.end)e+=t.source;return e}}}function mn({start:n,key:e,sep:t,value:s}){let r="";for(const i of n)r+=i.source;if(e&&(r+=gn(e)),t)for(const i of t)r+=i.source;return s&&(r+=gn(s)),r}const Es=Symbol("break visit"),Ll=Symbol("skip children"),Ni=Symbol("remove item");function Qe(n,e){"type"in n&&n.type==="document"&&(n={start:n.start,value:n.value}),Ci(Object.freeze([]),n,e)}Qe.BREAK=Es,Qe.SKIP=Ll,Qe.REMOVE=Ni,Qe.itemAtPath=(n,e)=>{let t=n;for(const[s,r]of e){const i=t?.[s];if(i&&"items"in i)t=i.items[r];else return}return t},Qe.parentCollection=(n,e)=>{const t=Qe.itemAtPath(n,e.slice(0,-1)),s=e[e.length-1][0],r=t?.[s];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};function Ci(n,e,t){let s=t(e,n);if(typeof s=="symbol")return s;for(const r of["key","value"]){const i=e[r];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const a=Ci(Object.freeze(n.concat([[r,o]])),i.items[o],t);if(typeof a=="number")o=a-1;else{if(a===Es)return Es;a===Ni&&(i.items.splice(o,1),o-=1)}}typeof s=="function"&&r==="key"&&(s=s(e,n))}}return typeof s=="function"?s(e,n):s}const yn="\uFEFF",_n="",bn="",Pt="",Il=n=>!!n&&"items"in n,Ml=n=>!!n&&(n.type==="scalar"||n.type==="single-quoted-scalar"||n.type==="double-quoted-scalar"||n.type==="block-scalar");function Dl(n){switch(n){case yn:return"<BOM>";case _n:return"<DOC>";case bn:return"<FLOW_END>";case Pt:return"<SCALAR>";default:return JSON.stringify(n)}}function Li(n){switch(n){case yn:return"byte-order-mark";case _n:return"doc-mode";case bn:return"flow-error-end";case Pt:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
+`:case`\r
+`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(n[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}var Ii=Object.freeze({__proto__:null,BOM:yn,DOCUMENT:_n,FLOW_END:bn,SCALAR:Pt,createScalarToken:Rl,isCollection:Il,isScalar:Ml,prettyToken:Dl,resolveAsScalar:Tl,setScalarValue:Pl,stringify:Cl,tokenType:Li,visit:Qe});function de(n){switch(n){case void 0:case" ":case`
+`:case"\r":case"	":return!0;default:return!1}}const Mi="0123456789ABCDEFabcdef".split(""),xl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),As=",[]{}".split(""),Bl=` ,[]{}
+\r	`.split(""),vs=n=>!n||Bl.includes(n);class ks{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let s=this.next??"stream";for(;s&&(t||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
+`?!0:t==="\r"?this.buffer[e+1]===`
+`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let s=0;for(;t===" ";)t=this.buffer[++s+e];if(t==="\r"){const r=this.buffer[s+e+1];if(r===`
+`||!r&&!this.atEnd)return e+s+1}return t===`
+`||s>=this.indentNext||!t&&!this.atEnd?e+s:-1}if(t==="-"||t==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&de(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
+`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===yn&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length;const s=e.indexOf("#");if(s!==-1){const i=e[s-1];(i===" "||i==="	")&&(t=s-1)}for(;;){const i=e[t-1];if(i===" "||i==="	")t-=1;else break}const r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield _n,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if(t==="---"&&de(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&de(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!de(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&de(t)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(vs),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,s=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=s=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);const r=this.getLine();if(r===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&r[0]!=="#"||s===0&&(r.startsWith("---")||r.startsWith("..."))&&de(r[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield bn,yield*this.parseLineStart();let i=0;for(;r[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),r[i]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(vs),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||de(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let i=0;for(;this.buffer[t-1-i]==="\\";)i+=1;if(i%2===0)break;t=this.buffer.indexOf('"',t+1)}const s=this.buffer.substring(0,t);let r=s.indexOf(`
+`,this.pos);if(r!==-1){for(;r!==-1;){const i=this.continueScalar(r+1);if(i===-1)break;r=s.indexOf(`
+`,i)}r!==-1&&(t=r-(s[r-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>de(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,s;e:for(let r=this.pos;s=this.buffer[r];++r)switch(s){case" ":t+=1;break;case`
+`:e=r,t=0;break;case"\r":{const i=this.buffer[r+1];if(!i&&!this.atEnd)return this.setNext("block-scalar");if(i===`
+`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
+`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let r=e-1,i=this.buffer[r];i==="\r"&&(i=this.buffer[--r]);const o=r;for(;i===" "||i==="	";)i=this.buffer[--r];if(i===`
+`&&r>=this.pos&&r+1+t>o)e=r;else break}while(!0);return yield Pt,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,s=this.pos-1,r;for(;r=this.buffer[++s];)if(r===":"){const i=this.buffer[s+1];if(de(i)||e&&i===",")break;t=s}else if(de(r)){let i=this.buffer[s+1];if(r==="\r"&&(i===`
+`?(s+=1,r=`
+`,i=this.buffer[s+1]):t=s),i==="#"||e&&As.includes(i))break;if(r===`
+`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&As.includes(r))break;t=s}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield Pt,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(vs))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(de(t)||e&&As.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!de(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(xl.includes(t))t=this.buffer[++e];else if(t==="%"&&Mi.includes(this.buffer[e+1])&&Mi.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
+`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
+`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,s;do s=this.buffer[++t];while(s===" "||e&&s==="	");const r=t-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=t),r}*pushUntil(e){let t=this.pos,s=this.buffer[t];for(;!e(s);)s=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Os{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,s=this.lineStarts.length;for(;t<s;){const i=t+s>>1;this.lineStarts[i]<e?t=i+1:s=i}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const r=this.lineStarts[t-1];return{line:t,col:e-r+1}}}}function be(n,e){for(let t=0;t<n.length;++t)if(n[t].type===e)return!0;return!1}function Di(n){for(let e=0;e<n.length;++e)switch(n[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function xi(n){switch(n?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Sn(n){switch(n.type){case"document":return n.start;case"block-map":{const e=n.items[n.items.length-1];return e.sep??e.start}case"block-seq":return n.items[n.items.length-1].start;default:return[]}}function ft(n){if(n.length===0)return[];let e=n.length;e:for(;--e>=0;)switch(n[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;n[++e]?.type==="space";);return n.splice(e,n.length)}function Bi(n){if(n.start.type==="flow-seq-start")for(const e of n.items)e.sep&&!e.value&&!be(e.start,"explicit-key-ind")&&!be(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,xi(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class wn{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new ks,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,t))yield*this.next(s);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const t=Li(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(this.stack.length===0)yield t;else{const s=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in s?s.indent:0:t.type==="flow-collection"&&s.type==="document"&&(t.indent=0),t.type==="flow-collection"&&Bi(t),s.type){case"document":s.value=t;break;case"block-scalar":s.props.push(t);break;case"block-map":{const r=s.items[s.items.length-1];if(r.value){s.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=t;else{Object.assign(r,{key:t,sep:[]}),this.onKeyLine=!be(r.start,"explicit-key-ind");return}break}case"block-seq":{const r=s.items[s.items.length-1];r.value?s.items.push({start:[],value:t}):r.value=t;break}case"flow-collection":{const r=s.items[s.items.length-1];!r||r.value?s.items.push({start:[],key:t,sep:[]}):r.sep?r.value=t:Object.assign(r,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const r=t.items[t.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&Di(r.start)===-1&&(t.indent===0||r.start.every(i=>i.type!=="comment"||i.indent<t.indent))&&(s.type==="document"?s.end=r.start:s.items.push({start:r.start}),t.items.splice(-1,1))}}else{const s="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:s}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Di(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=Sn(this.peek(2)),s=ft(t);let r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
+`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
+`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const s="end"in t.value?t.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent&&t.sep;let r=[];if(s&&t.sep&&!t.value){const i=[];for(let o=0;o<t.sep.length;++o){const a=t.sep[o];switch(a.type){case"newline":i.push(o);break;case"space":break;case"comment":a.indent>e.indent&&(i.length=0);break;default:i.length=0}}i.length>=2&&(r=t.sep.splice(i[1]))}switch(this.type){case"anchor":case"tag":s||t.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!be(t.start,"explicit-key-ind")?t.start.push(this.sourceToken):s||t.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(be(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(be(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(xi(t.key)&&!be(t.sep,"newline")){const i=ft(t.start),o=t.key,a=t.sep;a.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:o,sep:a}]})}else r.length>0?t.sep=t.sep.concat(r,this.sourceToken):t.sep.push(this.sourceToken);else if(be(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const i=ft(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||s?e.items.push({start:r,key:null,sep:[this.sourceToken]}):be(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);s||t.value?(e.items.push({start:r,key:i,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(i):(Object.assign(t,{key:i,sep:[]}),this.onKeyLine=!0);return}default:{const i=this.startBlockValue(e);if(i){s&&i.type!=="block-seq"&&be(t.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(i);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const s="end"in t.value?t.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||be(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:r,sep:[]}):t.sep?this.stack.push(r):Object.assign(t,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const r=Sn(s),i=ft(r);Bi(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
+`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
+`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Sn(e),s=ft(t);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Sn(e),s=ft(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function ji(n){const e=n.prettyErrors!==!1;return{lineCounter:n.lineCounter||e&&new Os||null,prettyErrors:e}}function Fi(n,e={}){const{lineCounter:t,prettyErrors:s}=ji(e),r=new wn(t?.addNewLine),i=new pn(e),o=Array.from(i.compose(r.parse(n)));if(s&&t)for(const a of o)a.errors.forEach(dn(n,t)),a.warnings.forEach(dn(n,t));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function $s(n,e={}){const{lineCounter:t,prettyErrors:s}=ji(e),r=new wn(t?.addNewLine),i=new pn(e);let o=null;for(const a of i.compose(r.parse(n),!0,n.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new je(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&t&&(o.errors.forEach(dn(n,t)),o.warnings.forEach(dn(n,t))),o}function Hi(n,e,t){let s;typeof e=="function"?s=e:t===void 0&&e&&typeof e=="object"&&(t=e);const r=$s(n,t);if(!r)return null;if(r.warnings.forEach(i=>Zr(r.options.logLevel,i)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},t))}function Ki(n,e,t){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){const r=Math.round(t);t=r<1?void 0:r>8?{indent:8}:{indent:r}}if(n===void 0){const{keepUndefined:r}=t??e??{};if(!r)return}return new et(n,s,t).toString(t)}var jl=Object.freeze({__proto__:null,Alias:wt,CST:Ii,Composer:pn,Document:et,Lexer:ks,LineCounter:Os,Pair:Z,Parser:wn,Scalar:L,Schema:Ft,YAMLError:hn,YAMLMap:oe,YAMLParseError:je,YAMLSeq:Le,YAMLWarning:gs,isAlias:xe,isCollection:K,isDocument:Ve,isMap:Ge,isNode:G,isPair:H,isScalar:x,isSeq:We,parse:Hi,parseAllDocuments:Fi,parseDocument:$s,stringify:Ki,visit:Ne,visitAsync:St}),Fl=Object.freeze({__proto__:null,Alias:wt,CST:Ii,Composer:pn,Document:et,Lexer:ks,LineCounter:Os,Pair:Z,Parser:wn,Scalar:L,Schema:Ft,YAMLError:hn,YAMLMap:oe,YAMLParseError:je,YAMLSeq:Le,YAMLWarning:gs,default:jl,isAlias:xe,isCollection:K,isDocument:Ve,isMap:Ge,isNode:G,isPair:H,isScalar:x,isSeq:We,parse:Hi,parseAllDocuments:Fi,parseDocument:$s,stringify:Ki,visit:Ne,visitAsync:St}),Hl=_a(Fl),ee={},V={},ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.splitWhen=ht.flatten=void 0;function Kl(n){return n.reduce((e,t)=>[].concat(e,t),[])}ht.flatten=Kl;function Ul(n,e){const t=[[]];let s=0;for(const r of n)e(r)?(s++,t[s]=[]):t[s].push(r);return t}ht.splitWhen=Ul;var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.isEnoentCodeError=void 0;function ql(n){return n.code==="ENOENT"}En.isEnoentCodeError=ql;var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.createDirentFromStats=void 0;let Vl=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};function Gl(n,e){return new Vl(n,e)}An.createDirentFromStats=Gl;var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.convertPosixPathToPattern=Y.convertWindowsPathToPattern=Y.convertPathToPattern=Y.escapePosixPath=Y.escapeWindowsPath=Y.escape=Y.removeLeadingDotSegment=Y.makeAbsolute=Y.unixify=void 0;const Wl=Gn,Yl=ve,Ui=Wl.platform()==="win32",Ql=2,Jl=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,Xl=/(\\?)([(){}]|^!|[!+@](?=\())/g,zl=/^\\\\([.?])/,Zl=/\\(?![!()+@{}])/g;function ec(n){return n.replace(/\\/g,"/")}Y.unixify=ec;function tc(n,e){return Yl.resolve(n,e)}Y.makeAbsolute=tc;function nc(n){if(n.charAt(0)==="."){const e=n.charAt(1);if(e==="/"||e==="\\")return n.slice(Ql)}return n}Y.removeLeadingDotSegment=nc,Y.escape=Ui?Ts:Rs;function Ts(n){return n.replace(Xl,"\\$2")}Y.escapeWindowsPath=Ts;function Rs(n){return n.replace(Jl,"\\$2")}Y.escapePosixPath=Rs,Y.convertPathToPattern=Ui?qi:Vi;function qi(n){return Ts(n).replace(zl,"//$1").replace(Zl,"/")}Y.convertWindowsPathToPattern=qi;function Vi(n){return Rs(n)}Y.convertPosixPathToPattern=Vi;var N={};/*!
+ * is-extglob <https://github.com/jonschlinkert/is-extglob>
+ *
+ * Copyright (c) 2014-2016, Jon Schlinkert.
+ * Licensed under the MIT License.
+ */var sc=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1};/*!
+ * is-glob <https://github.com/jonschlinkert/is-glob>
+ *
+ * Copyright (c) 2014-2017, Jon Schlinkert.
+ * Released under the MIT License.
+ */var rc=sc,Gi={"{":"}","(":")","[":"]"},ic=function(n){if(n[0]==="!")return!0;for(var e=0,t=-2,s=-2,r=-2,i=-2,o=-2;e<n.length;){if(n[e]==="*"||n[e+1]==="?"&&/[\].+)]/.test(n[e])||s!==-1&&n[e]==="["&&n[e+1]!=="]"&&(s<e&&(s=n.indexOf("]",e)),s>e&&(o===-1||o>s||(o=n.indexOf("\\",e),o===-1||o>s)))||r!==-1&&n[e]==="{"&&n[e+1]!=="}"&&(r=n.indexOf("}",e),r>e&&(o=n.indexOf("\\",e),o===-1||o>r))||i!==-1&&n[e]==="("&&n[e+1]==="?"&&/[:!=]/.test(n[e+2])&&n[e+3]!==")"&&(i=n.indexOf(")",e),i>e&&(o=n.indexOf("\\",e),o===-1||o>i))||t!==-1&&n[e]==="("&&n[e+1]!=="|"&&(t<e&&(t=n.indexOf("|",e)),t!==-1&&n[t+1]!==")"&&(i=n.indexOf(")",t),i>t&&(o=n.indexOf("\\",t),o===-1||o>i))))return!0;if(n[e]==="\\"){var a=n[e+1];e+=2;var l=Gi[a];if(l){var c=n.indexOf(l,e);c!==-1&&(e=c+1)}if(n[e]==="!")return!0}else e++}return!1},oc=function(n){if(n[0]==="!")return!0;for(var e=0;e<n.length;){if(/[*?{}()[\]]/.test(n[e]))return!0;if(n[e]==="\\"){var t=n[e+1];e+=2;var s=Gi[t];if(s){var r=n.indexOf(s,e);r!==-1&&(e=r+1)}if(n[e]==="!")return!0}else e++}return!1},ac=function(e,t){if(typeof e!="string"||e==="")return!1;if(rc(e))return!0;var s=ic;return t&&t.strict===!1&&(s=oc),s(e)},lc=ac,cc=ve.posix.dirname,uc=Gn.platform()==="win32",Ps="/",fc=/\\/g,hc=/[\{\[].*[\}\]]$/,dc=/(^|[^\\])([\{\[]|\([^\)]+$)/,pc=/\\([\!\*\?\|\[\]\(\)\{\}])/g,gc=function(e,t){var s=Object.assign({flipBackslashes:!0},t);s.flipBackslashes&&uc&&e.indexOf(Ps)<0&&(e=e.replace(fc,Ps)),hc.test(e)&&(e+=Ps),e+="a";do e=cc(e);while(lc(e)||dc.test(e));return e.replace(pc,"$1")},vn={};(function(n){n.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1,n.find=(e,t)=>e.nodes.find(s=>s.type===t),n.exceedsLimit=(e,t,s=1,r)=>r===!1||!n.isInteger(e)||!n.isInteger(t)?!1:(Number(t)-Number(e))/Number(s)>=r,n.escapeNode=(e,t=0,s)=>{let r=e.nodes[t];r&&(s&&r.type===s||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)},n.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0),n.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1,n.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0,n.reduce=e=>e.reduce((t,s)=>(s.type==="text"&&t.push(s.value),s.type==="range"&&(s.type="text"),t),[]),n.flatten=(...e)=>{const t=[],s=r=>{for(let i=0;i<r.length;i++){let o=r[i];Array.isArray(o)?s(o):o!==void 0&&t.push(o)}return t};return s(e),t}})(vn);const Wi=vn;var Ns=(n,e={})=>{let t=(s,r={})=>{let i=e.escapeInvalid&&Wi.isInvalidBrace(r),o=s.invalid===!0&&e.escapeInvalid===!0,a="";if(s.value)return(i||o)&&Wi.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let l of s.nodes)a+=t(l);return a};return t(n)};/*!
+ * is-number <https://github.com/jonschlinkert/is-number>
+ *
+ * Copyright (c) 2014-present, Jon Schlinkert.
+ * Released under the MIT License.
+ */var mc=function(n){return typeof n=="number"?n-n===0:typeof n=="string"&&n.trim()!==""?Number.isFinite?Number.isFinite(+n):isFinite(+n):!1};/*!
+ * to-regex-range <https://github.com/micromatch/to-regex-range>
+ *
+ * Copyright (c) 2015-present, Jon Schlinkert.
+ * Released under the MIT License.
+ */const Yi=mc,Je=(n,e,t)=>{if(Yi(n)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||n===e)return String(n);if(Yi(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...t};typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let r=String(s.relaxZeros),i=String(s.shorthand),o=String(s.capture),a=String(s.wrap),l=n+":"+e+"="+r+i+o+a;if(Je.cache.hasOwnProperty(l))return Je.cache[l].result;let c=Math.min(n,e),u=Math.max(n,e);if(Math.abs(c-u)===1){let d=n+"|"+e;return s.capture?`(${d})`:s.wrap===!1?d:`(?:${d})`}let f=eo(n)||eo(e),h={min:n,max:e,a:c,b:u},g=[],p=[];if(f&&(h.isPadded=f,h.maxLen=String(h.max).length),c<0){let d=u<0?Math.abs(u):1;p=Qi(d,Math.abs(c),h,s),c=h.a=0}return u>=0&&(g=Qi(c,u,h,s)),h.negatives=p,h.positives=g,h.result=yc(p,g),s.capture===!0?h.result=`(${h.result})`:s.wrap!==!1&&g.length+p.length>1&&(h.result=`(?:${h.result})`),Je.cache[l]=h,h.result};function yc(n,e,t){let s=Cs(n,e,"-",!1)||[],r=Cs(e,n,"",!1)||[],i=Cs(n,e,"-?",!0)||[];return s.concat(i).concat(r).join("|")}function _c(n,e){let t=1,s=1,r=Xi(n,t),i=new Set([e]);for(;n<=r&&r<=e;)i.add(r),t+=1,r=Xi(n,t);for(r=zi(e+1,s)-1;n<r&&r<=e;)i.add(r),s+=1,r=zi(e+1,s)-1;return i=[...i],i.sort(wc),i}function bc(n,e,t){if(n===e)return{pattern:n,count:[],digits:0};let s=Sc(n,e),r=s.length,i="",o=0;for(let a=0;a<r;a++){let[l,c]=s[a];l===c?i+=l:l!=="0"||c!=="9"?i+=Ec(l,c):o++}return o&&(i+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:i,count:[o],digits:r}}function Qi(n,e,t,s){let r=_c(n,e),i=[],o=n,a;for(let l=0;l<r.length;l++){let c=r[l],u=bc(String(o),String(c),s),f="";if(!t.isPadded&&a&&a.pattern===u.pattern){a.count.length>1&&a.count.pop(),a.count.push(u.count[0]),a.string=a.pattern+Zi(a.count),o=c+1;continue}t.isPadded&&(f=Ac(c,t,s)),u.string=f+u.pattern+Zi(u.count),i.push(u),o=c+1,a=u}return i}function Cs(n,e,t,s,r){let i=[];for(let o of n){let{string:a}=o;!s&&!Ji(e,"string",a)&&i.push(t+a),s&&Ji(e,"string",a)&&i.push(t+a)}return i}function Sc(n,e){let t=[];for(let s=0;s<n.length;s++)t.push([n[s],e[s]]);return t}function wc(n,e){return n>e?1:e>n?-1:0}function Ji(n,e,t){return n.some(s=>s[e]===t)}function Xi(n,e){return Number(String(n).slice(0,-e)+"9".repeat(e))}function zi(n,e){return n-n%Math.pow(10,e)}function Zi(n){let[e=0,t=""]=n;return t||e>1?`{${e+(t?","+t:"")}}`:""}function Ec(n,e,t){return`[${n}${e-n===1?"":"-"}${e}]`}function eo(n){return/^-?(0+)\d/.test(n)}function Ac(n,e,t){if(!e.isPadded)return n;let s=Math.abs(e.maxLen-String(n).length),r=t.relaxZeros!==!1;switch(s){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${s}}`:`0{${s}}`}}Je.cache={},Je.clearCache=()=>Je.cache={};var vc=Je;/*!
+ * fill-range <https://github.com/jonschlinkert/fill-range>
+ *
+ * Copyright (c) 2014-present, Jon Schlinkert.
+ * Licensed under the MIT License.
+ */const kc=Tr,to=vc,no=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),Oc=n=>e=>n===!0?Number(e):String(e),Ls=n=>typeof n=="number"||typeof n=="string"&&n!=="",Nt=n=>Number.isInteger(+n),Is=n=>{let e=`${n}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},$c=(n,e,t)=>typeof n=="string"||typeof e=="string"?!0:t.stringify===!0,Tc=(n,e,t)=>{if(e>0){let s=n[0]==="-"?"-":"";s&&(n=n.slice(1)),n=s+n.padStart(s?e-1:e,"0")}return t===!1?String(n):n},so=(n,e)=>{let t=n[0]==="-"?"-":"";for(t&&(n=n.slice(1),e--);n.length<e;)n="0"+n;return t?"-"+n:n},Rc=(n,e)=>{n.negatives.sort((o,a)=>o<a?-1:o>a?1:0),n.positives.sort((o,a)=>o<a?-1:o>a?1:0);let t=e.capture?"":"?:",s="",r="",i;return n.positives.length&&(s=n.positives.join("|")),n.negatives.length&&(r=`-(${t}${n.negatives.join("|")})`),s&&r?i=`${s}|${r}`:i=s||r,e.wrap?`(${t}${i})`:i},ro=(n,e,t,s)=>{if(t)return to(n,e,{wrap:!1,...s});let r=String.fromCharCode(n);if(n===e)return r;let i=String.fromCharCode(e);return`[${r}-${i}]`},io=(n,e,t)=>{if(Array.isArray(n)){let s=t.wrap===!0,r=t.capture?"":"?:";return s?`(${r}${n.join("|")})`:n.join("|")}return to(n,e,t)},oo=(...n)=>new RangeError("Invalid range arguments: "+kc.inspect(...n)),ao=(n,e,t)=>{if(t.strictRanges===!0)throw oo([n,e]);return[]},Pc=(n,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${n}" to be a number`);return[]},Nc=(n,e,t=1,s={})=>{let r=Number(n),i=Number(e);if(!Number.isInteger(r)||!Number.isInteger(i)){if(s.strictRanges===!0)throw oo([n,e]);return[]}r===0&&(r=0),i===0&&(i=0);let o=r>i,a=String(n),l=String(e),c=String(t);t=Math.max(Math.abs(t),1);let u=Is(a)||Is(l)||Is(c),f=u?Math.max(a.length,l.length,c.length):0,h=u===!1&&$c(n,e,s)===!1,g=s.transform||Oc(h);if(s.toRegex&&t===1)return ro(so(n,f),so(e,f),!0,s);let p={negatives:[],positives:[]},d=E=>p[E<0?"negatives":"positives"].push(Math.abs(E)),m=[],w=0;for(;o?r>=i:r<=i;)s.toRegex===!0&&t>1?d(r):m.push(Tc(g(r,w),f,h)),r=o?r-t:r+t,w++;return s.toRegex===!0?t>1?Rc(p,s):io(m,null,{wrap:!1,...s}):m},Cc=(n,e,t=1,s={})=>{if(!Nt(n)&&n.length>1||!Nt(e)&&e.length>1)return ao(n,e,s);let r=s.transform||(h=>String.fromCharCode(h)),i=`${n}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=i>o,l=Math.min(i,o),c=Math.max(i,o);if(s.toRegex&&t===1)return ro(l,c,!1,s);let u=[],f=0;for(;a?i>=o:i<=o;)u.push(r(i,f)),i=a?i-t:i+t,f++;return s.toRegex===!0?io(u,null,{wrap:!1,options:s}):u},kn=(n,e,t,s={})=>{if(e==null&&Ls(n))return[n];if(!Ls(n)||!Ls(e))return ao(n,e,s);if(typeof t=="function")return kn(n,e,1,{transform:t});if(no(t))return kn(n,e,0,t);let r={...s};return r.capture===!0&&(r.wrap=!0),t=t||r.step||1,Nt(t)?Nt(n)&&Nt(e)?Nc(n,e,t,r):Cc(n,e,Math.max(Math.abs(t),1),r):t!=null&&!no(t)?Pc(t,r):kn(n,e,1,t)};var lo=kn;const Lc=lo,co=vn,Ic=(n,e={})=>{let t=(s,r={})=>{let i=co.isInvalidBrace(r),o=s.invalid===!0&&e.escapeInvalid===!0,a=i===!0||o===!0,l=e.escapeInvalid===!0?"\\":"",c="";if(s.isOpen===!0||s.isClose===!0)return l+s.value;if(s.type==="open")return a?l+s.value:"(";if(s.type==="close")return a?l+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":a?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let u=co.reduce(s.nodes),f=Lc(...u,{...e,wrap:!1,toRegex:!0});if(f.length!==0)return u.length>1&&f.length>1?`(${f})`:f}if(s.nodes)for(let u of s.nodes)c+=t(u,s);return c};return t(n)};var Mc=Ic;const Dc=lo,uo=Ns,dt=vn,Xe=(n="",e="",t=!1)=>{let s=[];if(n=[].concat(n),e=[].concat(e),!e.length)return n;if(!n.length)return t?dt.flatten(e).map(r=>`{${r}}`):e;for(let r of n)if(Array.isArray(r))for(let i of r)s.push(Xe(i,e,t));else for(let i of e)t===!0&&typeof i=="string"&&(i=`{${i}}`),s.push(Array.isArray(i)?Xe(r,i,t):r+i);return dt.flatten(s)},xc=(n,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,s=(r,i={})=>{r.queue=[];let o=i,a=i.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(r.invalid||r.dollar){a.push(Xe(a.pop(),uo(r,e)));return}if(r.type==="brace"&&r.invalid!==!0&&r.nodes.length===2){a.push(Xe(a.pop(),["{}"]));return}if(r.nodes&&r.ranges>0){let f=dt.reduce(r.nodes);if(dt.exceedsLimit(...f,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let h=Dc(...f,e);h.length===0&&(h=uo(r,e)),a.push(Xe(a.pop(),h)),r.nodes=[];return}let l=dt.encloseBrace(r),c=r.queue,u=r;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,c=u.queue;for(let f=0;f<r.nodes.length;f++){let h=r.nodes[f];if(h.type==="comma"&&r.type==="brace"){f===1&&c.push(""),c.push("");continue}if(h.type==="close"){a.push(Xe(a.pop(),c,l));continue}if(h.value&&h.type!=="open"){c.push(Xe(c.pop(),h.value));continue}h.nodes&&s(h,r)}return c};return dt.flatten(s(n))};var Bc=xc,jc={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
+`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const Fc=Ns,{MAX_LENGTH:fo,CHAR_BACKSLASH:Ms,CHAR_BACKTICK:Hc,CHAR_COMMA:Kc,CHAR_DOT:Uc,CHAR_LEFT_PARENTHESES:qc,CHAR_RIGHT_PARENTHESES:Vc,CHAR_LEFT_CURLY_BRACE:Gc,CHAR_RIGHT_CURLY_BRACE:Wc,CHAR_LEFT_SQUARE_BRACKET:ho,CHAR_RIGHT_SQUARE_BRACKET:po,CHAR_DOUBLE_QUOTE:Yc,CHAR_SINGLE_QUOTE:Qc,CHAR_NO_BREAK_SPACE:Jc,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Xc}=jc,zc=(n,e={})=>{if(typeof n!="string")throw new TypeError("Expected a string");let t=e||{},s=typeof t.maxLength=="number"?Math.min(fo,t.maxLength):fo;if(n.length>s)throw new SyntaxError(`Input length (${n.length}), exceeds max characters (${s})`);let r={type:"root",input:n,nodes:[]},i=[r],o=r,a=r,l=0,c=n.length,u=0,f=0,h;const g=()=>n[u++],p=d=>{if(d.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&d.type==="text"){a.value+=d.value;return}return o.nodes.push(d),d.parent=o,d.prev=a,a=d,d};for(p({type:"bos"});u<c;)if(o=i[i.length-1],h=g(),!(h===Xc||h===Jc)){if(h===Ms){p({type:"text",value:(e.keepEscaping?h:"")+g()});continue}if(h===po){p({type:"text",value:"\\"+h});continue}if(h===ho){l++;let d;for(;u<c&&(d=g());){if(h+=d,d===ho){l++;continue}if(d===Ms){h+=g();continue}if(d===po&&(l--,l===0))break}p({type:"text",value:h});continue}if(h===qc){o=p({type:"paren",nodes:[]}),i.push(o),p({type:"text",value:h});continue}if(h===Vc){if(o.type!=="paren"){p({type:"text",value:h});continue}o=i.pop(),p({type:"text",value:h}),o=i[i.length-1];continue}if(h===Yc||h===Qc||h===Hc){let d=h,m;for(e.keepQuotes!==!0&&(h="");u<c&&(m=g());){if(m===Ms){h+=m+g();continue}if(m===d){e.keepQuotes===!0&&(h+=m);break}h+=m}p({type:"text",value:h});continue}if(h===Gc){f++;let m={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};o=p(m),i.push(o),p({type:"open",value:h});continue}if(h===Wc){if(o.type!=="brace"){p({type:"text",value:h});continue}let d="close";o=i.pop(),o.close=!0,p({type:d,value:h}),f--,o=i[i.length-1];continue}if(h===Kc&&f>0){if(o.ranges>0){o.ranges=0;let d=o.nodes.shift();o.nodes=[d,{type:"text",value:Fc(o)}]}p({type:"comma",value:h}),o.commas++;continue}if(h===Uc&&f>0&&o.commas===0){let d=o.nodes;if(f===0||d.length===0){p({type:"text",value:h});continue}if(a.type==="dot"){if(o.range=[],a.value+=h,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){d.pop();let m=d[d.length-1];m.value+=a.value+h,a=m,o.ranges--;continue}p({type:"dot",value:h});continue}p({type:"text",value:h})}do if(o=i.pop(),o.type!=="root"){o.nodes.forEach(w=>{w.nodes||(w.type==="open"&&(w.isOpen=!0),w.type==="close"&&(w.isClose=!0),w.nodes||(w.type="text"),w.invalid=!0)});let d=i[i.length-1],m=d.nodes.indexOf(o);d.nodes.splice(m,1,...o.nodes)}while(i.length>0);return p({type:"eos"}),r};var Zc=zc;const go=Ns,eu=Mc,tu=Bc,nu=Zc,le=(n,e={})=>{let t=[];if(Array.isArray(n))for(let s of n){let r=le.create(s,e);Array.isArray(r)?t.push(...r):t.push(r)}else t=[].concat(le.create(n,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};le.parse=(n,e={})=>nu(n,e),le.stringify=(n,e={})=>go(typeof n=="string"?le.parse(n,e):n,e),le.compile=(n,e={})=>(typeof n=="string"&&(n=le.parse(n,e)),eu(n,e)),le.expand=(n,e={})=>{typeof n=="string"&&(n=le.parse(n,e));let t=tu(n,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t},le.create=(n,e={})=>n===""||n.length<3?[n]:e.expand!==!0?le.compile(n,e):le.expand(n,e);var su=le,Ct={};const ru=ve,Oe="\\\\/",mo=`[^${Oe}]`,Ie="\\.",iu="\\+",ou="\\?",On="\\/",au="(?=.)",yo="[^/]",Ds=`(?:${On}|$)`,_o=`(?:^|${On})`,xs=`${Ie}{1,2}${Ds}`,lu=`(?!${Ie})`,cu=`(?!${_o}${xs})`,uu=`(?!${Ie}{0,1}${Ds})`,fu=`(?!${xs})`,hu=`[^.${On}]`,du=`${yo}*?`,bo={DOT_LITERAL:Ie,PLUS_LITERAL:iu,QMARK_LITERAL:ou,SLASH_LITERAL:On,ONE_CHAR:au,QMARK:yo,END_ANCHOR:Ds,DOTS_SLASH:xs,NO_DOT:lu,NO_DOTS:cu,NO_DOT_SLASH:uu,NO_DOTS_SLASH:fu,QMARK_NO_DOT:hu,STAR:du,START_ANCHOR:_o},pu={...bo,SLASH_LITERAL:`[${Oe}]`,QMARK:mo,STAR:`${mo}*?`,DOTS_SLASH:`${Ie}{1,2}(?:[${Oe}]|$)`,NO_DOT:`(?!${Ie})`,NO_DOTS:`(?!(?:^|[${Oe}])${Ie}{1,2}(?:[${Oe}]|$))`,NO_DOT_SLASH:`(?!${Ie}{0,1}(?:[${Oe}]|$))`,NO_DOTS_SLASH:`(?!${Ie}{1,2}(?:[${Oe}]|$))`,QMARK_NO_DOT:`[^.${Oe}]`,START_ANCHOR:`(?:^|[${Oe}])`,END_ANCHOR:`(?:[${Oe}]|$)`},gu={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var $n={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:gu,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:ru.sep,extglobChars(n){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${n.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(n){return n===!0?pu:bo}};(function(n){const e=ve,t=process.platform==="win32",{REGEX_BACKSLASH:s,REGEX_REMOVE_BACKSLASH:r,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:o}=$n;n.isObject=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n.hasRegexChars=a=>i.test(a),n.isRegexChar=a=>a.length===1&&n.hasRegexChars(a),n.escapeRegex=a=>a.replace(o,"\\$1"),n.toPosixSlashes=a=>a.replace(s,"/"),n.removeBackslashes=a=>a.replace(r,l=>l==="\\"?"":l),n.supportsLookbehinds=()=>{const a=process.version.slice(1).split(".").map(Number);return a.length===3&&a[0]>=9||a[0]===8&&a[1]>=10},n.isWindows=a=>a&&typeof a.windows=="boolean"?a.windows:t===!0||e.sep==="\\",n.escapeLast=(a,l,c)=>{const u=a.lastIndexOf(l,c);return u===-1?a:a[u-1]==="\\"?n.escapeLast(a,l,u-1):`${a.slice(0,u)}\\${a.slice(u)}`},n.removePrefix=(a,l={})=>{let c=a;return c.startsWith("./")&&(c=c.slice(2),l.prefix="./"),c},n.wrapOutput=(a,l={},c={})=>{const u=c.contains?"":"^",f=c.contains?"":"$";let h=`${u}(?:${a})${f}`;return l.negated===!0&&(h=`(?:^(?!${h}).*$)`),h}})(Ct);const So=Ct,{CHAR_ASTERISK:Bs,CHAR_AT:mu,CHAR_BACKWARD_SLASH:Lt,CHAR_COMMA:yu,CHAR_DOT:js,CHAR_EXCLAMATION_MARK:Fs,CHAR_FORWARD_SLASH:wo,CHAR_LEFT_CURLY_BRACE:Hs,CHAR_LEFT_PARENTHESES:Ks,CHAR_LEFT_SQUARE_BRACKET:_u,CHAR_PLUS:bu,CHAR_QUESTION_MARK:Eo,CHAR_RIGHT_CURLY_BRACE:Su,CHAR_RIGHT_PARENTHESES:Ao,CHAR_RIGHT_SQUARE_BRACKET:wu}=$n,vo=n=>n===wo||n===Lt,ko=n=>{n.isPrefix!==!0&&(n.depth=n.isGlobstar?1/0:1)},Eu=(n,e)=>{const t=e||{},s=n.length-1,r=t.parts===!0||t.scanToEnd===!0,i=[],o=[],a=[];let l=n,c=-1,u=0,f=0,h=!1,g=!1,p=!1,d=!1,m=!1,w=!1,E=!1,k=!1,T=!1,A=!1,S=0,R,$,P={value:"",depth:0,isGlob:!1};const B=()=>c>=s,b=()=>l.charCodeAt(c+1),C=()=>(R=$,l.charCodeAt(++c));for(;c<s;){$=C();let te;if($===Lt){E=P.backslashes=!0,$=C(),$===Hs&&(w=!0);continue}if(w===!0||$===Hs){for(S++;B()!==!0&&($=C());){if($===Lt){E=P.backslashes=!0,C();continue}if($===Hs){S++;continue}if(w!==!0&&$===js&&($=C())===js){if(h=P.isBrace=!0,p=P.isGlob=!0,A=!0,r===!0)continue;break}if(w!==!0&&$===yu){if(h=P.isBrace=!0,p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===Su&&(S--,S===0)){w=!1,h=P.isBrace=!0,A=!0;break}}if(r===!0)continue;break}if($===wo){if(i.push(c),o.push(P),P={value:"",depth:0,isGlob:!1},A===!0)continue;if(R===js&&c===u+1){u+=2;continue}f=c+1;continue}if(t.noext!==!0&&($===bu||$===mu||$===Bs||$===Eo||$===Fs)===!0&&b()===Ks){if(p=P.isGlob=!0,d=P.isExtglob=!0,A=!0,$===Fs&&c===u&&(T=!0),r===!0){for(;B()!==!0&&($=C());){if($===Lt){E=P.backslashes=!0,$=C();continue}if($===Ao){p=P.isGlob=!0,A=!0;break}}continue}break}if($===Bs){if(R===Bs&&(m=P.isGlobstar=!0),p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===Eo){if(p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===_u){for(;B()!==!0&&(te=C());){if(te===Lt){E=P.backslashes=!0,C();continue}if(te===wu){g=P.isBracket=!0,p=P.isGlob=!0,A=!0;break}}if(r===!0)continue;break}if(t.nonegate!==!0&&$===Fs&&c===u){k=P.negated=!0,u++;continue}if(t.noparen!==!0&&$===Ks){if(p=P.isGlob=!0,r===!0){for(;B()!==!0&&($=C());){if($===Ks){E=P.backslashes=!0,$=C();continue}if($===Ao){A=!0;break}}continue}break}if(p===!0){if(A=!0,r===!0)continue;break}}t.noext===!0&&(d=!1,p=!1);let j=l,Me="",y="";u>0&&(Me=l.slice(0,u),l=l.slice(u),f-=u),j&&p===!0&&f>0?(j=l.slice(0,f),y=l.slice(f)):p===!0?(j="",y=l):j=l,j&&j!==""&&j!=="/"&&j!==l&&vo(j.charCodeAt(j.length-1))&&(j=j.slice(0,-1)),t.unescape===!0&&(y&&(y=So.removeBackslashes(y)),j&&E===!0&&(j=So.removeBackslashes(j)));const _={prefix:Me,input:n,start:u,base:j,glob:y,isBrace:h,isBracket:g,isGlob:p,isExtglob:d,isGlobstar:m,negated:k,negatedExtglob:T};if(t.tokens===!0&&(_.maxDepth=0,vo($)||o.push(P),_.tokens=o),t.parts===!0||t.tokens===!0){let te;for(let D=0;D<i.length;D++){const Ee=te?te+1:u,Ae=i[D],ae=n.slice(Ee,Ae);t.tokens&&(D===0&&u!==0?(o[D].isPrefix=!0,o[D].value=Me):o[D].value=ae,ko(o[D]),_.maxDepth+=o[D].depth),(D!==0||ae!=="")&&a.push(ae),te=Ae}if(te&&te+1<n.length){const D=n.slice(te+1);a.push(D),t.tokens&&(o[o.length-1].value=D,ko(o[o.length-1]),_.maxDepth+=o[o.length-1].depth)}_.slashes=i,_.parts=a}return _};var Au=Eu;const Tn=$n,ce=Ct,{MAX_LENGTH:Rn,POSIX_REGEX_SOURCE:vu,REGEX_NON_SPECIAL_CHARS:ku,REGEX_SPECIAL_CHARS_BACKREF:Ou,REPLACEMENTS:Oo}=Tn,$u=(n,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...n,e);n.sort();const t=`[${n.join("-")}]`;try{new RegExp(t)}catch{return n.map(r=>ce.escapeRegex(r)).join("..")}return t},pt=(n,e)=>`Missing ${n}: "${e}" - use "\\\\${e}" to match literal characters`,Us=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");n=Oo[n]||n;const t={...e},s=typeof t.maxLength=="number"?Math.min(Rn,t.maxLength):Rn;let r=n.length;if(r>s)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${s}`);const i={type:"bos",value:"",output:t.prepend||""},o=[i],a=t.capture?"":"?:",l=ce.isWindows(e),c=Tn.globChars(l),u=Tn.extglobChars(c),{DOT_LITERAL:f,PLUS_LITERAL:h,SLASH_LITERAL:g,ONE_CHAR:p,DOTS_SLASH:d,NO_DOT:m,NO_DOT_SLASH:w,NO_DOTS_SLASH:E,QMARK:k,QMARK_NO_DOT:T,STAR:A,START_ANCHOR:S}=c,R=O=>`(${a}(?:(?!${S}${O.dot?d:f}).)*?)`,$=t.dot?"":m,P=t.dot?k:T;let B=t.bash===!0?R(t):A;t.capture&&(B=`(${B})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);const b={input:n,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};n=ce.removePrefix(n,b),r=n.length;const C=[],j=[],Me=[];let y=i,_;const te=()=>b.index===r-1,D=b.peek=(O=1)=>n[b.index+O],Ee=b.advance=()=>n[++b.index]||"",Ae=()=>n.slice(b.index+1),ae=(O="",F=0)=>{b.consumed+=O,b.index+=F},Ht=O=>{b.output+=O.output!=null?O.output:O.value,ae(O.value)},ha=()=>{let O=1;for(;D()==="!"&&(D(2)!=="("||D(3)==="?");)Ee(),b.start++,O++;return O%2===0?!1:(b.negated=!0,b.start++,!0)},Kt=O=>{b[O]++,Me.push(O)},Ue=O=>{b[O]--,Me.pop()},M=O=>{if(y.type==="globstar"){const F=b.braces>0&&(O.type==="comma"||O.type==="brace"),v=O.extglob===!0||C.length&&(O.type==="pipe"||O.type==="paren");O.type!=="slash"&&O.type!=="paren"&&!F&&!v&&(b.output=b.output.slice(0,-y.output.length),y.type="star",y.value="*",y.output=B,b.output+=y.output)}if(C.length&&O.type!=="paren"&&(C[C.length-1].inner+=O.value),(O.value||O.output)&&Ht(O),y&&y.type==="text"&&O.type==="text"){y.value+=O.value,y.output=(y.output||"")+O.value;return}O.prev=y,o.push(O),y=O},Ut=(O,F)=>{const v={...u[F],conditions:1,inner:""};v.prev=y,v.parens=b.parens,v.output=b.output;const I=(t.capture?"(":"")+v.open;Kt("parens"),M({type:O,value:F,output:b.output?"":p}),M({type:"paren",extglob:!0,value:Ee(),output:I}),C.push(v)},da=O=>{let F=O.close+(t.capture?")":""),v;if(O.type==="negate"){let I=B;if(O.inner&&O.inner.length>1&&O.inner.includes("/")&&(I=R(t)),(I!==B||te()||/^\)+$/.test(Ae()))&&(F=O.close=`)$))${I}`),O.inner.includes("*")&&(v=Ae())&&/^\.[^\\/.]+$/.test(v)){const q=Us(v,{...e,fastpaths:!1}).output;F=O.close=`)${q})${I})`}O.prev.type==="bos"&&(b.negatedExtglob=!0)}M({type:"paren",extglob:!0,value:_,output:F}),Ue("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(n)){let O=!1,F=n.replace(Ou,(v,I,q,ne,J,Vn)=>ne==="\\"?(O=!0,v):ne==="?"?I?I+ne+(J?k.repeat(J.length):""):Vn===0?P+(J?k.repeat(J.length):""):k.repeat(q.length):ne==="."?f.repeat(q.length):ne==="*"?I?I+ne+(J?B:""):B:I?v:`\\${v}`);return O===!0&&(t.unescape===!0?F=F.replace(/\\/g,""):F=F.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),F===n&&t.contains===!0?(b.output=n,b):(b.output=ce.wrapOutput(F,b,e),b)}for(;!te();){if(_=Ee(),_==="\0")continue;if(_==="\\"){const v=D();if(v==="/"&&t.bash!==!0||v==="."||v===";")continue;if(!v){_+="\\",M({type:"text",value:_});continue}const I=/^\\+/.exec(Ae());let q=0;if(I&&I[0].length>2&&(q=I[0].length,b.index+=q,q%2!==0&&(_+="\\")),t.unescape===!0?_=Ee():_+=Ee(),b.brackets===0){M({type:"text",value:_});continue}}if(b.brackets>0&&(_!=="]"||y.value==="["||y.value==="[^")){if(t.posix!==!1&&_===":"){const v=y.value.slice(1);if(v.includes("[")&&(y.posix=!0,v.includes(":"))){const I=y.value.lastIndexOf("["),q=y.value.slice(0,I),ne=y.value.slice(I+2),J=vu[ne];if(J){y.value=q+J,b.backtrack=!0,Ee(),!i.output&&o.indexOf(y)===1&&(i.output=p);continue}}}(_==="["&&D()!==":"||_==="-"&&D()==="]")&&(_=`\\${_}`),_==="]"&&(y.value==="["||y.value==="[^")&&(_=`\\${_}`),t.posix===!0&&_==="!"&&y.value==="["&&(_="^"),y.value+=_,Ht({value:_});continue}if(b.quotes===1&&_!=='"'){_=ce.escapeRegex(_),y.value+=_,Ht({value:_});continue}if(_==='"'){b.quotes=b.quotes===1?0:1,t.keepQuotes===!0&&M({type:"text",value:_});continue}if(_==="("){Kt("parens"),M({type:"paren",value:_});continue}if(_===")"){if(b.parens===0&&t.strictBrackets===!0)throw new SyntaxError(pt("opening","("));const v=C[C.length-1];if(v&&b.parens===v.parens+1){da(C.pop());continue}M({type:"paren",value:_,output:b.parens?")":"\\)"}),Ue("parens");continue}if(_==="["){if(t.nobracket===!0||!Ae().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(pt("closing","]"));_=`\\${_}`}else Kt("brackets");M({type:"bracket",value:_});continue}if(_==="]"){if(t.nobracket===!0||y&&y.type==="bracket"&&y.value.length===1){M({type:"text",value:_,output:`\\${_}`});continue}if(b.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(pt("opening","["));M({type:"text",value:_,output:`\\${_}`});continue}Ue("brackets");const v=y.value.slice(1);if(y.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(_=`/${_}`),y.value+=_,Ht({value:_}),t.literalBrackets===!1||ce.hasRegexChars(v))continue;const I=ce.escapeRegex(y.value);if(b.output=b.output.slice(0,-y.value.length),t.literalBrackets===!0){b.output+=I,y.value=I;continue}y.value=`(${a}${I}|${y.value})`,b.output+=y.value;continue}if(_==="{"&&t.nobrace!==!0){Kt("braces");const v={type:"brace",value:_,output:"(",outputIndex:b.output.length,tokensIndex:b.tokens.length};j.push(v),M(v);continue}if(_==="}"){const v=j[j.length-1];if(t.nobrace===!0||!v){M({type:"text",value:_,output:_});continue}let I=")";if(v.dots===!0){const q=o.slice(),ne=[];for(let J=q.length-1;J>=0&&(o.pop(),q[J].type!=="brace");J--)q[J].type!=="dots"&&ne.unshift(q[J].value);I=$u(ne,t),b.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){const q=b.output.slice(0,v.outputIndex),ne=b.tokens.slice(v.tokensIndex);v.value=v.output="\\{",_=I="\\}",b.output=q;for(const J of ne)b.output+=J.output||J.value}M({type:"brace",value:_,output:I}),Ue("braces"),j.pop();continue}if(_==="|"){C.length>0&&C[C.length-1].conditions++,M({type:"text",value:_});continue}if(_===","){let v=_;const I=j[j.length-1];I&&Me[Me.length-1]==="braces"&&(I.comma=!0,v="|"),M({type:"comma",value:_,output:v});continue}if(_==="/"){if(y.type==="dot"&&b.index===b.start+1){b.start=b.index+1,b.consumed="",b.output="",o.pop(),y=i;continue}M({type:"slash",value:_,output:g});continue}if(_==="."){if(b.braces>0&&y.type==="dot"){y.value==="."&&(y.output=f);const v=j[j.length-1];y.type="dots",y.output+=_,y.value+=_,v.dots=!0;continue}if(b.braces+b.parens===0&&y.type!=="bos"&&y.type!=="slash"){M({type:"text",value:_,output:f});continue}M({type:"dot",value:_,output:f});continue}if(_==="?"){if(!(y&&y.value==="(")&&t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ut("qmark",_);continue}if(y&&y.type==="paren"){const I=D();let q=_;if(I==="<"&&!ce.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(y.value==="("&&!/[!=<:]/.test(I)||I==="<"&&!/<([!=]|\w+>)/.test(Ae()))&&(q=`\\${_}`),M({type:"text",value:_,output:q});continue}if(t.dot!==!0&&(y.type==="slash"||y.type==="bos")){M({type:"qmark",value:_,output:T});continue}M({type:"qmark",value:_,output:k});continue}if(_==="!"){if(t.noextglob!==!0&&D()==="("&&(D(2)!=="?"||!/[!=<:]/.test(D(3)))){Ut("negate",_);continue}if(t.nonegate!==!0&&b.index===0){ha();continue}}if(_==="+"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ut("plus",_);continue}if(y&&y.value==="("||t.regex===!1){M({type:"plus",value:_,output:h});continue}if(y&&(y.type==="bracket"||y.type==="paren"||y.type==="brace")||b.parens>0){M({type:"plus",value:_});continue}M({type:"plus",value:h});continue}if(_==="@"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){M({type:"at",extglob:!0,value:_,output:""});continue}M({type:"text",value:_});continue}if(_!=="*"){(_==="$"||_==="^")&&(_=`\\${_}`);const v=ku.exec(Ae());v&&(_+=v[0],b.index+=v[0].length),M({type:"text",value:_});continue}if(y&&(y.type==="globstar"||y.star===!0)){y.type="star",y.star=!0,y.value+=_,y.output=B,b.backtrack=!0,b.globstar=!0,ae(_);continue}let O=Ae();if(t.noextglob!==!0&&/^\([^?]/.test(O)){Ut("star",_);continue}if(y.type==="star"){if(t.noglobstar===!0){ae(_);continue}const v=y.prev,I=v.prev,q=v.type==="slash"||v.type==="bos",ne=I&&(I.type==="star"||I.type==="globstar");if(t.bash===!0&&(!q||O[0]&&O[0]!=="/")){M({type:"star",value:_,output:""});continue}const J=b.braces>0&&(v.type==="comma"||v.type==="brace"),Vn=C.length&&(v.type==="pipe"||v.type==="paren");if(!q&&v.type!=="paren"&&!J&&!Vn){M({type:"star",value:_,output:""});continue}for(;O.slice(0,3)==="/**";){const qt=n[b.index+4];if(qt&&qt!=="/")break;O=O.slice(3),ae("/**",3)}if(v.type==="bos"&&te()){y.type="globstar",y.value+=_,y.output=R(t),b.output=y.output,b.globstar=!0,ae(_);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!ne&&te()){b.output=b.output.slice(0,-(v.output+y.output).length),v.output=`(?:${v.output}`,y.type="globstar",y.output=R(t)+(t.strictSlashes?")":"|$)"),y.value+=_,b.globstar=!0,b.output+=v.output+y.output,ae(_);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&O[0]==="/"){const qt=O[1]!==void 0?"|$":"";b.output=b.output.slice(0,-(v.output+y.output).length),v.output=`(?:${v.output}`,y.type="globstar",y.output=`${R(t)}${g}|${g}${qt})`,y.value+=_,b.output+=v.output+y.output,b.globstar=!0,ae(_+Ee()),M({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&O[0]==="/"){y.type="globstar",y.value+=_,y.output=`(?:^|${g}|${R(t)}${g})`,b.output=y.output,b.globstar=!0,ae(_+Ee()),M({type:"slash",value:"/",output:""});continue}b.output=b.output.slice(0,-y.output.length),y.type="globstar",y.output=R(t),y.value+=_,b.output+=y.output,b.globstar=!0,ae(_);continue}const F={type:"star",value:_,output:B};if(t.bash===!0){F.output=".*?",(y.type==="bos"||y.type==="slash")&&(F.output=$+F.output),M(F);continue}if(y&&(y.type==="bracket"||y.type==="paren")&&t.regex===!0){F.output=_,M(F);continue}(b.index===b.start||y.type==="slash"||y.type==="dot")&&(y.type==="dot"?(b.output+=w,y.output+=w):t.dot===!0?(b.output+=E,y.output+=E):(b.output+=$,y.output+=$),D()!=="*"&&(b.output+=p,y.output+=p)),M(F)}for(;b.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing","]"));b.output=ce.escapeLast(b.output,"["),Ue("brackets")}for(;b.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing",")"));b.output=ce.escapeLast(b.output,"("),Ue("parens")}for(;b.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing","}"));b.output=ce.escapeLast(b.output,"{"),Ue("braces")}if(t.strictSlashes!==!0&&(y.type==="star"||y.type==="bracket")&&M({type:"maybe_slash",value:"",output:`${g}?`}),b.backtrack===!0){b.output="";for(const O of b.tokens)b.output+=O.output!=null?O.output:O.value,O.suffix&&(b.output+=O.suffix)}return b};Us.fastpaths=(n,e)=>{const t={...e},s=typeof t.maxLength=="number"?Math.min(Rn,t.maxLength):Rn,r=n.length;if(r>s)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${s}`);n=Oo[n]||n;const i=ce.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:c,NO_DOT:u,NO_DOTS:f,NO_DOTS_SLASH:h,STAR:g,START_ANCHOR:p}=Tn.globChars(i),d=t.dot?f:u,m=t.dot?h:u,w=t.capture?"":"?:",E={negated:!1,prefix:""};let k=t.bash===!0?".*?":g;t.capture&&(k=`(${k})`);const T=$=>$.noglobstar===!0?k:`(${w}(?:(?!${p}${$.dot?c:o}).)*?)`,A=$=>{switch($){case"*":return`${d}${l}${k}`;case".*":return`${o}${l}${k}`;case"*.*":return`${d}${k}${o}${l}${k}`;case"*/*":return`${d}${k}${a}${l}${m}${k}`;case"**":return d+T(t);case"**/*":return`(?:${d}${T(t)}${a})?${m}${l}${k}`;case"**/*.*":return`(?:${d}${T(t)}${a})?${m}${k}${o}${l}${k}`;case"**/.*":return`(?:${d}${T(t)}${a})?${o}${l}${k}`;default:{const P=/^(.*?)\.(\w+)$/.exec($);if(!P)return;const B=A(P[1]);return B?B+o+P[2]:void 0}}},S=ce.removePrefix(n,E);let R=A(S);return R&&t.strictSlashes!==!0&&(R+=`${a}?`),R};var Tu=Us;const Ru=ve,Pu=Au,qs=Tu,Vs=Ct,Nu=$n,Cu=n=>n&&typeof n=="object"&&!Array.isArray(n),W=(n,e,t=!1)=>{if(Array.isArray(n)){const u=n.map(h=>W(h,e,t));return h=>{for(const g of u){const p=g(h);if(p)return p}return!1}}const s=Cu(n)&&n.tokens&&n.input;if(n===""||typeof n!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");const r=e||{},i=Vs.isWindows(e),o=s?W.compileRe(n,e):W.makeRe(n,e,!1,!0),a=o.state;delete o.state;let l=()=>!1;if(r.ignore){const u={...e,ignore:null,onMatch:null,onResult:null};l=W(r.ignore,u,t)}const c=(u,f=!1)=>{const{isMatch:h,match:g,output:p}=W.test(u,o,e,{glob:n,posix:i}),d={glob:n,state:a,regex:o,posix:i,input:u,output:p,match:g,isMatch:h};return typeof r.onResult=="function"&&r.onResult(d),h===!1?(d.isMatch=!1,f?d:!1):l(u)?(typeof r.onIgnore=="function"&&r.onIgnore(d),d.isMatch=!1,f?d:!1):(typeof r.onMatch=="function"&&r.onMatch(d),f?d:!0)};return t&&(c.state=a),c};W.test=(n,e,t,{glob:s,posix:r}={})=>{if(typeof n!="string")throw new TypeError("Expected input to be a string");if(n==="")return{isMatch:!1,output:""};const i=t||{},o=i.format||(r?Vs.toPosixSlashes:null);let a=n===s,l=a&&o?o(n):n;return a===!1&&(l=o?o(n):n,a=l===s),(a===!1||i.capture===!0)&&(i.matchBase===!0||i.basename===!0?a=W.matchBase(n,e,t,r):a=e.exec(l)),{isMatch:!!a,match:a,output:l}},W.matchBase=(n,e,t,s=Vs.isWindows(t))=>(e instanceof RegExp?e:W.makeRe(e,t)).test(Ru.basename(n)),W.isMatch=(n,e,t)=>W(e,t)(n),W.parse=(n,e)=>Array.isArray(n)?n.map(t=>W.parse(t,e)):qs(n,{...e,fastpaths:!1}),W.scan=(n,e)=>Pu(n,e),W.compileRe=(n,e,t=!1,s=!1)=>{if(t===!0)return n.output;const r=e||{},i=r.contains?"":"^",o=r.contains?"":"$";let a=`${i}(?:${n.output})${o}`;n&&n.negated===!0&&(a=`^(?!${a}).*$`);const l=W.toRegex(a,e);return s===!0&&(l.state=n),l},W.makeRe=(n,e={},t=!1,s=!1)=>{if(!n||typeof n!="string")throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(n[0]==="."||n[0]==="*")&&(r.output=qs.fastpaths(n,e)),r.output||(r=qs(n,e)),W.compileRe(r,e,t,s)},W.toRegex=(n,e)=>{try{const t=e||{};return new RegExp(n,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}},W.constants=Nu;var Lu=W,Iu=Lu;const $o=Tr,To=su,$e=Iu,Gs=Ct,Ro=n=>n===""||n==="./",U=(n,e,t)=>{e=[].concat(e),n=[].concat(n);let s=new Set,r=new Set,i=new Set,o=0,a=u=>{i.add(u.output),t&&t.onResult&&t.onResult(u)};for(let u=0;u<e.length;u++){let f=$e(String(e[u]),{...t,onResult:a},!0),h=f.state.negated||f.state.negatedExtglob;h&&o++;for(let g of n){let p=f(g,!0);(h?!p.isMatch:p.isMatch)&&(h?s.add(p.output):(s.delete(p.output),r.add(p.output)))}}let c=(o===e.length?[...i]:[...r]).filter(u=>!s.has(u));if(t&&c.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?e.map(u=>u.replace(/\\/g,"")):e}return c};U.match=U,U.matcher=(n,e)=>$e(n,e),U.isMatch=(n,e,t)=>$e(e,t)(n),U.any=U.isMatch,U.not=(n,e,t={})=>{e=[].concat(e).map(String);let s=new Set,r=[],i=a=>{t.onResult&&t.onResult(a),r.push(a.output)},o=new Set(U(n,e,{...t,onResult:i}));for(let a of r)o.has(a)||s.add(a);return[...s]},U.contains=(n,e,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${$o.inspect(n)}"`);if(Array.isArray(e))return e.some(s=>U.contains(n,s,t));if(typeof e=="string"){if(Ro(n)||Ro(e))return!1;if(n.includes(e)||n.startsWith("./")&&n.slice(2).includes(e))return!0}return U.isMatch(n,e,{...t,contains:!0})},U.matchKeys=(n,e,t)=>{if(!Gs.isObject(n))throw new TypeError("Expected the first argument to be an object");let s=U(Object.keys(n),e,t),r={};for(let i of s)r[i]=n[i];return r},U.some=(n,e,t)=>{let s=[].concat(n);for(let r of[].concat(e)){let i=$e(String(r),t);if(s.some(o=>i(o)))return!0}return!1},U.every=(n,e,t)=>{let s=[].concat(n);for(let r of[].concat(e)){let i=$e(String(r),t);if(!s.every(o=>i(o)))return!1}return!0},U.all=(n,e,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${$o.inspect(n)}"`);return[].concat(e).every(s=>$e(s,t)(n))},U.capture=(n,e,t)=>{let s=Gs.isWindows(t),i=$e.makeRe(String(n),{...t,capture:!0}).exec(s?Gs.toPosixSlashes(e):e);if(i)return i.slice(1).map(o=>o===void 0?"":o)},U.makeRe=(...n)=>$e.makeRe(...n),U.scan=(...n)=>$e.scan(...n),U.parse=(n,e)=>{let t=[];for(let s of[].concat(n||[]))for(let r of To(String(s),e))t.push($e.parse(r,e));return t},U.braces=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(n)?[n]:To(n,e)},U.braceExpand=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");return U.braces(n,{...e,expand:!0})};var Mu=U;Object.defineProperty(N,"__esModule",{value:!0}),N.removeDuplicateSlashes=N.matchAny=N.convertPatternsToRe=N.makeRe=N.getPatternParts=N.expandBraceExpansion=N.expandPatternsWithBraceExpansion=N.isAffectDepthOfReadingPattern=N.endsWithSlashGlobStar=N.hasGlobStar=N.getBaseDirectory=N.isPatternRelatedToParentDirectory=N.getPatternsOutsideCurrentDirectory=N.getPatternsInsideCurrentDirectory=N.getPositivePatterns=N.getNegativePatterns=N.isPositivePattern=N.isNegativePattern=N.convertToNegativePattern=N.convertToPositivePattern=N.isDynamicPattern=N.isStaticPattern=void 0;const Du=ve,xu=gc,Ws=Mu,Po="**",Bu="\\",ju=/[*?]|^!/,Fu=/\[[^[]*]/,Hu=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,Ku=/[!*+?@]\([^(]*\)/,Uu=/,|\.\./,qu=/(?!^)\/{2,}/g;function No(n,e={}){return!Co(n,e)}N.isStaticPattern=No;function Co(n,e={}){return n===""?!1:!!(e.caseSensitiveMatch===!1||n.includes(Bu)||ju.test(n)||Fu.test(n)||Hu.test(n)||e.extglob!==!1&&Ku.test(n)||e.braceExpansion!==!1&&Vu(n))}N.isDynamicPattern=Co;function Vu(n){const e=n.indexOf("{");if(e===-1)return!1;const t=n.indexOf("}",e+1);if(t===-1)return!1;const s=n.slice(e,t);return Uu.test(s)}function Gu(n){return Pn(n)?n.slice(1):n}N.convertToPositivePattern=Gu;function Wu(n){return"!"+n}N.convertToNegativePattern=Wu;function Pn(n){return n.startsWith("!")&&n[1]!=="("}N.isNegativePattern=Pn;function Lo(n){return!Pn(n)}N.isPositivePattern=Lo;function Yu(n){return n.filter(Pn)}N.getNegativePatterns=Yu;function Qu(n){return n.filter(Lo)}N.getPositivePatterns=Qu;function Ju(n){return n.filter(e=>!Ys(e))}N.getPatternsInsideCurrentDirectory=Ju;function Xu(n){return n.filter(Ys)}N.getPatternsOutsideCurrentDirectory=Xu;function Ys(n){return n.startsWith("..")||n.startsWith("./..")}N.isPatternRelatedToParentDirectory=Ys;function zu(n){return xu(n,{flipBackslashes:!1})}N.getBaseDirectory=zu;function Zu(n){return n.includes(Po)}N.hasGlobStar=Zu;function Io(n){return n.endsWith("/"+Po)}N.endsWithSlashGlobStar=Io;function ef(n){const e=Du.basename(n);return Io(n)||No(e)}N.isAffectDepthOfReadingPattern=ef;function tf(n){return n.reduce((e,t)=>e.concat(Mo(t)),[])}N.expandPatternsWithBraceExpansion=tf;function Mo(n){const e=Ws.braces(n,{expand:!0,nodupes:!0});return e.sort((t,s)=>t.length-s.length),e.filter(t=>t!=="")}N.expandBraceExpansion=Mo;function nf(n,e){let{parts:t}=Ws.scan(n,Object.assign(Object.assign({},e),{parts:!0}));return t.length===0&&(t=[n]),t[0].startsWith("/")&&(t[0]=t[0].slice(1),t.unshift("")),t}N.getPatternParts=nf;function Do(n,e){return Ws.makeRe(n,e)}N.makeRe=Do;function sf(n,e){return n.map(t=>Do(t,e))}N.convertPatternsToRe=sf;function rf(n,e){return e.some(t=>t.test(n))}N.matchAny=rf;function of(n){return n.replace(qu,"/")}N.removeDuplicateSlashes=of;var Nn={};const af=Vt,xo=af.PassThrough,lf=Array.prototype.slice;var cf=uf;function uf(){const n=[],e=lf.call(arguments);let t=!1,s=e[e.length-1];s&&!Array.isArray(s)&&s.pipe==null?e.pop():s={};const r=s.end!==!1,i=s.pipeError===!0;s.objectMode==null&&(s.objectMode=!0),s.highWaterMark==null&&(s.highWaterMark=64*1024);const o=xo(s);function a(){for(let u=0,f=arguments.length;u<f;u++)n.push(Bo(arguments[u],s));return l(),this}function l(){if(t)return;t=!0;let u=n.shift();if(!u){process.nextTick(c);return}Array.isArray(u)||(u=[u]);let f=u.length+1;function h(){--f>0||(t=!1,l())}function g(p){function d(){p.removeListener("merge2UnpipeEnd",d),p.removeListener("end",d),i&&p.removeListener("error",m),h()}function m(w){o.emit("error",w)}if(p._readableState.endEmitted)return h();p.on("merge2UnpipeEnd",d),p.on("end",d),i&&p.on("error",m),p.pipe(o,{end:!1}),p.resume()}for(let p=0;p<u.length;p++)g(u[p]);h()}function c(){t=!1,o.emit("queueDrain"),r&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(u){u.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),o}function Bo(n,e){if(Array.isArray(n))for(let t=0,s=n.length;t<s;t++)n[t]=Bo(n[t],e);else{if(!n._readableState&&n.pipe&&(n=n.pipe(xo(e))),!n._readableState||!n.pause||!n.pipe)throw new Error("Only readable stream can be merged.");n.pause()}return n}Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.merge=void 0;const ff=cf;function hf(n){const e=ff(n);return n.forEach(t=>{t.once("error",s=>e.emit("error",s))}),e.once("close",()=>jo(n)),e.once("end",()=>jo(n)),e}Nn.merge=hf;function jo(n){n.forEach(e=>e.emit("close"))}var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.isEmpty=gt.isString=void 0;function df(n){return typeof n=="string"}gt.isString=df;function pf(n){return n===""}gt.isEmpty=pf,Object.defineProperty(V,"__esModule",{value:!0}),V.string=V.stream=V.pattern=V.path=V.fs=V.errno=V.array=void 0;const gf=ht;V.array=gf;const mf=En;V.errno=mf;const yf=An;V.fs=yf;const _f=Y;V.path=_f;const bf=N;V.pattern=bf;const Sf=Nn;V.stream=Sf;const wf=gt;V.string=wf,Object.defineProperty(ee,"__esModule",{value:!0}),ee.convertPatternGroupToTask=ee.convertPatternGroupsToTasks=ee.groupPatternsByBaseDirectory=ee.getNegativePatternsAsPositive=ee.getPositivePatterns=ee.convertPatternsToTasks=ee.generate=void 0;const Se=V;function Ef(n,e){const t=Fo(n,e),s=Fo(e.ignore,e),r=Ho(t),i=Ko(t,s),o=r.filter(u=>Se.pattern.isStaticPattern(u,e)),a=r.filter(u=>Se.pattern.isDynamicPattern(u,e)),l=Qs(o,i,!1),c=Qs(a,i,!0);return l.concat(c)}ee.generate=Ef;function Fo(n,e){let t=n;return e.braceExpansion&&(t=Se.pattern.expandPatternsWithBraceExpansion(t)),e.baseNameMatch&&(t=t.map(s=>s.includes("/")?s:`**/${s}`)),t.map(s=>Se.pattern.removeDuplicateSlashes(s))}function Qs(n,e,t){const s=[],r=Se.pattern.getPatternsOutsideCurrentDirectory(n),i=Se.pattern.getPatternsInsideCurrentDirectory(n),o=Js(r),a=Js(i);return s.push(...Xs(o,e,t)),"."in a?s.push(zs(".",i,e,t)):s.push(...Xs(a,e,t)),s}ee.convertPatternsToTasks=Qs;function Ho(n){return Se.pattern.getPositivePatterns(n)}ee.getPositivePatterns=Ho;function Ko(n,e){return Se.pattern.getNegativePatterns(n).concat(e).map(Se.pattern.convertToPositivePattern)}ee.getNegativePatternsAsPositive=Ko;function Js(n){const e={};return n.reduce((t,s)=>{const r=Se.pattern.getBaseDirectory(s);return r in t?t[r].push(s):t[r]=[s],t},e)}ee.groupPatternsByBaseDirectory=Js;function Xs(n,e,t){return Object.keys(n).map(s=>zs(s,n[s],e,t))}ee.convertPatternGroupsToTasks=Xs;function zs(n,e,t,s){return{dynamic:s,positive:e,negative:t,base:n,patterns:[].concat(e,t.map(Se.pattern.convertToNegativePattern))}}ee.convertPatternGroupToTask=zs;var Zs={},er={},pe={},tr={},Cn={},Te={},Fe={},ue={},Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.read=void 0;function Af(n,e,t){e.fs.lstat(n,(s,r)=>{if(s!==null){Uo(t,s);return}if(!r.isSymbolicLink()||!e.followSymbolicLink){nr(t,r);return}e.fs.stat(n,(i,o)=>{if(i!==null){if(e.throwErrorOnBrokenSymbolicLink){Uo(t,i);return}nr(t,r);return}e.markSymbolicLink&&(o.isSymbolicLink=()=>!0),nr(t,o)})})}Ln.read=Af;function Uo(n,e){n(e)}function nr(n,e){n(null,e)}var In={};Object.defineProperty(In,"__esModule",{value:!0}),In.read=void 0;function vf(n,e){const t=e.fs.lstatSync(n);if(!t.isSymbolicLink()||!e.followSymbolicLink)return t;try{const s=e.fs.statSync(n);return e.markSymbolicLink&&(s.isSymbolicLink=()=>!0),s}catch(s){if(!e.throwErrorOnBrokenSymbolicLink)return t;throw s}}In.read=vf;var sr={},qo={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const e=_t;n.FILE_SYSTEM_ADAPTER={lstat:e.lstat,stat:e.stat,lstatSync:e.lstatSync,statSync:e.statSync};function t(s){return s===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),s)}n.createFileSystemAdapter=t})(qo),Object.defineProperty(sr,"__esModule",{value:!0});const kf=qo;let Of=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=kf.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return e??t}};sr.default=Of,Object.defineProperty(ue,"__esModule",{value:!0}),ue.statSync=ue.stat=ue.Settings=void 0;const Vo=Ln,$f=In,rr=sr;ue.Settings=rr.default;function Tf(n,e,t){if(typeof e=="function"){Vo.read(n,ir(),e);return}Vo.read(n,ir(e),t)}ue.stat=Tf;function Rf(n,e){const t=ir(e);return $f.read(n,t)}ue.statSync=Rf;function ir(n={}){return n instanceof rr.default?n:new rr.default(n)}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Go;var Pf=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ma):n=>(Go||(Go=Promise.resolve())).then(n).catch(e=>setTimeout(()=>{throw e},0));/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Nf=Lf;const Cf=Pf;function Lf(n,e){let t,s,r,i=!0;Array.isArray(n)?(t=[],s=n.length):(r=Object.keys(n),t={},s=r.length);function o(l){function c(){e&&e(l,t),e=null}i?Cf(c):c()}function a(l,c,u){t[l]=u,(--s===0||c)&&o(c)}s?r?r.forEach(function(l){n[l](function(c,u){a(l,c,u)})}):n.forEach(function(l,c){l(function(u,f){a(c,u,f)})}):o(null),i=!1}var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const Mn=process.versions.node.split(".");if(Mn[0]===void 0||Mn[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const Wo=Number.parseInt(Mn[0],10),If=Number.parseInt(Mn[1],10),Yo=10,Mf=10,Df=Wo>Yo,xf=Wo===Yo&&If>=Mf;It.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Df||xf;var Mt={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.createDirentFromStats=void 0;class Bf{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}function jf(n,e){return new Bf(n,e)}Dn.createDirentFromStats=jf,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.fs=void 0;const Ff=Dn;Mt.fs=Ff;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.joinPathSegments=void 0;function Hf(n,e,t){return n.endsWith(t)?n+e:n+t+e}Dt.joinPathSegments=Hf,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.readdir=Fe.readdirWithFileTypes=Fe.read=void 0;const Kf=ue,Qo=Nf,Uf=It,Jo=Mt,Xo=Dt;function qf(n,e,t){if(!e.stats&&Uf.IS_SUPPORT_READDIR_WITH_FILE_TYPES){zo(n,e,t);return}Zo(n,e,t)}Fe.read=qf;function zo(n,e,t){e.fs.readdir(n,{withFileTypes:!0},(s,r)=>{if(s!==null){xn(t,s);return}const i=r.map(a=>({dirent:a,name:a.name,path:Xo.joinPathSegments(n,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){or(t,i);return}const o=i.map(a=>Vf(a,e));Qo(o,(a,l)=>{if(a!==null){xn(t,a);return}or(t,l)})})}Fe.readdirWithFileTypes=zo;function Vf(n,e){return t=>{if(!n.dirent.isSymbolicLink()){t(null,n);return}e.fs.stat(n.path,(s,r)=>{if(s!==null){if(e.throwErrorOnBrokenSymbolicLink){t(s);return}t(null,n);return}n.dirent=Jo.fs.createDirentFromStats(n.name,r),t(null,n)})}}function Zo(n,e,t){e.fs.readdir(n,(s,r)=>{if(s!==null){xn(t,s);return}const i=r.map(o=>{const a=Xo.joinPathSegments(n,o,e.pathSegmentSeparator);return l=>{Kf.stat(a,e.fsStatSettings,(c,u)=>{if(c!==null){l(c);return}const f={name:o,path:a,dirent:Jo.fs.createDirentFromStats(o,u)};e.stats&&(f.stats=u),l(null,f)})}});Qo(i,(o,a)=>{if(o!==null){xn(t,o);return}or(t,a)})})}Fe.readdir=Zo;function xn(n,e){n(e)}function or(n,e){n(null,e)}var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.readdir=He.readdirWithFileTypes=He.read=void 0;const Gf=ue,Wf=It,ea=Mt,ta=Dt;function Yf(n,e){return!e.stats&&Wf.IS_SUPPORT_READDIR_WITH_FILE_TYPES?na(n,e):sa(n,e)}He.read=Yf;function na(n,e){return e.fs.readdirSync(n,{withFileTypes:!0}).map(s=>{const r={dirent:s,name:s.name,path:ta.joinPathSegments(n,s.name,e.pathSegmentSeparator)};if(r.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{const i=e.fs.statSync(r.path);r.dirent=ea.fs.createDirentFromStats(r.name,i)}catch(i){if(e.throwErrorOnBrokenSymbolicLink)throw i}return r})}He.readdirWithFileTypes=na;function sa(n,e){return e.fs.readdirSync(n).map(s=>{const r=ta.joinPathSegments(n,s,e.pathSegmentSeparator),i=Gf.statSync(r,e.fsStatSettings),o={name:s,path:r,dirent:ea.fs.createDirentFromStats(s,i)};return e.stats&&(o.stats=i),o})}He.readdir=sa;var ar={},ra={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const e=_t;n.FILE_SYSTEM_ADAPTER={lstat:e.lstat,stat:e.stat,lstatSync:e.lstatSync,statSync:e.statSync,readdir:e.readdir,readdirSync:e.readdirSync};function t(s){return s===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),s)}n.createFileSystemAdapter=t})(ra),Object.defineProperty(ar,"__esModule",{value:!0});const Qf=ve,Jf=ue,Xf=ra;let zf=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Xf.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Qf.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Jf.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}};ar.default=zf,Object.defineProperty(Te,"__esModule",{value:!0}),Te.Settings=Te.scandirSync=Te.scandir=void 0;const ia=Fe,Zf=He,lr=ar;Te.Settings=lr.default;function eh(n,e,t){if(typeof e=="function"){ia.read(n,cr(),e);return}ia.read(n,cr(e),t)}Te.scandir=eh;function th(n,e){const t=cr(e);return Zf.read(n,t)}Te.scandirSync=th;function cr(n={}){return n instanceof lr.default?n:new lr.default(n)}var ur={exports:{}};function nh(n){var e=new n,t=e;function s(){var i=e;return i.next?e=i.next:(e=new n,t=e),i.next=null,i}function r(i){t.next=i,t=i}return{get:s,release:r}}var sh=nh,rh=sh;function oa(n,e,t){if(typeof n=="function"&&(t=e,e=n,n=null),t<1)throw new Error("fastqueue concurrency must be greater than 1");var s=rh(ih),r=null,i=null,o=0,a=null,l={push:d,drain:ge,saturated:ge,pause:u,paused:!1,concurrency:t,running:c,resume:g,idle:p,length:f,getQueue:h,unshift:m,empty:ge,kill:E,killAndDrain:k,error:T};return l;function c(){return o}function u(){l.paused=!0}function f(){for(var A=r,S=0;A;)A=A.next,S++;return S}function h(){for(var A=r,S=[];A;)S.push(A.value),A=A.next;return S}function g(){if(l.paused){l.paused=!1;for(var A=0;A<l.concurrency;A++)o++,w()}}function p(){return o===0&&l.length()===0}function d(A,S){var R=s.get();R.context=n,R.release=w,R.value=A,R.callback=S||ge,R.errorHandler=a,o===l.concurrency||l.paused?i?(i.next=R,i=R):(r=R,i=R,l.saturated()):(o++,e.call(n,R.value,R.worked))}function m(A,S){var R=s.get();R.context=n,R.release=w,R.value=A,R.callback=S||ge,o===l.concurrency||l.paused?r?(R.next=r,r=R):(r=R,i=R,l.saturated()):(o++,e.call(n,R.value,R.worked))}function w(A){A&&s.release(A);var S=r;S?l.paused?o--:(i===r&&(i=null),r=S.next,S.next=null,e.call(n,S.value,S.worked),i===null&&l.empty()):--o===0&&l.drain()}function E(){r=null,i=null,l.drain=ge}function k(){r=null,i=null,l.drain(),l.drain=ge}function T(A){a=A}}function ge(){}function ih(){this.value=null,this.callback=ge,this.next=null,this.release=ge,this.context=null,this.errorHandler=null;var n=this;this.worked=function(t,s){var r=n.callback,i=n.errorHandler,o=n.value;n.value=null,n.callback=ge,n.errorHandler&&i(t,o),r.call(n.context,t,s),n.release(n)}}function oh(n,e,t){typeof n=="function"&&(t=e,e=n,n=null);function s(u,f){e.call(this,u).then(function(h){f(null,h)},f)}var r=oa(n,s,t),i=r.push,o=r.unshift;return r.push=a,r.unshift=l,r.drained=c,r;function a(u){var f=new Promise(function(h,g){i(u,function(p,d){if(p){g(p);return}h(d)})});return f.catch(ge),f}function l(u){var f=new Promise(function(h,g){o(u,function(p,d){if(p){g(p);return}h(d)})});return f.catch(ge),f}function c(){if(r.idle())return new Promise(function(h){h()});var u=r.drain,f=new Promise(function(h){r.drain=function(){u(),h()}});return f}}ur.exports=oa,ur.exports.promise=oh;var ah=ur.exports,me={};Object.defineProperty(me,"__esModule",{value:!0}),me.joinPathSegments=me.replacePathSegmentSeparator=me.isAppliedFilter=me.isFatalError=void 0;function lh(n,e){return n.errorFilter===null?!0:!n.errorFilter(e)}me.isFatalError=lh;function ch(n,e){return n===null||n(e)}me.isAppliedFilter=ch;function uh(n,e){return n.split(/[/\\]/).join(e)}me.replacePathSegmentSeparator=uh;function fh(n,e,t){return n===""?e:n.endsWith(t)?n+e:n+t+e}me.joinPathSegments=fh;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});const hh=me;let dh=class{constructor(e,t){this._root=e,this._settings=t,this._root=hh.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}};Bn.default=dh,Object.defineProperty(Cn,"__esModule",{value:!0});const ph=ga,gh=Te,mh=ah,jn=me,yh=Bn;class _h extends yh.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=gh.scandir,this._emitter=new ph.EventEmitter,this._queue=mh(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const s={directory:e,base:t};this._queue.push(s,r=>{r!==null&&this._handleError(r)})}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,(s,r)=>{if(s!==null){t(s,void 0);return}for(const i of r)this._handleEntry(i,e.base);t(null,void 0)})}_handleError(e){this._isDestroyed||!jn.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const s=e.path;t!==void 0&&(e.path=jn.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),jn.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&jn.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,t===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}Cn.default=_h,Object.defineProperty(tr,"__esModule",{value:!0});const bh=Cn;class Sh{constructor(e,t){this._root=e,this._settings=t,this._reader=new bh.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(t=>{wh(e,t)}),this._reader.onEntry(t=>{this._storage.push(t)}),this._reader.onEnd(()=>{Eh(e,this._storage)}),this._reader.read()}}tr.default=Sh;function wh(n,e){n(e)}function Eh(n,e){n(null,e)}var fr={};Object.defineProperty(fr,"__esModule",{value:!0});const Ah=Vt,vh=Cn;class kh{constructor(e,t){this._root=e,this._settings=t,this._reader=new vh.default(this._root,this._settings),this._stream=new Ah.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}fr.default=kh;var hr={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});const Oh=Te,Fn=me,$h=Bn;class Th extends $h.default{constructor(){super(...arguments),this._scandir=Oh.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const s=this._scandir(e,this._settings.fsScandirSettings);for(const r of s)this._handleEntry(r,t)}catch(s){this._handleError(s)}}_handleError(e){if(Fn.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const s=e.path;t!==void 0&&(e.path=Fn.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),Fn.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&Fn.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,t===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}}dr.default=Th,Object.defineProperty(hr,"__esModule",{value:!0});const Rh=dr;class Ph{constructor(e,t){this._root=e,this._settings=t,this._reader=new Rh.default(this._root,this._settings)}read(){return this._reader.read()}}hr.default=Ph;var pr={};Object.defineProperty(pr,"__esModule",{value:!0});const Nh=ve,Ch=Te;class Lh{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Nh.sep),this.fsScandirSettings=new Ch.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}}pr.default=Lh,Object.defineProperty(pe,"__esModule",{value:!0}),pe.Settings=pe.walkStream=pe.walkSync=pe.walk=void 0;const aa=tr,Ih=fr,Mh=hr,gr=pr;pe.Settings=gr.default;function Dh(n,e,t){if(typeof e=="function"){new aa.default(n,Hn()).read(e);return}new aa.default(n,Hn(e)).read(t)}pe.walk=Dh;function xh(n,e){const t=Hn(e);return new Mh.default(n,t).read()}pe.walkSync=xh;function Bh(n,e){const t=Hn(e);return new Ih.default(n,t).read()}pe.walkStream=Bh;function Hn(n={}){return n instanceof gr.default?n:new gr.default(n)}var xt={};Object.defineProperty(xt,"__esModule",{value:!0});const jh=ve,Fh=ue,la=V;class Hh{constructor(e){this._settings=e,this._fsStatSettings=new Fh.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return jh.resolve(this._settings.cwd,e)}_makeEntry(e,t){const s={name:t,path:t,dirent:la.fs.createDirentFromStats(t,e)};return this._settings.stats&&(s.stats=e),s}_isFatalError(e){return!la.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}}xt.default=Hh;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});const Kh=Vt,Uh=ue,qh=pe,Vh=xt;class Gh extends Vh.default{constructor(){super(...arguments),this._walkStream=qh.walkStream,this._stat=Uh.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const s=e.map(this._getFullEntryPath,this),r=new Kh.PassThrough({objectMode:!0});r._write=(i,o,a)=>this._getEntry(s[i],e[i],t).then(l=>{l!==null&&t.entryFilter(l)&&r.push(l),i===s.length-1&&r.end(),a()}).catch(a);for(let i=0;i<s.length;i++)r.write(i);return r}_getEntry(e,t,s){return this._getStat(e).then(r=>this._makeEntry(r,t)).catch(r=>{if(s.errorFilter(r))return null;throw r})}_getStat(e){return new Promise((t,s)=>{this._stat(e,this._fsStatSettings,(r,i)=>r===null?t(i):s(r))})}}Kn.default=Gh,Object.defineProperty(er,"__esModule",{value:!0});const Wh=pe,Yh=xt,Qh=Kn;class Jh extends Yh.default{constructor(){super(...arguments),this._walkAsync=Wh.walk,this._readerStream=new Qh.default(this._settings)}dynamic(e,t){return new Promise((s,r)=>{this._walkAsync(e,t,(i,o)=>{i===null?s(o):r(i)})})}async static(e,t){const s=[],r=this._readerStream.static(e,t);return new Promise((i,o)=>{r.once("error",o),r.on("data",a=>s.push(a)),r.once("end",()=>i(s))})}}er.default=Jh;var Bt={},mr={},yr={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});const jt=V;class Xh{constructor(e,t,s){this._patterns=e,this._settings=t,this._micromatchOptions=s,this._storage=[],this._fillStorage()}_fillStorage(){for(const e of this._patterns){const t=this._getPatternSegments(e),s=this._splitSegmentsIntoSections(t);this._storage.push({complete:s.length<=1,pattern:e,segments:t,sections:s})}}_getPatternSegments(e){return jt.pattern.getPatternParts(e,this._micromatchOptions).map(s=>jt.pattern.isDynamicPattern(s,this._settings)?{dynamic:!0,pattern:s,patternRe:jt.pattern.makeRe(s,this._micromatchOptions)}:{dynamic:!1,pattern:s})}_splitSegmentsIntoSections(e){return jt.array.splitWhen(e,t=>t.dynamic&&jt.pattern.hasGlobStar(t.pattern))}}_r.default=Xh,Object.defineProperty(yr,"__esModule",{value:!0});const zh=_r;class Zh extends zh.default{match(e){const t=e.split("/"),s=t.length,r=this._storage.filter(i=>!i.complete||i.segments.length>s);for(const i of r){const o=i.sections[0];if(!i.complete&&s>o.length||t.every((l,c)=>{const u=i.segments[c];return!!(u.dynamic&&u.patternRe.test(l)||!u.dynamic&&u.pattern===l)}))return!0}return!1}}yr.default=Zh,Object.defineProperty(mr,"__esModule",{value:!0});const Un=V,ed=yr;class td{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,s){const r=this._getMatcher(t),i=this._getNegativePatternsRe(s);return o=>this._filter(e,o,r,i)}_getMatcher(e){return new ed.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const t=e.filter(Un.pattern.isAffectDepthOfReadingPattern);return Un.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,s,r){if(this._isSkippedByDeep(e,t.path)||this._isSkippedSymbolicLink(t))return!1;const i=Un.path.removeLeadingDotSegment(t.path);return this._isSkippedByPositivePatterns(i,s)?!1:this._isSkippedByNegativePatterns(i,r)}_isSkippedByDeep(e,t){return this._settings.deep===1/0?!1:this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const s=t.split("/").length;if(e==="")return s;const r=e.split("/").length;return s-r}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!Un.pattern.matchAny(e,t)}}mr.default=td;var br={};Object.defineProperty(br,"__esModule",{value:!0});const ze=V;class nd{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const s=ze.pattern.convertPatternsToRe(e,this._micromatchOptions),r=ze.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}));return i=>this._filter(i,s,r)}_filter(e,t,s){const r=ze.path.removeLeadingDotSegment(e.path);if(this._settings.unique&&this._isDuplicateEntry(r)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(r,s))return!1;const i=e.dirent.isDirectory(),o=this._isMatchToPatterns(r,t,i)&&!this._isMatchToPatterns(r,s,i);return this._settings.unique&&o&&this._createIndexRecord(r),o}_isDuplicateEntry(e){return this.index.has(e)}_createIndexRecord(e){this.index.set(e,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const s=ze.path.makeAbsolute(this._settings.cwd,e);return ze.pattern.matchAny(s,t)}_isMatchToPatterns(e,t,s){const r=ze.pattern.matchAny(e,t);return!r&&s?ze.pattern.matchAny(e+"/",t):r}}br.default=nd;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});const sd=V;class rd{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return sd.errno.isEnoentCodeError(e)||this._settings.suppressErrors}}Sr.default=rd;var wr={};Object.defineProperty(wr,"__esModule",{value:!0});const ca=V;class id{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=ca.path.makeAbsolute(this._settings.cwd,t),t=ca.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}}wr.default=id,Object.defineProperty(Bt,"__esModule",{value:!0});const od=ve,ad=mr,ld=br,cd=Sr,ud=wr;class fd{constructor(e){this._settings=e,this.errorFilter=new cd.default(this._settings),this.entryFilter=new ld.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new ad.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new ud.default(this._settings)}_getRootDirectory(e){return od.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t=e.base==="."?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}Bt.default=fd,Object.defineProperty(Zs,"__esModule",{value:!0});const hd=er,dd=Bt;class pd extends dd.default{constructor(){super(...arguments),this._reader=new hd.default(this._settings)}async read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e);return(await this.api(t,e,s)).map(i=>s.transform(i))}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Zs.default=pd;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});const gd=Vt,md=Kn,yd=Bt;class _d extends yd.default{constructor(){super(...arguments),this._reader=new md.default(this._settings)}read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e),r=this.api(t,e,s),i=new gd.Readable({objectMode:!0,read:()=>{}});return r.once("error",o=>i.emit("error",o)).on("data",o=>i.emit("data",s.transform(o))).once("end",()=>i.emit("end")),i.once("close",()=>r.destroy()),i}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Er.default=_d;var Ar={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});const bd=ue,Sd=pe,wd=xt;class Ed extends wd.default{constructor(){super(...arguments),this._walkSync=Sd.walkSync,this._statSync=bd.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const s=[];for(const r of e){const i=this._getFullEntryPath(r),o=this._getEntry(i,r,t);o===null||!t.entryFilter(o)||s.push(o)}return s}_getEntry(e,t,s){try{const r=this._getStat(e);return this._makeEntry(r,t)}catch(r){if(s.errorFilter(r))return null;throw r}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}vr.default=Ed,Object.defineProperty(Ar,"__esModule",{value:!0});const Ad=vr,vd=Bt;class kd extends vd.default{constructor(){super(...arguments),this._reader=new Ad.default(this._settings)}read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e);return this.api(t,e,s).map(s.transform)}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Ar.default=kd;var ua={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const e=_t,s=Math.max(Gn.cpus().length,1);n.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:e.lstat,lstatSync:e.lstatSync,stat:e.stat,statSync:e.statSync,readdir:e.readdir,readdirSync:e.readdirSync};class r{constructor(o={}){this._options=o,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,s),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(o,a){return o===void 0?a:o}_getFileSystemMethods(o={}){return Object.assign(Object.assign({},n.DEFAULT_FILE_SYSTEM_ADAPTER),o)}}n.default=r})(ua);const fa=ee,Od=Zs,$d=Er,Td=Ar,kr=ua,ye=V;async function Or(n,e){we(n);const t=$r(n,Od.default,e),s=await Promise.all(t);return ye.array.flatten(s)}(function(n){n.glob=n,n.globSync=e,n.globStream=t,n.async=n;function e(a,l){we(a);const c=$r(a,Td.default,l);return ye.array.flatten(c)}n.sync=e;function t(a,l){we(a);const c=$r(a,$d.default,l);return ye.stream.merge(c)}n.stream=t;function s(a,l){we(a);const c=[].concat(a),u=new kr.default(l);return fa.generate(c,u)}n.generateTasks=s;function r(a,l){we(a);const c=new kr.default(l);return ye.pattern.isDynamicPattern(a,c)}n.isDynamicPattern=r;function i(a){return we(a),ye.path.escape(a)}n.escapePath=i;function o(a){return we(a),ye.path.convertPathToPattern(a)}n.convertPathToPattern=o,function(a){function l(u){return we(u),ye.path.escapePosixPath(u)}a.escapePath=l;function c(u){return we(u),ye.path.convertPosixPathToPattern(u)}a.convertPathToPattern=c}(n.posix||(n.posix={})),function(a){function l(u){return we(u),ye.path.escapeWindowsPath(u)}a.escapePath=l;function c(u){return we(u),ye.path.convertWindowsPathToPattern(u)}a.convertPathToPattern=c}(n.win32||(n.win32={}))})(Or||(Or={}));function $r(n,e,t){const s=[].concat(n),r=new kr.default(t),i=fa.generate(s,r),o=new e(r);return i.map(o.read,o)}function we(n){if(![].concat(n).every(s=>ye.string.isString(s)&&!ye.string.isEmpty(s)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}var Rd=Or;let Pd=class Q{static SENTINEL=String.fromCharCode(0);static from(e){const t=new Q;for(const[s,r]of Object.entries(e))t.set(s,r);return t}constructor(e){this.mode=e===Array?"array":"string",this.clear()}clear(){this.root={},this.size=0}set(e,t){let s=this.root,r;for(let i=0;i<e.length;i++)r=e[i],s=s[r]||(s[r]={});return Q.SENTINEL in s||this.size++,s[Q.SENTINEL]=t,this}update(e,t){let s=this.root,r;for(let i=0;i<e.length;i++)r=e[i],s=s[r]||(s[r]={});return Q.SENTINEL in s||this.size++,s[Q.SENTINEL]=t(s[Q.SENTINEL]),this}get(e){let t=this.root,s;for(let r=0;r<e.length;r++)if(s=e[r],t=t[s],typeof t>"u")return;if(Q.SENTINEL in t)return t[Q.SENTINEL]}delete(e){let t=this.root,s=null,r=null,i,o;for(let a=0;a<e.length;a++){if(o=e[a],i=t,t=t[o],typeof t>"u")return!1;s!==null?Object.keys(t).length>1&&(s=null,r=null):Object.keys(t).length<2&&(s=i,r=o)}return Q.SENTINEL in t?(this.size--,s?delete s[r]:delete t[Q.SENTINEL],!0):!1}has(e){let t=this.root,s;for(let r=0;r<e.length;r++)if(s=e[r],t=t[s],typeof t>"u")return!1;return Q.SENTINEL in t}find(e){const t=typeof e=="string";let s=this.root;const r=[];let i;for(let c=0;c<e.length;c++)if(i=e[c],s=s[i],typeof s>"u")return r;const o=[s],a=[e];let l;for(;o.length;){e=a.pop(),s=o.pop();for(l in s){if(l===Q.SENTINEL){r.push([e,s[Q.SENTINEL]]);continue}o.push(s[l]),a.push(t?e+l:e.concat(l))}}return r}*values(e){let t=this.root;const s=[];let r;if(e){for(let l=0;l<e.length;l++)if(r=e[l],t=t[r],typeof t>"u")return[][Symbol.iterator]()}s.push(t);let i,o=!1,a;for(;s.length;){i=s.pop();for(a in i){if(a===Q.SENTINEL){o=!0;continue}s.push(i[a])}o&&(yield i[Q.SENTINEL])}}*prefixes(e){let t=this.root;const s=[],r=[];let i;const o=this.mode==="string";if(e){for(let f=0;f<e.length;f++)if(i=e[f],t=t[i],typeof t>"u")return[][Symbol.iterator]()}else e=o?"":[];s.push(t),r.push(e);let a,l,c=!1,u;for(;s.length;){a=s.pop(),l=r.pop();for(u in a){if(u===Q.SENTINEL){c=!0;continue}s.push(a[u]),r.push(o?l+u:l.concat(u))}c&&(yield l)}}*entries(e){let t=this.root;const s=[],r=[];let i;const o=this.mode==="string";if(e){for(let f=0;f<e.length;f++)if(i=e[f],t=t[i],typeof t>"u")return[][Symbol.iterator]()}else e=o?"":[];s.push(t),r.push(e);let a,l,c=!1,u;for(;s.length;){a=s.pop(),l=r.pop();for(u in a){if(u===Q.SENTINEL){c=!0;continue}s.push(a[u]),r.push(o?l+u:l.concat(u))}c&&(yield[l,a[Q.SENTINEL]])}}keys=this.prefixes.bind(this);[Symbol.iterator]=this.entries.bind(this);inspect(){const e=new Array(this.size),t=this.entries();let s,r=0;for(;s=t.next(),!s.done;)e[r++]=s.value;return Object.defineProperty(e,"constructor",{value:Q,enumerable:!1}),e}[Symbol.for("nodejs.util.inspect.custom")]=this.inspect.bind(this);toJSON(){return this.root}};var Nd=Pd;const Cd=Nd;let Ld=class Ze extends Cd{static SENTINEL=String.fromCharCode(0);constructor(e){super(e)}static from(e){const t=new Ze;for(const s of e)t.add(s);return t}add(e){let t=this.root,s;for(var r=0,i=e.length;r<i;r++)s=e[r],t=t[s]||(t[s]={});return Ze.SENTINEL in t||this.size++,t[Ze.SENTINEL]=!0,this}getPrefixes(e){const t=[];let s=this.root,r;for(let i=0;i<e.length;i++){if(r=e[i],s=s[r],typeof s>"u")return t;s[Ze.SENTINEL]&&t.push(e.slice(0,i+1))}return t}find(e){const t=typeof e=="string";let s=this.root;const r=[];let i;for(let c=0;c<e.length;c++)if(i=e[c],s=s[i],typeof s>"u")return r;const o=[s],a=[e];let l;for(;o.length;){e=a.pop(),s=o.pop();for(l in s){if(l===Ze.SENTINEL){r.push(e);continue}o.push(s[l]),a.push(t?e+l:e.concat(l))}}return r}inspect(){const e=new Set,t=this.keys();let s;for(;s=t.next(),!s.done;)e.add(s.value);return Object.defineProperty(e,"constructor",{value:Ze,enumerable:!1}),e}toJSON(){return this.root}set=void 0;get=void 0;values=void 0;entries=void 0;[Symbol.iterator]=this.keys.bind(this);[Symbol.for("nodejs.util.inspect.custom")]=this.inspect.bind(this)};var Id=Ld;const Ke=X,qn=_t,Md=Hl,Dd=Rd,xd=Id;Fr.createTildeImportExpander=({monorepoDirpath:n})=>{let e;const t=Ke.join(n,"package.json");if(!qn.existsSync(t))throw new Error(`Could not find package.json file at "${t}"`);const s=JSON.parse(qn.readFileSync(t,"utf8")).workspaces;if(s!==void 0)e=s;else{const o=Ke.join(n,"pnpm-workspace.yaml");if(!qn.existsSync(o))throw new Error(`Monorepo package.json does not include "workspaces" property and could not find pnpm-workspace.yaml file at "${o}"`);const a=Md.parse(qn.readFileSync(o,"utf8"))?.packages;if(a===void 0)throw new Error(`Monorepo package.json does not include "workspaces" property and could not find "packages" property in pnpm-workspace.yaml file at "${o}"`);e=a}const r=Dd.sync(e.map(o=>Ke.join(n,o,"package.json")),{absolute:!0}),i=new xd(Array);for(const o of r){let a=Ke.normalize(o);a.startsWith("/")&&(a=a.slice(1)),i.add(Ke.dirname(a).split("/"))}return function({importSpecifier:a,importerFilepath:l}){if(!a.startsWith("~"))return a;let c=Ke.normalize(l);c.startsWith("/")&&(c=c.slice(1));const u=i.getPrefixes(c.split("/"));let f;if(u.length===0)throw new Error(`Could not find package root for importer file "${l}"`);return u.length>1&&console.warn('Found multiple package.json files for importer file "%s": %s',l,u.map(h=>h.join("/")).join(", "),"Using the first one."),f=u[0],a.startsWith("~/")?Ke.join("/",...f,a.replace("~/","src/")):Ke.join("/",...f,a.replace("~",""))}};const{createTildeImportExpander:Bd}=Fr;var jd={createTildeImportExpander:Bd};const{getMonorepoDirpath:Fd}=Na,{createTildeImportExpander:Hd}=jd;var Kd=function(){const e=Fd(__dirname);if(e===void 0)throw new Error("Could not find monorepo directory");const t=Hd({monorepoDirpath:e});return function(s){return t({importSpecifier:"~",importerFilepath:s})}},Ud=ya(Kd);module.exports=Ud;
+;return module.exports()})({});
 var __defProp = Object.defineProperty;
 var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
 var __getOwnPropNames = Object.getOwnPropertyNames;
@@ -8418,13 +8582,21 @@ var sys = (() => {
       writeOutputIsTTY() {
         return process.stdout.isTTY;
       },
-      readFile,
+      readFile: ((module) => {"use strict";var Pi=require("path"),De=require("url"),ke=require("fs"),Ai=require("fs/promises"),fs=require("events"),us=require("stream"),ds=require("string_decoder"),ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ci(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var U={},q={};function dt(i=""){return!i||!i.includes("\\")?i:i.replace(/\\/g,"/")}const Mi=/^[/\\]{2}/,ji=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,ps=/^[A-Za-z]:$/,ms="/",gs=":",Ne=function(i){if(i.length===0)return".";i=dt(i);const t=i.match(Mi),e=Rt(i),s=i[i.length-1]==="/";return i=oe(i,!e),i.length===0?e?"/":s?"./":".":(s&&(i+="/"),ps.test(i)&&(i+="/"),t?e?`//${i}`:`//./${i}`:e&&!Rt(i)?`/${i}`:i)},ws=function(...i){if(i.length===0)return".";let t;for(const e of i)e&&e.length>0&&(t===void 0?t=e:t+=`/${e}`);return t===void 0?".":Ne(t.replace(/\/\/+/g,"/"))};function Li(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const It=function(...i){i=i.map(s=>dt(s));let t="",e=!1;for(let s=i.length-1;s>=-1&&!e;s--){const n=s>=0?i[s]:Li();!n||n.length===0||(t=`${n}/${t}`,e=Rt(n))}return t=oe(t,!e),e&&!Rt(t)?`/${t}`:t.length>0?t:"."};function oe(i,t){let e="",s=0,n=-1,r=0,h=null;for(let a=0;a<=i.length;++a){if(a<i.length)h=i[a];else{if(h==="/")break;h="/"}if(h==="/"){if(!(n===a-1||r===1))if(r===2){if(e.length<2||s!==2||e[e.length-1]!=="."||e[e.length-2]!=="."){if(e.length>2){const c=e.lastIndexOf("/");c===-1?(e="",s=0):(e=e.slice(0,c),s=e.length-1-e.lastIndexOf("/")),n=a,r=0;continue}else if(e.length>0){e="",s=0,n=a,r=0;continue}}t&&(e+=e.length>0?"/..":"..",s=2)}else e.length>0?e+=`/${i.slice(n+1,a)}`:e=i.slice(n+1,a),s=a-n-1;n=a,r=0}else h==="."&&r!==-1?++r:r=-1}return e}const Rt=function(i){return ji.test(i)},bs=function(i){return dt(i)},Fi=/.(\.[^./]+)$/,Be=function(i){const t=Fi.exec(dt(i));return t&&t[1]||""},ys=function(i,t){const e=It(i).split("/"),s=It(t).split("/"),n=[...e];for(const r of n){if(s[0]!==r)break;e.shift(),s.shift()}return[...e.map(()=>".."),...s].join("/")},Ie=function(i){const t=dt(i).replace(/\/$/,"").split("/").slice(0,-1);return t.length===1&&ps.test(t[0])&&(t[0]+="/"),t.join("/")||(Rt(i)?"/":".")},Ss=function(i){const t=[i.root,i.dir,i.base??i.name+i.ext].filter(Boolean);return dt(i.root?It(...t):t.join("/"))},We=function(i,t){const e=dt(i).split("/").pop();return t&&e.endsWith(t)?e.slice(0,-t.length):e},vs=function(i){const t=dt(i).split("/").shift()||"/",e=We(i),s=Be(e);return{root:t,dir:Ie(i),base:e,ext:s,name:e.slice(0,e.length-s.length)}},Di={__proto__:null,basename:We,delimiter:gs,dirname:Ie,extname:Be,format:Ss,isAbsolute:Rt,join:ws,normalize:Ne,normalizeString:oe,parse:vs,relative:ys,resolve:It,sep:ms,toNamespacedPath:bs};q.basename=We,q.delimiter=gs,q.dirname=Ie,q.extname=Be,q.format=Ss,q.isAbsolute=Rt,q.join=ws,q.normalize=Ne,q.normalizeString=oe,q.normalizeWindowsPath=dt,q.parse=vs,q.path=Di,q.relative=ys,q.resolve=It,q.sep=ms,q.toNamespacedPath=bs,Object.defineProperty(U,"__esModule",{value:!0});const K=q;U.basename=K.basename,U.default=K.path,U.delimiter=K.delimiter,U.dirname=K.dirname,U.extname=K.extname,U.format=K.format,U.isAbsolute=K.isAbsolute,U.join=K.join,U.normalize=K.normalize,U.normalizeString=K.normalizeString,U.parse=K.parse,U.relative=K.relative,U.resolve=K.resolve,U.sep=K.sep,U.toNamespacedPath=K.toNamespacedPath;var Es={},yt={},ki=_s;function _s(i,t,e){i instanceof RegExp&&(i=Os(i,e)),t instanceof RegExp&&(t=Os(t,e));var s=Ts(i,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+i.length,s[1]),post:e.slice(s[1]+t.length)}}function Os(i,t){var e=t.match(i);return e?e[0]:null}_s.range=Ts;function Ts(i,t,e){var s,n,r,h,a,c=e.indexOf(i),d=e.indexOf(t,c+1),b=c;if(c>=0&&d>0){if(i===t)return[c,d];for(s=[],r=e.length;b>=0&&!a;)b==c?(s.push(b),c=e.indexOf(i,b+1)):s.length==1?a=[s.pop(),d]:(n=s.pop(),n<r&&(r=n,h=d),d=e.indexOf(t,b+1)),b=c<d&&c>=0?c:d;s.length&&(a=[r,h])}return a}var Rs=ki,Ni=Wi,Ps="\0SLASH"+Math.random()+"\0",As="\0OPEN"+Math.random()+"\0",xe="\0CLOSE"+Math.random()+"\0",Cs="\0COMMA"+Math.random()+"\0",Ms="\0PERIOD"+Math.random()+"\0";function $e(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Bi(i){return i.split("\\\\").join(Ps).split("\\{").join(As).split("\\}").join(xe).split("\\,").join(Cs).split("\\.").join(Ms)}function Ii(i){return i.split(Ps).join("\\").split(As).join("{").split(xe).join("}").split(Cs).join(",").split(Ms).join(".")}function js(i){if(!i)return[""];var t=[],e=Rs("{","}",i);if(!e)return i.split(",");var s=e.pre,n=e.body,r=e.post,h=s.split(",");h[h.length-1]+="{"+n+"}";var a=js(r);return r.length&&(h[h.length-1]+=a.shift(),h.push.apply(h,a)),t.push.apply(t,h),t}function Wi(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Wt(Bi(i),!0).map(Ii)):[]}function xi(i){return"{"+i+"}"}function $i(i){return/^-?0\d/.test(i)}function zi(i,t){return i<=t}function Gi(i,t){return i>=t}function Wt(i,t){var e=[],s=Rs("{","}",i);if(!s)return[i];var n=s.pre,r=s.post.length?Wt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var h=0;h<r.length;h++){var a=n+"{"+s.body+"}"+r[h];e.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=c||d,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(i=s.pre+"{"+s.body+xe+s.post,Wt(i)):[i];var y;if(b)y=s.body.split(/\.\./);else if(y=js(s.body),y.length===1&&(y=Wt(y[0],!1).map(xi),y.length===1))return r.map(function(rt){return s.pre+y[0]+rt});var w;if(b){var _=$e(y[0]),E=$e(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs($e(y[2])):1,P=zi,C=E<_;C&&(O*=-1,P=Gi);var R=y.some($i);w=[];for(var D=_;P(D,E);D+=O){var k;if(d)k=String.fromCharCode(D),k==="\\"&&(k="");else if(k=String(D),R){var j=T-k.length;if(j>0){var I=new Array(j+1).join("0");D<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Wt(y[L],!1))}for(var L=0;L<w.length;L++)for(var h=0;h<r.length;h++){var a=n+w[L]+r[h];(!t||b||a)&&e.push(a)}}return e}var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.assertValidPattern=void 0;const Ui=1024*64,Hi=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>Ui)throw new TypeError("pattern is too long")};he.assertValidPattern=Hi;var xt={},ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.parseClass=void 0;const qi={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},$t=i=>i.replace(/[[\]\\-]/g,"\\$&"),Vi=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ls=i=>i.join(""),Yi=(i,t)=>{const e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],n=[];let r=e+1,h=!1,a=!1,c=!1,d=!1,b=e,g="";t:for(;r<i.length;){const E=i.charAt(r);if((E==="!"||E==="^")&&r===e+1){d=!0,r++;continue}if(E==="]"&&h&&!c){b=r+1;break}if(h=!0,E==="\\"&&!c){c=!0,r++;continue}if(E==="["&&!c){for(const[T,[O,P,C]]of Object.entries(qi))if(i.startsWith(T,r)){if(g)return["$.",!1,i.length-e,!0];r+=T.length,C?n.push(O):s.push(O),a=a||P;continue t}}if(c=!1,g){E>g?s.push($t(g)+"-"+$t(E)):E===g&&s.push($t(E)),g="",r++;continue}if(i.startsWith("-]",r+1)){s.push($t(E+"-")),r+=2;continue}if(i.startsWith("-",r+1)){g=E,r+=2;continue}s.push($t(E)),r++}if(b<r)return["",!1,0,!1];if(!s.length&&!n.length)return["$.",!1,i.length-e,!0];if(n.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!d){const E=s[0].length===2?s[0].slice(-1):s[0];return[Vi(E),!1,b-e,!1]}const y="["+(d?"^":"")+Ls(s)+"]",w="["+(d?"":"^")+Ls(n)+"]";return[s.length&&n.length?"("+y+"|"+w+")":s.length?y:w,a,b-e,!0]};ae.parseClass=Yi;var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.unescape=void 0;const Ji=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");jt.unescape=Ji,Object.defineProperty(xt,"__esModule",{value:!0}),xt.AST=void 0;const Ki=ae,le=jt,Zi=new Set(["!","?","+","*","@"]),Fs=i=>Zi.has(i),Xi="(?!(?:^|/)\\.\\.?(?:$|/))",ce="(?!\\.)",Qi=new Set(["[","."]),tn=new Set(["..","."]),en=new Set("().*{}+?[]^$\\!"),sn=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ze="[^/]",Ds=ze+"*?",ks=ze+"+?";class et{type;#t;#s;#r=!1;#i=[];#h;#l;#f;#a=!1;#o;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#h=e,this.#t=this.#h?this.#h.#t:this,this.#o=this.#t===this?s:this.#t.#o,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#h?this.#h.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#h;for(;s;){for(let n=e.#l+1;!s.type&&n<s.#i.length;n++)for(const r of t.#i){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(s.#i[n])}e=s,s=e.#h}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof et&&e.#h===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#h?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#h?.isStart())return!1;if(this.#l===0)return!0;const t=this.#h;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof et&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#h?.type==="!")return!0;if(!this.#h?.isEnd())return!1;if(!this.type)return this.#h?.isEnd();const t=this.#h?this.#h.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new et(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,n){let r=!1,h=!1,a=-1,c=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const E=t.charAt(w++);if(r||E==="\\"){r=!r,_+=E;continue}if(h){w===a+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(w===a+2&&c)&&(h=!1),_+=E;continue}else if(E==="["){h=!0,a=w,c=!1,_+=E;continue}if(!n.noext&&Fs(E)&&t.charAt(w)==="("){e.push(_),_="";const T=new et(E,e);w=et.#d(t,T,w,n),e.push(T);continue}_+=E}return e.push(_),w}let d=s+1,b=new et(null,e);const g=[];let y="";for(;d<t.length;){const w=t.charAt(d++);if(r||w==="\\"){r=!r,y+=w;continue}if(h){d===a+1?(w==="^"||w==="!")&&(c=!0):w==="]"&&!(d===a+2&&c)&&(h=!1),y+=w;continue}else if(w==="["){h=!0,a=d,c=!1,y+=w;continue}if(Fs(w)&&t.charAt(d)==="("){b.push(y),y="";const _=new et(w,b);b.push(_),d=et.#d(t,_,d,n);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new et(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),d;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],d}static fromGlob(t,e={}){const s=new et(null,void 0,e);return et.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,n,r]=this.toRegExpSource();if(!(n||this.#s||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const a=(this.#o.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#o.dot;if(this.#t===this&&this.#w(),!this.type){const c=this.isStart()&&this.isEnd(),d=this.#i.map(w=>{const[_,E,T,O]=typeof w=="string"?et.#y(w,this.#s,c):w.toRegExpSource(t);return this.#s=this.#s||T,this.#r=this.#r||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&tn.has(this.#i[0]))){const _=Qi,E=e&&_.has(d.charAt(0))||d.startsWith("\\.")&&_.has(d.charAt(2))||d.startsWith("\\.\\.")&&_.has(d.charAt(4)),T=!e&&!t&&_.has(d.charAt(0));b=E?Xi:T?ce:""}let g="";return this.isEnd()&&this.#t.#a&&this.#h?.type==="!"&&(g="(?:$|\\/)"),[b+d+g,(0,le.unescape)(d),this.#s=!!this.#s,this.#r]}const s=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:";let r=this.#u(e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){const c=this.toString();return this.#i=[c],this.type=null,this.#s=void 0,[c,(0,le.unescape)(this.toString()),!1,!1]}let h=!s||t||e||!ce?"":this.#u(!0);h===r&&(h=""),h&&(r=`(?:${r})(?:${h})*?`);let a="";if(this.type==="!"&&this.#m)a=(this.isStart()&&!e?ce:"")+ks;else{const c=this.type==="!"?"))"+(this.isStart()&&!e&&!t?ce:"")+Ds+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&h?")":this.type==="*"&&h?")?":`)${this.type}`;a=n+r+c}return[a,(0,le.unescape)(r),this.#s=!!this.#s,this.#r]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,n,r,h]=e.toRegExpSource(t);return this.#r=this.#r||h,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let n=!1,r="",h=!1;for(let a=0;a<t.length;a++){const c=t.charAt(a);if(n){n=!1,r+=(en.has(c)?"\\":"")+c;continue}if(c==="\\"){a===t.length-1?r+="\\\\":n=!0;continue}if(c==="["){const[d,b,g,y]=(0,Ki.parseClass)(t,a);if(g){r+=d,h=h||b,a+=g-1,e=e||y;continue}}if(c==="*"){s&&t==="*"?r+=ks:r+=Ds,e=!0;continue}if(c==="?"){r+=ze,e=!0;continue}r+=sn(c)}return[r,(0,le.unescape)(t),!!e,h]}}xt.AST=et;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.escape=void 0;const nn=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");zt.escape=nn,function(i){var t=ot&&ot.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(i,"__esModule",{value:!0}),i.unescape=i.escape=i.AST=i.Minimatch=i.match=i.makeRe=i.braceExpand=i.defaults=i.filter=i.GLOBSTAR=i.sep=i.minimatch=void 0;const e=t(Ni),s=he,n=xt,r=zt,h=jt,a=(S,l,p={})=>((0,s.assertValidPattern)(l),!p.nocomment&&l.charAt(0)==="#"?!1:new Tt(l,p).match(S));i.minimatch=a;const c=/^\*+([^+@!?\*\[\(]*)$/,d=S=>l=>!l.startsWith(".")&&l.endsWith(S),b=S=>l=>l.endsWith(S),g=S=>(S=S.toLowerCase(),l=>!l.startsWith(".")&&l.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),l=>l.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),E=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),P=/^\*+$/,C=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",D=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,l=""])=>{const p=rt([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},j=([S,l=""])=>{const p=_t([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},I=([S,l=""])=>{const p=_t([S]);return l?m=>p(m)&&m.endsWith(l):p},L=([S,l=""])=>{const p=rt([S]);return l?m=>p(m)&&m.endsWith(l):p},rt=([S])=>{const l=S.length;return p=>p.length===l&&!p.startsWith(".")},_t=([S])=>{const l=S.length;return p=>p.length===l&&p!=="."&&p!==".."},G=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};i.sep=G==="win32"?N.win32.sep:N.posix.sep,i.minimatch.sep=i.sep,i.GLOBSTAR=Symbol("globstar **"),i.minimatch.GLOBSTAR=i.GLOBSTAR;const kt="[^/]"+"*?",ne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Nt="(?:(?!(?:\\/|^)\\.).)*?",st=(S,l={})=>p=>(0,i.minimatch)(p,S,l);i.filter=st,i.minimatch.filter=i.filter;const Y=(S,l={})=>Object.assign({},S,l),Ct=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return i.minimatch;const l=i.minimatch;return Object.assign((m,f,o={})=>l(m,f,Y(S,o)),{Minimatch:class extends l.Minimatch{constructor(f,o={}){super(f,Y(S,o))}static defaults(f){return l.defaults(Y(S,f)).Minimatch}},AST:class extends l.AST{constructor(f,o,u={}){super(f,o,Y(S,u))}static fromGlob(f,o={}){return l.AST.fromGlob(f,Y(S,o))}},unescape:(m,f={})=>l.unescape(m,Y(S,f)),escape:(m,f={})=>l.escape(m,Y(S,f)),filter:(m,f={})=>l.filter(m,Y(S,f)),defaults:m=>l.defaults(Y(S,m)),makeRe:(m,f={})=>l.makeRe(m,Y(S,f)),braceExpand:(m,f={})=>l.braceExpand(m,Y(S,f)),match:(m,f,o={})=>l.match(m,f,Y(S,o)),sep:l.sep,GLOBSTAR:i.GLOBSTAR})};i.defaults=Ct,i.minimatch.defaults=i.defaults;const Ot=(S,l={})=>((0,s.assertValidPattern)(S),l.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));i.braceExpand=Ot,i.minimatch.braceExpand=i.braceExpand;const ut=(S,l={})=>new Tt(S,l).makeRe();i.makeRe=ut,i.minimatch.makeRe=i.makeRe;const J=(S,l,p={})=>{const m=new Tt(l,p);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(l),S};i.match=J,i.minimatch.match=i.match;const bt=/[?*]|[+@!]\(.*?\)|\[|\]/,Me=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Tt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(l,p={}){(0,s.assertValidPattern)(l),p=p||{},this.options=p,this.pattern=l,this.platform=p.platform||G,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!p.windowsPathsNoEscape||p.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!p.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!p.nonegate,this.comment=!1,this.empty=!1,this.partial=!!p.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=p.windowsNoMagicRoot!==void 0?p.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const l of this.set)for(const p of l)if(typeof p!="string")return!0;return!1}debug(...l){}make(){const l=this.pattern,p=this.options;if(!p.nocomment&&l.charAt(0)==="#"){this.comment=!0;return}if(!l){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],p.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((o,u,v)=>{if(this.isWindows&&this.windowsNoMagicRoot){const A=o[0]===""&&o[1]===""&&(o[2]==="?"||!bt.test(o[2]))&&!bt.test(o[3]),M=/^[a-z]:/i.test(o[0]);if(A)return[...o.slice(0,4),...o.slice(4).map(F=>this.parse(F))];if(M)return[o[0],...o.slice(1).map(F=>this.parse(F))]}return o.map(A=>this.parse(A))});if(this.debug(this.pattern,f),this.set=f.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const u=this.set[o];u[0]===""&&u[1]===""&&this.globParts[o][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(l){if(this.options.noglobstar)for(let m=0;m<l.length;m++)for(let f=0;f<l[m].length;f++)l[m][f]==="**"&&(l[m][f]="*");const{optimizationLevel:p=1}=this.options;return p>=2?(l=this.firstPhasePreProcess(l),l=this.secondPhasePreProcess(l)):p>=1?l=this.levelOneOptimize(l):l=this.adjascentGlobstarOptimize(l),l}adjascentGlobstarOptimize(l){return l.map(p=>{let m=-1;for(;(m=p.indexOf("**",m+1))!==-1;){let f=m;for(;p[f+1]==="**";)f++;f!==m&&p.splice(m,f-m)}return p})}levelOneOptimize(l){return l.map(p=>(p=p.reduce((m,f)=>{const o=m[m.length-1];return f==="**"&&o==="**"?m:f===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(m.pop(),m):(m.push(f),m)},[]),p.length===0?[""]:p))}levelTwoFileOptimize(l){Array.isArray(l)||(l=this.slashSplit(l));let p=!1;do{if(p=!1,!this.preserveMultipleSlashes){for(let f=1;f<l.length-1;f++){const o=l[f];f===1&&o===""&&l[0]===""||(o==="."||o==="")&&(p=!0,l.splice(f,1),f--)}l[0]==="."&&l.length===2&&(l[1]==="."||l[1]==="")&&(p=!0,l.pop())}let m=0;for(;(m=l.indexOf("..",m+1))!==-1;){const f=l[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(p=!0,l.splice(m-1,2),m-=2)}}while(p);return l.length===0?[""]:l}firstPhasePreProcess(l){let p=!1;do{p=!1;for(let m of l){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let v=m[f+1];const A=m[f+2],M=m[f+3];if(v!==".."||!A||A==="."||A===".."||!M||M==="."||M==="..")continue;p=!0,m.splice(f,1);const F=m.slice(0);F[f]="**",l.push(F),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const v=m[u];u===1&&v===""&&m[0]===""||(v==="."||v==="")&&(p=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(p=!0,m.pop())}let o=0;for(;(o=m.indexOf("..",o+1))!==-1;){const u=m[o-1];if(u&&u!=="."&&u!==".."&&u!=="**"){p=!0;const A=o===1&&m[o+1]==="**"?["."]:[];m.splice(o-1,2,...A),m.length===0&&m.push(""),o-=2}}}}while(p);return l}secondPhasePreProcess(l){for(let p=0;p<l.length-1;p++)for(let m=p+1;m<l.length;m++){const f=this.partsMatch(l[p],l[m],!this.preserveMultipleSlashes);f&&(l[p]=f,l[m]=[])}return l.filter(p=>p.length)}partsMatch(l,p,m=!1){let f=0,o=0,u=[],v="";for(;f<l.length&&o<p.length;)if(l[f]===p[o])u.push(v==="b"?p[o]:l[f]),f++,o++;else if(m&&l[f]==="**"&&p[o]===l[f+1])u.push(l[f]),f++;else if(m&&p[o]==="**"&&l[f]===p[o+1])u.push(p[o]),o++;else if(l[f]==="*"&&p[o]&&(this.options.dot||!p[o].startsWith("."))&&p[o]!=="**"){if(v==="b")return!1;v="a",u.push(l[f]),f++,o++}else if(p[o]==="*"&&l[f]&&(this.options.dot||!l[f].startsWith("."))&&l[f]!=="**"){if(v==="a")return!1;v="b",u.push(p[o]),f++,o++}else return!1;return l.length===p.length&&u}parseNegate(){if(this.nonegate)return;const l=this.pattern;let p=!1,m=0;for(let f=0;f<l.length&&l.charAt(f)==="!";f++)p=!p,m++;m&&(this.pattern=l.slice(m)),this.negate=p}matchOne(l,p,m=!1){const f=this.options;if(this.isWindows){const Q=typeof l[0]=="string"&&/^[a-z]:$/i.test(l[0]),Fe=!Q&&l[0]===""&&l[1]===""&&l[2]==="?"&&/^[a-z]:$/i.test(l[3]),ls=typeof p[0]=="string"&&/^[a-z]:$/i.test(p[0]),Ti=!ls&&p[0]===""&&p[1]===""&&p[2]==="?"&&typeof p[3]=="string"&&/^[a-z]:$/i.test(p[3]),Bt=Fe?3:Q?0:void 0,Mt=Ti?3:ls?0:void 0;if(typeof Bt=="number"&&typeof Mt=="number"){const[cs,Ri]=[l[Bt],p[Mt]];cs.toLowerCase()===Ri.toLowerCase()&&(p[Mt]=cs,Mt>Bt?p=p.slice(Mt):Bt>Mt&&(l=l.slice(Bt)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(l=this.levelTwoFileOptimize(l)),this.debug("matchOne",this,{file:l,pattern:p}),this.debug("matchOne",l.length,p.length);for(var u=0,v=0,A=l.length,M=p.length;u<A&&v<M;u++,v++){this.debug("matchOne loop");var F=p[v],W=l[u];if(this.debug(p,F,W),F===!1)return!1;if(F===i.GLOBSTAR){this.debug("GLOBSTAR",[p,F,W]);var z=u,X=v+1;if(X===M){for(this.debug("** at the end");u<A;u++)if(l[u]==="."||l[u]===".."||!f.dot&&l[u].charAt(0)===".")return!1;return!0}for(;z<A;){var at=l[z];if(this.debug(`
+globstar while`,l,z,p,X,at),this.matchOne(l.slice(z),p.slice(X),m))return this.debug("globstar found match!",z,A,at),!0;if(at==="."||at===".."||!f.dot&&at.charAt(0)==="."){this.debug("dot detected!",l,z,p,X);break}this.debug("globstar swallow a segment, and continue"),z++}return!!(m&&(this.debug(`
+>>> no match, partial?`,l,z,p,X),z===A))}let Q;if(typeof F=="string"?(Q=W===F,this.debug("string match",F,W,Q)):(Q=F.test(W),this.debug("pattern match",F,W,Q)),!Q)return!1}if(u===A&&v===M)return!0;if(u===A)return m;if(v===M)return u===A-1&&l[u]==="";throw new Error("wtf?")}braceExpand(){return(0,i.braceExpand)(this.pattern,this.options)}parse(l){(0,s.assertValidPattern)(l);const p=this.options;if(l==="**")return i.GLOBSTAR;if(l==="")return"";let m,f=null;(m=l.match(P))?f=p.dot?R:C:(m=l.match(c))?f=(p.nocase?p.dot?y:g:p.dot?b:d)(m[1]):(m=l.match(D))?f=(p.nocase?p.dot?j:k:p.dot?I:L)(m):(m=l.match(w))?f=p.dot?E:_:(m=l.match(T))&&(f=O);const o=n.AST.fromGlob(l,this.options).toMMPattern();return f?Object.assign(o,{test:f}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const l=this.set;if(!l.length)return this.regexp=!1,this.regexp;const p=this.options,m=p.noglobstar?kt:p.dot?ne:Nt,f=new Set(p.nocase?["i"]:[]);let o=l.map(A=>{const M=A.map(F=>{if(F instanceof RegExp)for(const W of F.flags.split(""))f.add(W);return typeof F=="string"?Me(F):F===i.GLOBSTAR?i.GLOBSTAR:F._src});return M.forEach((F,W)=>{const z=M[W+1],X=M[W-1];F!==i.GLOBSTAR||X===i.GLOBSTAR||(X===void 0?z!==void 0&&z!==i.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+z:M[W]=m:z===void 0?M[W-1]=X+"(?:\\/|"+m+")?":z!==i.GLOBSTAR&&(M[W-1]=X+"(?:\\/|\\/"+m+"\\/)"+z,M[W+1]=i.GLOBSTAR))}),M.filter(F=>F!==i.GLOBSTAR).join("/")}).join("|");const[u,v]=l.length>1?["(?:",")"]:["",""];o="^"+u+o+v+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(l){return this.preserveMultipleSlashes?l.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(l)?["",...l.split(/\/+/)]:l.split(/\/+/)}match(l,p=this.partial){if(this.debug("match",l,this.pattern),this.comment)return!1;if(this.empty)return l==="";if(l==="/"&&p)return!0;const m=this.options;this.isWindows&&(l=l.split("\\").join("/"));const f=this.slashSplit(l);this.debug(this.pattern,"split",f);const o=this.set;this.debug(this.pattern,"set",o);let u=f[f.length-1];if(!u)for(let v=f.length-2;!u&&v>=0;v--)u=f[v];for(let v=0;v<o.length;v++){const A=o[v];let M=f;if(m.matchBase&&A.length===1&&(M=[u]),this.matchOne(M,A,p))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(l){return i.minimatch.defaults(l).Minimatch}}i.Minimatch=Tt;var je=xt;Object.defineProperty(i,"AST",{enumerable:!0,get:function(){return je.AST}});var Le=zt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return Le.escape}});var re=jt;Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return re.unescape}}),i.minimatch.AST=n.AST,i.minimatch.Minimatch=Tt,i.minimatch.escape=r.escape,i.minimatch.unescape=h.unescape}(yt);var Gt={},B={},fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.LRUCache=void 0;const Ut=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ns=new Set,Ge=typeof process=="object"&&process?process:{},Bs=(i,t,e,s)=>{typeof Ge.emitWarning=="function"?Ge.emitWarning(i,t,e,s):console.error(`[${e}] ${t}: ${i}`)};let ue=globalThis.AbortController,Is=globalThis.AbortSignal;if(typeof ue>"u"){Is=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,n){this._onabort.push(n)}},ue=class{constructor(){t()}signal=new Is;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const n of this.signal._onabort)n(s);this.signal.onabort?.(s)}}};let i=Ge.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{i&&(i=!1,Bs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const rn=i=>!Ns.has(i),St=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),Ws=i=>St(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?de:null:null;class de extends Array{constructor(t){super(t),this.fill(0)}}class Dt{heap;length;static#t=!1;static create(t){const e=Ws(t);if(!e)return[];Dt.#t=!0;const s=new Dt(t,e);return Dt.#t=!1,s}constructor(t,e){if(!Dt.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class rs{#t;#s;#r;#i;#h;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#o;#e;#m;#w;#d;#u;#y;#g;#A;#C;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#O,sizes:t.#A,keyMap:t.#a,keyList:t.#o,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,n,r)=>t.#D(e,s,n,r),moveToTail:e=>t.#F(e),indexes:e=>t.#_(e),rindexes:e=>t.#P(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#h}get dispose(){return this.#r}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:h,updateAgeOnHas:a,allowStale:c,dispose:d,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:E,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:R,ignoreFetchAbort:D}=t;if(e!==0&&!St(e))throw new TypeError("max option must be a nonnegative integer");const k=e?Ws(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=E,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#h=T,this.#R=!!T,this.#a=new Map,this.#o=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Dt.create(e),this.#l=0,this.#f=0,typeof d=="function"&&(this.#r=d),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#r,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#s!==0&&!St(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!St(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#j()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!a,this.ttlResolution=St(n)||n===0?n:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!St(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const j="LRU_CACHE_UNBOUNDED";rn(j)&&(Ns.add(j),Bs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,rs))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new de(this.#t),e=new de(this.#t);this.#O=t,this.#C=e,this.#n=(r,h,a=Ut.now())=>{if(e[r]=h!==0?a:0,t[r]=h,h!==0&&this.ttlAutopurge){const c=setTimeout(()=>{this.#b(r)&&this.delete(this.#o[r])},h+1);c.unref&&c.unref()}},this.#T=r=>{e[r]=t[r]!==0?Ut.now():0},this.#v=(r,h)=>{if(t[h]){const a=t[h],c=e[h];r.ttl=a,r.start=c,r.now=s||n();const d=r.now-c;r.remainingTTL=a-d}};let s=0;const n=()=>{const r=Ut.now();if(this.ttlResolution>0){s=r;const h=setTimeout(()=>s=0,this.ttlResolution);h.unref&&h.unref()}return r};this.getRemainingTTL=r=>{const h=this.#a.get(r);if(h===void 0)return 0;const a=t[h],c=e[h];if(a===0||c===0)return 1/0;const d=(s||n())-c;return a-d},this.#b=r=>t[r]!==0&&e[r]!==0&&(s||n())-e[r]>t[r]}#T=()=>{};#v=()=>{};#n=()=>{};#b=()=>!1;#j(){const t=new de(this.#t);this.#f=0,this.#A=t,this.#E=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,n,r)=>{if(this.#c(s))return 0;if(!St(n))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(n=r(s,e),!St(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#k=(e,s,n)=>{if(t[e]=s,this.#s){const r=this.#s-t[e];for(;this.#f>r;)this.#L(!0)}this.#f+=t[e],n&&(n.entrySize=s,n.totalCalculatedSize=this.#f)}}#E=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,n)=>{if(s||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#P({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*rentries(){for(const t of this.#P())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#P()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#P())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;if(r!==void 0&&t(r,this.#o[s],this))return this.get(this.#o[s],e)}}forEach(t,e=this){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}rforEach(t,e=this){for(const s of this.#P()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}purgeStale(){let t=!1;for(const e of this.#P({allowStale:!0}))this.#b(e)&&(this.delete(this.#o[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#o[e],n=this.#e[e],r=this.#c(n)?n.__staleWhileFetching:n;if(r===void 0||s===void 0)continue;const h={value:r};if(this.#O&&this.#C){h.ttl=this.#O[e];const a=Ut.now()-this.#C[e];h.start=Math.floor(Date.now()-a)}this.#A&&(h.size=this.#A[e]),t.unshift([s,h])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const n=Date.now()-s.start;s.start=Ut.now()-n}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:r,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=s;let{noUpdateTTL:d=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,a);if(this.maxEntrySize&&b>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#o[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,c),c&&(c.set="add"),d=!1;else{this.#F(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):h||(this.#S&&this.#r?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#E(g),this.#k(g,b,c),this.#e[g]=e,c){c.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(c.oldValue=w)}}else c&&(c.set="update")}if(n!==0&&!this.#O&&this.#M(),this.#O&&(d||this.#n(g,n,r),c&&this.#v(c,g)),!h&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#o[e],n=this.#e[e];return this.#R&&this.#c(n)?n.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,s,"evict"),this.#p&&this.#g?.push([n,s,"evict"])),this.#E(e),t&&(this.#o[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:n}=e,r=this.#a.get(t);if(r!==void 0){const h=this.#e[r];if(this.#c(h)&&h.__staleWhileFetching===void 0)return!1;if(this.#b(r))n&&(n.has="stale",this.#v(n,r));else return s&&this.#T(r),n&&(n.has="hit",this.#v(n,r)),!0}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,n=this.#a.get(t);if(n!==void 0&&(s||!this.#b(n))){const r=this.#e[n];return this.#c(r)?r.__staleWhileFetching:r}}#D(t,e,s,n){const r=e===void 0?void 0:this.#e[e];if(this.#c(r))return r;const h=new ue,{signal:a}=s;a?.addEventListener("abort",()=>h.abort(a.reason),{signal:h.signal});const c={signal:h.signal,options:s,context:n},d=(E,T=!1)=>{const{aborted:O}=h.signal,P=s.ignoreFetchAbort&&E!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=h.signal.reason,P&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!P&&!T)return g(h.signal.reason);const C=w;return this.#e[e]===w&&(E===void 0?C.__staleWhileFetching?this.#e[e]=C.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,E,c.options))),E},b=E=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=E),g(E)),g=E=>{const{aborted:T}=h.signal,O=T&&s.allowStaleOnFetchAbort,P=O||s.allowStaleOnFetchRejection,C=P||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!C||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),P)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw E},y=(E,T)=>{const O=this.#h?.(t,r,c);O&&O instanceof Promise&&O.then(P=>E(P===void 0?void 0:P),T),h.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(E(void 0),s.allowStaleOnFetchAbort&&(E=P=>d(P,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(d,b),_=Object.assign(w,{__abortController:h,__staleWhileFetching:r,__returned:void 0});return e===void 0?(this.set(t,_,{...c.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof ue}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:E,forceRefresh:T=!1,status:O,signal:P}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,status:O});const C={allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:h,noDisposeOnSet:a,size:c,sizeCalculation:d,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:P};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const D=this.#D(t,R,C,E);return D.__returned=D}else{const D=this.#e[R];if(this.#c(D)){const rt=s&&D.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",rt&&(O.returnedStale=!0)),rt?D.__staleWhileFetching:D.__returned=D}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#F(R),n&&this.#T(R),O&&this.#v(O,R),D;const j=this.#D(t,R,C,E),L=j.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?j.__staleWhileFetching:j.__returned=j}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:h}=e,a=this.#a.get(t);if(a!==void 0){const c=this.#e[a],d=this.#c(c);return h&&this.#v(h,a),this.#b(a)?(h&&(h.get="stale"),d?(h&&s&&c.__staleWhileFetching!==void 0&&(h.returnedStale=!0),s?c.__staleWhileFetching:void 0):(r||this.delete(t),h&&s&&(h.returnedStale=!0),s?c:void 0)):(h&&(h.get="hit"),d?c.__staleWhileFetching:(this.#F(a),n&&this.#T(a),c))}else h&&(h.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#F(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#E(s);const n=this.#e[s];this.#c(n)?n.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,t,"delete"),this.#p&&this.#g?.push([n,t,"delete"])),this.#a.delete(t),this.#o[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let n;for(;n=s?.shift();)this.#i?.(...n)}return e}clear(){for(const t of this.#P({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#o[t];this.#S&&this.#r?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#o.fill(void 0),this.#O&&this.#C&&(this.#O.fill(0),this.#C.fill(0)),this.#A&&this.#A.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}fe.LRUCache=rs;var xs={};(function(i){var t=ot&&ot.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.Minipass=i.isWritable=i.isReadable=i.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=fs,n=t(us),r=ds,h=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof n.default||(0,i.isReadable)(f)||(0,i.isWritable)(f));i.isStream=h;const a=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==n.default.Writable.prototype.pipe;i.isReadable=a;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";i.isWritable=c;const d=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),E=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),P=Symbol("encoding"),C=Symbol("decoder"),R=Symbol("flowing"),D=Symbol("paused"),k=Symbol("resume"),j=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),rt=Symbol("bufferPush"),_t=Symbol("bufferShift"),G=Symbol("objectMode"),N=Symbol("destroyed"),ie=Symbol("error"),kt=Symbol("emitData"),ne=Symbol("emitEnd"),Nt=Symbol("emitEnd2"),st=Symbol("async"),Y=Symbol("abort"),Ct=Symbol("aborted"),Ot=Symbol("signal"),ut=Symbol("dataListeners"),J=Symbol("discarded"),bt=f=>Promise.resolve().then(f),Me=f=>f(),Tt=f=>f==="end"||f==="finish"||f==="prefinish",je=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,Le=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class re{src;dest;opts;ondrain;constructor(o,u,v){this.src=o,this.dest=u,this.opts=v,this.ondrain=()=>o[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(o){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends re{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(o,u,v){super(o,u,v),this.proxyErrors=A=>u.emit("error",A),o.on("error",this.proxyErrors)}}const l=f=>!!f.objectMode,p=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[D]=!1;[I]=[];[j]=[];[G];[P];[st];[C];[d]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[Ot];[Ct]=!1;[ut]=0;[J]=!1;writable=!0;readable=!0;constructor(...o){const u=o[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");l(u)?(this[G]=!0,this[P]=null):p(u)?(this[P]=u.encoding,this[G]=!1):(this[G]=!1,this[P]=null),this[st]=!!u.async,this[C]=this[P]?new r.StringDecoder(this[P]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[j]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:v}=u;v&&(this[Ot]=v,v.aborted?this[Y]():v.addEventListener("abort",()=>this[Y]()))}get bufferLength(){return this[L]}get encoding(){return this[P]}set encoding(o){throw new Error("Encoding must be set at instantiation time")}setEncoding(o){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[G]}set objectMode(o){throw new Error("objectMode must be set at instantiation time")}get async(){return this[st]}set async(o){this[st]=this[st]||!!o}[Y](){this[Ct]=!0,this.emit("abort",this[Ot]?.reason),this.destroy(this[Ot]?.reason)}get aborted(){return this[Ct]}set aborted(o){}write(o,u,v){if(this[Ct])return!1;if(this[d])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(v=u,u="utf8"),u||(u="utf8");const A=this[st]?bt:Me;if(!this[G]&&!Buffer.isBuffer(o)){if(Le(o))o=Buffer.from(o.buffer,o.byteOffset,o.byteLength);else if(je(o))o=Buffer.from(o);else if(typeof o!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[G]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):o.length?(typeof o=="string"&&!(u===this[P]&&!this[C]?.lastNeed)&&(o=Buffer.from(o,u)),Buffer.isBuffer(o)&&this[P]&&(o=this[C].write(o)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):(this[L]!==0&&this.emit("readable"),v&&A(v),this[R])}read(o){if(this[N])return null;if(this[J]=!1,this[L]===0||o===0||o&&o>this[L])return this[b](),null;this[G]&&(o=null),this[j].length>1&&!this[G]&&(this[j]=[this[P]?this[j].join(""):Buffer.concat(this[j],this[L])]);const u=this[E](o||null,this[j][0]);return this[b](),u}[E](o,u){if(this[G])this[_t]();else{const v=u;o===v.length||o===null?this[_t]():typeof v=="string"?(this[j][0]=v.slice(o),u=v.slice(0,o),this[L]-=o):(this[j][0]=v.subarray(o),u=v.subarray(0,o),this[L]-=o)}return this.emit("data",u),!this[j].length&&!this[d]&&this.emit("drain"),u}end(o,u,v){return typeof o=="function"&&(v=o,o=void 0),typeof u=="function"&&(v=u,u="utf8"),o!==void 0&&this.write(o,u),v&&this.once("end",v),this[d]=!0,this.writable=!1,(this[R]||!this[D])&&this[b](),this}[k](){this[N]||(!this[ut]&&!this[I].length&&(this[J]=!0),this[D]=!1,this[R]=!0,this.emit("resume"),this[j].length?this[T]():this[d]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[D]=!0,this[J]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[D]}[rt](o){this[G]?this[L]+=1:this[L]+=o.length,this[j].push(o)}[_t](){return this[G]?this[L]-=1:this[L]-=this[j][0].length,this[j].shift()}[T](o=!1){do;while(this[O](this[_t]())&&this[j].length);!o&&!this[j].length&&!this[d]&&this.emit("drain")}[O](o){return this.emit("data",o),this[R]}pipe(o,u){if(this[N])return o;this[J]=!1;const v=this[g];return u=u||{},o===e.stdout||o===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,v?u.end&&o.end():(this[I].push(u.proxyErrors?new S(this,o,u):new re(this,o,u)),this[st]?bt(()=>this[k]()):this[k]()),o}unpipe(o){const u=this[I].find(v=>v.dest===o);u&&(this[I].length===1?(this[R]&&this[ut]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(o,u){return this.on(o,u)}on(o,u){const v=super.on(o,u);if(o==="data")this[J]=!1,this[ut]++,!this[I].length&&!this[R]&&this[k]();else if(o==="readable"&&this[L]!==0)super.emit("readable");else if(Tt(o)&&this[g])super.emit(o),this.removeAllListeners(o);else if(o==="error"&&this[w]){const A=u;this[st]?bt(()=>A.call(this,this[w])):A.call(this,this[w])}return v}removeListener(o,u){return this.off(o,u)}off(o,u){const v=super.off(o,u);return o==="data"&&(this[ut]=this.listeners("data").length,this[ut]===0&&!this[J]&&!this[I].length&&(this[R]=!1)),v}removeAllListeners(o){const u=super.removeAllListeners(o);return(o==="data"||o===void 0)&&(this[ut]=0,!this[J]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[j].length===0&&this[d]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(o,...u){const v=u[0];if(o!=="error"&&o!=="close"&&o!==N&&this[N])return!1;if(o==="data")return!this[G]&&!v?!1:this[st]?(bt(()=>this[kt](v)),!0):this[kt](v);if(o==="end")return this[ne]();if(o==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(o==="error"){this[w]=v,super.emit(ie,v);const M=!this[Ot]||this.listeners("error").length?super.emit("error",v):!1;return this[b](),M}else if(o==="resume"){const M=super.emit("resume");return this[b](),M}else if(o==="finish"||o==="prefinish"){const M=super.emit(o);return this.removeAllListeners(o),M}const A=super.emit(o,...u);return this[b](),A}[kt](o){for(const v of this[I])v.dest.write(o)===!1&&this.pause();const u=this[J]?!1:super.emit("data",o);return this[b](),u}[ne](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[st]?(bt(()=>this[Nt]()),!0):this[Nt]())}[Nt](){if(this[C]){const u=this[C].end();if(u){for(const v of this[I])v.dest.write(u);this[J]||super.emit("data",u)}}for(const u of this[I])u.end();const o=super.emit("end");return this.removeAllListeners("end"),o}async collect(){const o=Object.assign([],{dataLength:0});this[G]||(o.dataLength=0);const u=this.promise();return this.on("data",v=>{o.push(v),this[G]||(o.dataLength+=v.length)}),await u,o}async concat(){if(this[G])throw new Error("cannot concat in objectMode");const o=await this.collect();return this[P]?o.join(""):Buffer.concat(o,o.dataLength)}async promise(){return new Promise((o,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",v=>u(v)),this.on("end",()=>o())})}[Symbol.asyncIterator](){this[J]=!1;let o=!1;const u=async()=>(this.pause(),o=!0,{value:void 0,done:!0});return{next:()=>{if(o)return u();const A=this.read();if(A!==null)return Promise.resolve({done:!1,value:A});if(this[d])return u();let M,F;const W=Q=>{this.off("data",z),this.off("end",X),this.off(N,at),u(),F(Q)},z=Q=>{this.off("error",W),this.off("end",X),this.off(N,at),this.pause(),M({value:Q,done:!!this[d]})},X=()=>{this.off("error",W),this.off("data",z),this.off(N,at),u(),M({done:!0,value:void 0})},at=()=>W(new Error("stream destroyed"));return new Promise((Q,Fe)=>{F=Fe,M=Q,this.once(N,at),this.once("error",W),this.once("end",X),this.once("data",z)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[J]=!1;let o=!1;const u=()=>(this.pause(),this.off(ie,u),this.off(N,u),this.off("end",u),o=!0,{done:!0,value:void 0}),v=()=>{if(o)return u();const A=this.read();return A===null?u():{done:!1,value:A}};return this.once("end",u),this.once(ie,u),this.once(N,u),{next:v,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(o){if(this[N])return o?this.emit("error",o):this.emit(N),this;this[N]=!0,this[J]=!0,this[j].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),o?this.emit("error",o):this.emit(N),this}static get isStream(){return i.isStream}}i.Minipass=m})(xs);var on=ot&&ot.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,n)}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),hn=ot&&ot.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),an=ot&&ot.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&on(t,i,e);return hn(t,i),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const $s=fe,pe=Pi,ln=De,cn=an(ke),Ht=ke,fn=Ht.realpathSync.native,me=Ai,zs=xs,qt={lstatSync:Ht.lstatSync,readdir:Ht.readdir,readdirSync:Ht.readdirSync,readlinkSync:Ht.readlinkSync,realpathSync:fn,promises:{lstat:me.lstat,readdir:me.readdir,readlink:me.readlink,realpath:me.realpath}},Gs=i=>!i||i===qt||i===cn?qt:{...qt,...i,promises:{...qt.promises,...i.promises||{}}},Us=/^\\\\\?\\([a-z]:)\\?$/i,un=i=>i.replace(/\//g,"\\").replace(Us,"$1\\"),dn=/[\\\/]/,it=0,Hs=1,qs=2,lt=4,Vs=6,Ys=8,Pt=10,Js=12,nt=15,Vt=~nt,Ue=16,Ks=32,Yt=64,ht=128,ge=256,we=512,Zs=Yt|ht|we,pn=1023,He=i=>i.isFile()?Ys:i.isDirectory()?lt:i.isSymbolicLink()?Pt:i.isCharacterDevice()?qs:i.isBlockDevice()?Vs:i.isSocket()?Js:i.isFIFO()?Hs:it,Xs=new Map,Jt=i=>{const t=Xs.get(i);if(t)return t;const e=i.normalize("NFKD");return Xs.set(i,e),e},Qs=new Map,be=i=>{const t=Qs.get(i);if(t)return t;const e=Jt(i.toLowerCase());return Qs.set(i,e),e};class qe extends $s.LRUCache{constructor(){super({max:256})}}B.ResolveCache=qe;class ti extends $s.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=ti;const ei=Symbol("PathScurry setAsCwd");class Z{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#r;get mode(){return this.#r}#i;get nlink(){return this.#i}#h;get uid(){return this.#h}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#o;get ino(){return this.#o}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#A;get mtime(){return this.#A}#C;get ctime(){return this.#C}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#v;#n;#b;#j;#E;get path(){return(this.parent||this).fullpath()}constructor(t,e=it,s,n,r,h,a){this.name=t,this.#S=r?be(t):Jt(t),this.#n=e&pn,this.nocase=r,this.roots=n,this.root=s||this,this.#b=h,this.#p=a.fullpath,this.#T=a.relative,this.#v=a.relativePosix,this.parent=a.parent,this.parent?this.#t=this.parent.#t:this.#t=Gs(a.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),n=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(n):this.#k(n)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#n&=~Ue,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),n=this.nocase?be(t):Jt(t);for(const c of s)if(c.#S===n)return c;const r=this.parent?this.sep:"",h=this.#p?this.#p+r+t:void 0,a=this.newChild(t,it,{...e,parent:this,fullpath:h});return this.canReaddir()||(a.#n|=ht),s.push(a),a}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#v!==void 0)return this.#v;const t=this.name,e=this.parent;if(!e)return this.#v=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const n=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=n}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?this.#M=`//?/${n}`:this.#M=n}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#n&nt)===it}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#n&nt)===Ys}isDirectory(){return(this.#n&nt)===lt}isCharacterDevice(){return(this.#n&nt)===qs}isBlockDevice(){return(this.#n&nt)===Vs}isFIFO(){return(this.#n&nt)===Hs}isSocket(){return(this.#n&nt)===Js}isSymbolicLink(){return(this.#n&Pt)===Pt}lstatCached(){return this.#n&Ks?this:void 0}readlinkCached(){return this.#j}realpathCached(){return this.#E}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#j)return!0;if(!this.parent)return!1;const t=this.#n&nt;return!(t!==it&&t!==Pt||this.#n&ge||this.#n&ht)}calledReaddir(){return!!(this.#n&Ue)}isENOENT(){return!!(this.#n&ht)}isNamed(t){return this.nocase?this.#S===be(t):this.#S===Jt(t)}async readlink(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}#N(t){this.#n|=Ue;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#n&ht||(this.#n=(this.#n|ht)&Vt,this.#P())}#P(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#n|=we,this.#L()}#L(){if(this.#n&Yt)return;let t=this.#n;(t&nt)===lt&&(t&=Vt),this.#n=t|Yt,this.#P()}#D(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#n;e|=ge,t==="ENOENT"&&(e|=ht),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Vt),this.#n=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#F(t,e){return this.#U(t,e)||this.#G(t,e)}#G(t,e){const s=He(t),n=this.newChild(t.name,s,{parent:this}),r=n.#n&nt;return r!==lt&&r!==Pt&&r!==it&&(n.#n|=Yt),e.unshift(n),e.provisional++,n}#U(t,e){for(let s=e.provisional;s<e.length;s++){const n=e[s];if((this.nocase?be(t.name):Jt(t.name))===n.#S)return this.#H(t,n,s,e)}}#H(t,e,s,n){const r=e.name;return e.#n=e.#n&Vt|He(t),r!==t.name&&(e.name=t.name),s!==n.provisional&&(s===n.length-1?n.pop():n.splice(s,1),n.unshift(e)),n.provisional++,e}async lstat(){if(!(this.#n&ht))try{return this.#z(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#n&ht))try{return this.#z(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#z(t){const{atime:e,atimeMs:s,birthtime:n,birthtimeMs:r,blksize:h,blocks:a,ctime:c,ctimeMs:d,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:E,nlink:T,rdev:O,size:P,uid:C}=t;this.#g=e,this.#w=s,this.#O=n,this.#y=r,this.#a=h,this.#m=a,this.#C=c,this.#u=d,this.#s=b,this.#l=g,this.#o=y,this.#r=w,this.#A=_,this.#d=E,this.#i=T,this.#f=O,this.#e=P,this.#h=C;const R=He(t);this.#n=this.#n&Vt|R|Ks,R!==it&&R!==lt&&R!==Pt&&(this.#n|=Yt)}#x=[];#$=!1;#q(t){this.#$=!1;const e=this.#x.slice();this.#x.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const r=s.slice(0,s.provisional);e?t(null,r):queueMicrotask(()=>t(null,r));return}if(this.#x.push(t),this.#$)return;this.#$=!0;const n=this.fullpath();this.#t.readdir(n,{withFileTypes:!0},(r,h)=>{if(r)this.#D(r.code),s.provisional=0;else{for(const a of h)this.#F(a,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(n=>s=n);try{for(const n of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#F(n,t);this.#N(t)}catch(n){this.#D(n.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#F(s,t);this.#N(t)}catch(s){this.#D(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#n&Zs)return!1;const t=nt&this.#n;return t===it||t===lt||t===Pt}shouldWalk(t,e){return(this.#n&lt)===lt&&!(this.#n&Zs)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=this.#t.realpathSync(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}[ei](t){if(t===this)return;const e=new Set([]);let s=[],n=this;for(;n&&n.parent;)e.add(n),n.#T=s.join(this.sep),n.#v=s.join("/"),n=n.parent,s.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#T=void 0,n.#v=void 0,n=n.parent}}B.PathBase=Z;class ee extends Z{sep="\\";splitSep=dn;constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}newChild(t,e=it,s={}){return new ee(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return pe.win32.parse(t).root}getRoot(t){if(t=un(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Ye(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Us,"$1\\"),t===e}}B.PathWin32=ee;class se extends Z{splitSep="/";sep="/";constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=it,s={}){return new se(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=se;class Ve{root;rootPath;roots;cwd;#t;#s;#r;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:n,childrenCacheSize:r=16*1024,fs:h=qt}={}){this.#i=Gs(h),(t instanceof URL||t.startsWith("file://"))&&(t=(0,ln.fileURLToPath)(t));const a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#t=new qe,this.#s=new qe,this.#r=new ti(r);const c=a.substring(this.rootPath.length).split(s);if(c.length===1&&!c[0]&&c.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let d=this.root,b=c.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of c){const E=b--;d=d.child(_,{relative:new Array(E).fill("..").join(g),relativePosix:new Array(E).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=d}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#r}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#t.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpath();return this.#t.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#s.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const n=await t.readdir();return s?n:n.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set,d=(g,y)=>{c.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let E=_.length;if(!E)return y();const T=()=>{--E===0&&y()};for(const O of _)(!r||r(O))&&a.push(s?O:O.fullpath()),n&&O.isSymbolicLink()?O.realpath().then(P=>P?.isUnknown()?P.lstat():P).then(P=>P?.shouldWalk(c,h)?d(P,T):T()):O.shouldWalk(c,h)?d(O,T):T()},!0)},b=t;return new Promise((g,y)=>{d(b,w=>{if(w)return y(w);g(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set([t]);for(const d of c){const b=d.readdirSync();for(const g of b){(!r||r(g))&&a.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(n&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(c,h)&&c.add(y)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e;(!r||r(t))&&(yield s?t:t.fullpath());const a=new Set([t]);for(const c of a){const d=c.readdirSync();for(const b of d){(!r||r(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(n&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(a,h)&&a.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0});(!r||r(t))&&a.write(s?t:t.fullpath());const c=new Set,d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=(T,O,P=!1)=>{if(T)return a.emit("error",T);if(n&&!P){const C=[];for(const R of O)R.isSymbolicLink()&&C.push(R.realpath().then(D=>D?.isUnknown()?D.lstat():D));if(C.length){Promise.all(C).then(()=>_(null,O,!0));return}}for(const C of O)C&&(!r||r(C))&&(a.write(s?C:C.fullpath())||(y=!0));b--;for(const C of O){const R=C.realpathCached()||C;R.shouldWalk(c,h)&&d.push(R)}y&&!a.flowing?a.once("drain",g):E||g()};let E=!0;w.readdirCB(_,!0),E=!1}};return g(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0}),c=new Set;(!r||r(t))&&a.write(s?t:t.fullpath());const d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=w.readdirSync();for(const E of _)(!r||r(E))&&(a.write(s?E:E.fullpath())||(y=!0));b--;for(const E of _){let T=E;if(E.isSymbolicLink()){if(!(n&&(T=E.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(c,h)&&d.push(T)}}y&&!a.flowing&&a.once("drain",g)};return g(),a}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[ei](e)}}B.PathScurryBase=Ve;class Ye extends Ve{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,pe.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let n=this.cwd;n;n=n.parent)n.nocase=this.nocase}parseRootPath(t){return pe.win32.parse(t).root.toUpperCase()}newRoot(t){return new ee(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Ye;class Je extends Ve{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,pe.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new se(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=Je;class si extends Je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=si,B.Path=process.platform==="win32"?ee:se,B.PathScurry=process.platform==="win32"?Ye:process.platform==="darwin"?si:Je;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Pattern=void 0;const mn=yt,gn=i=>i.length>=1,wn=i=>i.length>=1;class os{#t;#s;#r;length;#i;#h;#l;#f;#a;#o;#e=!0;constructor(t,e,s,n){if(!gn(t))throw new TypeError("empty pattern list");if(!wn(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#r=s,this.#i=n,this.#r===0){if(this.isUNC()){const[r,h,a,c,...d]=this.#t,[b,g,y,w,..._]=this.#s;d[0]===""&&(d.shift(),_.shift());const E=[r,h,a,c,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[E,...d],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[r,...h]=this.#t,[a,...c]=this.#s;h[0]===""&&(h.shift(),c.shift());const d=r+"/",b=a+"/";this.#t=[d,...h],this.#s=[b,...c],this.length=this.#t.length}}}pattern(){return this.#t[this.#r]}isString(){return typeof this.#t[this.#r]=="string"}isGlobstar(){return this.#t[this.#r]===mn.GLOBSTAR}isRegExp(){return this.#t[this.#r]instanceof RegExp}globString(){return this.#l=this.#l||(this.#r===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return this.#h!==void 0?this.#h:this.hasMore()?(this.#h=new os(this.#t,this.#s,this.#r+1,this.#i),this.#h.#o=this.#o,this.#h.#a=this.#a,this.#h.#f=this.#f,this.#h):this.#h=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#r===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#r===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#o!==void 0?this.#o:this.#o=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#r===0?t:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#r===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}Kt.Pattern=os;var vt={},ii={};const ni=typeof process=="object"&&process?process:{stdout:null,stderr:null},bn=fs,ri=us,yn=ds,oi=yn.StringDecoder,pt=Symbol("EOF"),mt=Symbol("maybeEmitEnd"),Et=Symbol("emittedEnd"),ye=Symbol("emittingEnd"),Zt=Symbol("emittedError"),Se=Symbol("closed"),hi=Symbol("read"),ve=Symbol("flush"),ai=Symbol("flushChunk"),tt=Symbol("encoding"),gt=Symbol("decoder"),Ee=Symbol("flowing"),Xt=Symbol("paused"),Lt=Symbol("resume"),x=Symbol("buffer"),ct=Symbol("pipes"),H=Symbol("bufferLength"),Ke=Symbol("bufferPush"),Ze=Symbol("bufferShift"),V=Symbol("objectMode"),$=Symbol("destroyed"),Xe=Symbol("error"),Qe=Symbol("emitData"),li=Symbol("emitEnd"),ts=Symbol("emitEnd2"),wt=Symbol("async"),es=Symbol("abort"),_e=Symbol("aborted"),At=Symbol("signal"),Qt=i=>Promise.resolve().then(i),ci=ot._MP_NO_ITERATOR_SYMBOLS_!=="1",fi=ci&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),ui=ci&&Symbol.iterator||Symbol("iterator not implemented"),Sn=i=>i==="end"||i==="finish"||i==="prefinish",vn=i=>i instanceof ArrayBuffer||typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,En=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i);class di{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[Lt](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class _n extends di{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=n=>e.emit("error",n),t.on("error",this.proxyErrors)}}class hs extends ri{constructor(t){super(),this[Ee]=!1,this[Xt]=!1,this[ct]=[],this[x]=[],this[V]=t&&t.objectMode||!1,this[V]?this[tt]=null:this[tt]=t&&t.encoding||null,this[tt]==="buffer"&&(this[tt]=null),this[wt]=t&&!!t.async||!1,this[gt]=this[tt]?new oi(this[tt]):null,this[pt]=!1,this[Et]=!1,this[ye]=!1,this[Se]=!1,this[Zt]=null,this.writable=!0,this.readable=!0,this[H]=0,this[$]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[x]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ct]}),this[At]=t&&t.signal,this[_e]=!1,this[At]&&(this[At].addEventListener("abort",()=>this[es]()),this[At].aborted&&this[es]())}get bufferLength(){return this[H]}get encoding(){return this[tt]}set encoding(t){if(this[V])throw new Error("cannot set encoding in objectMode");if(this[tt]&&t!==this[tt]&&(this[gt]&&this[gt].lastNeed||this[H]))throw new Error("cannot change encoding");this[tt]!==t&&(this[gt]=t?new oi(t):null,this[x].length&&(this[x]=this[x].map(e=>this[gt].write(e)))),this[tt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[V]}set objectMode(t){this[V]=this[V]||!!t}get async(){return this[wt]}set async(t){this[wt]=this[wt]||!!t}[es](){this[_e]=!0,this.emit("abort",this[At].reason),this.destroy(this[At].reason)}get aborted(){return this[_e]}set aborted(t){}write(t,e,s){if(this[_e])return!1;if(this[pt])throw new Error("write after end");if(this[$])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const n=this[wt]?Qt:r=>r();return!this[V]&&!Buffer.isBuffer(t)&&(En(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):vn(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[V]?(this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[tt]&&!this[gt].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[tt]&&(t=this[gt].write(t)),this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):(this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing)}read(t){if(this[$])return null;if(this[H]===0||t===0||t>this[H])return this[mt](),null;this[V]&&(t=null),this[x].length>1&&!this[V]&&(this.encoding?this[x]=[this[x].join("")]:this[x]=[Buffer.concat(this[x],this[H])]);const e=this[hi](t||null,this[x][0]);return this[mt](),e}[hi](t,e){return t===e.length||t===null?this[Ze]():(this[x][0]=e.slice(t),e=e.slice(0,t),this[H]-=t),this.emit("data",e),!this[x].length&&!this[pt]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[pt]=!0,this.writable=!1,(this.flowing||!this[Xt])&&this[mt](),this}[Lt](){this[$]||(this[Xt]=!1,this[Ee]=!0,this.emit("resume"),this[x].length?this[ve]():this[pt]?this[mt]():this.emit("drain"))}resume(){return this[Lt]()}pause(){this[Ee]=!1,this[Xt]=!0}get destroyed(){return this[$]}get flowing(){return this[Ee]}get paused(){return this[Xt]}[Ke](t){this[V]?this[H]+=1:this[H]+=t.length,this[x].push(t)}[Ze](){return this[V]?this[H]-=1:this[H]-=this[x][0].length,this[x].shift()}[ve](t){do;while(this[ai](this[Ze]())&&this[x].length);!t&&!this[x].length&&!this[pt]&&this.emit("drain")}[ai](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[$])return;const s=this[Et];return e=e||{},t===ni.stdout||t===ni.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ct].push(e.proxyErrors?new _n(this,t,e):new di(this,t,e)),this[wt]?Qt(()=>this[Lt]()):this[Lt]()),t}unpipe(t){const e=this[ct].find(s=>s.dest===t);e&&(this[ct].splice(this[ct].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ct].length&&!this.flowing?this[Lt]():t==="readable"&&this[H]!==0?super.emit("readable"):Sn(t)&&this[Et]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Zt]&&(this[wt]?Qt(()=>e.call(this,this[Zt])):e.call(this,this[Zt])),s}get emittedEnd(){return this[Et]}[mt](){!this[ye]&&!this[Et]&&!this[$]&&this[x].length===0&&this[pt]&&(this[ye]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Se]&&this.emit("close"),this[ye]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==$&&this[$])return;if(t==="data")return!this[V]&&!e?!1:this[wt]?Qt(()=>this[Qe](e)):this[Qe](e);if(t==="end")return this[li]();if(t==="close"){if(this[Se]=!0,!this[Et]&&!this[$])return;const r=super.emit("close");return this.removeAllListeners("close"),r}else if(t==="error"){this[Zt]=e,super.emit(Xe,e);const r=!this[At]||this.listeners("error").length?super.emit("error",e):!1;return this[mt](),r}else if(t==="resume"){const r=super.emit("resume");return this[mt](),r}else if(t==="finish"||t==="prefinish"){const r=super.emit(t);return this.removeAllListeners(t),r}const n=super.emit(t,e,...s);return this[mt](),n}[Qe](t){for(const s of this[ct])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[mt](),e}[li](){this[Et]||(this[Et]=!0,this.readable=!1,this[wt]?Qt(()=>this[ts]()):this[ts]())}[ts](){if(this[gt]){const e=this[gt].end();if(e){for(const s of this[ct])s.dest.write(e);super.emit("data",e)}}for(const e of this[ct])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[V]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[V]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[V]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[V]?Promise.reject(new Error("cannot concat in objectMode")):this[tt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on($,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[fi](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[pt])return e();let r=null,h=null;const a=g=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener($,b),e(),h(g)},c=g=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener($,b),this.pause(),r({value:g,done:!!this[pt]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener($,b),e(),r({done:!0})},b=()=>a(new Error("stream destroyed"));return new Promise((g,y)=>{h=y,r=g,this.once($,b),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:e,return:e,[fi](){return this}}}[ui](){let t=!1;const e=()=>(this.pause(),this.removeListener(Xe,e),this.removeListener($,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const n=this.read();return n===null?e():{value:n}};return this.once("end",e),this.once(Xe,e),this.once($,e),{next:s,throw:e,return:e,[ui](){return this}}}destroy(t){return this[$]?(t?this.emit("error",t):this.emit($),this):(this[$]=!0,this[x].length=0,this[H]=0,typeof this.close=="function"&&!this[Se]&&this.close(),t?this.emit("error",t):this.emit($),this)}static isStream(t){return!!t&&(t instanceof hs||t instanceof ri||t instanceof bn&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}ii.Minipass=hs;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Ignore=void 0;const pi=yt,On=Kt,Tn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Rn{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:n,noglobstar:r,platform:h=Tn}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const a={dot:!0,nobrace:e,nocase:s,noext:n,noglobstar:r,optimizationLevel:2,platform:h,nocomment:!0,nonegate:!0};for(const c of t){const d=new pi.Minimatch(c,a);for(let b=0;b<d.set.length;b++){const g=d.set[b],y=d.globParts[b],w=new On.Pattern(g,y,0,h),_=new pi.Minimatch(w.globString(),a),E=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),E&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,n=t.relative()||".",r=`${n}/`;for(const h of this.relative)if(h.match(n)||h.match(r))return!0;for(const h of this.absolute)if(h.match(e)||h.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const n of this.relativeChildren)if(n.match(s))return!0;for(const n of this.absoluteChildren)n.match(e);return!1}}Oe.Ignore=Rn;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.Processor=ft.SubWalks=ft.MatchRecord=ft.HasWalkedCache=void 0;const mi=yt;class Ce{store;constructor(t=new Map){this.store=t}copy(){return new Ce(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),n=this.store.get(s);n?n.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}ft.HasWalkedCache=Ce;class gi{store=new Map;add(t,e,s){const n=(e?2:0)|(s?1:0),r=this.store.get(t);this.store.set(t,r===void 0?n:n&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}ft.MatchRecord=gi;class wi{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(n=>n.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}ft.SubWalks=wi;class as{hasWalkedCache;matches=new gi;subwalks=new wi;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Ce}processPatterns(t,e){this.patterns=e;const s=e.map(n=>[t,n]);for(let[n,r]of s){this.hasWalkedCache.storeWalked(n,r);const h=r.root(),a=r.isAbsolute()&&this.opts.absolute!==!1;if(h){n=n.resolve(h==="/"&&this.opts.root!==void 0?this.opts.root:h);const g=r.rest();if(g)r=g;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let c,d,b=!1;for(;typeof(c=r.pattern())=="string"&&(d=r.rest());){const g=n.resolve(c);if(g.isUnknown()&&c!=="..")break;n=g,r=d,b=!0}if(c=r.pattern(),d=r.rest(),b){if(this.hasWalkedCache.hasWalked(n,r))continue;this.hasWalkedCache.storeWalked(n,r)}if(typeof c=="string"){if(d)this.subwalks.add(n,r);else{const g=c===".."||c===""||c===".";this.matches.add(n.resolve(c),a,g)}continue}else if(c===mi.GLOBSTAR){(!n.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(n,r);const g=d?.pattern(),y=d?.rest();if(!d||(g===""||g===".")&&!y)this.matches.add(n,a,g===""||g===".");else if(g===".."){const w=n.parent||n;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,a,!0)}}else c instanceof RegExp&&this.subwalks.add(n,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new as(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),n=this.child();for(const r of e)for(const h of s){const a=h.isAbsolute(),c=h.pattern(),d=h.rest();c===mi.GLOBSTAR?n.testGlobstar(r,h,d,a):c instanceof RegExp?n.testRegExp(r,c,d,a):n.testString(r,c,d,a)}return n}testGlobstar(t,e,s,n){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const r=s.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,s.rest(),n);else if(r===".."){const h=t.parent||t;this.subwalks.add(h,s)}else r instanceof RegExp&&this.testRegExp(t,r,s.rest(),n)}}testRegExp(t,e,s,n){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}testString(t,e,s,n){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}}ft.Processor=as,Object.defineProperty(vt,"__esModule",{value:!0}),vt.GlobStream=vt.GlobWalker=vt.GlobUtil=void 0;const Pn=ii,bi=Oe,yi=ft,An=(i,t)=>typeof i=="string"?new bi.Ignore([i],t):Array.isArray(i)?new bi.Ignore(i,t):i;class ss{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#r;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#r=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=An(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#h(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#r:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const r=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(r+n)}else{const r=this.opts.posix?t.relativePosix():t.relative(),h=this.opts.dotRelative&&!r.startsWith(".."+this.#r)?"."+this.#r:"";this.matchEmit(r?h+r+n:"."+n)}}async match(t,e,s){const n=await this.matchCheck(t,s);n&&this.matchFinish(n,e)}matchSync(t,e,s){const n=this.matchCheckSync(t,s);n&&this.matchFinish(n,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new yi.Processor(this.opts),s)}walkCB2(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirCached();a.calledReaddir()?this.walkCB3(a,c,s,h):a.readdirCB((d,b)=>this.walkCB3(a,b,s,h),!0)}h()}walkCB3(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const[a,c]of s.subwalks.entries())r++,this.walkCB2(a,c,s.child(),h);h()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new yi.Processor(this.opts),s)}walkCB2Sync(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirSync();this.walkCB3Sync(a,c,s,h)}h()}walkCB3Sync(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const[a,c]of s.subwalks.entries())r++,this.walkCB2Sync(a,c,s.child(),h);h()}}vt.GlobUtil=ss;class Cn extends ss{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}vt.GlobWalker=Cn;class Mn extends ss{results;constructor(t,e,s){super(t,e,s),this.results=new Pn.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}vt.GlobStream=Mn,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.Glob=void 0;const jn=yt,Te=B,Ln=De,Fn=Kt,Re=vt,Dn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class kn{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Ln.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(c=>c.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(c=>c.includes("/")?c:`./**/${c}`)}if(this.pattern=t,this.platform=e.platform||Dn,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const c=e.platform==="win32"?Te.PathScurryWin32:e.platform==="darwin"?Te.PathScurryDarwin:e.platform?Te.PathScurryPosix:Te.PathScurry;this.scurry=new c(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(c=>new jn.Minimatch(c,n)),[h,a]=r.reduce((c,d)=>(c[0].push(...d.set),c[1].push(...d.globParts),c),[[],[]]);this.patterns=h.map((c,d)=>new Fn.Pattern(c,a[d],0,this.platform))}async walk(){return[...await new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Gt.Glob=kn;var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.hasMagic=void 0;const Nn=yt,Bn=(i,t={})=>{Array.isArray(i)||(i=[i]);for(const e of i)if(new Nn.Minimatch(e,t).hasMagic())return!0;return!1};te.hasMagic=Bn,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.glob=i.hasMagic=i.Glob=i.unescape=i.escape=i.sync=i.iterate=i.iterateSync=i.stream=i.streamSync=i.globIterate=i.globIterateSync=i.globSync=i.globStream=i.globStreamSync=void 0;const t=yt,e=Gt,s=te;function n(w,_={}){return new e.Glob(w,_).streamSync()}i.globStreamSync=n;function r(w,_={}){return new e.Glob(w,_).stream()}i.globStream=r;function h(w,_={}){return new e.Glob(w,_).walkSync()}i.globSync=h;async function a(w,_={}){return new e.Glob(w,_).walk()}function c(w,_={}){return new e.Glob(w,_).iterateSync()}i.globIterateSync=c;function d(w,_={}){return new e.Glob(w,_).iterate()}i.globIterate=d,i.streamSync=n,i.stream=Object.assign(r,{sync:n}),i.iterateSync=c,i.iterate=Object.assign(d,{sync:c}),i.sync=Object.assign(h,{stream:n,iterate:c});var b=yt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Gt;Object.defineProperty(i,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=te;Object.defineProperty(i,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),i.glob=Object.assign(a,{glob:a,globSync:h,sync:i.sync,globStream:r,stream:i.stream,globStreamSync:n,streamSync:i.streamSync,globIterate:d,iterate:i.iterate,globIterateSync:c,iterateSync:i.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),i.glob.glob=i.glob}(Es);var is=Object.defineProperty,In=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyNames,xn=Object.prototype.hasOwnProperty,$n=(i,t)=>{for(var e in t)is(i,e,{get:t[e],enumerable:!0})},zn=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wn(t))!xn.call(i,n)&&n!==e&&is(i,n,{get:()=>t[n],enumerable:!(s=In(t,n))||s.enumerable});return i},Gn=i=>zn(is({},"__esModule",{value:!0}),i),Si={};$n(Si,{default:()=>Hn});var Un=Gn(Si);function Hn(i,t){return t?.allExtensions?i.replace(/\..+$/,""):i.replace(/\.[^.]+$/,"")}var qn=Object.create,Pe=Object.defineProperty,Vn=Object.getOwnPropertyDescriptor,Yn=Object.getOwnPropertyNames,Jn=Object.getPrototypeOf,Kn=Object.prototype.hasOwnProperty,Zn=(i,t)=>{for(var e in t)Pe(i,e,{get:t[e],enumerable:!0})},vi=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Yn(t))!Kn.call(i,n)&&n!==e&&Pe(i,n,{get:()=>t[n],enumerable:!(s=Vn(t,n))||s.enumerable});return i},Ei=(i,t,e)=>(e=i!=null?qn(Jn(i)):{},vi(t||!i||!i.__esModule?Pe(e,"default",{value:i,enumerable:!0}):e,i)),Xn=i=>vi(Pe({},"__esModule",{value:!0}),i),_i={};Zn(_i,{getMonorepoDirpath:()=>er});var Qn=Xn(_i),ns=Ei(ke),Ae=Ei(U),tr=De;function er(i=process.cwd()){i=i.startsWith("file://")?(0,tr.fileURLToPath)(i):i,ns.statSync(i).isFile()&&(i=Ae.default.dirname(i));let t;for(;i!=="/";){const e=ns.existsSync(Ae.default.join(i,"pnpm-workspace.yaml"));if(ns.existsSync(Ae.default.join(i,"pnpm-lock.yaml"))&&(t=i),e)return i;i=Ae.default.dirname(i)}return t}const Ft=U,{globSync:sr}=Es,Oi=Un,{getMonorepoDirpath:ir}=Qn;var nr=function(){const t=ir(__dirname);if(t===void 0)throw new Error("Could not find monorepo directory");const e=s=>`__${s.replaceAll(/[^\w$]/g,"_")}`;return function(s){if(Ft.basename(s).startsWith("__virtual__:")){const n=(Oi.default??Oi)(Ft.basename(s).replace("__virtual__:","")),r=Ft.dirname(s),h=sr(r,{absolute:!0}),a=[];switch(n){case"files":{for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`import * as ${b} from ${JSON.stringify(c)};`)}a.push("export default {");for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`${JSON.stringify(d)}: ${b},`)}a.push("};");break}case"matches":{a.push(...h.map(c=>`export * from ${JSON.stringify(c)};`));break}case"filepaths":{a.push("export default {");for(const c of h){const d=Ft.relative(t,c);a.push(`${JSON.stringify(d)}: true,`)}a.push("};");break}default:throw new Error(`Unknown virtual file type: ${n}`)}return a.push("export {};"),a.join(`
+`)}else return readFile(s)}},rr=Ci(nr);module.exports=rr;
+;return module.exports()})({}),
       writeFile: writeFile2,
       watchFile: watchFile2,
       watchDirectory,
       resolvePath: (path) => _path.resolve(path),
-      fileExists,
-      directoryExists,
+      fileExists: ((module) => {"use strict";var t=require("node:path");function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const s=t;var i=function(){return function(r){return s.basename(r).startsWith("__virtual__:")?!0:fileExists(r)}},u=a(i);module.exports=u;
+;return module.exports()})({}),
+      directoryExists: ((module) => {"use strict";var Xs=require("path"),Ve=require("url"),Ye=require("fs"),Qs=require("fs/promises"),Ke=require("events"),Je=require("stream"),Ze=require("string_decoder"),it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ti(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xe={},mt={},ei=Qe;function Qe(r,t,e){r instanceof RegExp&&(r=ts(r,e)),t instanceof RegExp&&(t=ts(t,e));var s=es(r,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+r.length,s[1]),post:e.slice(s[1]+t.length)}}function ts(r,t){var e=t.match(r);return e?e[0]:null}Qe.range=es;function es(r,t,e){var s,i,n,o,c,l=e.indexOf(r),p=e.indexOf(t,l+1),b=l;if(l>=0&&p>0){if(r===t)return[l,p];for(s=[],n=e.length;b>=0&&!c;)b==l?(s.push(b),l=e.indexOf(r,b+1)):s.length==1?c=[s.pop(),p]:(i=s.pop(),i<n&&(n=i,o=p),p=e.indexOf(t,b+1)),b=l<p&&l>=0?l:p;s.length&&(c=[n,o])}return c}var ss=ei,si=ni,is="\0SLASH"+Math.random()+"\0",rs="\0OPEN"+Math.random()+"\0",Oe="\0CLOSE"+Math.random()+"\0",ns="\0COMMA"+Math.random()+"\0",hs="\0PERIOD"+Math.random()+"\0";function Te(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function ii(r){return r.split("\\\\").join(is).split("\\{").join(rs).split("\\}").join(Oe).split("\\,").join(ns).split("\\.").join(hs)}function ri(r){return r.split(is).join("\\").split(rs).join("{").split(Oe).join("}").split(ns).join(",").split(hs).join(".")}function os(r){if(!r)return[""];var t=[],e=ss("{","}",r);if(!e)return r.split(",");var s=e.pre,i=e.body,n=e.post,o=s.split(",");o[o.length-1]+="{"+i+"}";var c=os(n);return n.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),t.push.apply(t,o),t}function ni(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),Lt(ii(r),!0).map(ri)):[]}function hi(r){return"{"+r+"}"}function oi(r){return/^-?0\d/.test(r)}function ai(r,t){return r<=t}function li(r,t){return r>=t}function Lt(r,t){var e=[],s=ss("{","}",r);if(!s)return[r];var i=s.pre,n=s.post.length?Lt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<n.length;o++){var c=i+"{"+s.body+"}"+n[o];e.push(c)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),p=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=l||p,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(r=s.pre+"{"+s.body+Oe+s.post,Lt(r)):[r];var y;if(b)y=s.body.split(/\.\./);else if(y=os(s.body),y.length===1&&(y=Lt(y[0],!1).map(hi),y.length===1))return n.map(function(st){return s.pre+y[0]+st});var w;if(b){var _=Te(y[0]),v=Te(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs(Te(y[2])):1,A=ai,P=v<_;P&&(O*=-1,A=li);var R=y.some(oi);w=[];for(var F=_;A(F,v);F+=O){var k;if(p)k=String.fromCharCode(F),k==="\\"&&(k="");else if(k=String(F),R){var D=T-k.length;if(D>0){var I=new Array(D+1).join("0");F<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Lt(y[L],!1))}for(var L=0;L<w.length;L++)for(var o=0;o<n.length;o++){var c=i+w[L]+n[o];(!t||b||c)&&e.push(c)}}return e}var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.assertValidPattern=void 0;const ci=1024*64,fi=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>ci)throw new TypeError("pattern is too long")};Qt.assertValidPattern=fi;var jt={},te={};Object.defineProperty(te,"__esModule",{value:!0}),te.parseClass=void 0;const ui={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ft=r=>r.replace(/[[\]\\-]/g,"\\$&"),di=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),as=r=>r.join(""),pi=(r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],i=[];let n=e+1,o=!1,c=!1,l=!1,p=!1,b=e,g="";t:for(;n<r.length;){const v=r.charAt(n);if((v==="!"||v==="^")&&n===e+1){p=!0,n++;continue}if(v==="]"&&o&&!l){b=n+1;break}if(o=!0,v==="\\"&&!l){l=!0,n++;continue}if(v==="["&&!l){for(const[T,[O,A,P]]of Object.entries(ui))if(r.startsWith(T,n)){if(g)return["$.",!1,r.length-e,!0];n+=T.length,P?i.push(O):s.push(O),c=c||A;continue t}}if(l=!1,g){v>g?s.push(Ft(g)+"-"+Ft(v)):v===g&&s.push(Ft(v)),g="",n++;continue}if(r.startsWith("-]",n+1)){s.push(Ft(v+"-")),n+=2;continue}if(r.startsWith("-",n+1)){g=v,n+=2;continue}s.push(Ft(v)),n++}if(b<n)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,r.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!p){const v=s[0].length===2?s[0].slice(-1):s[0];return[di(v),!1,b-e,!1]}const y="["+(p?"^":"")+as(s)+"]",w="["+(p?"":"^")+as(i)+"]";return[s.length&&i.length?"("+y+"|"+w+")":s.length?y:w,c,b-e,!0]};te.parseClass=pi;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.unescape=void 0;const mi=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Rt.unescape=mi,Object.defineProperty(jt,"__esModule",{value:!0}),jt.AST=void 0;const gi=te,ee=Rt,wi=new Set(["!","?","+","*","@"]),ls=r=>wi.has(r),bi="(?!(?:^|/)\\.\\.?(?:$|/))",se="(?!\\.)",yi=new Set(["[","."]),Si=new Set(["..","."]),Ei=new Set("().*{}+?[]^$\\!"),vi=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Re="[^/]",cs=Re+"*?",fs=Re+"+?";class X{type;#t;#s;#n=!1;#i=[];#o;#l;#f;#a=!1;#h;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#o=e,this.#t=this.#o?this.#o.#t:this,this.#h=this.#t===this?s:this.#t.#h,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#o?this.#o.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#o;for(;s;){for(let i=e.#l+1;!s.type&&i<s.#i.length;i++)for(const n of t.#i){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#i[i])}e=s,s=e.#o}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof X&&e.#o===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#o?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#o?.isStart())return!1;if(this.#l===0)return!0;const t=this.#o;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof X&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();const t=this.#o?this.#o.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new X(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,i){let n=!1,o=!1,c=-1,l=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const v=t.charAt(w++);if(n||v==="\\"){n=!n,_+=v;continue}if(o){w===c+1?(v==="^"||v==="!")&&(l=!0):v==="]"&&!(w===c+2&&l)&&(o=!1),_+=v;continue}else if(v==="["){o=!0,c=w,l=!1,_+=v;continue}if(!i.noext&&ls(v)&&t.charAt(w)==="("){e.push(_),_="";const T=new X(v,e);w=X.#d(t,T,w,i),e.push(T);continue}_+=v}return e.push(_),w}let p=s+1,b=new X(null,e);const g=[];let y="";for(;p<t.length;){const w=t.charAt(p++);if(n||w==="\\"){n=!n,y+=w;continue}if(o){p===c+1?(w==="^"||w==="!")&&(l=!0):w==="]"&&!(p===c+2&&l)&&(o=!1),y+=w;continue}else if(w==="["){o=!0,c=p,l=!1,y+=w;continue}if(ls(w)&&t.charAt(p)==="("){b.push(y),y="";const _=new X(w,b);b.push(_),p=X.#d(t,_,p,i);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new X(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),p;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],p}static fromGlob(t,e={}){const s=new X(null,void 0,e);return X.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,i,n]=this.toRegExpSource();if(!(i||this.#s||this.#h.nocase&&!this.#h.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const c=(this.#h.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,c),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#h.dot;if(this.#t===this&&this.#w(),!this.type){const l=this.isStart()&&this.isEnd(),p=this.#i.map(w=>{const[_,v,T,O]=typeof w=="string"?X.#y(w,this.#s,l):w.toRegExpSource(t);return this.#s=this.#s||T,this.#n=this.#n||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&Si.has(this.#i[0]))){const _=yi,v=e&&_.has(p.charAt(0))||p.startsWith("\\.")&&_.has(p.charAt(2))||p.startsWith("\\.\\.")&&_.has(p.charAt(4)),T=!e&&!t&&_.has(p.charAt(0));b=v?bi:T?se:""}let g="";return this.isEnd()&&this.#t.#a&&this.#o?.type==="!"&&(g="(?:$|\\/)"),[b+p+g,(0,ee.unescape)(p),this.#s=!!this.#s,this.#n]}const s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let n=this.#u(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){const l=this.toString();return this.#i=[l],this.type=null,this.#s=void 0,[l,(0,ee.unescape)(this.toString()),!1,!1]}let o=!s||t||e||!se?"":this.#u(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let c="";if(this.type==="!"&&this.#m)c=(this.isStart()&&!e?se:"")+fs;else{const l=this.type==="!"?"))"+(this.isStart()&&!e&&!t?se:"")+cs+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;c=i+n+l}return[c,(0,ee.unescape)(n),this.#s=!!this.#s,this.#n]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,i,n,o]=e.toRegExpSource(t);return this.#n=this.#n||o,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let i=!1,n="",o=!1;for(let c=0;c<t.length;c++){const l=t.charAt(c);if(i){i=!1,n+=(Ei.has(l)?"\\":"")+l;continue}if(l==="\\"){c===t.length-1?n+="\\\\":i=!0;continue}if(l==="["){const[p,b,g,y]=(0,gi.parseClass)(t,c);if(g){n+=p,o=o||b,c+=g-1,e=e||y;continue}}if(l==="*"){s&&t==="*"?n+=fs:n+=cs,e=!0;continue}if(l==="?"){n+=Re,e=!0;continue}n+=vi(l)}return[n,(0,ee.unescape)(t),!!e,o]}}jt.AST=X;var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.escape=void 0;const _i=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");kt.escape=_i,function(r){var t=it&&it.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.unescape=r.escape=r.AST=r.Minimatch=r.match=r.makeRe=r.braceExpand=r.defaults=r.filter=r.GLOBSTAR=r.sep=r.minimatch=void 0;const e=t(si),s=Qt,i=jt,n=kt,o=Rt,c=(S,a,d={})=>((0,s.assertValidPattern)(a),!d.nocomment&&a.charAt(0)==="#"?!1:new Et(a,d).match(S));r.minimatch=c;const l=/^\*+([^+@!?\*\[\(]*)$/,p=S=>a=>!a.startsWith(".")&&a.endsWith(S),b=S=>a=>a.endsWith(S),g=S=>(S=S.toLowerCase(),a=>!a.startsWith(".")&&a.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),a=>a.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),v=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),A=/^\*+$/,P=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",F=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,a=""])=>{const d=st([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},D=([S,a=""])=>{const d=yt([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},I=([S,a=""])=>{const d=yt([S]);return a?m=>d(m)&&m.endsWith(a):d},L=([S,a=""])=>{const d=st([S]);return a?m=>d(m)&&m.endsWith(a):d},st=([S])=>{const a=S.length;return d=>d.length===a&&!d.startsWith(".")},yt=([S])=>{const a=S.length;return d=>d.length===a&&d!=="."&&d!==".."},z=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};r.sep=z==="win32"?N.win32.sep:N.posix.sep,r.minimatch.sep=r.sep,r.GLOBSTAR=Symbol("globstar **"),r.minimatch.GLOBSTAR=r.GLOBSTAR;const Pt="[^/]"+"*?",Zt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Mt="(?:(?!(?:\\/|^)\\.).)*?",Q=(S,a={})=>d=>(0,r.minimatch)(d,S,a);r.filter=Q,r.minimatch.filter=r.filter;const q=(S,a={})=>Object.assign({},S,a),Ot=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return r.minimatch;const a=r.minimatch;return Object.assign((m,f,h={})=>a(m,f,q(S,h)),{Minimatch:class extends a.Minimatch{constructor(f,h={}){super(f,q(S,h))}static defaults(f){return a.defaults(q(S,f)).Minimatch}},AST:class extends a.AST{constructor(f,h,u={}){super(f,h,q(S,u))}static fromGlob(f,h={}){return a.AST.fromGlob(f,q(S,h))}},unescape:(m,f={})=>a.unescape(m,q(S,f)),escape:(m,f={})=>a.escape(m,q(S,f)),filter:(m,f={})=>a.filter(m,q(S,f)),defaults:m=>a.defaults(q(S,m)),makeRe:(m,f={})=>a.makeRe(m,q(S,f)),braceExpand:(m,f={})=>a.braceExpand(m,q(S,f)),match:(m,f,h={})=>a.match(m,f,q(S,h)),sep:a.sep,GLOBSTAR:r.GLOBSTAR})};r.defaults=Ot,r.minimatch.defaults=r.defaults;const St=(S,a={})=>((0,s.assertValidPattern)(S),a.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));r.braceExpand=St,r.minimatch.braceExpand=r.braceExpand;const lt=(S,a={})=>new Et(S,a).makeRe();r.makeRe=lt,r.minimatch.makeRe=r.makeRe;const V=(S,a,d={})=>{const m=new Et(a,d);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(a),S};r.match=V,r.minimatch.match=r.match;const pt=/[?*]|[+@!]\(.*?\)|\[|\]/,Se=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Et{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(a,d={}){(0,s.assertValidPattern)(a),d=d||{},this.options=d,this.pattern=a,this.platform=d.platform||z,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!d.windowsPathsNoEscape||d.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!d.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!d.nonegate,this.comment=!1,this.empty=!1,this.partial=!!d.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=d.windowsNoMagicRoot!==void 0?d.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const a of this.set)for(const d of a)if(typeof d!="string")return!0;return!1}debug(...a){}make(){const a=this.pattern,d=this.options;if(!d.nocomment&&a.charAt(0)==="#"){this.comment=!0;return}if(!a){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],d.debug&&(this.debug=(...h)=>console.error(...h)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(h=>this.slashSplit(h));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((h,u,E)=>{if(this.isWindows&&this.windowsNoMagicRoot){const C=h[0]===""&&h[1]===""&&(h[2]==="?"||!pt.test(h[2]))&&!pt.test(h[3]),M=/^[a-z]:/i.test(h[0]);if(C)return[...h.slice(0,4),...h.slice(4).map(j=>this.parse(j))];if(M)return[h[0],...h.slice(1).map(j=>this.parse(j))]}return h.map(C=>this.parse(C))});if(this.debug(this.pattern,f),this.set=f.filter(h=>h.indexOf(!1)===-1),this.isWindows)for(let h=0;h<this.set.length;h++){const u=this.set[h];u[0]===""&&u[1]===""&&this.globParts[h][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(a){if(this.options.noglobstar)for(let m=0;m<a.length;m++)for(let f=0;f<a[m].length;f++)a[m][f]==="**"&&(a[m][f]="*");const{optimizationLevel:d=1}=this.options;return d>=2?(a=this.firstPhasePreProcess(a),a=this.secondPhasePreProcess(a)):d>=1?a=this.levelOneOptimize(a):a=this.adjascentGlobstarOptimize(a),a}adjascentGlobstarOptimize(a){return a.map(d=>{let m=-1;for(;(m=d.indexOf("**",m+1))!==-1;){let f=m;for(;d[f+1]==="**";)f++;f!==m&&d.splice(m,f-m)}return d})}levelOneOptimize(a){return a.map(d=>(d=d.reduce((m,f)=>{const h=m[m.length-1];return f==="**"&&h==="**"?m:f===".."&&h&&h!==".."&&h!=="."&&h!=="**"?(m.pop(),m):(m.push(f),m)},[]),d.length===0?[""]:d))}levelTwoFileOptimize(a){Array.isArray(a)||(a=this.slashSplit(a));let d=!1;do{if(d=!1,!this.preserveMultipleSlashes){for(let f=1;f<a.length-1;f++){const h=a[f];f===1&&h===""&&a[0]===""||(h==="."||h==="")&&(d=!0,a.splice(f,1),f--)}a[0]==="."&&a.length===2&&(a[1]==="."||a[1]==="")&&(d=!0,a.pop())}let m=0;for(;(m=a.indexOf("..",m+1))!==-1;){const f=a[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(d=!0,a.splice(m-1,2),m-=2)}}while(d);return a.length===0?[""]:a}firstPhasePreProcess(a){let d=!1;do{d=!1;for(let m of a){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let E=m[f+1];const C=m[f+2],M=m[f+3];if(E!==".."||!C||C==="."||C===".."||!M||M==="."||M==="..")continue;d=!0,m.splice(f,1);const j=m.slice(0);j[f]="**",a.push(j),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const E=m[u];u===1&&E===""&&m[0]===""||(E==="."||E==="")&&(d=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(d=!0,m.pop())}let h=0;for(;(h=m.indexOf("..",h+1))!==-1;){const u=m[h-1];if(u&&u!=="."&&u!==".."&&u!=="**"){d=!0;const C=h===1&&m[h+1]==="**"?["."]:[];m.splice(h-1,2,...C),m.length===0&&m.push(""),h-=2}}}}while(d);return a}secondPhasePreProcess(a){for(let d=0;d<a.length-1;d++)for(let m=d+1;m<a.length;m++){const f=this.partsMatch(a[d],a[m],!this.preserveMultipleSlashes);f&&(a[d]=f,a[m]=[])}return a.filter(d=>d.length)}partsMatch(a,d,m=!1){let f=0,h=0,u=[],E="";for(;f<a.length&&h<d.length;)if(a[f]===d[h])u.push(E==="b"?d[h]:a[f]),f++,h++;else if(m&&a[f]==="**"&&d[h]===a[f+1])u.push(a[f]),f++;else if(m&&d[h]==="**"&&a[f]===d[h+1])u.push(d[h]),h++;else if(a[f]==="*"&&d[h]&&(this.options.dot||!d[h].startsWith("."))&&d[h]!=="**"){if(E==="b")return!1;E="a",u.push(a[f]),f++,h++}else if(d[h]==="*"&&a[f]&&(this.options.dot||!a[f].startsWith("."))&&a[f]!=="**"){if(E==="a")return!1;E="b",u.push(d[h]),f++,h++}else return!1;return a.length===d.length&&u}parseNegate(){if(this.nonegate)return;const a=this.pattern;let d=!1,m=0;for(let f=0;f<a.length&&a.charAt(f)==="!";f++)d=!d,m++;m&&(this.pattern=a.slice(m)),this.negate=d}matchOne(a,d,m=!1){const f=this.options;if(this.isWindows){const J=typeof a[0]=="string"&&/^[a-z]:$/i.test(a[0]),_e=!J&&a[0]===""&&a[1]===""&&a[2]==="?"&&/^[a-z]:$/i.test(a[3]),He=typeof d[0]=="string"&&/^[a-z]:$/i.test(d[0]),Js=!He&&d[0]===""&&d[1]===""&&d[2]==="?"&&typeof d[3]=="string"&&/^[a-z]:$/i.test(d[3]),Dt=_e?3:J?0:void 0,Tt=Js?3:He?0:void 0;if(typeof Dt=="number"&&typeof Tt=="number"){const[qe,Zs]=[a[Dt],d[Tt]];qe.toLowerCase()===Zs.toLowerCase()&&(d[Tt]=qe,Tt>Dt?d=d.slice(Tt):Dt>Tt&&(a=a.slice(Dt)))}}const{optimizationLevel:h=1}=this.options;h>=2&&(a=this.levelTwoFileOptimize(a)),this.debug("matchOne",this,{file:a,pattern:d}),this.debug("matchOne",a.length,d.length);for(var u=0,E=0,C=a.length,M=d.length;u<C&&E<M;u++,E++){this.debug("matchOne loop");var j=d[E],W=a[u];if(this.debug(d,j,W),j===!1)return!1;if(j===r.GLOBSTAR){this.debug("GLOBSTAR",[d,j,W]);var $=u,K=E+1;if(K===M){for(this.debug("** at the end");u<C;u++)if(a[u]==="."||a[u]===".."||!f.dot&&a[u].charAt(0)===".")return!1;return!0}for(;$<C;){var nt=a[$];if(this.debug(`
+globstar while`,a,$,d,K,nt),this.matchOne(a.slice($),d.slice(K),m))return this.debug("globstar found match!",$,C,nt),!0;if(nt==="."||nt===".."||!f.dot&&nt.charAt(0)==="."){this.debug("dot detected!",a,$,d,K);break}this.debug("globstar swallow a segment, and continue"),$++}return!!(m&&(this.debug(`
+>>> no match, partial?`,a,$,d,K),$===C))}let J;if(typeof j=="string"?(J=W===j,this.debug("string match",j,W,J)):(J=j.test(W),this.debug("pattern match",j,W,J)),!J)return!1}if(u===C&&E===M)return!0;if(u===C)return m;if(E===M)return u===C-1&&a[u]==="";throw new Error("wtf?")}braceExpand(){return(0,r.braceExpand)(this.pattern,this.options)}parse(a){(0,s.assertValidPattern)(a);const d=this.options;if(a==="**")return r.GLOBSTAR;if(a==="")return"";let m,f=null;(m=a.match(A))?f=d.dot?R:P:(m=a.match(l))?f=(d.nocase?d.dot?y:g:d.dot?b:p)(m[1]):(m=a.match(F))?f=(d.nocase?d.dot?D:k:d.dot?I:L)(m):(m=a.match(w))?f=d.dot?v:_:(m=a.match(T))&&(f=O);const h=i.AST.fromGlob(a,this.options).toMMPattern();return f?Object.assign(h,{test:f}):h}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const a=this.set;if(!a.length)return this.regexp=!1,this.regexp;const d=this.options,m=d.noglobstar?Pt:d.dot?Zt:Mt,f=new Set(d.nocase?["i"]:[]);let h=a.map(C=>{const M=C.map(j=>{if(j instanceof RegExp)for(const W of j.flags.split(""))f.add(W);return typeof j=="string"?Se(j):j===r.GLOBSTAR?r.GLOBSTAR:j._src});return M.forEach((j,W)=>{const $=M[W+1],K=M[W-1];j!==r.GLOBSTAR||K===r.GLOBSTAR||(K===void 0?$!==void 0&&$!==r.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+$:M[W]=m:$===void 0?M[W-1]=K+"(?:\\/|"+m+")?":$!==r.GLOBSTAR&&(M[W-1]=K+"(?:\\/|\\/"+m+"\\/)"+$,M[W+1]=r.GLOBSTAR))}),M.filter(j=>j!==r.GLOBSTAR).join("/")}).join("|");const[u,E]=a.length>1?["(?:",")"]:["",""];h="^"+u+h+E+"$",this.negate&&(h="^(?!"+h+").+$");try{this.regexp=new RegExp(h,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(a){return this.preserveMultipleSlashes?a.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(a)?["",...a.split(/\/+/)]:a.split(/\/+/)}match(a,d=this.partial){if(this.debug("match",a,this.pattern),this.comment)return!1;if(this.empty)return a==="";if(a==="/"&&d)return!0;const m=this.options;this.isWindows&&(a=a.split("\\").join("/"));const f=this.slashSplit(a);this.debug(this.pattern,"split",f);const h=this.set;this.debug(this.pattern,"set",h);let u=f[f.length-1];if(!u)for(let E=f.length-2;!u&&E>=0;E--)u=f[E];for(let E=0;E<h.length;E++){const C=h[E];let M=f;if(m.matchBase&&C.length===1&&(M=[u]),this.matchOne(M,C,d))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(a){return r.minimatch.defaults(a).Minimatch}}r.Minimatch=Et;var Ee=jt;Object.defineProperty(r,"AST",{enumerable:!0,get:function(){return Ee.AST}});var ve=kt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return ve.escape}});var Xt=Rt;Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return Xt.unescape}}),r.minimatch.AST=i.AST,r.minimatch.Minimatch=Et,r.minimatch.escape=n.escape,r.minimatch.unescape=o.unescape}(mt);var Nt={},B={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.LRUCache=void 0;const Bt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,us=new Set,Ae=typeof process=="object"&&process?process:{},ds=(r,t,e,s)=>{typeof Ae.emitWarning=="function"?Ae.emitWarning(r,t,e,s):console.error(`[${e}] ${t}: ${r}`)};let re=globalThis.AbortController,ps=globalThis.AbortSignal;if(typeof re>"u"){ps=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,i){this._onabort.push(i)}},re=class{constructor(){t()}signal=new ps;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const i of this.signal._onabort)i(s);this.signal.onabort?.(s)}}};let r=Ae.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{r&&(r=!1,ds("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Oi=r=>!us.has(r),gt=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),ms=r=>gt(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?ne:null:null;class ne extends Array{constructor(t){super(t),this.fill(0)}}class Ct{heap;length;static#t=!1;static create(t){const e=ms(t);if(!e)return[];Ct.#t=!0;const s=new Ct(t,e);return Ct.#t=!1,s}constructor(t,e){if(!Ct.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class xe{#t;#s;#n;#i;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#h;#e;#m;#w;#d;#u;#y;#g;#C;#P;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#P,ttls:t.#O,sizes:t.#C,keyMap:t.#a,keyList:t.#h,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,i,n)=>t.#F(e,s,i,n),moveToTail:e=>t.#j(e),indexes:e=>t.#_(e),rindexes:e=>t.#A(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#o}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:c,allowStale:l,dispose:p,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:v,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:R,ignoreFetchAbort:F}=t;if(e!==0&&!gt(e))throw new TypeError("max option must be a nonnegative integer");const k=e?ms(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=v,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=T,this.#R=!!T,this.#a=new Map,this.#h=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Ct.create(e),this.#l=0,this.#f=0,typeof p=="function"&&(this.#n=p),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#n,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!P,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!F,this.maxEntrySize!==0){if(this.#s!==0&&!gt(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!gt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#D()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!c,this.ttlResolution=gt(i)||i===0?i:1,this.ttlAutopurge=!!n,this.ttl=s||0,this.ttl){if(!gt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const D="LRU_CACHE_UNBOUNDED";Oi(D)&&(us.add(D),ds("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,xe))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new ne(this.#t),e=new ne(this.#t);this.#O=t,this.#P=e,this.#r=(n,o,c=Bt.now())=>{if(e[n]=o!==0?c:0,t[n]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{this.#b(n)&&this.delete(this.#h[n])},o+1);l.unref&&l.unref()}},this.#T=n=>{e[n]=t[n]!==0?Bt.now():0},this.#E=(n,o)=>{if(t[o]){const c=t[o],l=e[o];n.ttl=c,n.start=l,n.now=s||i();const p=n.now-l;n.remainingTTL=c-p}};let s=0;const i=()=>{const n=Bt.now();if(this.ttlResolution>0){s=n;const o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{const o=this.#a.get(n);if(o===void 0)return 0;const c=t[o],l=e[o];if(c===0||l===0)return 1/0;const p=(s||i())-l;return c-p},this.#b=n=>t[n]!==0&&e[n]!==0&&(s||i())-e[n]>t[n]}#T=()=>{};#E=()=>{};#r=()=>{};#b=()=>!1;#D(){const t=new ne(this.#t);this.#f=0,this.#C=t,this.#v=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,i,n)=>{if(this.#c(s))return 0;if(!gt(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(s,e),!gt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#k=(e,s,i)=>{if(t[e]=s,this.#s){const n=this.#s-t[e];for(;this.#f>n;)this.#L(!0)}this.#f+=t[e],i&&(i.entrySize=s,i.totalCalculatedSize=this.#f)}}#v=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#A({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#h[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*rentries(){for(const t of this.#A())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#A()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#A())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;if(n!==void 0&&t(n,this.#h[s],this))return this.get(this.#h[s],e)}}forEach(t,e=this){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}rforEach(t,e=this){for(const s of this.#A()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}purgeStale(){let t=!1;for(const e of this.#A({allowStale:!0}))this.#b(e)&&(this.delete(this.#h[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#h[e],i=this.#e[e],n=this.#c(i)?i.__staleWhileFetching:i;if(n===void 0||s===void 0)continue;const o={value:n};if(this.#O&&this.#P){o.ttl=this.#O[e];const c=Bt.now()-this.#P[e];o.start=Math.floor(Date.now()-c)}this.#C&&(o.size=this.#C[e]),t.unshift([s,o])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const i=Date.now()-s.start;s.start=Bt.now()-i}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:l}=s;let{noUpdateTTL:p=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,c);if(this.maxEntrySize&&b>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#h[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,l),l&&(l.set="add"),p=!1;else{this.#j(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):o||(this.#S&&this.#n?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#v(g),this.#k(g,b,l),this.#e[g]=e,l){l.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(l.oldValue=w)}}else l&&(l.set="update")}if(i!==0&&!this.#O&&this.#M(),this.#O&&(p||this.#r(g,i,n),l&&this.#E(l,g)),!o&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#h[e],i=this.#e[e];return this.#R&&this.#c(i)?i.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,s,"evict"),this.#p&&this.#g?.push([i,s,"evict"])),this.#v(e),t&&(this.#h[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=e,n=this.#a.get(t);if(n!==void 0){const o=this.#e[n];if(this.#c(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(n))i&&(i.has="stale",this.#E(i,n));else return s&&this.#T(n),i&&(i.has="hit",this.#E(i,n)),!0}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,i=this.#a.get(t);if(i!==void 0&&(s||!this.#b(i))){const n=this.#e[i];return this.#c(n)?n.__staleWhileFetching:n}}#F(t,e,s,i){const n=e===void 0?void 0:this.#e[e];if(this.#c(n))return n;const o=new re,{signal:c}=s;c?.addEventListener("abort",()=>o.abort(c.reason),{signal:o.signal});const l={signal:o.signal,options:s,context:i},p=(v,T=!1)=>{const{aborted:O}=o.signal,A=s.ignoreFetchAbort&&v!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,A&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!A&&!T)return g(o.signal.reason);const P=w;return this.#e[e]===w&&(v===void 0?P.__staleWhileFetching?this.#e[e]=P.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,v,l.options))),v},b=v=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=v),g(v)),g=v=>{const{aborted:T}=o.signal,O=T&&s.allowStaleOnFetchAbort,A=O||s.allowStaleOnFetchRejection,P=A||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!P||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),A)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw v},y=(v,T)=>{const O=this.#o?.(t,n,l);O&&O instanceof Promise&&O.then(A=>v(A===void 0?void 0:A),T),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(v(void 0),s.allowStaleOnFetchAbort&&(v=A=>p(A,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(p,b),_=Object.assign(w,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,_,{...l.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof re}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:v,forceRefresh:T=!1,status:O,signal:A}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:O});const P={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:c,size:l,sizeCalculation:p,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:A};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const F=this.#F(t,R,P,v);return F.__returned=F}else{const F=this.#e[R];if(this.#c(F)){const st=s&&F.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",st&&(O.returnedStale=!0)),st?F.__staleWhileFetching:F.__returned=F}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#j(R),i&&this.#T(R),O&&this.#E(O,R),F;const D=this.#F(t,R,P,v),L=D.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?D.__staleWhileFetching:D.__returned=D}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,c=this.#a.get(t);if(c!==void 0){const l=this.#e[c],p=this.#c(l);return o&&this.#E(o,c),this.#b(c)?(o&&(o.get="stale"),p?(o&&s&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?l.__staleWhileFetching:void 0):(n||this.delete(t),o&&s&&(o.returnedStale=!0),s?l:void 0)):(o&&(o.get="hit"),p?l.__staleWhileFetching:(this.#j(c),i&&this.#T(c),l))}else o&&(o.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#j(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#v(s);const i=this.#e[s];this.#c(i)?i.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,t,"delete"),this.#p&&this.#g?.push([i,t,"delete"])),this.#a.delete(t),this.#h[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let i;for(;i=s?.shift();)this.#i?.(...i)}return e}clear(){for(const t of this.#A({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#h[t];this.#S&&this.#n?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#h.fill(void 0),this.#O&&this.#P&&(this.#O.fill(0),this.#P.fill(0)),this.#C&&this.#C.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}ie.LRUCache=xe;var gs={};(function(r){var t=it&&it.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(r,"__esModule",{value:!0}),r.Minipass=r.isWritable=r.isReadable=r.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=Ke,i=t(Je),n=Ze,o=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof i.default||(0,r.isReadable)(f)||(0,r.isWritable)(f));r.isStream=o;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==i.default.Writable.prototype.pipe;r.isReadable=c;const l=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";r.isWritable=l;const p=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),v=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),A=Symbol("encoding"),P=Symbol("decoder"),R=Symbol("flowing"),F=Symbol("paused"),k=Symbol("resume"),D=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),st=Symbol("bufferPush"),yt=Symbol("bufferShift"),z=Symbol("objectMode"),N=Symbol("destroyed"),Jt=Symbol("error"),Pt=Symbol("emitData"),Zt=Symbol("emitEnd"),Mt=Symbol("emitEnd2"),Q=Symbol("async"),q=Symbol("abort"),Ot=Symbol("aborted"),St=Symbol("signal"),lt=Symbol("dataListeners"),V=Symbol("discarded"),pt=f=>Promise.resolve().then(f),Se=f=>f(),Et=f=>f==="end"||f==="finish"||f==="prefinish",Ee=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,ve=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class Xt{src;dest;opts;ondrain;constructor(h,u,E){this.src=h,this.dest=u,this.opts=E,this.ondrain=()=>h[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(h){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends Xt{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(h,u,E){super(h,u,E),this.proxyErrors=C=>u.emit("error",C),h.on("error",this.proxyErrors)}}const a=f=>!!f.objectMode,d=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[F]=!1;[I]=[];[D]=[];[z];[A];[Q];[P];[p]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[St];[Ot]=!1;[lt]=0;[V]=!1;writable=!0;readable=!0;constructor(...h){const u=h[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");a(u)?(this[z]=!0,this[A]=null):d(u)?(this[A]=u.encoding,this[z]=!1):(this[z]=!1,this[A]=null),this[Q]=!!u.async,this[P]=this[A]?new n.StringDecoder(this[A]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[D]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:E}=u;E&&(this[St]=E,E.aborted?this[q]():E.addEventListener("abort",()=>this[q]()))}get bufferLength(){return this[L]}get encoding(){return this[A]}set encoding(h){throw new Error("Encoding must be set at instantiation time")}setEncoding(h){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[z]}set objectMode(h){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Q]}set async(h){this[Q]=this[Q]||!!h}[q](){this[Ot]=!0,this.emit("abort",this[St]?.reason),this.destroy(this[St]?.reason)}get aborted(){return this[Ot]}set aborted(h){}write(h,u,E){if(this[Ot])return!1;if(this[p])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(E=u,u="utf8"),u||(u="utf8");const C=this[Q]?pt:Se;if(!this[z]&&!Buffer.isBuffer(h)){if(ve(h))h=Buffer.from(h.buffer,h.byteOffset,h.byteLength);else if(Ee(h))h=Buffer.from(h);else if(typeof h!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[z]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):h.length?(typeof h=="string"&&!(u===this[A]&&!this[P]?.lastNeed)&&(h=Buffer.from(h,u)),Buffer.isBuffer(h)&&this[A]&&(h=this[P].write(h)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):(this[L]!==0&&this.emit("readable"),E&&C(E),this[R])}read(h){if(this[N])return null;if(this[V]=!1,this[L]===0||h===0||h&&h>this[L])return this[b](),null;this[z]&&(h=null),this[D].length>1&&!this[z]&&(this[D]=[this[A]?this[D].join(""):Buffer.concat(this[D],this[L])]);const u=this[v](h||null,this[D][0]);return this[b](),u}[v](h,u){if(this[z])this[yt]();else{const E=u;h===E.length||h===null?this[yt]():typeof E=="string"?(this[D][0]=E.slice(h),u=E.slice(0,h),this[L]-=h):(this[D][0]=E.subarray(h),u=E.subarray(0,h),this[L]-=h)}return this.emit("data",u),!this[D].length&&!this[p]&&this.emit("drain"),u}end(h,u,E){return typeof h=="function"&&(E=h,h=void 0),typeof u=="function"&&(E=u,u="utf8"),h!==void 0&&this.write(h,u),E&&this.once("end",E),this[p]=!0,this.writable=!1,(this[R]||!this[F])&&this[b](),this}[k](){this[N]||(!this[lt]&&!this[I].length&&(this[V]=!0),this[F]=!1,this[R]=!0,this.emit("resume"),this[D].length?this[T]():this[p]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[F]=!0,this[V]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[F]}[st](h){this[z]?this[L]+=1:this[L]+=h.length,this[D].push(h)}[yt](){return this[z]?this[L]-=1:this[L]-=this[D][0].length,this[D].shift()}[T](h=!1){do;while(this[O](this[yt]())&&this[D].length);!h&&!this[D].length&&!this[p]&&this.emit("drain")}[O](h){return this.emit("data",h),this[R]}pipe(h,u){if(this[N])return h;this[V]=!1;const E=this[g];return u=u||{},h===e.stdout||h===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,E?u.end&&h.end():(this[I].push(u.proxyErrors?new S(this,h,u):new Xt(this,h,u)),this[Q]?pt(()=>this[k]()):this[k]()),h}unpipe(h){const u=this[I].find(E=>E.dest===h);u&&(this[I].length===1?(this[R]&&this[lt]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(h,u){return this.on(h,u)}on(h,u){const E=super.on(h,u);if(h==="data")this[V]=!1,this[lt]++,!this[I].length&&!this[R]&&this[k]();else if(h==="readable"&&this[L]!==0)super.emit("readable");else if(Et(h)&&this[g])super.emit(h),this.removeAllListeners(h);else if(h==="error"&&this[w]){const C=u;this[Q]?pt(()=>C.call(this,this[w])):C.call(this,this[w])}return E}removeListener(h,u){return this.off(h,u)}off(h,u){const E=super.off(h,u);return h==="data"&&(this[lt]=this.listeners("data").length,this[lt]===0&&!this[V]&&!this[I].length&&(this[R]=!1)),E}removeAllListeners(h){const u=super.removeAllListeners(h);return(h==="data"||h===void 0)&&(this[lt]=0,!this[V]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[D].length===0&&this[p]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(h,...u){const E=u[0];if(h!=="error"&&h!=="close"&&h!==N&&this[N])return!1;if(h==="data")return!this[z]&&!E?!1:this[Q]?(pt(()=>this[Pt](E)),!0):this[Pt](E);if(h==="end")return this[Zt]();if(h==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(h==="error"){this[w]=E,super.emit(Jt,E);const M=!this[St]||this.listeners("error").length?super.emit("error",E):!1;return this[b](),M}else if(h==="resume"){const M=super.emit("resume");return this[b](),M}else if(h==="finish"||h==="prefinish"){const M=super.emit(h);return this.removeAllListeners(h),M}const C=super.emit(h,...u);return this[b](),C}[Pt](h){for(const E of this[I])E.dest.write(h)===!1&&this.pause();const u=this[V]?!1:super.emit("data",h);return this[b](),u}[Zt](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[Q]?(pt(()=>this[Mt]()),!0):this[Mt]())}[Mt](){if(this[P]){const u=this[P].end();if(u){for(const E of this[I])E.dest.write(u);this[V]||super.emit("data",u)}}for(const u of this[I])u.end();const h=super.emit("end");return this.removeAllListeners("end"),h}async collect(){const h=Object.assign([],{dataLength:0});this[z]||(h.dataLength=0);const u=this.promise();return this.on("data",E=>{h.push(E),this[z]||(h.dataLength+=E.length)}),await u,h}async concat(){if(this[z])throw new Error("cannot concat in objectMode");const h=await this.collect();return this[A]?h.join(""):Buffer.concat(h,h.dataLength)}async promise(){return new Promise((h,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",E=>u(E)),this.on("end",()=>h())})}[Symbol.asyncIterator](){this[V]=!1;let h=!1;const u=async()=>(this.pause(),h=!0,{value:void 0,done:!0});return{next:()=>{if(h)return u();const C=this.read();if(C!==null)return Promise.resolve({done:!1,value:C});if(this[p])return u();let M,j;const W=J=>{this.off("data",$),this.off("end",K),this.off(N,nt),u(),j(J)},$=J=>{this.off("error",W),this.off("end",K),this.off(N,nt),this.pause(),M({value:J,done:!!this[p]})},K=()=>{this.off("error",W),this.off("data",$),this.off(N,nt),u(),M({done:!0,value:void 0})},nt=()=>W(new Error("stream destroyed"));return new Promise((J,_e)=>{j=_e,M=J,this.once(N,nt),this.once("error",W),this.once("end",K),this.once("data",$)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[V]=!1;let h=!1;const u=()=>(this.pause(),this.off(Jt,u),this.off(N,u),this.off("end",u),h=!0,{done:!0,value:void 0}),E=()=>{if(h)return u();const C=this.read();return C===null?u():{done:!1,value:C}};return this.once("end",u),this.once(Jt,u),this.once(N,u),{next:E,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(h){if(this[N])return h?this.emit("error",h):this.emit(N),this;this[N]=!0,this[V]=!0,this[D].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),h?this.emit("error",h):this.emit(N),this}static get isStream(){return r.isStream}}r.Minipass=m})(gs);var Ti=it&&it.__createBinding||(Object.create?function(r,t,e,s){s===void 0&&(s=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,s,i)}:function(r,t,e,s){s===void 0&&(s=e),r[s]=t[e]}),Ri=it&&it.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Ai=it&&it.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&Ti(t,r,e);return Ri(t,r),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const ws=ie,he=Xs,Ci=Ve,Pi=Ai(Ye),It=Ye,Mi=It.realpathSync.native,oe=Qs,bs=gs,Wt={lstatSync:It.lstatSync,readdir:It.readdir,readdirSync:It.readdirSync,readlinkSync:It.readlinkSync,realpathSync:Mi,promises:{lstat:oe.lstat,readdir:oe.readdir,readlink:oe.readlink,realpath:oe.realpath}},ys=r=>!r||r===Wt||r===Pi?Wt:{...Wt,...r,promises:{...Wt.promises,...r.promises||{}}},Ss=/^\\\\\?\\([a-z]:)\\?$/i,Di=r=>r.replace(/\//g,"\\").replace(Ss,"$1\\"),Li=/[\\\/]/,tt=0,Es=1,vs=2,ht=4,_s=6,Os=8,vt=10,Ts=12,et=15,Gt=~et,Ce=16,Rs=32,xt=64,rt=128,ae=256,le=512,As=xt|rt|le,ji=1023,Pe=r=>r.isFile()?Os:r.isDirectory()?ht:r.isSymbolicLink()?vt:r.isCharacterDevice()?vs:r.isBlockDevice()?_s:r.isSocket()?Ts:r.isFIFO()?Es:tt,Cs=new Map,$t=r=>{const t=Cs.get(r);if(t)return t;const e=r.normalize("NFKD");return Cs.set(r,e),e},Ps=new Map,ce=r=>{const t=Ps.get(r);if(t)return t;const e=$t(r.toLowerCase());return Ps.set(r,e),e};class Me extends ws.LRUCache{constructor(){super({max:256})}}B.ResolveCache=Me;class Ms extends ws.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=Ms;const Ds=Symbol("PathScurry setAsCwd");class Y{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#n;get mode(){return this.#n}#i;get nlink(){return this.#i}#o;get uid(){return this.#o}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#h;get ino(){return this.#h}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#C;get mtime(){return this.#C}#P;get ctime(){return this.#P}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#E;#r;#b;#D;#v;get path(){return(this.parent||this).fullpath()}constructor(t,e=tt,s,i,n,o,c){this.name=t,this.#S=n?ce(t):$t(t),this.#r=e&ji,this.nocase=n,this.roots=i,this.root=s||this,this.#b=o,this.#p=c.fullpath,this.#T=c.relative,this.#E=c.relativePosix,this.parent=c.parent,this.parent?this.#t=this.parent.#t:this.#t=ys(c.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(i):this.#k(i)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#r&=~Ce,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),i=this.nocase?ce(t):$t(t);for(const l of s)if(l.#S===i)return l;const n=this.parent?this.sep:"",o=this.#p?this.#p+n+t:void 0,c=this.newChild(t,tt,{...e,parent:this,fullpath:o});return this.canReaddir()||(c.#r|=rt),s.push(c),c}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#E!==void 0)return this.#E;const t=this.name,e=this.parent;if(!e)return this.#E=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=i}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#M=`//?/${i}`:this.#M=i}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#r&et)===tt}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&et)===Os}isDirectory(){return(this.#r&et)===ht}isCharacterDevice(){return(this.#r&et)===vs}isBlockDevice(){return(this.#r&et)===_s}isFIFO(){return(this.#r&et)===Es}isSocket(){return(this.#r&et)===Ts}isSymbolicLink(){return(this.#r&vt)===vt}lstatCached(){return this.#r&Rs?this:void 0}readlinkCached(){return this.#D}realpathCached(){return this.#v}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#D)return!0;if(!this.parent)return!1;const t=this.#r&et;return!(t!==tt&&t!==vt||this.#r&ae||this.#r&rt)}calledReaddir(){return!!(this.#r&Ce)}isENOENT(){return!!(this.#r&rt)}isNamed(t){return this.nocase?this.#S===ce(t):this.#S===$t(t)}async readlink(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}#N(t){this.#r|=Ce;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#r&rt||(this.#r=(this.#r|rt)&Gt,this.#A())}#A(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#r|=le,this.#L()}#L(){if(this.#r&xt)return;let t=this.#r;(t&et)===ht&&(t&=Gt),this.#r=t|xt,this.#A()}#F(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#r;e|=ae,t==="ENOENT"&&(e|=rt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Gt),this.#r=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#j(t,e){return this.#U(t,e)||this.#z(t,e)}#z(t,e){const s=Pe(t),i=this.newChild(t.name,s,{parent:this}),n=i.#r&et;return n!==ht&&n!==vt&&n!==tt&&(i.#r|=xt),e.unshift(i),e.provisional++,i}#U(t,e){for(let s=e.provisional;s<e.length;s++){const i=e[s];if((this.nocase?ce(t.name):$t(t.name))===i.#S)return this.#H(t,i,s,e)}}#H(t,e,s,i){const n=e.name;return e.#r=e.#r&Gt|Pe(t),n!==t.name&&(e.name=t.name),s!==i.provisional&&(s===i.length-1?i.pop():i.splice(s,1),i.unshift(e)),i.provisional++,e}async lstat(){if(!(this.#r&rt))try{return this.#$(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#r&rt))try{return this.#$(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#$(t){const{atime:e,atimeMs:s,birthtime:i,birthtimeMs:n,blksize:o,blocks:c,ctime:l,ctimeMs:p,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:v,nlink:T,rdev:O,size:A,uid:P}=t;this.#g=e,this.#w=s,this.#O=i,this.#y=n,this.#a=o,this.#m=c,this.#P=l,this.#u=p,this.#s=b,this.#l=g,this.#h=y,this.#n=w,this.#C=_,this.#d=v,this.#i=T,this.#f=O,this.#e=A,this.#o=P;const R=Pe(t);this.#r=this.#r&Gt|R|Rs,R!==tt&&R!==ht&&R!==vt&&(this.#r|=xt)}#G=[];#x=!1;#q(t){this.#x=!1;const e=this.#G.slice();this.#G.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const n=s.slice(0,s.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#G.push(t),this.#x)return;this.#x=!0;const i=this.fullpath();this.#t.readdir(i,{withFileTypes:!0},(n,o)=>{if(n)this.#F(n.code),s.provisional=0;else{for(const c of o)this.#j(c,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(i=>s=i);try{for(const i of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#j(i,t);this.#N(t)}catch(i){this.#F(i.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#j(s,t);this.#N(t)}catch(s){this.#F(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#r&As)return!1;const t=et&this.#r;return t===tt||t===ht||t===vt}shouldWalk(t,e){return(this.#r&ht)===ht&&!(this.#r&As)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=this.#t.realpathSync(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}[Ds](t){if(t===this)return;const e=new Set([]);let s=[],i=this;for(;i&&i.parent;)e.add(i),i.#T=s.join(this.sep),i.#E=s.join("/"),i=i.parent,s.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#T=void 0,i.#E=void 0,i=i.parent}}B.PathBase=Y;class Yt extends Y{sep="\\";splitSep=Li;constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}newChild(t,e=tt,s={}){return new Yt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return he.win32.parse(t).root}getRoot(t){if(t=Di(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Le(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Ss,"$1\\"),t===e}}B.PathWin32=Yt;class Kt extends Y{splitSep="/";sep="/";constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=tt,s={}){return new Kt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=Kt;class De{root;rootPath;roots;cwd;#t;#s;#n;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:i,childrenCacheSize:n=16*1024,fs:o=Wt}={}){this.#i=ys(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Ci.fileURLToPath)(t));const c=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(c),this.#t=new Me,this.#s=new Me,this.#n=new Ms(n);const l=c.substring(this.rootPath.length).split(s);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let p=this.root,b=l.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of l){const v=b--;p=p.child(_,{relative:new Array(v).fill("..").join(g),relativePosix:new Array(v).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=p}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#n}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#t.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpath();return this.#t.set(e,i),i}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#s.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,i),i}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const i=await t.readdir();return s?i:i.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(i=>i.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set,p=(g,y)=>{l.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let v=_.length;if(!v)return y();const T=()=>{--v===0&&y()};for(const O of _)(!n||n(O))&&c.push(s?O:O.fullpath()),i&&O.isSymbolicLink()?O.realpath().then(A=>A?.isUnknown()?A.lstat():A).then(A=>A?.shouldWalk(l,o)?p(A,T):T()):O.shouldWalk(l,o)?p(O,T):T()},!0)},b=t;return new Promise((g,y)=>{p(b,w=>{if(w)return y(w);g(c)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set([t]);for(const p of l){const b=p.readdirSync();for(const g of b){(!n||n(g))&&c.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(i&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(l,o)&&l.add(y)}}return c}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield s?t:t.fullpath());const c=new Set([t]);for(const l of c){const p=l.readdirSync();for(const b of p){(!n||n(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(i&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(c,o)&&c.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0});(!n||n(t))&&c.write(s?t:t.fullpath());const l=new Set,p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=(T,O,A=!1)=>{if(T)return c.emit("error",T);if(i&&!A){const P=[];for(const R of O)R.isSymbolicLink()&&P.push(R.realpath().then(F=>F?.isUnknown()?F.lstat():F));if(P.length){Promise.all(P).then(()=>_(null,O,!0));return}}for(const P of O)P&&(!n||n(P))&&(c.write(s?P:P.fullpath())||(y=!0));b--;for(const P of O){const R=P.realpathCached()||P;R.shouldWalk(l,o)&&p.push(R)}y&&!c.flowing?c.once("drain",g):v||g()};let v=!0;w.readdirCB(_,!0),v=!1}};return g(),c}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0}),l=new Set;(!n||n(t))&&c.write(s?t:t.fullpath());const p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=w.readdirSync();for(const v of _)(!n||n(v))&&(c.write(s?v:v.fullpath())||(y=!0));b--;for(const v of _){let T=v;if(v.isSymbolicLink()){if(!(i&&(T=v.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(l,o)&&p.push(T)}}y&&!c.flowing&&c.once("drain",g)};return g(),c}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[Ds](e)}}B.PathScurryBase=De;class Le extends De{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,he.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(t){return he.win32.parse(t).root.toUpperCase()}newRoot(t){return new Yt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Le;class je extends De{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,he.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Kt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=je;class Ls extends je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=Ls,B.Path=process.platform==="win32"?Yt:Kt,B.PathScurry=process.platform==="win32"?Le:process.platform==="darwin"?Ls:je;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.Pattern=void 0;const Fi=mt,ki=r=>r.length>=1,Ni=r=>r.length>=1;class $e{#t;#s;#n;length;#i;#o;#l;#f;#a;#h;#e=!0;constructor(t,e,s,i){if(!ki(t))throw new TypeError("empty pattern list");if(!Ni(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#n=s,this.#i=i,this.#n===0){if(this.isUNC()){const[n,o,c,l,...p]=this.#t,[b,g,y,w,..._]=this.#s;p[0]===""&&(p.shift(),_.shift());const v=[n,o,c,l,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[v,...p],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[n,...o]=this.#t,[c,...l]=this.#s;o[0]===""&&(o.shift(),l.shift());const p=n+"/",b=c+"/";this.#t=[p,...o],this.#s=[b,...l],this.length=this.#t.length}}}pattern(){return this.#t[this.#n]}isString(){return typeof this.#t[this.#n]=="string"}isGlobstar(){return this.#t[this.#n]===Fi.GLOBSTAR}isRegExp(){return this.#t[this.#n]instanceof RegExp}globString(){return this.#l=this.#l||(this.#n===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new $e(this.#t,this.#s,this.#n+1,this.#i),this.#o.#h=this.#h,this.#o.#a=this.#a,this.#o.#f=this.#f,this.#o):this.#o=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#n===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#n===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#h!==void 0?this.#h:this.#h=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#n===0?t:""}checkFollowGlobstar(){return!(this.#n===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#n===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}zt.Pattern=$e;var wt={},js={};const Fs=typeof process=="object"&&process?process:{stdout:null,stderr:null},Bi=Ke,ks=Je,Ii=Ze,Ns=Ii.StringDecoder,ct=Symbol("EOF"),ft=Symbol("maybeEmitEnd"),bt=Symbol("emittedEnd"),fe=Symbol("emittingEnd"),Ut=Symbol("emittedError"),ue=Symbol("closed"),Bs=Symbol("read"),de=Symbol("flush"),Is=Symbol("flushChunk"),Z=Symbol("encoding"),ut=Symbol("decoder"),pe=Symbol("flowing"),Ht=Symbol("paused"),At=Symbol("resume"),G=Symbol("buffer"),ot=Symbol("pipes"),U=Symbol("bufferLength"),Fe=Symbol("bufferPush"),ke=Symbol("bufferShift"),H=Symbol("objectMode"),x=Symbol("destroyed"),Ne=Symbol("error"),Be=Symbol("emitData"),Ws=Symbol("emitEnd"),Ie=Symbol("emitEnd2"),dt=Symbol("async"),We=Symbol("abort"),me=Symbol("aborted"),_t=Symbol("signal"),qt=r=>Promise.resolve().then(r),Gs=it._MP_NO_ITERATOR_SYMBOLS_!=="1",xs=Gs&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$s=Gs&&Symbol.iterator||Symbol("iterator not implemented"),Wi=r=>r==="end"||r==="finish"||r==="prefinish",Gi=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,xi=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r);class zs{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[At](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class $i extends zs{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=i=>e.emit("error",i),t.on("error",this.proxyErrors)}}class ze extends ks{constructor(t){super(),this[pe]=!1,this[Ht]=!1,this[ot]=[],this[G]=[],this[H]=t&&t.objectMode||!1,this[H]?this[Z]=null:this[Z]=t&&t.encoding||null,this[Z]==="buffer"&&(this[Z]=null),this[dt]=t&&!!t.async||!1,this[ut]=this[Z]?new Ns(this[Z]):null,this[ct]=!1,this[bt]=!1,this[fe]=!1,this[ue]=!1,this[Ut]=null,this.writable=!0,this.readable=!0,this[U]=0,this[x]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[G]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ot]}),this[_t]=t&&t.signal,this[me]=!1,this[_t]&&(this[_t].addEventListener("abort",()=>this[We]()),this[_t].aborted&&this[We]())}get bufferLength(){return this[U]}get encoding(){return this[Z]}set encoding(t){if(this[H])throw new Error("cannot set encoding in objectMode");if(this[Z]&&t!==this[Z]&&(this[ut]&&this[ut].lastNeed||this[U]))throw new Error("cannot change encoding");this[Z]!==t&&(this[ut]=t?new Ns(t):null,this[G].length&&(this[G]=this[G].map(e=>this[ut].write(e)))),this[Z]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[H]}set objectMode(t){this[H]=this[H]||!!t}get async(){return this[dt]}set async(t){this[dt]=this[dt]||!!t}[We](){this[me]=!0,this.emit("abort",this[_t].reason),this.destroy(this[_t].reason)}get aborted(){return this[me]}set aborted(t){}write(t,e,s){if(this[me])return!1;if(this[ct])throw new Error("write after end");if(this[x])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const i=this[dt]?qt:n=>n();return!this[H]&&!Buffer.isBuffer(t)&&(xi(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gi(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[H]?(this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[Z]&&!this[ut].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[Z]&&(t=this[ut].write(t)),this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):(this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing)}read(t){if(this[x])return null;if(this[U]===0||t===0||t>this[U])return this[ft](),null;this[H]&&(t=null),this[G].length>1&&!this[H]&&(this.encoding?this[G]=[this[G].join("")]:this[G]=[Buffer.concat(this[G],this[U])]);const e=this[Bs](t||null,this[G][0]);return this[ft](),e}[Bs](t,e){return t===e.length||t===null?this[ke]():(this[G][0]=e.slice(t),e=e.slice(0,t),this[U]-=t),this.emit("data",e),!this[G].length&&!this[ct]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[ct]=!0,this.writable=!1,(this.flowing||!this[Ht])&&this[ft](),this}[At](){this[x]||(this[Ht]=!1,this[pe]=!0,this.emit("resume"),this[G].length?this[de]():this[ct]?this[ft]():this.emit("drain"))}resume(){return this[At]()}pause(){this[pe]=!1,this[Ht]=!0}get destroyed(){return this[x]}get flowing(){return this[pe]}get paused(){return this[Ht]}[Fe](t){this[H]?this[U]+=1:this[U]+=t.length,this[G].push(t)}[ke](){return this[H]?this[U]-=1:this[U]-=this[G][0].length,this[G].shift()}[de](t){do;while(this[Is](this[ke]())&&this[G].length);!t&&!this[G].length&&!this[ct]&&this.emit("drain")}[Is](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[x])return;const s=this[bt];return e=e||{},t===Fs.stdout||t===Fs.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ot].push(e.proxyErrors?new $i(this,t,e):new zs(this,t,e)),this[dt]?qt(()=>this[At]()):this[At]()),t}unpipe(t){const e=this[ot].find(s=>s.dest===t);e&&(this[ot].splice(this[ot].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ot].length&&!this.flowing?this[At]():t==="readable"&&this[U]!==0?super.emit("readable"):Wi(t)&&this[bt]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Ut]&&(this[dt]?qt(()=>e.call(this,this[Ut])):e.call(this,this[Ut])),s}get emittedEnd(){return this[bt]}[ft](){!this[fe]&&!this[bt]&&!this[x]&&this[G].length===0&&this[ct]&&(this[fe]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ue]&&this.emit("close"),this[fe]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==x&&this[x])return;if(t==="data")return!this[H]&&!e?!1:this[dt]?qt(()=>this[Be](e)):this[Be](e);if(t==="end")return this[Ws]();if(t==="close"){if(this[ue]=!0,!this[bt]&&!this[x])return;const n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[Ut]=e,super.emit(Ne,e);const n=!this[_t]||this.listeners("error").length?super.emit("error",e):!1;return this[ft](),n}else if(t==="resume"){const n=super.emit("resume");return this[ft](),n}else if(t==="finish"||t==="prefinish"){const n=super.emit(t);return this.removeAllListeners(t),n}const i=super.emit(t,e,...s);return this[ft](),i}[Be](t){for(const s of this[ot])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[ft](),e}[Ws](){this[bt]||(this[bt]=!0,this.readable=!1,this[dt]?qt(()=>this[Ie]()):this[Ie]())}[Ie](){if(this[ut]){const e=this[ut].end();if(e){for(const s of this[ot])s.dest.write(e);super.emit("data",e)}}for(const e of this[ot])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[H]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[H]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[H]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[H]?Promise.reject(new Error("cannot concat in objectMode")):this[Z]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(x,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[xs](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[ct])return e();let n=null,o=null;const c=g=>{this.removeListener("data",l),this.removeListener("end",p),this.removeListener(x,b),e(),o(g)},l=g=>{this.removeListener("error",c),this.removeListener("end",p),this.removeListener(x,b),this.pause(),n({value:g,done:!!this[ct]})},p=()=>{this.removeListener("error",c),this.removeListener("data",l),this.removeListener(x,b),e(),n({done:!0})},b=()=>c(new Error("stream destroyed"));return new Promise((g,y)=>{o=y,n=g,this.once(x,b),this.once("error",c),this.once("end",p),this.once("data",l)})},throw:e,return:e,[xs](){return this}}}[$s](){let t=!1;const e=()=>(this.pause(),this.removeListener(Ne,e),this.removeListener(x,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const i=this.read();return i===null?e():{value:i}};return this.once("end",e),this.once(Ne,e),this.once(x,e),{next:s,throw:e,return:e,[$s](){return this}}}destroy(t){return this[x]?(t?this.emit("error",t):this.emit(x),this):(this[x]=!0,this[G].length=0,this[U]=0,typeof this.close=="function"&&!this[ue]&&this.close(),t?this.emit("error",t):this.emit(x),this)}static isStream(t){return!!t&&(t instanceof ze||t instanceof ks||t instanceof Bi&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}js.Minipass=ze;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.Ignore=void 0;const Us=mt,zi=zt,Ui=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Hi{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:i,noglobstar:n,platform:o=Ui}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const c={dot:!0,nobrace:e,nocase:s,noext:i,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(const l of t){const p=new Us.Minimatch(l,c);for(let b=0;b<p.set.length;b++){const g=p.set[b],y=p.globParts[b],w=new zi.Pattern(g,y,0,o),_=new Us.Minimatch(w.globString(),c),v=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),v&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,i=t.relative()||".",n=`${i}/`;for(const o of this.relative)if(o.match(i)||o.match(n))return!0;for(const o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const i of this.relativeChildren)if(i.match(s))return!0;for(const i of this.absoluteChildren)i.match(e);return!1}}ge.Ignore=Hi;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.Processor=at.SubWalks=at.MatchRecord=at.HasWalkedCache=void 0;const Hs=mt;class ye{store;constructor(t=new Map){this.store=t}copy(){return new ye(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),i=this.store.get(s);i?i.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}at.HasWalkedCache=ye;class qs{store=new Map;add(t,e,s){const i=(e?2:0)|(s?1:0),n=this.store.get(t);this.store.set(t,n===void 0?i:i&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}at.MatchRecord=qs;class Vs{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(i=>i.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}at.SubWalks=Vs;class Ue{hasWalkedCache;matches=new qs;subwalks=new Vs;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new ye}processPatterns(t,e){this.patterns=e;const s=e.map(i=>[t,i]);for(let[i,n]of s){this.hasWalkedCache.storeWalked(i,n);const o=n.root(),c=n.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);const g=n.rest();if(g)n=g;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,p,b=!1;for(;typeof(l=n.pattern())=="string"&&(p=n.rest());){const g=i.resolve(l);if(g.isUnknown()&&l!=="..")break;i=g,n=p,b=!0}if(l=n.pattern(),p=n.rest(),b){if(this.hasWalkedCache.hasWalked(i,n))continue;this.hasWalkedCache.storeWalked(i,n)}if(typeof l=="string"){if(p)this.subwalks.add(i,n);else{const g=l===".."||l===""||l===".";this.matches.add(i.resolve(l),c,g)}continue}else if(l===Hs.GLOBSTAR){(!i.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(i,n);const g=p?.pattern(),y=p?.rest();if(!p||(g===""||g===".")&&!y)this.matches.add(i,c,g===""||g===".");else if(g===".."){const w=i.parent||i;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,c,!0)}}else l instanceof RegExp&&this.subwalks.add(i,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Ue(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),i=this.child();for(const n of e)for(const o of s){const c=o.isAbsolute(),l=o.pattern(),p=o.rest();l===Hs.GLOBSTAR?i.testGlobstar(n,o,p,c):l instanceof RegExp?i.testRegExp(n,l,p,c):i.testString(n,l,p,c)}return i}testGlobstar(t,e,s,i){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const n=s.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,s.rest(),i);else if(n===".."){const o=t.parent||t;this.subwalks.add(o,s)}else n instanceof RegExp&&this.testRegExp(t,n,s.rest(),i)}}testRegExp(t,e,s,i){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}testString(t,e,s,i){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}}at.Processor=Ue,Object.defineProperty(wt,"__esModule",{value:!0}),wt.GlobStream=wt.GlobWalker=wt.GlobUtil=void 0;const qi=js,Ys=ge,Ks=at,Vi=(r,t)=>typeof r=="string"?new Ys.Ignore([r],t):Array.isArray(r)?new Ys.Ignore(r,t):r;class Ge{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#n;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#n=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=Vi(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#o(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?this.#n:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+i)}else{const n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#n)?"."+this.#n:"";this.matchEmit(n?o+n+i:"."+i)}}async match(t,e,s){const i=await this.matchCheck(t,s);i&&this.matchFinish(i,e)}matchSync(t,e,s){const i=this.matchCheckSync(t,s);i&&this.matchFinish(i,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new Ks.Processor(this.opts),s)}walkCB2(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirCached();c.calledReaddir()?this.walkCB3(c,l,s,o):c.readdirCB((p,b)=>this.walkCB3(c,b,s,o),!0)}o()}walkCB3(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const[c,l]of s.subwalks.entries())n++,this.walkCB2(c,l,s.child(),o);o()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new Ks.Processor(this.opts),s)}walkCB2Sync(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirSync();this.walkCB3Sync(c,l,s,o)}o()}walkCB3Sync(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const[c,l]of s.subwalks.entries())n++,this.walkCB2Sync(c,l,s.child(),o);o()}}wt.GlobUtil=Ge;class Yi extends Ge{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}wt.GlobWalker=Yi;class Ki extends Ge{results;constructor(t,e,s){super(t,e,s),this.results=new qi.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}wt.GlobStream=Ki,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.Glob=void 0;const Ji=mt,we=B,Zi=Ve,Xi=zt,be=wt,Qi=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class tr{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Zi.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=t,this.platform=e.platform||Qi,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const l=e.platform==="win32"?we.PathScurryWin32:e.platform==="darwin"?we.PathScurryDarwin:e.platform?we.PathScurryPosix:we.PathScurry;this.scurry=new l(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(l=>new Ji.Minimatch(l,i)),[o,c]=n.reduce((l,p)=>(l[0].push(...p.set),l[1].push(...p.globParts),l),[[],[]]);this.patterns=o.map((l,p)=>new Xi.Pattern(l,c[p],0,this.platform))}async walk(){return[...await new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Nt.Glob=tr;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.hasMagic=void 0;const er=mt,sr=(r,t={})=>{Array.isArray(r)||(r=[r]);for(const e of r)if(new er.Minimatch(e,t).hasMagic())return!0;return!1};Vt.hasMagic=sr,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.glob=r.hasMagic=r.Glob=r.unescape=r.escape=r.sync=r.iterate=r.iterateSync=r.stream=r.streamSync=r.globIterate=r.globIterateSync=r.globSync=r.globStream=r.globStreamSync=void 0;const t=mt,e=Nt,s=Vt;function i(w,_={}){return new e.Glob(w,_).streamSync()}r.globStreamSync=i;function n(w,_={}){return new e.Glob(w,_).stream()}r.globStream=n;function o(w,_={}){return new e.Glob(w,_).walkSync()}r.globSync=o;async function c(w,_={}){return new e.Glob(w,_).walk()}function l(w,_={}){return new e.Glob(w,_).iterateSync()}r.globIterateSync=l;function p(w,_={}){return new e.Glob(w,_).iterate()}r.globIterate=p,r.streamSync=i,r.stream=Object.assign(n,{sync:i}),r.iterateSync=l,r.iterate=Object.assign(p,{sync:l}),r.sync=Object.assign(o,{stream:i,iterate:l});var b=mt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Nt;Object.defineProperty(r,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=Vt;Object.defineProperty(r,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),r.glob=Object.assign(c,{glob:c,globSync:o,sync:r.sync,globStream:n,stream:r.stream,globStreamSync:i,streamSync:r.streamSync,globIterate:p,iterate:r.iterate,globIterateSync:l,iterateSync:r.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),r.glob.glob=r.glob}(Xe);const{globSync:ir}=Xe;var rr=function(){return function(t){if(directoryExists(t))return!0;const e=t.replace(/\/__virtual__:.*$/,"");return ir(e+"/").length>0}},nr=ti(rr);module.exports=nr;
+;return module.exports()})({}),
       createDirectory(directoryName) {
         if (!nodeSystem.directoryExists(directoryName)) {
           try {
@@ -43562,7 +43734,20 @@ function tryLoadModuleUsingPaths(extensions, moduleName, baseDirectory, paths, p
       trace(state.host, Diagnostics.Module_name_0_matched_pattern_1, moduleName, matchedPatternText);
     }
     const resolved = forEach(paths[matchedPatternText], (subst) => {
-      const path = matchedStar ? subst.replace("*", matchedStar) : subst;
+      const unreplacedPath = (matchedStar ? subst.replace("*", matchedStar) : subst);
+let path;
+if (unreplacedPath.includes('./<packagePath>')) {
+	path = unreplacedPath.replace('./<packagePath>', getPackagePath(state.requestContainingDirectory))
+} else {
+	path = unreplacedPath
+}
+
+if (path.includes('./<dirname>')) {
+	path = path.replace(
+		'./<dirname>',
+		state.requestContainingDirectory
+	)
+}
       const candidate = normalizePath(combinePaths(baseDirectory, path));
       if (state.traceEnabled) {
         trace(state.host, Diagnostics.Trying_substitution_0_candidate_module_location_Colon_1, subst, path);
@@ -122589,7 +122774,7 @@ function createProgram(rootNamesOrOptions, _options, _host, _oldProgram, _config
     if (options.composite) {
       const rootPaths = new Set(rootNames.map(toPath3));
       for (const file of files) {
-        if (sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
+        if (!require('path').basename(file.path).startsWith('__virtual__:') && require('path').basename(file.path) !== 'package.json' && sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
           addProgramDiagnosticExplainingFile(
             file,
             Diagnostics.File_0_is_not_listed_within_the_file_list_of_project_1_Projects_must_list_all_files_or_use_an_include_pattern,
diff --git a/lib/tsserverlibrary.js b/lib/tsserverlibrary.js
index d53fe81a33a8df65c5c1d85386670bbec866ad6e..a8d323a1c0266d95cf2c2a086088c80dd6de172a 100644
--- a/lib/tsserverlibrary.js
+++ b/lib/tsserverlibrary.js
@@ -14,7 +14,171 @@ and limitations under the License.
 ***************************************************************************** */
 
 
-"use strict";
+"use strict";var getPackagePath = ((module) => {"use strict";var _t=require("fs"),pa=require("url"),Gn=require("os"),ve=require("path"),Tr=require("util"),Vt=require("stream"),ga=require("events"),ma=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ya(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function _a(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}),t}var X={},z={};function Re(n=""){return!n||!n.includes("\\")?n:n.replace(/\\/g,"/")}const ba=/^[/\\]{2}/,Sa=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,Rr=/^[A-Za-z]:$/,Pr="/",Nr=":",Wn=function(n){if(n.length===0)return".";n=Re(n);const e=n.match(ba),t=qe(n),s=n[n.length-1]==="/";return n=Gt(n,!t),n.length===0?t?"/":s?"./":".":(s&&(n+="/"),Rr.test(n)&&(n+="/"),e?t?`//${n}`:`//./${n}`:t&&!qe(n)?`/${n}`:n)},Cr=function(...n){if(n.length===0)return".";let e;for(const t of n)t&&t.length>0&&(e===void 0?e=t:e+=`/${t}`);return e===void 0?".":Wn(e.replace(/\/\/+/g,"/"))};function wa(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const bt=function(...n){n=n.map(s=>Re(s));let e="",t=!1;for(let s=n.length-1;s>=-1&&!t;s--){const r=s>=0?n[s]:wa();!r||r.length===0||(e=`${r}/${e}`,t=qe(r))}return e=Gt(e,!t),t&&!qe(e)?`/${e}`:e.length>0?e:"."};function Gt(n,e){let t="",s=0,r=-1,i=0,o=null;for(let a=0;a<=n.length;++a){if(a<n.length)o=n[a];else{if(o==="/")break;o="/"}if(o==="/"){if(!(r===a-1||i===1))if(i===2){if(t.length<2||s!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const l=t.lastIndexOf("/");l===-1?(t="",s=0):(t=t.slice(0,l),s=t.length-1-t.lastIndexOf("/")),r=a,i=0;continue}else if(t.length>0){t="",s=0,r=a,i=0;continue}}e&&(t+=t.length>0?"/..":"..",s=2)}else t.length>0?t+=`/${n.slice(r+1,a)}`:t=n.slice(r+1,a),s=a-r-1;r=a,i=0}else o==="."&&i!==-1?++i:i=-1}return t}const qe=function(n){return Sa.test(n)},Lr=function(n){return Re(n)},Ea=/.(\.[^./]+)$/,Yn=function(n){const e=Ea.exec(Re(n));return e&&e[1]||""},Ir=function(n,e){const t=bt(n).split("/"),s=bt(e).split("/"),r=[...t];for(const i of r){if(s[0]!==i)break;t.shift(),s.shift()}return[...t.map(()=>".."),...s].join("/")},Qn=function(n){const e=Re(n).replace(/\/$/,"").split("/").slice(0,-1);return e.length===1&&Rr.test(e[0])&&(e[0]+="/"),e.join("/")||(qe(n)?"/":".")},Mr=function(n){const e=[n.root,n.dir,n.base??n.name+n.ext].filter(Boolean);return Re(n.root?bt(...e):e.join("/"))},Jn=function(n,e){const t=Re(n).split("/").pop();return e&&t.endsWith(e)?t.slice(0,-e.length):t},Dr=function(n){const e=Re(n).split("/").shift()||"/",t=Jn(n),s=Yn(t);return{root:e,dir:Qn(n),base:t,ext:s,name:t.slice(0,t.length-s.length)}},Aa={__proto__:null,basename:Jn,delimiter:Nr,dirname:Qn,extname:Yn,format:Mr,isAbsolute:qe,join:Cr,normalize:Wn,normalizeString:Gt,parse:Dr,relative:Ir,resolve:bt,sep:Pr,toNamespacedPath:Lr};z.basename=Jn,z.delimiter=Nr,z.dirname=Qn,z.extname=Yn,z.format=Mr,z.isAbsolute=qe,z.join=Cr,z.normalize=Wn,z.normalizeString=Gt,z.normalizeWindowsPath=Re,z.parse=Dr,z.path=Aa,z.relative=Ir,z.resolve=bt,z.sep=Pr,z.toNamespacedPath=Lr,Object.defineProperty(X,"__esModule",{value:!0});const se=z;X.basename=se.basename,X.default=se.path,X.delimiter=se.delimiter,X.dirname=se.dirname,X.extname=se.extname,X.format=se.format,X.isAbsolute=se.isAbsolute,X.join=se.join,X.normalize=se.normalize,X.normalizeString=se.normalizeString,X.parse=se.parse,X.relative=se.relative,X.resolve=se.resolve,X.sep=se.sep,X.toNamespacedPath=se.toNamespacedPath;var va=Object.create,Wt=Object.defineProperty,ka=Object.getOwnPropertyDescriptor,Oa=Object.getOwnPropertyNames,$a=Object.getPrototypeOf,Ta=Object.prototype.hasOwnProperty,Ra=(n,e)=>{for(var t in e)Wt(n,t,{get:e[t],enumerable:!0})},xr=(n,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Oa(e))!Ta.call(n,r)&&r!==t&&Wt(n,r,{get:()=>e[r],enumerable:!(s=ka(e,r))||s.enumerable});return n},Br=(n,e,t)=>(t=n!=null?va($a(n)):{},xr(e||!n||!n.__esModule?Wt(t,"default",{value:n,enumerable:!0}):t,n)),Pa=n=>xr(Wt({},"__esModule",{value:!0}),n),jr={};Ra(jr,{getMonorepoDirpath:()=>La});var Na=Pa(jr),Xn=Br(_t),Yt=Br(X),Ca=pa;function La(n=process.cwd()){n=n.startsWith("file://")?(0,Ca.fileURLToPath)(n):n,Xn.statSync(n).isFile()&&(n=Yt.default.dirname(n));let e;for(;n!=="/";){const t=Xn.existsSync(Yt.default.join(n,"pnpm-workspace.yaml"));if(Xn.existsSync(Yt.default.join(n,"pnpm-lock.yaml"))&&(e=n),t)return n;n=Yt.default.dirname(n)}return e}var Fr={};const zn=Symbol.for("yaml.alias"),Zn=Symbol.for("yaml.document"),De=Symbol.for("yaml.map"),Hr=Symbol.for("yaml.pair"),Pe=Symbol.for("yaml.scalar"),tt=Symbol.for("yaml.seq"),fe=Symbol.for("yaml.node.type"),xe=n=>!!n&&typeof n=="object"&&n[fe]===zn,Ve=n=>!!n&&typeof n=="object"&&n[fe]===Zn,Ge=n=>!!n&&typeof n=="object"&&n[fe]===De,H=n=>!!n&&typeof n=="object"&&n[fe]===Hr,x=n=>!!n&&typeof n=="object"&&n[fe]===Pe,We=n=>!!n&&typeof n=="object"&&n[fe]===tt;function K(n){if(n&&typeof n=="object")switch(n[fe]){case De:case tt:return!0}return!1}function G(n){if(n&&typeof n=="object")switch(n[fe]){case zn:case De:case Pe:case tt:return!0}return!1}const Ia=n=>(x(n)||K(n))&&!!n.anchor,ie=Symbol("break visit"),Kr=Symbol("skip children"),ke=Symbol("remove node");function Ne(n,e){const t=Ur(e);Ve(n)?nt(null,n.contents,t,Object.freeze([n]))===ke&&(n.contents=null):nt(null,n,t,Object.freeze([]))}Ne.BREAK=ie,Ne.SKIP=Kr,Ne.REMOVE=ke;function nt(n,e,t,s){const r=qr(n,e,t,s);if(G(r)||H(r))return Vr(n,s,r),nt(n,r,t,s);if(typeof r!="symbol"){if(K(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const o=nt(i,e.items[i],t,s);if(typeof o=="number")i=o-1;else{if(o===ie)return ie;o===ke&&(e.items.splice(i,1),i-=1)}}}else if(H(e)){s=Object.freeze(s.concat(e));const i=nt("key",e.key,t,s);if(i===ie)return ie;i===ke&&(e.key=null);const o=nt("value",e.value,t,s);if(o===ie)return ie;o===ke&&(e.value=null)}}return r}async function St(n,e){const t=Ur(e);Ve(n)?await st(null,n.contents,t,Object.freeze([n]))===ke&&(n.contents=null):await st(null,n,t,Object.freeze([]))}St.BREAK=ie,St.SKIP=Kr,St.REMOVE=ke;async function st(n,e,t,s){const r=await qr(n,e,t,s);if(G(r)||H(r))return Vr(n,s,r),st(n,r,t,s);if(typeof r!="symbol"){if(K(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const o=await st(i,e.items[i],t,s);if(typeof o=="number")i=o-1;else{if(o===ie)return ie;o===ke&&(e.items.splice(i,1),i-=1)}}}else if(H(e)){s=Object.freeze(s.concat(e));const i=await st("key",e.key,t,s);if(i===ie)return ie;i===ke&&(e.key=null);const o=await st("value",e.value,t,s);if(o===ie)return ie;o===ke&&(e.value=null)}}return r}function Ur(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function qr(n,e,t,s){if(typeof t=="function")return t(n,e,s);if(Ge(e))return t.Map?.(n,e,s);if(We(e))return t.Seq?.(n,e,s);if(H(e))return t.Pair?.(n,e,s);if(x(e))return t.Scalar?.(n,e,s);if(xe(e))return t.Alias?.(n,e,s)}function Vr(n,e,t){const s=e[e.length-1];if(K(s))s.items[n]=t;else if(H(s))n==="key"?s.key=t:s.value=t;else if(Ve(s))s.contents=t;else{const r=xe(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}const Ma={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Da=n=>n.replace(/[!,[\]{}]/g,e=>Ma[e]);class re{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},re.defaultYaml,e),this.tags=Object.assign({},re.defaultTags,t)}clone(){const e=new re(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new re(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:re.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},re.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:re.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},re.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),r=s.shift();switch(r){case"%TAG":{if(s.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[i,o]=s;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[i]=s;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return t(6,`Unsupported YAML version ${i}`,o),!1}}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),o)}const[,s,r]=e.match(/^(.*!)([^!]*)$/);r||t(`The ${e} tag has no suffix`);const i=this.tags[s];return i?i+decodeURIComponent(r):s==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,s]of Object.entries(this.tags))if(e.startsWith(s))return t+Da(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let r;if(e&&s.length>0&&G(e.contents)){const i={};Ne(e.contents,(o,a)=>{G(a)&&a.tag&&(i[a.tag]=!0)}),r=Object.keys(i)}else r=[];for(const[i,o]of s)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&t.push(`%TAG ${i} ${o}`);return t.join(`
+`)}}re.defaultYaml={explicit:!1,version:"1.2"},re.defaultTags={"!!":"tag:yaml.org,2002:"};function Gr(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return!0}function Wr(n){const e=new Set;return Ne(n,{Value(t,s){s.anchor&&e.add(s.anchor)}}),e}function Yr(n,e){for(let t=1;;++t){const s=`${n}${t}`;if(!e.has(s))return s}}function xa(n,e){const t=[],s=new Map;let r=null;return{onAnchor:i=>{t.push(i),r||(r=Wr(n));const o=Yr(e,r);return r.add(o),o},setAnchors:()=>{for(const i of t){const o=s.get(i);if(typeof o=="object"&&o.anchor&&(x(o.node)||K(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:s}}function rt(n,e,t,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,i=s.length;r<i;++r){const o=s[r],a=rt(n,s,String(r),o);a===void 0?delete s[r]:a!==o&&(s[r]=a)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const i=s.get(r),o=rt(n,s,r,i);o===void 0?s.delete(r):o!==i&&s.set(r,o)}else if(s instanceof Set)for(const r of Array.from(s)){const i=rt(n,s,r,r);i===void 0?s.delete(r):i!==r&&(s.delete(r),s.add(i))}else for(const[r,i]of Object.entries(s)){const o=rt(n,s,r,i);o===void 0?delete s[r]:o!==i&&(s[r]=o)}return n.call(e,t,s)}function he(n,e,t){if(Array.isArray(n))return n.map((s,r)=>he(s,String(r),t));if(n&&typeof n.toJSON=="function"){if(!t||!Ia(n))return n.toJSON(e,t);const s={aliasCount:0,count:1,res:void 0};t.anchors.set(n,s),t.onCreate=i=>{s.res=i,delete t.onCreate};const r=n.toJSON(e,t);return t.onCreate&&t.onCreate(r),r}return typeof n=="bigint"&&!t?.keep?Number(n):n}class es{constructor(e){Object.defineProperty(this,fe,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:s,onAnchor:r,reviver:i}={}){if(!Ve(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=he(this,"",o);if(typeof r=="function")for(const{count:l,res:c}of o.anchors.values())r(c,l);return typeof i=="function"?rt(i,{"":a},"",a):a}}class wt extends es{constructor(e){super(zn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return Ne(e,{Node:(s,r)=>{if(r===this)return Ne.BREAK;r.anchor===this.source&&(t=r)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:s,doc:r,maxAliasCount:i}=t,o=this.resolve(r);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(o);if(a||(he(o,null,t),a=s.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Qt(r,o,s)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,t,s){const r=`*${this.source}`;if(e){if(Gr(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${r} `}return r}}function Qt(n,e,t){if(xe(e)){const s=e.resolve(n),r=t&&s&&t.get(s);return r?r.count*r.aliasCount:0}else if(K(e)){let s=0;for(const r of e.items){const i=Qt(n,r,t);i>s&&(s=i)}return s}else if(H(e)){const s=Qt(n,e.key,t),r=Qt(n,e.value,t);return Math.max(s,r)}return 1}const Qr=n=>!n||typeof n!="function"&&typeof n!="object";class L extends es{constructor(e){super(Pe),this.value=e}toJSON(e,t){return t?.keep?this.value:he(this.value,e,t)}toString(){return String(this.value)}}L.BLOCK_FOLDED="BLOCK_FOLDED",L.BLOCK_LITERAL="BLOCK_LITERAL",L.PLAIN="PLAIN",L.QUOTE_DOUBLE="QUOTE_DOUBLE",L.QUOTE_SINGLE="QUOTE_SINGLE";const Ba="tag:yaml.org,2002:";function ja(n,e,t){if(e){const s=t.filter(i=>i.tag===e),r=s.find(i=>!i.format)??s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return t.find(s=>s.identify?.(n)&&!s.format)}function Et(n,e,t){if(Ve(n)&&(n=n.contents),G(n))return n;if(H(n)){const f=t.schema[De].createNode?.(t.schema,null,t);return f.items.push(n),f}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:i,schema:o,sourceObjects:a}=t;let l;if(s&&n&&typeof n=="object"){if(l=a.get(n),l)return l.anchor||(l.anchor=r(n)),new wt(l.anchor);l={anchor:null,node:null},a.set(n,l)}e?.startsWith("!!")&&(e=Ba+e.slice(2));let c=ja(n,e,o.tags);if(!c){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const f=new L(n);return l&&(l.node=f),f}c=n instanceof Map?o[De]:Symbol.iterator in Object(n)?o[tt]:o[De]}i&&(i(c),delete t.onTagObj);const u=c?.createNode?c.createNode(t.schema,n,t):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(t.schema,n,t):new L(n);return e?u.tag=e:c.default||(u.tag=c.tag),l&&(l.node=u),u}function Jt(n,e,t){let s=t;for(let r=e.length-1;r>=0;--r){const i=e[r];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=s,s=o}else s=new Map([[i,s]])}return Et(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const At=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class Xt extends es{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(s=>G(s)||H(s)?s.clone(e):s),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(At(e))this.add(t);else{const[s,...r]=e,i=this.get(s,!0);if(K(i))i.addIn(r,t);else if(i===void 0&&this.schema)this.set(s,Jt(this.schema,r,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(e){const[t,...s]=e;if(s.length===0)return this.delete(t);const r=this.get(t,!0);if(K(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${s}`)}getIn(e,t){const[s,...r]=e,i=this.get(s,!0);return r.length===0?!t&&x(i)?i.value:i:K(i)?i.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!H(t))return!1;const s=t.value;return s==null||e&&x(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[t,...s]=e;if(s.length===0)return this.has(t);const r=this.get(t,!0);return K(r)?r.hasIn(s):!1}setIn(e,t){const[s,...r]=e;if(r.length===0)this.set(s,t);else{const i=this.get(s,!0);if(K(i))i.setIn(r,t);else if(i===void 0&&this.schema)this.set(s,Jt(this.schema,r,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}}Xt.maxFlowStringSingleLineLength=60;const Fa=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function Ce(n,e){return/^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}const Be=(n,e,t)=>n.endsWith(`
+`)?Ce(t,e):t.includes(`
+`)?`
+`+Ce(t,e):(n.endsWith(" ")?"":" ")+t,Jr="flow",ts="block",zt="quoted";function Zt(n,e,t="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return n;const l=Math.max(1+i,1+r-e.length);if(n.length<=l)return n;const c=[],u={};let f=r-e.length;typeof s=="number"&&(s>r-Math.max(2,i)?c.push(0):f=r-s);let h,g,p=!1,d=-1,m=-1,w=-1;t===ts&&(d=Xr(n,d),d!==-1&&(f=d+l));for(let k;k=n[d+=1];){if(t===zt&&k==="\\"){switch(m=d,n[d+1]){case"x":d+=3;break;case"u":d+=5;break;case"U":d+=9;break;default:d+=1}w=d}if(k===`
+`)t===ts&&(d=Xr(n,d)),f=d+l,h=void 0;else{if(k===" "&&g&&g!==" "&&g!==`
+`&&g!=="	"){const T=n[d+1];T&&T!==" "&&T!==`
+`&&T!=="	"&&(h=d)}if(d>=f)if(h)c.push(h),f=h+l,h=void 0;else if(t===zt){for(;g===" "||g==="	";)g=k,k=n[d+=1],p=!0;const T=d>w+1?d-2:m-1;if(u[T])return n;c.push(T),u[T]=!0,f=T+l,h=void 0}else p=!0}g=k}if(p&&a&&a(),c.length===0)return n;o&&o();let E=n.slice(0,c[0]);for(let k=0;k<c.length;++k){const T=c[k],A=c[k+1]||n.length;T===0?E=`
+${e}${n.slice(0,A)}`:(t===zt&&u[T]&&(E+=`${n[T]}\\`),E+=`
+${e}${n.slice(T+1,A)}`)}return E}function Xr(n,e){let t=n[e+1];for(;t===" "||t==="	";){do t=n[e+=1];while(t&&t!==`
+`);t=n[e+1]}return e}const en=(n,e)=>({indentAtStart:e?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),tn=n=>/^(%|---|\.\.\.)/m.test(n);function Ha(n,e,t){if(!e||e<0)return!1;const s=e-t,r=n.length;if(r<=s)return!1;for(let i=0,o=0;i<r;++i)if(n[i]===`
+`){if(i-o>s)return!0;if(o=i+1,r-o<=s)return!1}return!0}function vt(n,e){const t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(tn(n)?"  ":"");let o="",a=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(o+=t.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{o+=t.slice(a,l);const u=t.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=t.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||t[l+2]==='"'||t.length<r)l+=1;else{for(o+=t.slice(a,l)+`
+
+`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)o+=`
+`,l+=2;o+=i,t[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+t.slice(a):t,s?o:Zt(o,i,zt,en(e,!1))}function ns(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
+`)||/[ \t]\n|\n[ \t]/.test(n))return vt(n,e);const t=e.indent||(tn(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
+${t}`)+"'";return e.implicitKey?s:Zt(s,t,Jr,en(e,!1))}function it(n,e){const{singleQuote:t}=e.options;let s;if(t===!1)s=vt;else{const r=n.includes('"'),i=n.includes("'");r&&!i?s=ns:i&&!r?s=vt:s=t?ns:vt}return s(n,e)}let ss;try{ss=new RegExp(`(^|(?<!
+))
++(?!
+|$)`,"g")}catch{ss=/\n+(?!\n|$)/g}function nn({comment:n,type:e,value:t},s,r,i){const{blockQuote:o,commentString:a,lineWidth:l}=s.options;if(!o||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return it(t,s);const c=s.indent||(s.forceBlockIndent||tn(t)?"  ":""),u=o==="literal"?!0:o==="folded"||e===L.BLOCK_FOLDED?!1:e===L.BLOCK_LITERAL?!0:!Ha(t,l,c.length);if(!t)return u?`|
+`:`>
+`;let f,h;for(h=t.length;h>0;--h){const S=t[h-1];if(S!==`
+`&&S!=="	"&&S!==" ")break}let g=t.substring(h);const p=g.indexOf(`
+`);p===-1?f="-":t===g||p!==g.length-1?(f="+",i&&i()):f="",g&&(t=t.slice(0,-g.length),g[g.length-1]===`
+`&&(g=g.slice(0,-1)),g=g.replace(ss,`$&${c}`));let d=!1,m,w=-1;for(m=0;m<t.length;++m){const S=t[m];if(S===" ")d=!0;else if(S===`
+`)w=m;else break}let E=t.substring(0,w<m?w+1:m);E&&(t=t.substring(E.length),E=E.replace(/\n+/g,`$&${c}`));let T=(u?"|":">")+(d?c?"2":"1":"")+f;if(n&&(T+=" "+a(n.replace(/ ?[\r\n]+/g," ")),r&&r()),u)return t=t.replace(/\n+/g,`$&${c}`),`${T}
+${c}${E}${t}${g}`;t=t.replace(/\n+/g,`
+$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const A=Zt(`${E}${t}${g}`,c,ts,en(s,!0));return`${T}
+${c}${A}`}function Ka(n,e,t,s){const{type:r,value:i}=n,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&i.includes(`
+`)||u&&/[[\]{},]/.test(i))return it(i,e);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||u||!i.includes(`
+`)?it(i,e):nn(n,e,t,s);if(!a&&!u&&r!==L.PLAIN&&i.includes(`
+`))return nn(n,e,t,s);if(tn(i)){if(l==="")return e.forceBlockIndent=!0,nn(n,e,t,s);if(a&&l===c)return it(i,e)}const f=i.replace(/\n+/g,`$&
+${l}`);if(o){const h=d=>d.default&&d.tag!=="tag:yaml.org,2002:str"&&d.test?.test(f),{compat:g,tags:p}=e.doc.schema;if(p.some(h)||g?.some(h))return it(i,e)}return a?f:Zt(f,l,Jr,en(e,!1))}function kt(n,e,t,s){const{implicitKey:r,inFlow:i}=e,o=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:a}=n;a!==L.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=L.QUOTE_DOUBLE);const l=u=>{switch(u){case L.BLOCK_FOLDED:case L.BLOCK_LITERAL:return r||i?it(o.value,e):nn(o,e,t,s);case L.QUOTE_DOUBLE:return vt(o.value,e);case L.QUOTE_SINGLE:return ns(o.value,e);case L.PLAIN:return Ka(o,e,t,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:f}=e.options,h=r&&u||f;if(c=l(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function zr(n,e){const t=Object.assign({blockQuote:!0,commentString:Fa,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e);let s;switch(t.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:s,options:t}}function Ua(n,e){if(e.tag){const r=n.filter(i=>i.tag===e.tag);if(r.length>0)return r.find(i=>i.format===e.format)??r[0]}let t,s;if(x(e)){s=e.value;const r=n.filter(i=>i.identify?.(s));t=r.find(i=>i.format===e.format)??r.find(i=>!i.format)}else s=e,t=n.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!t){const r=s?.constructor?.name??typeof s;throw new Error(`Tag not resolved for ${r} value`)}return t}function qa(n,e,{anchors:t,doc:s}){if(!s.directives)return"";const r=[],i=(x(n)||K(n))&&n.anchor;i&&Gr(i)&&(t.add(i),r.push(`&${i}`));const o=n.tag?n.tag:e.default?null:e.tag;return o&&r.push(s.directives.tagString(o)),r.join(" ")}function ot(n,e,t,s){if(H(n))return n.toString(e,t,s);if(xe(n)){if(e.doc.directives)return n.toString(e);if(e.resolvedAliases?.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc)}let r;const i=G(n)?n:e.doc.createNode(n,{onTagObj:l=>r=l});r||(r=Ua(e.doc.schema.tags,i));const o=qa(i,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof r.stringify=="function"?r.stringify(i,e,t,s):x(i)?kt(i,e,t,s):i.toString(e,t,s);return o?x(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
+${e.indent}${a}`:a}function Va({key:n,value:e},t,s,r){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:f}}=t;let h=G(n)&&n.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(K(n)){const R="With simple keys, collection cannot be used as a key value";throw new Error(R)}}let g=!f&&(!n||h&&e==null&&!t.inFlow||K(n)||(x(n)?n.type===L.BLOCK_FOLDED||n.type===L.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!g&&(f||!i),indent:a+l});let p=!1,d=!1,m=ot(n,t,()=>p=!0,()=>d=!0);if(!g&&!t.inFlow&&m.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");g=!0}if(t.inFlow){if(i||e==null)return p&&s&&s(),m===""?"?":g?`? ${m}`:m}else if(i&&!f||e==null&&g)return m=`? ${m}`,h&&!p?m+=Be(m,t.indent,c(h)):d&&r&&r(),m;p&&(h=null),g?(h&&(m+=Be(m,t.indent,c(h))),m=`? ${m}
+${a}:`):(m=`${m}:`,h&&(m+=Be(m,t.indent,c(h))));let w,E,k;G(e)?(w=!!e.spaceBefore,E=e.commentBefore,k=e.comment):(w=!1,E=null,k=null,e&&typeof e=="object"&&(e=o.createNode(e))),t.implicitKey=!1,!g&&!h&&x(e)&&(t.indentAtStart=m.length+1),d=!1,!u&&l.length>=2&&!t.inFlow&&!g&&We(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let T=!1;const A=ot(e,t,()=>T=!0,()=>d=!0);let S=" ";if(h||w||E){if(S=w?`
+`:"",E){const R=c(E);S+=`
+${Ce(R,t.indent)}`}A===""&&!t.inFlow?S===`
+`&&(S=`
+
+`):S+=`
+${t.indent}`}else if(!g&&K(e)){const R=A[0],$=A.indexOf(`
+`),P=$!==-1,B=t.inFlow??e.flow??e.items.length===0;if(P||!B){let b=!1;if(P&&(R==="&"||R==="!")){let C=A.indexOf(" ");R==="&"&&C!==-1&&C<$&&A[C+1]==="!"&&(C=A.indexOf(" ",C+1)),(C===-1||$<C)&&(b=!0)}b||(S=`
+${t.indent}`)}}else(A===""||A[0]===`
+`)&&(S="");return m+=S+A,t.inFlow?T&&s&&s():k&&!T?m+=Be(m,t.indent,c(k)):d&&r&&r(),m}function Zr(n,e){(n==="debug"||n==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const ei="<<";function ti(n,e,{key:t,value:s}){if(n?.doc.schema.merge&&Ga(t))if(s=xe(s)?s.resolve(n.doc):s,We(s))for(const r of s.items)rs(n,e,r);else if(Array.isArray(s))for(const r of s)rs(n,e,r);else rs(n,e,s);else{const r=he(t,"",n);if(e instanceof Map)e.set(r,he(s,r,n));else if(e instanceof Set)e.add(r);else{const i=Wa(t,r,n),o=he(s,i,n);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}const Ga=n=>n===ei||x(n)&&n.value===ei&&(!n.type||n.type===L.PLAIN);function rs(n,e,t){const s=n&&xe(t)?t.resolve(n.doc):t;if(!Ge(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,n,Map);for(const[i,o]of r)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Wa(n,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(G(n)&&t?.doc){const s=zr(t.doc,{});s.anchors=new Set;for(const i of t.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const r=n.toString(s);if(!t.mapKeyWarned){let i=JSON.stringify(r);i.length>40&&(i=i.substring(0,36)+'..."'),Zr(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return r}return JSON.stringify(e)}function is(n,e,t){const s=Et(n,void 0,t),r=Et(e,void 0,t);return new Z(s,r)}class Z{constructor(e,t=null){Object.defineProperty(this,fe,{value:Hr}),this.key=e,this.value=t}clone(e){let{key:t,value:s}=this;return G(t)&&(t=t.clone(e)),G(s)&&(s=s.clone(e)),new Z(t,s)}toJSON(e,t){const s=t?.mapAsMap?new Map:{};return ti(t,s,this)}toString(e,t,s){return e?.doc?Va(this,e,t,s):JSON.stringify(this)}}function ni(n,e,t){return(e.inFlow??n.flow?Qa:Ya)(n,e,t)}function Ya({comment:n,items:e},t,{blockItemPrefix:s,flowChars:r,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=t,u=Object.assign({},t,{indent:i,type:null});let f=!1;const h=[];for(let p=0;p<e.length;++p){const d=e[p];let m=null;if(G(d))!f&&d.spaceBefore&&h.push(""),sn(t,h,d.commentBefore,f),d.comment&&(m=d.comment);else if(H(d)){const E=G(d.key)?d.key:null;E&&(!f&&E.spaceBefore&&h.push(""),sn(t,h,E.commentBefore,f))}f=!1;let w=ot(d,u,()=>m=null,()=>f=!0);m&&(w+=Be(w,i,c(m))),f&&m&&(f=!1),h.push(s+w)}let g;if(h.length===0)g=r.start+r.end;else{g=h[0];for(let p=1;p<h.length;++p){const d=h[p];g+=d?`
+${l}${d}`:`
+`}}return n?(g+=`
+`+Ce(c(n),l),a&&a()):f&&o&&o(),g}function Qa({comment:n,items:e},t,{flowChars:s,itemIndent:r,onComment:i}){const{indent:o,indentStep:a,flowCollectionPadding:l,options:{commentString:c}}=t;r+=a;const u=Object.assign({},t,{indent:r,inFlow:!0,type:null});let f=!1,h=0;const g=[];for(let w=0;w<e.length;++w){const E=e[w];let k=null;if(G(E))E.spaceBefore&&g.push(""),sn(t,g,E.commentBefore,!1),E.comment&&(k=E.comment);else if(H(E)){const A=G(E.key)?E.key:null;A&&(A.spaceBefore&&g.push(""),sn(t,g,A.commentBefore,!1),A.comment&&(f=!0));const S=G(E.value)?E.value:null;S?(S.comment&&(k=S.comment),S.commentBefore&&(f=!0)):E.value==null&&A?.comment&&(k=A.comment)}k&&(f=!0);let T=ot(E,u,()=>k=null);w<e.length-1&&(T+=","),k&&(T+=Be(T,r,c(k))),!f&&(g.length>h||T.includes(`
+`))&&(f=!0),g.push(T),h=g.length}let p;const{start:d,end:m}=s;if(g.length===0)p=d+m;else if(f||(f=g.reduce((E,k)=>E+k.length+2,2)>Xt.maxFlowStringSingleLineLength),f){p=d;for(const w of g)p+=w?`
+${a}${o}${w}`:`
+`;p+=`
+${o}${m}`}else p=`${d}${l}${g.join(" ")}${l}${m}`;return n&&(p+=Be(p,o,c(n)),i&&i()),p}function sn({indent:n,options:{commentString:e}},t,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const i=Ce(e(s),n);t.push(i.trimStart())}}function Ye(n,e){const t=x(e)?e.value:e;for(const s of n)if(H(s)&&(s.key===e||s.key===t||x(s.key)&&s.key.value===t))return s}class oe extends Xt{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(De,e),this.items=[]}static from(e,t,s){const{keepUndefined:r,replacer:i}=s,o=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(t,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||r)&&o.items.push(is(l,c,s))};if(t instanceof Map)for(const[l,c]of t)a(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))a(l,t[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,t){let s;H(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Z(e,e?.value):s=new Z(e.key,e.value);const r=Ye(this.items,s.key),i=this.schema?.sortMapEntries;if(r){if(!t)throw new Error(`Key ${s.key} already set`);x(r.value)&&Qr(s.value)?r.value.value=s.value:r.value=s.value}else if(i){const o=this.items.findIndex(a=>i(s,a)<0);o===-1?this.items.push(s):this.items.splice(o,0,s)}else this.items.push(s)}delete(e){const t=Ye(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const r=Ye(this.items,e)?.value;return(!t&&x(r)?r.value:r)??void 0}has(e){return!!Ye(this.items,e)}set(e,t){this.add(new Z(e,t),!0)}toJSON(e,t,s){const r=s?new s:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(r);for(const i of this.items)ti(t,r,i);return r}toString(e,t,s){if(!e)return JSON.stringify(this);for(const r of this.items)if(!H(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),ni(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:t})}}const at={collection:"map",default:!0,nodeClass:oe,tag:"tag:yaml.org,2002:map",resolve(n,e){return Ge(n)||e("Expected a mapping for this tag"),n},createNode:(n,e,t)=>oe.from(n,e,t)};class Le extends Xt{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(tt,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=rn(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const s=rn(e);if(typeof s!="number")return;const r=this.items[s];return!t&&x(r)?r.value:r}has(e){const t=rn(e);return typeof t=="number"&&t<this.items.length}set(e,t){const s=rn(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[s];x(r)&&Qr(t)?r.value=t:this.items[s]=t}toJSON(e,t){const s=[];t?.onCreate&&t.onCreate(s);let r=0;for(const i of this.items)s.push(he(i,String(r++),t));return s}toString(e,t,s){return e?ni(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:t}):JSON.stringify(this)}static from(e,t,s){const{replacer:r}=s,i=new this(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let a of t){if(typeof r=="function"){const l=t instanceof Set?a:String(o++);a=r.call(t,l,a)}i.items.push(Et(a,void 0,s))}}return i}}function rn(n){let e=x(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const lt={collection:"seq",default:!0,nodeClass:Le,tag:"tag:yaml.org,2002:seq",resolve(n,e){return We(n)||e("Expected a sequence for this tag"),n},createNode:(n,e,t)=>Le.from(n,e,t)},on={identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify(n,e,t,s){return e=Object.assign({actualString:!0},e),kt(n,e,t,s)}},an={identify:n=>n==null,createNode:()=>new L(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new L(null),stringify:({source:n},e)=>typeof n=="string"&&an.test.test(n)?n:e.options.nullStr},os={identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:n=>new L(n[0]==="t"||n[0]==="T"),stringify({source:n,value:e},t){if(n&&os.test.test(n)){const s=n[0]==="t"||n[0]==="T";if(e===s)return n}return e?t.options.trueStr:t.options.falseStr}};function _e({format:n,minFractionDigits:e,tag:t,value:s}){if(typeof s=="bigint")return String(s);const r=typeof s=="number"?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(s);if(!n&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=e-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const si={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},ri={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():_e(n)}},ii={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(n){const e=new L(parseFloat(n)),t=n.indexOf(".");return t!==-1&&n[n.length-1]==="0"&&(e.minFractionDigits=n.length-t-1),e},stringify:_e},ln=n=>typeof n=="bigint"||Number.isInteger(n),as=(n,e,t,{intAsBigInt:s})=>s?BigInt(n):parseInt(n.substring(e),t);function oi(n,e,t){const{value:s}=n;return ln(s)&&s>=0?t+s.toString(e):_e(n)}const ai={identify:n=>ln(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(n,e,t)=>as(n,2,8,t),stringify:n=>oi(n,8,"0o")},li={identify:ln,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(n,e,t)=>as(n,0,10,t),stringify:_e},ci={identify:n=>ln(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(n,e,t)=>as(n,2,16,t),stringify:n=>oi(n,16,"0x")},Ja=[at,lt,on,an,os,ai,li,ci,si,ri,ii];function ui(n){return typeof n=="bigint"||Number.isInteger(n)}const cn=({value:n})=>JSON.stringify(n),Xa=[{identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify:cn},{identify:n=>n==null,createNode:()=>new L(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:cn},{identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:n=>n==="true",stringify:cn},{identify:ui,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(n,e,{intAsBigInt:t})=>t?BigInt(n):parseInt(n,10),stringify:({value:n})=>ui(n)?n.toString():JSON.stringify(n)},{identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:n=>parseFloat(n),stringify:cn}],za={default:!0,tag:"",test:/^/,resolve(n,e){return e(`Unresolved plain scalar ${JSON.stringify(n)}`),n}},Za=[at,lt].concat(Xa,za),ls={identify:n=>n instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(n,e){if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){const t=atob(n.replace(/[\n\r]/g,"")),s=new Uint8Array(t.length);for(let r=0;r<t.length;++r)s[r]=t.charCodeAt(r);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),n},stringify({comment:n,type:e,value:t},s,r,i){const o=t;let a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=L.BLOCK_LITERAL),e!==L.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let f=0,h=0;f<c;++f,h+=l)u[f]=a.substr(h,l);a=u.join(e===L.BLOCK_LITERAL?`
+`:" ")}return kt({comment:n,type:e,value:a},s,r,i)}};function fi(n,e){if(We(n))for(let t=0;t<n.items.length;++t){let s=n.items[t];if(!H(s)){if(Ge(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const r=s.items[0]||new Z(new L(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}
+${r.key.commentBefore}`:s.commentBefore),s.comment){const i=r.value??r.key;i.comment=i.comment?`${s.comment}
+${i.comment}`:s.comment}s=r}n.items[t]=H(s)?s:new Z(s)}}else e("Expected a sequence for this tag");return n}function hi(n,e,t){const{replacer:s}=t,r=new Le(n);r.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;r.items.push(is(a,l,t))}return r}const cs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:fi,createNode:hi};class mt extends Le{constructor(){super(),this.add=oe.prototype.add.bind(this),this.delete=oe.prototype.delete.bind(this),this.get=oe.prototype.get.bind(this),this.has=oe.prototype.has.bind(this),this.set=oe.prototype.set.bind(this),this.tag=mt.tag}toJSON(e,t){if(!t)return super.toJSON(e);const s=new Map;t?.onCreate&&t.onCreate(s);for(const r of this.items){let i,o;if(H(r)?(i=he(r.key,"",t),o=he(r.value,i,t)):i=he(r,"",t),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,o)}return s}static from(e,t,s){const r=hi(e,t,s),i=new this;return i.items=r.items,i}}mt.tag="tag:yaml.org,2002:omap";const us={collection:"seq",identify:n=>n instanceof Map,nodeClass:mt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,e){const t=fi(n,e),s=[];for(const{key:r}of t.items)x(r)&&(s.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new mt,t)},createNode:(n,e,t)=>mt.from(n,e,t)};function di({value:n,source:e},t){return e&&(n?pi:gi).test.test(e)?e:n?t.options.trueStr:t.options.falseStr}const pi={identify:n=>n===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new L(!0),stringify:di},gi={identify:n=>n===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new L(!1),stringify:di},el={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},tl={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n.replace(/_/g,"")),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():_e(n)}},nl={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(n){const e=new L(parseFloat(n.replace(/_/g,""))),t=n.indexOf(".");if(t!==-1){const s=n.substring(t+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:_e},Ot=n=>typeof n=="bigint"||Number.isInteger(n);function un(n,e,t,{intAsBigInt:s}){const r=n[0];if((r==="-"||r==="+")&&(e+=1),n=n.substring(e).replace(/_/g,""),s){switch(t){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`;break}const o=BigInt(n);return r==="-"?BigInt(-1)*o:o}const i=parseInt(n,t);return r==="-"?-1*i:i}function fs(n,e,t){const{value:s}=n;if(Ot(s)){const r=s.toString(e);return s<0?"-"+t+r.substr(1):t+r}return _e(n)}const sl={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(n,e,t)=>un(n,2,2,t),stringify:n=>fs(n,2,"0b")},rl={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(n,e,t)=>un(n,1,8,t),stringify:n=>fs(n,8,"0")},il={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(n,e,t)=>un(n,0,10,t),stringify:_e},ol={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(n,e,t)=>un(n,2,16,t),stringify:n=>fs(n,16,"0x")};class yt extends oe{constructor(e){super(e),this.tag=yt.tag}add(e){let t;H(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new Z(e.key,null):t=new Z(e,null),Ye(this.items,t.key)||this.items.push(t)}get(e,t){const s=Ye(this.items,e);return!t&&H(s)?x(s.key)?s.key.value:s.key:s}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const s=Ye(this.items,e);s&&!t?this.items.splice(this.items.indexOf(s),1):!s&&t&&this.items.push(new Z(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,s);throw new Error("Set items must all have null values")}static from(e,t,s){const{replacer:r}=s,i=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof r=="function"&&(o=r.call(t,o,o)),i.items.push(is(o,null,s));return i}}yt.tag="tag:yaml.org,2002:set";const hs={collection:"map",identify:n=>n instanceof Set,nodeClass:yt,default:!1,tag:"tag:yaml.org,2002:set",createNode:(n,e,t)=>yt.from(n,e,t),resolve(n,e){if(Ge(n)){if(n.hasAllNullValues(!0))return Object.assign(new yt,n);e("Set items must all have null values")}else e("Expected a mapping for this tag");return n}};function ds(n,e){const t=n[0],s=t==="-"||t==="+"?n.substring(1):n,r=o=>e?BigInt(o):Number(o),i=s.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return t==="-"?r(-1)*i:i}function mi(n){let{value:e}=n,t=o=>o;if(typeof e=="bigint")t=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return _e(n);let s="";e<0&&(s="-",e*=t(-1));const r=t(60),i=[e%r];return e<60?i.unshift(0):(e=(e-i[0])/r,i.unshift(e%r),e>=60&&(e=(e-i[0])/r,i.unshift(e))),s+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const yi={identify:n=>typeof n=="bigint"||Number.isInteger(n),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(n,e,{intAsBigInt:t})=>ds(n,t),stringify:mi},_i={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:n=>ds(n,!1),stringify:mi},fn={identify:n=>n instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(n){const e=n.match(fn.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,s,r,i,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(t,s-1,r,i||0,o||0,a||0,l);const u=e[8];if(u&&u!=="Z"){let f=ds(u,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:n})=>n.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},bi=[at,lt,on,an,pi,gi,sl,rl,il,ol,el,tl,nl,ls,us,cs,hs,yi,_i,fn],Si=new Map([["core",Ja],["failsafe",[at,lt,on]],["json",Za],["yaml11",bi],["yaml-1.1",bi]]),wi={binary:ls,bool:os,float:ii,floatExp:ri,floatNaN:si,floatTime:_i,int:li,intHex:ci,intOct:ai,intTime:yi,map:at,null:an,omap:us,pairs:cs,seq:lt,set:hs,timestamp:fn},al={"tag:yaml.org,2002:binary":ls,"tag:yaml.org,2002:omap":us,"tag:yaml.org,2002:pairs":cs,"tag:yaml.org,2002:set":hs,"tag:yaml.org,2002:timestamp":fn};function ps(n,e){let t=Si.get(e);if(!t)if(Array.isArray(n))t=[];else{const s=Array.from(Si.keys()).filter(r=>r!=="yaml11").map(r=>JSON.stringify(r)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(n))for(const s of n)t=t.concat(s);else typeof n=="function"&&(t=n(t.slice()));return t.map(s=>{if(typeof s!="string")return s;const r=wi[s];if(r)return r;const i=Object.keys(wi).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${s}"; use one of ${i}`)})}const ll=(n,e)=>n.key<e.key?-1:n.key>e.key?1:0;class Ft{constructor({compat:e,customTags:t,merge:s,resolveKnownTags:r,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?ps(e,"compat"):e?ps(null,e):null,this.merge=!!s,this.name=typeof i=="string"&&i||"core",this.knownTags=r?al:{},this.tags=ps(t,this.name),this.toStringOptions=a??null,Object.defineProperty(this,De,{value:at}),Object.defineProperty(this,Pe,{value:on}),Object.defineProperty(this,tt,{value:lt}),this.sortMapEntries=typeof o=="function"?o:o===!0?ll:null}clone(){const e=Object.create(Ft.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function cl(n,e){const t=[];let s=e.directives===!0;if(e.directives!==!1&&n.directives){const l=n.directives.toString(n);l?(t.push(l),s=!0):n.directives.docStart&&(s=!0)}s&&t.push("---");const r=zr(n,e),{commentString:i}=r.options;if(n.commentBefore){t.length!==1&&t.unshift("");const l=i(n.commentBefore);t.unshift(Ce(l,""))}let o=!1,a=null;if(n.contents){if(G(n.contents)){if(n.contents.spaceBefore&&s&&t.push(""),n.contents.commentBefore){const u=i(n.contents.commentBefore);t.push(Ce(u,""))}r.forceBlockIndent=!!n.comment,a=n.contents.comment}const l=a?void 0:()=>o=!0;let c=ot(n.contents,r,()=>a=null,l);a&&(c+=Be(c,"",i(a))),(c[0]==="|"||c[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${c}`:t.push(c)}else t.push(ot(n.contents,r));if(n.directives?.docEnd)if(n.comment){const l=i(n.comment);l.includes(`
+`)?(t.push("..."),t.push(Ce(l,""))):t.push(`... ${l}`)}else t.push("...");else{let l=n.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&t[t.length-1]!==""&&t.push(""),t.push(Ce(i(l),"")))}return t.join(`
+`)+`
+`}class et{constructor(e,t,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,fe,{value:Zn});let r=null;typeof t=="function"||Array.isArray(t)?r=t:s===void 0&&t&&(s=t,t=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},s);this.options=i;let{version:o}=i;s?._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new re({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,r,s)}clone(){const e=Object.create(et.prototype,{[fe]:{value:Zn}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=G(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){ct(this.contents)&&this.contents.add(e)}addIn(e,t){ct(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const s=Wr(this);e.anchor=!t||s.has(t)?Yr(t||"a",s):t}return new wt(e.anchor)}createNode(e,t,s){let r;if(typeof t=="function")e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){const m=E=>typeof E=="number"||E instanceof String||E instanceof Number,w=t.filter(m).map(String);w.length>0&&(t=t.concat(w)),r=t}else s===void 0&&t&&(s=t,t=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=s??{},{onAnchor:f,setAnchors:h,sourceObjects:g}=xa(this,o||"a"),p={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:g},d=Et(e,u,p);return a&&K(d)&&(d.flow=!0),h(),d}createPair(e,t,s={}){const r=this.createNode(e,null,s),i=this.createNode(t,null,s);return new Z(r,i)}delete(e){return ct(this.contents)?this.contents.delete(e):!1}deleteIn(e){return At(e)?this.contents==null?!1:(this.contents=null,!0):ct(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return K(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return At(e)?!t&&x(this.contents)?this.contents.value:this.contents:K(this.contents)?this.contents.getIn(e,t):void 0}has(e){return K(this.contents)?this.contents.has(e):!1}hasIn(e){return At(e)?this.contents!==void 0:K(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=Jt(this.schema,[e],t):ct(this.contents)&&this.contents.set(e,t)}setIn(e,t){At(e)?this.contents=t:this.contents==null?this.contents=Jt(this.schema,Array.from(e),t):ct(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new re({version:"1.1"}),s={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new re({version:e}),s={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(s)this.schema=new Ft(Object.assign(s,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:s,maxAliasCount:r,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=he(this.contents,t??"",a);if(typeof i=="function")for(const{count:c,res:u}of a.anchors.values())i(u,c);return typeof o=="function"?rt(o,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return cl(this,e)}}function ct(n){if(K(n))return!0;throw new Error("Expected a YAML collection as document contents")}class hn extends Error{constructor(e,t,s,r){super(),this.name=e,this.code=s,this.message=r,this.pos=t}}class je extends hn{constructor(e,t,s){super("YAMLParseError",e,t,s)}}class gs extends hn{constructor(e,t,s){super("YAMLWarning",e,t,s)}}const dn=(n,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(a=>e.linePos(a));const{line:s,col:r}=t.linePos[0];t.message+=` at line ${s}, column ${r}`;let i=r-1,o=n.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o="\u2026"+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),s>1&&/^ *$/.test(o.substring(0,i))){let a=n.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
+`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=t.linePos[1];l&&l.line===s&&l.col>r&&(a=Math.max(1,Math.min(l.col-r,80-i)));const c=" ".repeat(i)+"^".repeat(a);t.message+=`:
+
+${o}
+${c}
+`}};function ut(n,{flow:e,indicator:t,next:s,offset:r,onError:i,startOnNewline:o}){let a=!1,l=o,c=o,u="",f="",h=!1,g=!1,p=!1,d=null,m=null,w=null,E=null,k=null;for(const S of n)switch(p&&(S.type!=="space"&&S.type!=="newline"&&S.type!=="comma"&&i(S.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),S.type){case"space":!e&&l&&t!=="doc-start"&&S.source[0]==="	"&&i(S,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||i(S,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const R=S.source.substring(1)||" ";u?u+=f+R:u=R,f="",l=!1;break}case"newline":l?u?u+=S.source:a=!0:f+=S.source,l=!0,h=!0,(d||m)&&(g=!0),c=!0;break;case"anchor":d&&i(S,"MULTIPLE_ANCHORS","A node can have at most one anchor"),S.source.endsWith(":")&&i(S.offset+S.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),d=S,k===null&&(k=S.offset),l=!1,c=!1,p=!0;break;case"tag":{m&&i(S,"MULTIPLE_TAGS","A node can have at most one tag"),m=S,k===null&&(k=S.offset),l=!1,c=!1,p=!0;break}case t:(d||m)&&i(S,"BAD_PROP_ORDER",`Anchors and tags must be after the ${S.source} indicator`),E&&i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.source} in ${e??"collection"}`),E=S,l=!1,c=!1;break;case"comma":if(e){w&&i(S,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),w=S,l=!1,c=!1;break}default:i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.type} token`),l=!1,c=!1}const T=n[n.length-1],A=T?T.offset+T.source.length:r;return p&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:w,found:E,spaceBefore:a,comment:u,hasNewline:h,hasNewlineAfterProp:g,anchor:d,tag:m,end:A,start:k??A}}function $t(n){if(!n)return null;switch(n.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(n.source.includes(`
+`))return!0;if(n.end){for(const e of n.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of n.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if($t(e.key)||$t(e.value))return!0}return!1;default:return!0}}function ms(n,e,t){if(e?.type==="flow-collection"){const s=e.end[0];s.indent===n&&(s.source==="]"||s.source==="}")&&$t(e)&&t(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Ei(n,e,t){const{uniqueKeys:s}=n.options;if(s===!1)return!1;const r=typeof s=="function"?s:(i,o)=>i===o||x(i)&&x(o)&&i.value===o.value&&!(i.value==="<<"&&n.schema.merge);return e.some(i=>r(i.key,t))}const Ai="All mapping items must start at the same column";function ul({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=i?.nodeClass??oe,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=s.offset,c=null;for(const u of s.items){const{start:f,key:h,sep:g,value:p}=u,d=ut(f,{indicator:"explicit-key-ind",next:h??g?.[0],offset:l,onError:r,startOnNewline:!0}),m=!d.found;if(m){if(h&&(h.type==="block-seq"?r(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==s.indent&&r(l,"BAD_INDENT",Ai)),!d.anchor&&!d.tag&&!g){c=d.end,d.comment&&(a.comment?a.comment+=`
+`+d.comment:a.comment=d.comment);continue}(d.hasNewlineAfterProp||$t(h))&&r(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else d.found?.indent!==s.indent&&r(l,"BAD_INDENT",Ai);const w=d.end,E=h?n(t,h,d,r):e(t,w,f,null,d,r);t.schema.compat&&ms(s.indent,h,r),Ei(t,a.items,E)&&r(w,"DUPLICATE_KEY","Map keys must be unique");const k=ut(g??[],{indicator:"map-value-ind",next:p,offset:E.range[2],onError:r,startOnNewline:!h||h.type==="block-scalar"});if(l=k.end,k.found){m&&(p?.type==="block-map"&&!k.hasNewline&&r(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&d.start<k.found.offset-1024&&r(E.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const T=p?n(t,p,k,r):e(t,l,g,null,k,r);t.schema.compat&&ms(s.indent,p,r),l=T.range[2];const A=new Z(E,T);t.options.keepSourceTokens&&(A.srcToken=u),a.items.push(A)}else{m&&r(E.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),k.comment&&(E.comment?E.comment+=`
+`+k.comment:E.comment=k.comment);const T=new Z(E);t.options.keepSourceTokens&&(T.srcToken=u),a.items.push(T)}}return c&&c<l&&r(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[s.offset,l,c??l],a}function fl({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=i?.nodeClass??Le,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=s.offset,c=null;for(const{start:u,value:f}of s.items){const h=ut(u,{indicator:"seq-item-ind",next:f,offset:l,onError:r,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?r(h.end,"BAD_INDENT","All sequence items must start at the same column"):r(l,"MISSING_CHAR","Sequence item without - indicator");else{c=h.end,h.comment&&(a.comment=h.comment);continue}const g=f?n(t,f,h,r):e(t,h.end,u,null,h,r);t.schema.compat&&ms(s.indent,f,r),l=g.range[2],a.items.push(g)}return a.range=[s.offset,l,c??l],a}function Tt(n,e,t,s){let r="";if(n){let i=!1,o="";for(const a of n){const{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{t&&!i&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";r?r+=o+u:r=u,o="";break}case"newline":r&&(o+=l),i=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:r,offset:e}}const ys="Block collections are not allowed within flow collections",_s=n=>n&&(n.type==="block-map"||n.type==="block-seq");function hl({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=s.start.source==="{",a=o?"flow map":"flow sequence",l=i?.nodeClass??(o?oe:Le),c=new l(t.schema);c.flow=!0;const u=t.atRoot;u&&(t.atRoot=!1);let f=s.offset+s.start.source.length;for(let m=0;m<s.items.length;++m){const w=s.items[m],{start:E,key:k,sep:T,value:A}=w,S=ut(E,{flow:a,indicator:"explicit-key-ind",next:k??T?.[0],offset:f,onError:r,startOnNewline:!1});if(!S.found){if(!S.anchor&&!S.tag&&!T&&!A){m===0&&S.comma?r(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<s.items.length-1&&r(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),S.comment&&(c.comment?c.comment+=`
+`+S.comment:c.comment=S.comment),f=S.end;continue}!o&&t.options.strict&&$t(k)&&r(k,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(m===0)S.comma&&r(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(S.comma||r(S.start,"MISSING_CHAR",`Missing , between ${a} items`),S.comment){let R="";e:for(const $ of E)switch($.type){case"comma":case"space":break;case"comment":R=$.source.substring(1);break e;default:break e}if(R){let $=c.items[c.items.length-1];H($)&&($=$.value??$.key),$.comment?$.comment+=`
+`+R:$.comment=R,S.comment=S.comment.substring(R.length+1)}}if(!o&&!T&&!S.found){const R=A?n(t,A,S,r):e(t,S.end,T,null,S,r);c.items.push(R),f=R.range[2],_s(A)&&r(R.range,"BLOCK_IN_FLOW",ys)}else{const R=S.end,$=k?n(t,k,S,r):e(t,R,E,null,S,r);_s(k)&&r($.range,"BLOCK_IN_FLOW",ys);const P=ut(T??[],{flow:a,indicator:"map-value-ind",next:A,offset:$.range[2],onError:r,startOnNewline:!1});if(P.found){if(!o&&!S.found&&t.options.strict){if(T)for(const C of T){if(C===P.found)break;if(C.type==="newline"){r(C,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<P.found.offset-1024&&r(P.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else A&&("source"in A&&A.source&&A.source[0]===":"?r(A,"MISSING_CHAR",`Missing space after : in ${a}`):r(P.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const B=A?n(t,A,P,r):P.found?e(t,P.end,T,null,P,r):null;B?_s(A)&&r(B.range,"BLOCK_IN_FLOW",ys):P.comment&&($.comment?$.comment+=`
+`+P.comment:$.comment=P.comment);const b=new Z($,B);if(t.options.keepSourceTokens&&(b.srcToken=w),o){const C=c;Ei(t,C.items,$)&&r(R,"DUPLICATE_KEY","Map keys must be unique"),C.items.push(b)}else{const C=new oe(t.schema);C.flow=!0,C.items.push(b),c.items.push(C)}f=B?B.range[2]:P.end}}const h=o?"}":"]",[g,...p]=s.end;let d=f;if(g&&g.source===h)d=g.offset+g.source.length;else{const m=a[0].toUpperCase()+a.substring(1),w=u?`${m} must end with a ${h}`:`${m} in block collection must be sufficiently indented and end with a ${h}`;r(f,u?"MISSING_CHAR":"BAD_INDENT",w),g&&g.source.length!==1&&p.unshift(g)}if(p.length>0){const m=Tt(p,d,t.options.strict,r);m.comment&&(c.comment?c.comment+=`
+`+m.comment:c.comment=m.comment),c.range=[s.offset,d,m.offset]}else c.range=[s.offset,d,d];return c}function bs(n,e,t,s,r,i){const o=t.type==="block-map"?ul(n,e,t,s,i):t.type==="block-seq"?fl(n,e,t,s,i):hl(n,e,t,s,i),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function dl(n,e,t,s,r){const i=s?e.directives.tagName(s.source,f=>r(s,"TAG_RESOLVE_FAILED",f)):null,o=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!s||!i||i==="!"||i===oe.tagName&&o==="map"||i===Le.tagName&&o==="seq"||!o)return bs(n,e,t,r,i);let a=e.schema.tags.find(f=>f.tag===i&&f.collection===o);if(!a){const f=e.schema.knownTags[i];if(f&&f.collection===o)e.schema.tags.push(Object.assign({},f,{default:!1})),a=f;else return f?.collection?r(s,"BAD_COLLECTION_TYPE",`${f.tag} used for ${o} collection, but expects ${f.collection}`,!0):r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,!0),bs(n,e,t,r,i)}const l=bs(n,e,t,r,i,a),c=a.resolve?.(l,f=>r(s,"TAG_RESOLVE_FAILED",f),e.options)??l,u=G(c)?c:new L(c);return u.range=l.range,u.tag=i,a?.format&&(u.format=a.format),u}function vi(n,e,t){const s=n.offset,r=pl(n,e,t);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const i=r.mode===">"?L.BLOCK_FOLDED:L.BLOCK_LITERAL,o=n.source?gl(n.source):[];let a=o.length;for(let d=o.length-1;d>=0;--d){const m=o[d][1];if(m===""||m==="\r")a=d;else break}if(a===0){const d=r.chomp==="+"&&o.length>0?`
+`.repeat(Math.max(1,o.length-1)):"";let m=s+r.length;return n.source&&(m+=n.source.length),{value:d,type:i,comment:r.comment,range:[s,m,m]}}let l=n.indent+r.indent,c=n.offset+r.length,u=0;for(let d=0;d<a;++d){const[m,w]=o[d];if(w===""||w==="\r")r.indent===0&&m.length>l&&(l=m.length);else{if(m.length<l){const E="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";t(c+m.length,"MISSING_CHAR",E)}r.indent===0&&(l=m.length),u=d;break}c+=m.length+w.length+1}for(let d=o.length-1;d>=a;--d)o[d][0].length>l&&(a=d+1);let f="",h="",g=!1;for(let d=0;d<u;++d)f+=o[d][0].slice(l)+`
+`;for(let d=u;d<a;++d){let[m,w]=o[d];c+=m.length+w.length+1;const E=w[w.length-1]==="\r";if(E&&(w=w.slice(0,-1)),w&&m.length<l){const T=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;t(c-w.length-(E?2:1),"BAD_INDENT",T),m=""}i===L.BLOCK_LITERAL?(f+=h+m.slice(l)+w,h=`
+`):m.length>l||w[0]==="	"?(h===" "?h=`
+`:!g&&h===`
+`&&(h=`
+
+`),f+=h+m.slice(l)+w,h=`
+`,g=!0):w===""?h===`
+`?f+=`
+`:h=`
+`:(f+=h+w,h=" ",g=!1)}switch(r.chomp){case"-":break;case"+":for(let d=a;d<o.length;++d)f+=`
+`+o[d][0].slice(l);f[f.length-1]!==`
+`&&(f+=`
+`);break;default:f+=`
+`}const p=s+r.length+n.source.length;return{value:f,type:i,comment:r.comment,range:[s,p,p]}}function pl({offset:n,props:e},t,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],i=r[0];let o=0,a="",l=-1;for(let h=1;h<r.length;++h){const g=r[h];if(!a&&(g==="-"||g==="+"))a=g;else{const p=Number(g);!o&&p?o=p:l===-1&&(l=n+h)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let c=!1,u="",f=r.length;for(let h=1;h<e.length;++h){const g=e[h];switch(g.type){case"space":c=!0;case"newline":f+=g.source.length;break;case"comment":t&&!c&&s(g,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=g.source.length,u=g.source.substring(1);break;case"error":s(g,"UNEXPECTED_TOKEN",g.message),f+=g.source.length;break;default:{const p=`Unexpected token in block scalar header: ${g.type}`;s(g,"UNEXPECTED_TOKEN",p);const d=g.source;d&&typeof d=="string"&&(f+=d.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:f}}function gl(n){const e=n.split(/\n( *)/),t=e[0],s=t.match(/^( *)/),i=[s?.[1]?[s[1],t.slice(s[1].length)]:["",t]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function ki(n,e,t){const{offset:s,type:r,source:i,end:o}=n;let a,l;const c=(h,g,p)=>t(s+h,g,p);switch(r){case"scalar":a=L.PLAIN,l=ml(i,c);break;case"single-quoted-scalar":a=L.QUOTE_SINGLE,l=yl(i,c);break;case"double-quoted-scalar":a=L.QUOTE_DOUBLE,l=_l(i,c);break;default:return t(n,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const u=s+i.length,f=Tt(o,u,e,t);return{value:l,type:a,comment:f.comment,range:[s,u,f.offset]}}function ml(n,e){let t="";switch(n[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${n[0]}`;break}case"@":case"`":{t=`reserved character ${n[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),Oi(n)}function yl(n,e){return(n[n.length-1]!=="'"||n.length===1)&&e(n.length,"MISSING_CHAR","Missing closing 'quote"),Oi(n.slice(1,-1)).replace(/''/g,"'")}function Oi(n){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
+`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
+`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(n);if(!s)return n;let r=s[1],i=" ",o=e.lastIndex;for(t.lastIndex=o;s=t.exec(n);)s[1]===""?i===`
+`?r+=i:i=`
+`:(r+=i+s[1],i=" "),o=t.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(n),r+i+(s?.[1]??"")}function _l(n,e){let t="";for(let s=1;s<n.length-1;++s){const r=n[s];if(!(r==="\r"&&n[s+1]===`
+`))if(r===`
+`){const{fold:i,offset:o}=bl(n,s);t+=i,s=o}else if(r==="\\"){let i=n[++s];const o=Sl[i];if(o)t+=o;else if(i===`
+`)for(i=n[s+1];i===" "||i==="	";)i=n[++s+1];else if(i==="\r"&&n[s+1]===`
+`)for(i=n[++s+1];i===" "||i==="	";)i=n[++s+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];t+=wl(n,s+1,a,e),s+=a}else{const a=n.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),t+=a}}else if(r===" "||r==="	"){const i=s;let o=n[s+1];for(;o===" "||o==="	";)o=n[++s+1];o!==`
+`&&!(o==="\r"&&n[s+2]===`
+`)&&(t+=s>i?n.slice(i,s+1):r)}else t+=r}return(n[n.length-1]!=='"'||n.length===1)&&e(n.length,"MISSING_CHAR",'Missing closing "quote'),t}function bl(n,e){let t="",s=n[e+1];for(;(s===" "||s==="	"||s===`
+`||s==="\r")&&!(s==="\r"&&n[e+2]!==`
+`);)s===`
+`&&(t+=`
+`),e+=1,s=n[e+1];return t||(t=" "),{fold:t,offset:e}}const Sl={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
+`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function wl(n,e,t,s){const r=n.substr(e,t),o=r.length===t&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){const a=n.substr(e-2,t+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function $i(n,e,t,s){const{value:r,type:i,comment:o,range:a}=e.type==="block-scalar"?vi(e,n.options.strict,s):ki(e,n.options.strict,s),l=t?n.directives.tagName(t.source,f=>s(t,"TAG_RESOLVE_FAILED",f)):null,c=t&&l?El(n.schema,r,l,t,s):e.type==="scalar"?Al(n,r,e,s):n.schema[Pe];let u;try{const f=c.resolve(r,h=>s(t??e,"TAG_RESOLVE_FAILED",h),n.options);u=x(f)?f:new L(f)}catch(f){const h=f instanceof Error?f.message:String(f);s(t??e,"TAG_RESOLVE_FAILED",h),u=new L(r)}return u.range=a,u.source=r,i&&(u.type=i),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function El(n,e,t,s,r){if(t==="!")return n[Pe];const i=[];for(const a of n.tags)if(!a.collection&&a.tag===t)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if(a.test?.test(e))return a;const o=n.knownTags[t];return o&&!o.collection?(n.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),n[Pe])}function Al({directives:n,schema:e},t,s,r){const i=e.tags.find(o=>o.default&&o.test?.test(t))||e[Pe];if(e.compat){const o=e.compat.find(a=>a.default&&a.test?.test(t))??e[Pe];if(i.tag!==o.tag){const a=n.tagString(i.tag),l=n.tagString(o.tag),c=`Value may be parsed as either ${a} or ${l}`;r(s,"TAG_RESOLVE_FAILED",c,!0)}}return i}function vl(n,e,t){if(e){t===null&&(t=e.length);for(let s=t-1;s>=0;--s){let r=e[s];switch(r.type){case"space":case"comment":case"newline":n-=r.source.length;continue}for(r=e[++s];r?.type==="space";)n+=r.source.length,r=e[++s];break}}return n}const kl={composeNode:Ti,composeEmptyNode:Ss};function Ti(n,e,t,s){const{spaceBefore:r,comment:i,anchor:o,tag:a}=t;let l,c=!0;switch(e.type){case"alias":l=Ol(n,e,s),(o||a)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=$i(n,e,a,s),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=dl(kl,n,e,a,s),o&&(l.anchor=o.source.substring(1));break;default:{const u=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",u),l=Ss(n,e.offset,void 0,null,t,s),c=!1}}return o&&l.anchor===""&&s(o,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(l.spaceBefore=!0),i&&(e.type==="scalar"&&e.source===""?l.comment=i:l.commentBefore=i),n.options.keepSourceTokens&&c&&(l.srcToken=e),l}function Ss(n,e,t,s,{spaceBefore:r,comment:i,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:vl(e,t,s),indent:-1,source:""},f=$i(n,u,a,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(f.spaceBefore=!0),i&&(f.comment=i,f.range[2]=l),f}function Ol({options:n},{offset:e,source:t,end:s},r){const i=new wt(t.substring(1));i.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&r(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+t.length,a=Tt(s,o,n.strict,r);return i.range=[e,o,a.offset],a.comment&&(i.comment=a.comment),i}function $l(n,e,{offset:t,start:s,value:r,end:i},o){const a=Object.assign({_directives:e},n),l=new et(void 0,a),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=ut(s,{indicator:"doc-start",next:r??i?.[0],offset:t,onError:o,startOnNewline:!0});u.found&&(l.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?Ti(c,r,u,o):Ss(c,u.end,s,null,u,o);const f=l.contents.range[2],h=Tt(i,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[t,f,h.offset],l}function Rt(n){if(typeof n=="number")return[n,n+1];if(Array.isArray(n))return n.length===2?n:[n[0],n[1]];const{offset:e,source:t}=n;return[e,e+(typeof t=="string"?t.length:1)]}function Ri(n){let e="",t=!1,s=!1;for(let r=0;r<n.length;++r){const i=n[r];switch(i[0]){case"#":e+=(e===""?"":s?`
+
+`:`
+`)+(i.substring(1)||" "),t=!0,s=!1;break;case"%":n[r+1]?.[0]!=="#"&&(r+=1),t=!1;break;default:t||(s=!0),t=!1}}return{comment:e,afterEmptyLine:s}}class pn{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,s,r,i)=>{const o=Rt(t);i?this.warnings.push(new gs(o,s,r)):this.errors.push(new je(o,s,r))},this.directives=new re({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:s,afterEmptyLine:r}=Ri(this.prelude);if(s){const i=e.contents;if(t)e.comment=e.comment?`${e.comment}
+${s}`:s;else if(r||e.directives.docStart||!i)e.commentBefore=s;else if(K(i)&&!i.flow&&i.items.length>0){let o=i.items[0];H(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${s}
+${a}`:s}else{const o=i.commentBefore;i.commentBefore=o?`${s}
+${o}`:s}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Ri(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,s=-1){for(const r of e)yield*this.next(r);yield*this.end(t,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,s,r)=>{const i=Rt(e);i[0]+=t,this.onError(i,"BAD_DIRECTIVE",s,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=$l(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new je(Rt(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new je(Rt(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const t=Tt(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
+${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new je(Rt(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),r=new et(void 0,s);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,t,t],this.decorate(r,!1),yield r}}}function Tl(n,e=!0,t){if(n){const s=(r,i,o)=>{const a=typeof r=="number"?r:Array.isArray(r)?r[0]:r.offset;if(t)t(a,i,o);else throw new je([a,a+1],i,o)};switch(n.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return ki(n,e,s);case"block-scalar":return vi(n,e,s)}}return null}function Rl(n,e){const{implicitKey:t=!1,indent:s,inFlow:r=!1,offset:i=-1,type:o="PLAIN"}=e,a=kt({type:o,value:n},{implicitKey:t,indent:s>0?" ".repeat(s):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:s,source:`
+`}];switch(a[0]){case"|":case">":{const c=a.indexOf(`
+`),u=a.substring(0,c),f=a.substring(c+1)+`
+`,h=[{type:"block-scalar-header",offset:i,indent:s,source:u}];return Pi(h,l)||h.push({type:"newline",offset:-1,indent:s,source:`
+`}),{type:"block-scalar",offset:i,indent:s,props:h,source:f}}case'"':return{type:"double-quoted-scalar",offset:i,indent:s,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:i,indent:s,source:a,end:l};default:return{type:"scalar",offset:i,indent:s,source:a,end:l}}}function Pl(n,e,t={}){let{afterKey:s=!1,implicitKey:r=!1,inFlow:i=!1,type:o}=t,a="indent"in n?n.indent:null;if(s&&typeof a=="number"&&(a+=2),!o)switch(n.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const c=n.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=kt({type:o,value:e},{implicitKey:r||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Nl(n,l);break;case'"':ws(n,l,"double-quoted-scalar");break;case"'":ws(n,l,"single-quoted-scalar");break;default:ws(n,l,"scalar")}}function Nl(n,e){const t=e.indexOf(`
+`),s=e.substring(0,t),r=e.substring(t+1)+`
+`;if(n.type==="block-scalar"){const i=n.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=s,n.source=r}else{const{offset:i}=n,o="indent"in n?n.indent:-1,a=[{type:"block-scalar-header",offset:i,indent:o,source:s}];Pi(a,"end"in n?n.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
+`});for(const l of Object.keys(n))l!=="type"&&l!=="offset"&&delete n[l];Object.assign(n,{type:"block-scalar",indent:o,props:a,source:r})}}function Pi(n,e){if(e)for(const t of e)switch(t.type){case"space":case"comment":n.push(t);break;case"newline":return n.push(t),!0}return!1}function ws(n,e,t){switch(n.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":n.type=t,n.source=e;break;case"block-scalar":{const s=n.props.slice(1);let r=e.length;n.props[0].type==="block-scalar-header"&&(r-=n.props[0].source.length);for(const i of s)i.offset+=r;delete n.props,Object.assign(n,{type:t,source:e,end:s});break}case"block-map":case"block-seq":{const r={type:"newline",offset:n.offset+e.length,indent:n.indent,source:`
+`};delete n.items,Object.assign(n,{type:t,source:e,end:[r]});break}default:{const s="indent"in n?n.indent:-1,r="end"in n&&Array.isArray(n.end)?n.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(n))i!=="type"&&i!=="offset"&&delete n[i];Object.assign(n,{type:t,indent:s,source:e,end:r})}}}const Cl=n=>"type"in n?gn(n):mn(n);function gn(n){switch(n.type){case"block-scalar":{let e="";for(const t of n.props)e+=gn(t);return e+n.source}case"block-map":case"block-seq":{let e="";for(const t of n.items)e+=mn(t);return e}case"flow-collection":{let e=n.start.source;for(const t of n.items)e+=mn(t);for(const t of n.end)e+=t.source;return e}case"document":{let e=mn(n);if(n.end)for(const t of n.end)e+=t.source;return e}default:{let e=n.source;if("end"in n&&n.end)for(const t of n.end)e+=t.source;return e}}}function mn({start:n,key:e,sep:t,value:s}){let r="";for(const i of n)r+=i.source;if(e&&(r+=gn(e)),t)for(const i of t)r+=i.source;return s&&(r+=gn(s)),r}const Es=Symbol("break visit"),Ll=Symbol("skip children"),Ni=Symbol("remove item");function Qe(n,e){"type"in n&&n.type==="document"&&(n={start:n.start,value:n.value}),Ci(Object.freeze([]),n,e)}Qe.BREAK=Es,Qe.SKIP=Ll,Qe.REMOVE=Ni,Qe.itemAtPath=(n,e)=>{let t=n;for(const[s,r]of e){const i=t?.[s];if(i&&"items"in i)t=i.items[r];else return}return t},Qe.parentCollection=(n,e)=>{const t=Qe.itemAtPath(n,e.slice(0,-1)),s=e[e.length-1][0],r=t?.[s];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};function Ci(n,e,t){let s=t(e,n);if(typeof s=="symbol")return s;for(const r of["key","value"]){const i=e[r];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const a=Ci(Object.freeze(n.concat([[r,o]])),i.items[o],t);if(typeof a=="number")o=a-1;else{if(a===Es)return Es;a===Ni&&(i.items.splice(o,1),o-=1)}}typeof s=="function"&&r==="key"&&(s=s(e,n))}}return typeof s=="function"?s(e,n):s}const yn="\uFEFF",_n="",bn="",Pt="",Il=n=>!!n&&"items"in n,Ml=n=>!!n&&(n.type==="scalar"||n.type==="single-quoted-scalar"||n.type==="double-quoted-scalar"||n.type==="block-scalar");function Dl(n){switch(n){case yn:return"<BOM>";case _n:return"<DOC>";case bn:return"<FLOW_END>";case Pt:return"<SCALAR>";default:return JSON.stringify(n)}}function Li(n){switch(n){case yn:return"byte-order-mark";case _n:return"doc-mode";case bn:return"flow-error-end";case Pt:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
+`:case`\r
+`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(n[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}var Ii=Object.freeze({__proto__:null,BOM:yn,DOCUMENT:_n,FLOW_END:bn,SCALAR:Pt,createScalarToken:Rl,isCollection:Il,isScalar:Ml,prettyToken:Dl,resolveAsScalar:Tl,setScalarValue:Pl,stringify:Cl,tokenType:Li,visit:Qe});function de(n){switch(n){case void 0:case" ":case`
+`:case"\r":case"	":return!0;default:return!1}}const Mi="0123456789ABCDEFabcdef".split(""),xl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),As=",[]{}".split(""),Bl=` ,[]{}
+\r	`.split(""),vs=n=>!n||Bl.includes(n);class ks{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let s=this.next??"stream";for(;s&&(t||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
+`?!0:t==="\r"?this.buffer[e+1]===`
+`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let s=0;for(;t===" ";)t=this.buffer[++s+e];if(t==="\r"){const r=this.buffer[s+e+1];if(r===`
+`||!r&&!this.atEnd)return e+s+1}return t===`
+`||s>=this.indentNext||!t&&!this.atEnd?e+s:-1}if(t==="-"||t==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&de(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
+`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===yn&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length;const s=e.indexOf("#");if(s!==-1){const i=e[s-1];(i===" "||i==="	")&&(t=s-1)}for(;;){const i=e[t-1];if(i===" "||i==="	")t-=1;else break}const r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield _n,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if(t==="---"&&de(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&de(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!de(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&de(t)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(vs),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,s=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=s=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);const r=this.getLine();if(r===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&r[0]!=="#"||s===0&&(r.startsWith("---")||r.startsWith("..."))&&de(r[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield bn,yield*this.parseLineStart();let i=0;for(;r[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),r[i]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(vs),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||de(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let i=0;for(;this.buffer[t-1-i]==="\\";)i+=1;if(i%2===0)break;t=this.buffer.indexOf('"',t+1)}const s=this.buffer.substring(0,t);let r=s.indexOf(`
+`,this.pos);if(r!==-1){for(;r!==-1;){const i=this.continueScalar(r+1);if(i===-1)break;r=s.indexOf(`
+`,i)}r!==-1&&(t=r-(s[r-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>de(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,s;e:for(let r=this.pos;s=this.buffer[r];++r)switch(s){case" ":t+=1;break;case`
+`:e=r,t=0;break;case"\r":{const i=this.buffer[r+1];if(!i&&!this.atEnd)return this.setNext("block-scalar");if(i===`
+`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
+`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let r=e-1,i=this.buffer[r];i==="\r"&&(i=this.buffer[--r]);const o=r;for(;i===" "||i==="	";)i=this.buffer[--r];if(i===`
+`&&r>=this.pos&&r+1+t>o)e=r;else break}while(!0);return yield Pt,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,s=this.pos-1,r;for(;r=this.buffer[++s];)if(r===":"){const i=this.buffer[s+1];if(de(i)||e&&i===",")break;t=s}else if(de(r)){let i=this.buffer[s+1];if(r==="\r"&&(i===`
+`?(s+=1,r=`
+`,i=this.buffer[s+1]):t=s),i==="#"||e&&As.includes(i))break;if(r===`
+`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&As.includes(r))break;t=s}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield Pt,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(vs))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(de(t)||e&&As.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!de(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(xl.includes(t))t=this.buffer[++e];else if(t==="%"&&Mi.includes(this.buffer[e+1])&&Mi.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
+`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
+`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,s;do s=this.buffer[++t];while(s===" "||e&&s==="	");const r=t-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=t),r}*pushUntil(e){let t=this.pos,s=this.buffer[t];for(;!e(s);)s=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Os{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,s=this.lineStarts.length;for(;t<s;){const i=t+s>>1;this.lineStarts[i]<e?t=i+1:s=i}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const r=this.lineStarts[t-1];return{line:t,col:e-r+1}}}}function be(n,e){for(let t=0;t<n.length;++t)if(n[t].type===e)return!0;return!1}function Di(n){for(let e=0;e<n.length;++e)switch(n[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function xi(n){switch(n?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Sn(n){switch(n.type){case"document":return n.start;case"block-map":{const e=n.items[n.items.length-1];return e.sep??e.start}case"block-seq":return n.items[n.items.length-1].start;default:return[]}}function ft(n){if(n.length===0)return[];let e=n.length;e:for(;--e>=0;)switch(n[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;n[++e]?.type==="space";);return n.splice(e,n.length)}function Bi(n){if(n.start.type==="flow-seq-start")for(const e of n.items)e.sep&&!e.value&&!be(e.start,"explicit-key-ind")&&!be(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,xi(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class wn{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new ks,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,t))yield*this.next(s);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const t=Li(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(this.stack.length===0)yield t;else{const s=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in s?s.indent:0:t.type==="flow-collection"&&s.type==="document"&&(t.indent=0),t.type==="flow-collection"&&Bi(t),s.type){case"document":s.value=t;break;case"block-scalar":s.props.push(t);break;case"block-map":{const r=s.items[s.items.length-1];if(r.value){s.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=t;else{Object.assign(r,{key:t,sep:[]}),this.onKeyLine=!be(r.start,"explicit-key-ind");return}break}case"block-seq":{const r=s.items[s.items.length-1];r.value?s.items.push({start:[],value:t}):r.value=t;break}case"flow-collection":{const r=s.items[s.items.length-1];!r||r.value?s.items.push({start:[],key:t,sep:[]}):r.sep?r.value=t:Object.assign(r,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const r=t.items[t.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&Di(r.start)===-1&&(t.indent===0||r.start.every(i=>i.type!=="comment"||i.indent<t.indent))&&(s.type==="document"?s.end=r.start:s.items.push({start:r.start}),t.items.splice(-1,1))}}else{const s="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:s}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Di(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=Sn(this.peek(2)),s=ft(t);let r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
+`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
+`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const s="end"in t.value?t.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent&&t.sep;let r=[];if(s&&t.sep&&!t.value){const i=[];for(let o=0;o<t.sep.length;++o){const a=t.sep[o];switch(a.type){case"newline":i.push(o);break;case"space":break;case"comment":a.indent>e.indent&&(i.length=0);break;default:i.length=0}}i.length>=2&&(r=t.sep.splice(i[1]))}switch(this.type){case"anchor":case"tag":s||t.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!be(t.start,"explicit-key-ind")?t.start.push(this.sourceToken):s||t.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(be(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(be(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(xi(t.key)&&!be(t.sep,"newline")){const i=ft(t.start),o=t.key,a=t.sep;a.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:o,sep:a}]})}else r.length>0?t.sep=t.sep.concat(r,this.sourceToken):t.sep.push(this.sourceToken);else if(be(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const i=ft(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||s?e.items.push({start:r,key:null,sep:[this.sourceToken]}):be(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);s||t.value?(e.items.push({start:r,key:i,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(i):(Object.assign(t,{key:i,sep:[]}),this.onKeyLine=!0);return}default:{const i=this.startBlockValue(e);if(i){s&&i.type!=="block-seq"&&be(t.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(i);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const s="end"in t.value?t.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||be(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:r,sep:[]}):t.sep?this.stack.push(r):Object.assign(t,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const r=Sn(s),i=ft(r);Bi(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
+`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
+`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Sn(e),s=ft(t);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Sn(e),s=ft(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function ji(n){const e=n.prettyErrors!==!1;return{lineCounter:n.lineCounter||e&&new Os||null,prettyErrors:e}}function Fi(n,e={}){const{lineCounter:t,prettyErrors:s}=ji(e),r=new wn(t?.addNewLine),i=new pn(e),o=Array.from(i.compose(r.parse(n)));if(s&&t)for(const a of o)a.errors.forEach(dn(n,t)),a.warnings.forEach(dn(n,t));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function $s(n,e={}){const{lineCounter:t,prettyErrors:s}=ji(e),r=new wn(t?.addNewLine),i=new pn(e);let o=null;for(const a of i.compose(r.parse(n),!0,n.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new je(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&t&&(o.errors.forEach(dn(n,t)),o.warnings.forEach(dn(n,t))),o}function Hi(n,e,t){let s;typeof e=="function"?s=e:t===void 0&&e&&typeof e=="object"&&(t=e);const r=$s(n,t);if(!r)return null;if(r.warnings.forEach(i=>Zr(r.options.logLevel,i)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},t))}function Ki(n,e,t){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){const r=Math.round(t);t=r<1?void 0:r>8?{indent:8}:{indent:r}}if(n===void 0){const{keepUndefined:r}=t??e??{};if(!r)return}return new et(n,s,t).toString(t)}var jl=Object.freeze({__proto__:null,Alias:wt,CST:Ii,Composer:pn,Document:et,Lexer:ks,LineCounter:Os,Pair:Z,Parser:wn,Scalar:L,Schema:Ft,YAMLError:hn,YAMLMap:oe,YAMLParseError:je,YAMLSeq:Le,YAMLWarning:gs,isAlias:xe,isCollection:K,isDocument:Ve,isMap:Ge,isNode:G,isPair:H,isScalar:x,isSeq:We,parse:Hi,parseAllDocuments:Fi,parseDocument:$s,stringify:Ki,visit:Ne,visitAsync:St}),Fl=Object.freeze({__proto__:null,Alias:wt,CST:Ii,Composer:pn,Document:et,Lexer:ks,LineCounter:Os,Pair:Z,Parser:wn,Scalar:L,Schema:Ft,YAMLError:hn,YAMLMap:oe,YAMLParseError:je,YAMLSeq:Le,YAMLWarning:gs,default:jl,isAlias:xe,isCollection:K,isDocument:Ve,isMap:Ge,isNode:G,isPair:H,isScalar:x,isSeq:We,parse:Hi,parseAllDocuments:Fi,parseDocument:$s,stringify:Ki,visit:Ne,visitAsync:St}),Hl=_a(Fl),ee={},V={},ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.splitWhen=ht.flatten=void 0;function Kl(n){return n.reduce((e,t)=>[].concat(e,t),[])}ht.flatten=Kl;function Ul(n,e){const t=[[]];let s=0;for(const r of n)e(r)?(s++,t[s]=[]):t[s].push(r);return t}ht.splitWhen=Ul;var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.isEnoentCodeError=void 0;function ql(n){return n.code==="ENOENT"}En.isEnoentCodeError=ql;var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.createDirentFromStats=void 0;let Vl=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};function Gl(n,e){return new Vl(n,e)}An.createDirentFromStats=Gl;var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.convertPosixPathToPattern=Y.convertWindowsPathToPattern=Y.convertPathToPattern=Y.escapePosixPath=Y.escapeWindowsPath=Y.escape=Y.removeLeadingDotSegment=Y.makeAbsolute=Y.unixify=void 0;const Wl=Gn,Yl=ve,Ui=Wl.platform()==="win32",Ql=2,Jl=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,Xl=/(\\?)([(){}]|^!|[!+@](?=\())/g,zl=/^\\\\([.?])/,Zl=/\\(?![!()+@{}])/g;function ec(n){return n.replace(/\\/g,"/")}Y.unixify=ec;function tc(n,e){return Yl.resolve(n,e)}Y.makeAbsolute=tc;function nc(n){if(n.charAt(0)==="."){const e=n.charAt(1);if(e==="/"||e==="\\")return n.slice(Ql)}return n}Y.removeLeadingDotSegment=nc,Y.escape=Ui?Ts:Rs;function Ts(n){return n.replace(Xl,"\\$2")}Y.escapeWindowsPath=Ts;function Rs(n){return n.replace(Jl,"\\$2")}Y.escapePosixPath=Rs,Y.convertPathToPattern=Ui?qi:Vi;function qi(n){return Ts(n).replace(zl,"//$1").replace(Zl,"/")}Y.convertWindowsPathToPattern=qi;function Vi(n){return Rs(n)}Y.convertPosixPathToPattern=Vi;var N={};/*!
+ * is-extglob <https://github.com/jonschlinkert/is-extglob>
+ *
+ * Copyright (c) 2014-2016, Jon Schlinkert.
+ * Licensed under the MIT License.
+ */var sc=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1};/*!
+ * is-glob <https://github.com/jonschlinkert/is-glob>
+ *
+ * Copyright (c) 2014-2017, Jon Schlinkert.
+ * Released under the MIT License.
+ */var rc=sc,Gi={"{":"}","(":")","[":"]"},ic=function(n){if(n[0]==="!")return!0;for(var e=0,t=-2,s=-2,r=-2,i=-2,o=-2;e<n.length;){if(n[e]==="*"||n[e+1]==="?"&&/[\].+)]/.test(n[e])||s!==-1&&n[e]==="["&&n[e+1]!=="]"&&(s<e&&(s=n.indexOf("]",e)),s>e&&(o===-1||o>s||(o=n.indexOf("\\",e),o===-1||o>s)))||r!==-1&&n[e]==="{"&&n[e+1]!=="}"&&(r=n.indexOf("}",e),r>e&&(o=n.indexOf("\\",e),o===-1||o>r))||i!==-1&&n[e]==="("&&n[e+1]==="?"&&/[:!=]/.test(n[e+2])&&n[e+3]!==")"&&(i=n.indexOf(")",e),i>e&&(o=n.indexOf("\\",e),o===-1||o>i))||t!==-1&&n[e]==="("&&n[e+1]!=="|"&&(t<e&&(t=n.indexOf("|",e)),t!==-1&&n[t+1]!==")"&&(i=n.indexOf(")",t),i>t&&(o=n.indexOf("\\",t),o===-1||o>i))))return!0;if(n[e]==="\\"){var a=n[e+1];e+=2;var l=Gi[a];if(l){var c=n.indexOf(l,e);c!==-1&&(e=c+1)}if(n[e]==="!")return!0}else e++}return!1},oc=function(n){if(n[0]==="!")return!0;for(var e=0;e<n.length;){if(/[*?{}()[\]]/.test(n[e]))return!0;if(n[e]==="\\"){var t=n[e+1];e+=2;var s=Gi[t];if(s){var r=n.indexOf(s,e);r!==-1&&(e=r+1)}if(n[e]==="!")return!0}else e++}return!1},ac=function(e,t){if(typeof e!="string"||e==="")return!1;if(rc(e))return!0;var s=ic;return t&&t.strict===!1&&(s=oc),s(e)},lc=ac,cc=ve.posix.dirname,uc=Gn.platform()==="win32",Ps="/",fc=/\\/g,hc=/[\{\[].*[\}\]]$/,dc=/(^|[^\\])([\{\[]|\([^\)]+$)/,pc=/\\([\!\*\?\|\[\]\(\)\{\}])/g,gc=function(e,t){var s=Object.assign({flipBackslashes:!0},t);s.flipBackslashes&&uc&&e.indexOf(Ps)<0&&(e=e.replace(fc,Ps)),hc.test(e)&&(e+=Ps),e+="a";do e=cc(e);while(lc(e)||dc.test(e));return e.replace(pc,"$1")},vn={};(function(n){n.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1,n.find=(e,t)=>e.nodes.find(s=>s.type===t),n.exceedsLimit=(e,t,s=1,r)=>r===!1||!n.isInteger(e)||!n.isInteger(t)?!1:(Number(t)-Number(e))/Number(s)>=r,n.escapeNode=(e,t=0,s)=>{let r=e.nodes[t];r&&(s&&r.type===s||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)},n.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0),n.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1,n.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0,n.reduce=e=>e.reduce((t,s)=>(s.type==="text"&&t.push(s.value),s.type==="range"&&(s.type="text"),t),[]),n.flatten=(...e)=>{const t=[],s=r=>{for(let i=0;i<r.length;i++){let o=r[i];Array.isArray(o)?s(o):o!==void 0&&t.push(o)}return t};return s(e),t}})(vn);const Wi=vn;var Ns=(n,e={})=>{let t=(s,r={})=>{let i=e.escapeInvalid&&Wi.isInvalidBrace(r),o=s.invalid===!0&&e.escapeInvalid===!0,a="";if(s.value)return(i||o)&&Wi.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let l of s.nodes)a+=t(l);return a};return t(n)};/*!
+ * is-number <https://github.com/jonschlinkert/is-number>
+ *
+ * Copyright (c) 2014-present, Jon Schlinkert.
+ * Released under the MIT License.
+ */var mc=function(n){return typeof n=="number"?n-n===0:typeof n=="string"&&n.trim()!==""?Number.isFinite?Number.isFinite(+n):isFinite(+n):!1};/*!
+ * to-regex-range <https://github.com/micromatch/to-regex-range>
+ *
+ * Copyright (c) 2015-present, Jon Schlinkert.
+ * Released under the MIT License.
+ */const Yi=mc,Je=(n,e,t)=>{if(Yi(n)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||n===e)return String(n);if(Yi(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...t};typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let r=String(s.relaxZeros),i=String(s.shorthand),o=String(s.capture),a=String(s.wrap),l=n+":"+e+"="+r+i+o+a;if(Je.cache.hasOwnProperty(l))return Je.cache[l].result;let c=Math.min(n,e),u=Math.max(n,e);if(Math.abs(c-u)===1){let d=n+"|"+e;return s.capture?`(${d})`:s.wrap===!1?d:`(?:${d})`}let f=eo(n)||eo(e),h={min:n,max:e,a:c,b:u},g=[],p=[];if(f&&(h.isPadded=f,h.maxLen=String(h.max).length),c<0){let d=u<0?Math.abs(u):1;p=Qi(d,Math.abs(c),h,s),c=h.a=0}return u>=0&&(g=Qi(c,u,h,s)),h.negatives=p,h.positives=g,h.result=yc(p,g),s.capture===!0?h.result=`(${h.result})`:s.wrap!==!1&&g.length+p.length>1&&(h.result=`(?:${h.result})`),Je.cache[l]=h,h.result};function yc(n,e,t){let s=Cs(n,e,"-",!1)||[],r=Cs(e,n,"",!1)||[],i=Cs(n,e,"-?",!0)||[];return s.concat(i).concat(r).join("|")}function _c(n,e){let t=1,s=1,r=Xi(n,t),i=new Set([e]);for(;n<=r&&r<=e;)i.add(r),t+=1,r=Xi(n,t);for(r=zi(e+1,s)-1;n<r&&r<=e;)i.add(r),s+=1,r=zi(e+1,s)-1;return i=[...i],i.sort(wc),i}function bc(n,e,t){if(n===e)return{pattern:n,count:[],digits:0};let s=Sc(n,e),r=s.length,i="",o=0;for(let a=0;a<r;a++){let[l,c]=s[a];l===c?i+=l:l!=="0"||c!=="9"?i+=Ec(l,c):o++}return o&&(i+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:i,count:[o],digits:r}}function Qi(n,e,t,s){let r=_c(n,e),i=[],o=n,a;for(let l=0;l<r.length;l++){let c=r[l],u=bc(String(o),String(c),s),f="";if(!t.isPadded&&a&&a.pattern===u.pattern){a.count.length>1&&a.count.pop(),a.count.push(u.count[0]),a.string=a.pattern+Zi(a.count),o=c+1;continue}t.isPadded&&(f=Ac(c,t,s)),u.string=f+u.pattern+Zi(u.count),i.push(u),o=c+1,a=u}return i}function Cs(n,e,t,s,r){let i=[];for(let o of n){let{string:a}=o;!s&&!Ji(e,"string",a)&&i.push(t+a),s&&Ji(e,"string",a)&&i.push(t+a)}return i}function Sc(n,e){let t=[];for(let s=0;s<n.length;s++)t.push([n[s],e[s]]);return t}function wc(n,e){return n>e?1:e>n?-1:0}function Ji(n,e,t){return n.some(s=>s[e]===t)}function Xi(n,e){return Number(String(n).slice(0,-e)+"9".repeat(e))}function zi(n,e){return n-n%Math.pow(10,e)}function Zi(n){let[e=0,t=""]=n;return t||e>1?`{${e+(t?","+t:"")}}`:""}function Ec(n,e,t){return`[${n}${e-n===1?"":"-"}${e}]`}function eo(n){return/^-?(0+)\d/.test(n)}function Ac(n,e,t){if(!e.isPadded)return n;let s=Math.abs(e.maxLen-String(n).length),r=t.relaxZeros!==!1;switch(s){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${s}}`:`0{${s}}`}}Je.cache={},Je.clearCache=()=>Je.cache={};var vc=Je;/*!
+ * fill-range <https://github.com/jonschlinkert/fill-range>
+ *
+ * Copyright (c) 2014-present, Jon Schlinkert.
+ * Licensed under the MIT License.
+ */const kc=Tr,to=vc,no=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),Oc=n=>e=>n===!0?Number(e):String(e),Ls=n=>typeof n=="number"||typeof n=="string"&&n!=="",Nt=n=>Number.isInteger(+n),Is=n=>{let e=`${n}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},$c=(n,e,t)=>typeof n=="string"||typeof e=="string"?!0:t.stringify===!0,Tc=(n,e,t)=>{if(e>0){let s=n[0]==="-"?"-":"";s&&(n=n.slice(1)),n=s+n.padStart(s?e-1:e,"0")}return t===!1?String(n):n},so=(n,e)=>{let t=n[0]==="-"?"-":"";for(t&&(n=n.slice(1),e--);n.length<e;)n="0"+n;return t?"-"+n:n},Rc=(n,e)=>{n.negatives.sort((o,a)=>o<a?-1:o>a?1:0),n.positives.sort((o,a)=>o<a?-1:o>a?1:0);let t=e.capture?"":"?:",s="",r="",i;return n.positives.length&&(s=n.positives.join("|")),n.negatives.length&&(r=`-(${t}${n.negatives.join("|")})`),s&&r?i=`${s}|${r}`:i=s||r,e.wrap?`(${t}${i})`:i},ro=(n,e,t,s)=>{if(t)return to(n,e,{wrap:!1,...s});let r=String.fromCharCode(n);if(n===e)return r;let i=String.fromCharCode(e);return`[${r}-${i}]`},io=(n,e,t)=>{if(Array.isArray(n)){let s=t.wrap===!0,r=t.capture?"":"?:";return s?`(${r}${n.join("|")})`:n.join("|")}return to(n,e,t)},oo=(...n)=>new RangeError("Invalid range arguments: "+kc.inspect(...n)),ao=(n,e,t)=>{if(t.strictRanges===!0)throw oo([n,e]);return[]},Pc=(n,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${n}" to be a number`);return[]},Nc=(n,e,t=1,s={})=>{let r=Number(n),i=Number(e);if(!Number.isInteger(r)||!Number.isInteger(i)){if(s.strictRanges===!0)throw oo([n,e]);return[]}r===0&&(r=0),i===0&&(i=0);let o=r>i,a=String(n),l=String(e),c=String(t);t=Math.max(Math.abs(t),1);let u=Is(a)||Is(l)||Is(c),f=u?Math.max(a.length,l.length,c.length):0,h=u===!1&&$c(n,e,s)===!1,g=s.transform||Oc(h);if(s.toRegex&&t===1)return ro(so(n,f),so(e,f),!0,s);let p={negatives:[],positives:[]},d=E=>p[E<0?"negatives":"positives"].push(Math.abs(E)),m=[],w=0;for(;o?r>=i:r<=i;)s.toRegex===!0&&t>1?d(r):m.push(Tc(g(r,w),f,h)),r=o?r-t:r+t,w++;return s.toRegex===!0?t>1?Rc(p,s):io(m,null,{wrap:!1,...s}):m},Cc=(n,e,t=1,s={})=>{if(!Nt(n)&&n.length>1||!Nt(e)&&e.length>1)return ao(n,e,s);let r=s.transform||(h=>String.fromCharCode(h)),i=`${n}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=i>o,l=Math.min(i,o),c=Math.max(i,o);if(s.toRegex&&t===1)return ro(l,c,!1,s);let u=[],f=0;for(;a?i>=o:i<=o;)u.push(r(i,f)),i=a?i-t:i+t,f++;return s.toRegex===!0?io(u,null,{wrap:!1,options:s}):u},kn=(n,e,t,s={})=>{if(e==null&&Ls(n))return[n];if(!Ls(n)||!Ls(e))return ao(n,e,s);if(typeof t=="function")return kn(n,e,1,{transform:t});if(no(t))return kn(n,e,0,t);let r={...s};return r.capture===!0&&(r.wrap=!0),t=t||r.step||1,Nt(t)?Nt(n)&&Nt(e)?Nc(n,e,t,r):Cc(n,e,Math.max(Math.abs(t),1),r):t!=null&&!no(t)?Pc(t,r):kn(n,e,1,t)};var lo=kn;const Lc=lo,co=vn,Ic=(n,e={})=>{let t=(s,r={})=>{let i=co.isInvalidBrace(r),o=s.invalid===!0&&e.escapeInvalid===!0,a=i===!0||o===!0,l=e.escapeInvalid===!0?"\\":"",c="";if(s.isOpen===!0||s.isClose===!0)return l+s.value;if(s.type==="open")return a?l+s.value:"(";if(s.type==="close")return a?l+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":a?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let u=co.reduce(s.nodes),f=Lc(...u,{...e,wrap:!1,toRegex:!0});if(f.length!==0)return u.length>1&&f.length>1?`(${f})`:f}if(s.nodes)for(let u of s.nodes)c+=t(u,s);return c};return t(n)};var Mc=Ic;const Dc=lo,uo=Ns,dt=vn,Xe=(n="",e="",t=!1)=>{let s=[];if(n=[].concat(n),e=[].concat(e),!e.length)return n;if(!n.length)return t?dt.flatten(e).map(r=>`{${r}}`):e;for(let r of n)if(Array.isArray(r))for(let i of r)s.push(Xe(i,e,t));else for(let i of e)t===!0&&typeof i=="string"&&(i=`{${i}}`),s.push(Array.isArray(i)?Xe(r,i,t):r+i);return dt.flatten(s)},xc=(n,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,s=(r,i={})=>{r.queue=[];let o=i,a=i.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(r.invalid||r.dollar){a.push(Xe(a.pop(),uo(r,e)));return}if(r.type==="brace"&&r.invalid!==!0&&r.nodes.length===2){a.push(Xe(a.pop(),["{}"]));return}if(r.nodes&&r.ranges>0){let f=dt.reduce(r.nodes);if(dt.exceedsLimit(...f,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let h=Dc(...f,e);h.length===0&&(h=uo(r,e)),a.push(Xe(a.pop(),h)),r.nodes=[];return}let l=dt.encloseBrace(r),c=r.queue,u=r;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,c=u.queue;for(let f=0;f<r.nodes.length;f++){let h=r.nodes[f];if(h.type==="comma"&&r.type==="brace"){f===1&&c.push(""),c.push("");continue}if(h.type==="close"){a.push(Xe(a.pop(),c,l));continue}if(h.value&&h.type!=="open"){c.push(Xe(c.pop(),h.value));continue}h.nodes&&s(h,r)}return c};return dt.flatten(s(n))};var Bc=xc,jc={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
+`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const Fc=Ns,{MAX_LENGTH:fo,CHAR_BACKSLASH:Ms,CHAR_BACKTICK:Hc,CHAR_COMMA:Kc,CHAR_DOT:Uc,CHAR_LEFT_PARENTHESES:qc,CHAR_RIGHT_PARENTHESES:Vc,CHAR_LEFT_CURLY_BRACE:Gc,CHAR_RIGHT_CURLY_BRACE:Wc,CHAR_LEFT_SQUARE_BRACKET:ho,CHAR_RIGHT_SQUARE_BRACKET:po,CHAR_DOUBLE_QUOTE:Yc,CHAR_SINGLE_QUOTE:Qc,CHAR_NO_BREAK_SPACE:Jc,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Xc}=jc,zc=(n,e={})=>{if(typeof n!="string")throw new TypeError("Expected a string");let t=e||{},s=typeof t.maxLength=="number"?Math.min(fo,t.maxLength):fo;if(n.length>s)throw new SyntaxError(`Input length (${n.length}), exceeds max characters (${s})`);let r={type:"root",input:n,nodes:[]},i=[r],o=r,a=r,l=0,c=n.length,u=0,f=0,h;const g=()=>n[u++],p=d=>{if(d.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&d.type==="text"){a.value+=d.value;return}return o.nodes.push(d),d.parent=o,d.prev=a,a=d,d};for(p({type:"bos"});u<c;)if(o=i[i.length-1],h=g(),!(h===Xc||h===Jc)){if(h===Ms){p({type:"text",value:(e.keepEscaping?h:"")+g()});continue}if(h===po){p({type:"text",value:"\\"+h});continue}if(h===ho){l++;let d;for(;u<c&&(d=g());){if(h+=d,d===ho){l++;continue}if(d===Ms){h+=g();continue}if(d===po&&(l--,l===0))break}p({type:"text",value:h});continue}if(h===qc){o=p({type:"paren",nodes:[]}),i.push(o),p({type:"text",value:h});continue}if(h===Vc){if(o.type!=="paren"){p({type:"text",value:h});continue}o=i.pop(),p({type:"text",value:h}),o=i[i.length-1];continue}if(h===Yc||h===Qc||h===Hc){let d=h,m;for(e.keepQuotes!==!0&&(h="");u<c&&(m=g());){if(m===Ms){h+=m+g();continue}if(m===d){e.keepQuotes===!0&&(h+=m);break}h+=m}p({type:"text",value:h});continue}if(h===Gc){f++;let m={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};o=p(m),i.push(o),p({type:"open",value:h});continue}if(h===Wc){if(o.type!=="brace"){p({type:"text",value:h});continue}let d="close";o=i.pop(),o.close=!0,p({type:d,value:h}),f--,o=i[i.length-1];continue}if(h===Kc&&f>0){if(o.ranges>0){o.ranges=0;let d=o.nodes.shift();o.nodes=[d,{type:"text",value:Fc(o)}]}p({type:"comma",value:h}),o.commas++;continue}if(h===Uc&&f>0&&o.commas===0){let d=o.nodes;if(f===0||d.length===0){p({type:"text",value:h});continue}if(a.type==="dot"){if(o.range=[],a.value+=h,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){d.pop();let m=d[d.length-1];m.value+=a.value+h,a=m,o.ranges--;continue}p({type:"dot",value:h});continue}p({type:"text",value:h})}do if(o=i.pop(),o.type!=="root"){o.nodes.forEach(w=>{w.nodes||(w.type==="open"&&(w.isOpen=!0),w.type==="close"&&(w.isClose=!0),w.nodes||(w.type="text"),w.invalid=!0)});let d=i[i.length-1],m=d.nodes.indexOf(o);d.nodes.splice(m,1,...o.nodes)}while(i.length>0);return p({type:"eos"}),r};var Zc=zc;const go=Ns,eu=Mc,tu=Bc,nu=Zc,le=(n,e={})=>{let t=[];if(Array.isArray(n))for(let s of n){let r=le.create(s,e);Array.isArray(r)?t.push(...r):t.push(r)}else t=[].concat(le.create(n,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};le.parse=(n,e={})=>nu(n,e),le.stringify=(n,e={})=>go(typeof n=="string"?le.parse(n,e):n,e),le.compile=(n,e={})=>(typeof n=="string"&&(n=le.parse(n,e)),eu(n,e)),le.expand=(n,e={})=>{typeof n=="string"&&(n=le.parse(n,e));let t=tu(n,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t},le.create=(n,e={})=>n===""||n.length<3?[n]:e.expand!==!0?le.compile(n,e):le.expand(n,e);var su=le,Ct={};const ru=ve,Oe="\\\\/",mo=`[^${Oe}]`,Ie="\\.",iu="\\+",ou="\\?",On="\\/",au="(?=.)",yo="[^/]",Ds=`(?:${On}|$)`,_o=`(?:^|${On})`,xs=`${Ie}{1,2}${Ds}`,lu=`(?!${Ie})`,cu=`(?!${_o}${xs})`,uu=`(?!${Ie}{0,1}${Ds})`,fu=`(?!${xs})`,hu=`[^.${On}]`,du=`${yo}*?`,bo={DOT_LITERAL:Ie,PLUS_LITERAL:iu,QMARK_LITERAL:ou,SLASH_LITERAL:On,ONE_CHAR:au,QMARK:yo,END_ANCHOR:Ds,DOTS_SLASH:xs,NO_DOT:lu,NO_DOTS:cu,NO_DOT_SLASH:uu,NO_DOTS_SLASH:fu,QMARK_NO_DOT:hu,STAR:du,START_ANCHOR:_o},pu={...bo,SLASH_LITERAL:`[${Oe}]`,QMARK:mo,STAR:`${mo}*?`,DOTS_SLASH:`${Ie}{1,2}(?:[${Oe}]|$)`,NO_DOT:`(?!${Ie})`,NO_DOTS:`(?!(?:^|[${Oe}])${Ie}{1,2}(?:[${Oe}]|$))`,NO_DOT_SLASH:`(?!${Ie}{0,1}(?:[${Oe}]|$))`,NO_DOTS_SLASH:`(?!${Ie}{1,2}(?:[${Oe}]|$))`,QMARK_NO_DOT:`[^.${Oe}]`,START_ANCHOR:`(?:^|[${Oe}])`,END_ANCHOR:`(?:[${Oe}]|$)`},gu={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var $n={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:gu,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:ru.sep,extglobChars(n){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${n.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(n){return n===!0?pu:bo}};(function(n){const e=ve,t=process.platform==="win32",{REGEX_BACKSLASH:s,REGEX_REMOVE_BACKSLASH:r,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:o}=$n;n.isObject=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n.hasRegexChars=a=>i.test(a),n.isRegexChar=a=>a.length===1&&n.hasRegexChars(a),n.escapeRegex=a=>a.replace(o,"\\$1"),n.toPosixSlashes=a=>a.replace(s,"/"),n.removeBackslashes=a=>a.replace(r,l=>l==="\\"?"":l),n.supportsLookbehinds=()=>{const a=process.version.slice(1).split(".").map(Number);return a.length===3&&a[0]>=9||a[0]===8&&a[1]>=10},n.isWindows=a=>a&&typeof a.windows=="boolean"?a.windows:t===!0||e.sep==="\\",n.escapeLast=(a,l,c)=>{const u=a.lastIndexOf(l,c);return u===-1?a:a[u-1]==="\\"?n.escapeLast(a,l,u-1):`${a.slice(0,u)}\\${a.slice(u)}`},n.removePrefix=(a,l={})=>{let c=a;return c.startsWith("./")&&(c=c.slice(2),l.prefix="./"),c},n.wrapOutput=(a,l={},c={})=>{const u=c.contains?"":"^",f=c.contains?"":"$";let h=`${u}(?:${a})${f}`;return l.negated===!0&&(h=`(?:^(?!${h}).*$)`),h}})(Ct);const So=Ct,{CHAR_ASTERISK:Bs,CHAR_AT:mu,CHAR_BACKWARD_SLASH:Lt,CHAR_COMMA:yu,CHAR_DOT:js,CHAR_EXCLAMATION_MARK:Fs,CHAR_FORWARD_SLASH:wo,CHAR_LEFT_CURLY_BRACE:Hs,CHAR_LEFT_PARENTHESES:Ks,CHAR_LEFT_SQUARE_BRACKET:_u,CHAR_PLUS:bu,CHAR_QUESTION_MARK:Eo,CHAR_RIGHT_CURLY_BRACE:Su,CHAR_RIGHT_PARENTHESES:Ao,CHAR_RIGHT_SQUARE_BRACKET:wu}=$n,vo=n=>n===wo||n===Lt,ko=n=>{n.isPrefix!==!0&&(n.depth=n.isGlobstar?1/0:1)},Eu=(n,e)=>{const t=e||{},s=n.length-1,r=t.parts===!0||t.scanToEnd===!0,i=[],o=[],a=[];let l=n,c=-1,u=0,f=0,h=!1,g=!1,p=!1,d=!1,m=!1,w=!1,E=!1,k=!1,T=!1,A=!1,S=0,R,$,P={value:"",depth:0,isGlob:!1};const B=()=>c>=s,b=()=>l.charCodeAt(c+1),C=()=>(R=$,l.charCodeAt(++c));for(;c<s;){$=C();let te;if($===Lt){E=P.backslashes=!0,$=C(),$===Hs&&(w=!0);continue}if(w===!0||$===Hs){for(S++;B()!==!0&&($=C());){if($===Lt){E=P.backslashes=!0,C();continue}if($===Hs){S++;continue}if(w!==!0&&$===js&&($=C())===js){if(h=P.isBrace=!0,p=P.isGlob=!0,A=!0,r===!0)continue;break}if(w!==!0&&$===yu){if(h=P.isBrace=!0,p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===Su&&(S--,S===0)){w=!1,h=P.isBrace=!0,A=!0;break}}if(r===!0)continue;break}if($===wo){if(i.push(c),o.push(P),P={value:"",depth:0,isGlob:!1},A===!0)continue;if(R===js&&c===u+1){u+=2;continue}f=c+1;continue}if(t.noext!==!0&&($===bu||$===mu||$===Bs||$===Eo||$===Fs)===!0&&b()===Ks){if(p=P.isGlob=!0,d=P.isExtglob=!0,A=!0,$===Fs&&c===u&&(T=!0),r===!0){for(;B()!==!0&&($=C());){if($===Lt){E=P.backslashes=!0,$=C();continue}if($===Ao){p=P.isGlob=!0,A=!0;break}}continue}break}if($===Bs){if(R===Bs&&(m=P.isGlobstar=!0),p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===Eo){if(p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===_u){for(;B()!==!0&&(te=C());){if(te===Lt){E=P.backslashes=!0,C();continue}if(te===wu){g=P.isBracket=!0,p=P.isGlob=!0,A=!0;break}}if(r===!0)continue;break}if(t.nonegate!==!0&&$===Fs&&c===u){k=P.negated=!0,u++;continue}if(t.noparen!==!0&&$===Ks){if(p=P.isGlob=!0,r===!0){for(;B()!==!0&&($=C());){if($===Ks){E=P.backslashes=!0,$=C();continue}if($===Ao){A=!0;break}}continue}break}if(p===!0){if(A=!0,r===!0)continue;break}}t.noext===!0&&(d=!1,p=!1);let j=l,Me="",y="";u>0&&(Me=l.slice(0,u),l=l.slice(u),f-=u),j&&p===!0&&f>0?(j=l.slice(0,f),y=l.slice(f)):p===!0?(j="",y=l):j=l,j&&j!==""&&j!=="/"&&j!==l&&vo(j.charCodeAt(j.length-1))&&(j=j.slice(0,-1)),t.unescape===!0&&(y&&(y=So.removeBackslashes(y)),j&&E===!0&&(j=So.removeBackslashes(j)));const _={prefix:Me,input:n,start:u,base:j,glob:y,isBrace:h,isBracket:g,isGlob:p,isExtglob:d,isGlobstar:m,negated:k,negatedExtglob:T};if(t.tokens===!0&&(_.maxDepth=0,vo($)||o.push(P),_.tokens=o),t.parts===!0||t.tokens===!0){let te;for(let D=0;D<i.length;D++){const Ee=te?te+1:u,Ae=i[D],ae=n.slice(Ee,Ae);t.tokens&&(D===0&&u!==0?(o[D].isPrefix=!0,o[D].value=Me):o[D].value=ae,ko(o[D]),_.maxDepth+=o[D].depth),(D!==0||ae!=="")&&a.push(ae),te=Ae}if(te&&te+1<n.length){const D=n.slice(te+1);a.push(D),t.tokens&&(o[o.length-1].value=D,ko(o[o.length-1]),_.maxDepth+=o[o.length-1].depth)}_.slashes=i,_.parts=a}return _};var Au=Eu;const Tn=$n,ce=Ct,{MAX_LENGTH:Rn,POSIX_REGEX_SOURCE:vu,REGEX_NON_SPECIAL_CHARS:ku,REGEX_SPECIAL_CHARS_BACKREF:Ou,REPLACEMENTS:Oo}=Tn,$u=(n,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...n,e);n.sort();const t=`[${n.join("-")}]`;try{new RegExp(t)}catch{return n.map(r=>ce.escapeRegex(r)).join("..")}return t},pt=(n,e)=>`Missing ${n}: "${e}" - use "\\\\${e}" to match literal characters`,Us=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");n=Oo[n]||n;const t={...e},s=typeof t.maxLength=="number"?Math.min(Rn,t.maxLength):Rn;let r=n.length;if(r>s)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${s}`);const i={type:"bos",value:"",output:t.prepend||""},o=[i],a=t.capture?"":"?:",l=ce.isWindows(e),c=Tn.globChars(l),u=Tn.extglobChars(c),{DOT_LITERAL:f,PLUS_LITERAL:h,SLASH_LITERAL:g,ONE_CHAR:p,DOTS_SLASH:d,NO_DOT:m,NO_DOT_SLASH:w,NO_DOTS_SLASH:E,QMARK:k,QMARK_NO_DOT:T,STAR:A,START_ANCHOR:S}=c,R=O=>`(${a}(?:(?!${S}${O.dot?d:f}).)*?)`,$=t.dot?"":m,P=t.dot?k:T;let B=t.bash===!0?R(t):A;t.capture&&(B=`(${B})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);const b={input:n,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};n=ce.removePrefix(n,b),r=n.length;const C=[],j=[],Me=[];let y=i,_;const te=()=>b.index===r-1,D=b.peek=(O=1)=>n[b.index+O],Ee=b.advance=()=>n[++b.index]||"",Ae=()=>n.slice(b.index+1),ae=(O="",F=0)=>{b.consumed+=O,b.index+=F},Ht=O=>{b.output+=O.output!=null?O.output:O.value,ae(O.value)},ha=()=>{let O=1;for(;D()==="!"&&(D(2)!=="("||D(3)==="?");)Ee(),b.start++,O++;return O%2===0?!1:(b.negated=!0,b.start++,!0)},Kt=O=>{b[O]++,Me.push(O)},Ue=O=>{b[O]--,Me.pop()},M=O=>{if(y.type==="globstar"){const F=b.braces>0&&(O.type==="comma"||O.type==="brace"),v=O.extglob===!0||C.length&&(O.type==="pipe"||O.type==="paren");O.type!=="slash"&&O.type!=="paren"&&!F&&!v&&(b.output=b.output.slice(0,-y.output.length),y.type="star",y.value="*",y.output=B,b.output+=y.output)}if(C.length&&O.type!=="paren"&&(C[C.length-1].inner+=O.value),(O.value||O.output)&&Ht(O),y&&y.type==="text"&&O.type==="text"){y.value+=O.value,y.output=(y.output||"")+O.value;return}O.prev=y,o.push(O),y=O},Ut=(O,F)=>{const v={...u[F],conditions:1,inner:""};v.prev=y,v.parens=b.parens,v.output=b.output;const I=(t.capture?"(":"")+v.open;Kt("parens"),M({type:O,value:F,output:b.output?"":p}),M({type:"paren",extglob:!0,value:Ee(),output:I}),C.push(v)},da=O=>{let F=O.close+(t.capture?")":""),v;if(O.type==="negate"){let I=B;if(O.inner&&O.inner.length>1&&O.inner.includes("/")&&(I=R(t)),(I!==B||te()||/^\)+$/.test(Ae()))&&(F=O.close=`)$))${I}`),O.inner.includes("*")&&(v=Ae())&&/^\.[^\\/.]+$/.test(v)){const q=Us(v,{...e,fastpaths:!1}).output;F=O.close=`)${q})${I})`}O.prev.type==="bos"&&(b.negatedExtglob=!0)}M({type:"paren",extglob:!0,value:_,output:F}),Ue("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(n)){let O=!1,F=n.replace(Ou,(v,I,q,ne,J,Vn)=>ne==="\\"?(O=!0,v):ne==="?"?I?I+ne+(J?k.repeat(J.length):""):Vn===0?P+(J?k.repeat(J.length):""):k.repeat(q.length):ne==="."?f.repeat(q.length):ne==="*"?I?I+ne+(J?B:""):B:I?v:`\\${v}`);return O===!0&&(t.unescape===!0?F=F.replace(/\\/g,""):F=F.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),F===n&&t.contains===!0?(b.output=n,b):(b.output=ce.wrapOutput(F,b,e),b)}for(;!te();){if(_=Ee(),_==="\0")continue;if(_==="\\"){const v=D();if(v==="/"&&t.bash!==!0||v==="."||v===";")continue;if(!v){_+="\\",M({type:"text",value:_});continue}const I=/^\\+/.exec(Ae());let q=0;if(I&&I[0].length>2&&(q=I[0].length,b.index+=q,q%2!==0&&(_+="\\")),t.unescape===!0?_=Ee():_+=Ee(),b.brackets===0){M({type:"text",value:_});continue}}if(b.brackets>0&&(_!=="]"||y.value==="["||y.value==="[^")){if(t.posix!==!1&&_===":"){const v=y.value.slice(1);if(v.includes("[")&&(y.posix=!0,v.includes(":"))){const I=y.value.lastIndexOf("["),q=y.value.slice(0,I),ne=y.value.slice(I+2),J=vu[ne];if(J){y.value=q+J,b.backtrack=!0,Ee(),!i.output&&o.indexOf(y)===1&&(i.output=p);continue}}}(_==="["&&D()!==":"||_==="-"&&D()==="]")&&(_=`\\${_}`),_==="]"&&(y.value==="["||y.value==="[^")&&(_=`\\${_}`),t.posix===!0&&_==="!"&&y.value==="["&&(_="^"),y.value+=_,Ht({value:_});continue}if(b.quotes===1&&_!=='"'){_=ce.escapeRegex(_),y.value+=_,Ht({value:_});continue}if(_==='"'){b.quotes=b.quotes===1?0:1,t.keepQuotes===!0&&M({type:"text",value:_});continue}if(_==="("){Kt("parens"),M({type:"paren",value:_});continue}if(_===")"){if(b.parens===0&&t.strictBrackets===!0)throw new SyntaxError(pt("opening","("));const v=C[C.length-1];if(v&&b.parens===v.parens+1){da(C.pop());continue}M({type:"paren",value:_,output:b.parens?")":"\\)"}),Ue("parens");continue}if(_==="["){if(t.nobracket===!0||!Ae().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(pt("closing","]"));_=`\\${_}`}else Kt("brackets");M({type:"bracket",value:_});continue}if(_==="]"){if(t.nobracket===!0||y&&y.type==="bracket"&&y.value.length===1){M({type:"text",value:_,output:`\\${_}`});continue}if(b.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(pt("opening","["));M({type:"text",value:_,output:`\\${_}`});continue}Ue("brackets");const v=y.value.slice(1);if(y.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(_=`/${_}`),y.value+=_,Ht({value:_}),t.literalBrackets===!1||ce.hasRegexChars(v))continue;const I=ce.escapeRegex(y.value);if(b.output=b.output.slice(0,-y.value.length),t.literalBrackets===!0){b.output+=I,y.value=I;continue}y.value=`(${a}${I}|${y.value})`,b.output+=y.value;continue}if(_==="{"&&t.nobrace!==!0){Kt("braces");const v={type:"brace",value:_,output:"(",outputIndex:b.output.length,tokensIndex:b.tokens.length};j.push(v),M(v);continue}if(_==="}"){const v=j[j.length-1];if(t.nobrace===!0||!v){M({type:"text",value:_,output:_});continue}let I=")";if(v.dots===!0){const q=o.slice(),ne=[];for(let J=q.length-1;J>=0&&(o.pop(),q[J].type!=="brace");J--)q[J].type!=="dots"&&ne.unshift(q[J].value);I=$u(ne,t),b.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){const q=b.output.slice(0,v.outputIndex),ne=b.tokens.slice(v.tokensIndex);v.value=v.output="\\{",_=I="\\}",b.output=q;for(const J of ne)b.output+=J.output||J.value}M({type:"brace",value:_,output:I}),Ue("braces"),j.pop();continue}if(_==="|"){C.length>0&&C[C.length-1].conditions++,M({type:"text",value:_});continue}if(_===","){let v=_;const I=j[j.length-1];I&&Me[Me.length-1]==="braces"&&(I.comma=!0,v="|"),M({type:"comma",value:_,output:v});continue}if(_==="/"){if(y.type==="dot"&&b.index===b.start+1){b.start=b.index+1,b.consumed="",b.output="",o.pop(),y=i;continue}M({type:"slash",value:_,output:g});continue}if(_==="."){if(b.braces>0&&y.type==="dot"){y.value==="."&&(y.output=f);const v=j[j.length-1];y.type="dots",y.output+=_,y.value+=_,v.dots=!0;continue}if(b.braces+b.parens===0&&y.type!=="bos"&&y.type!=="slash"){M({type:"text",value:_,output:f});continue}M({type:"dot",value:_,output:f});continue}if(_==="?"){if(!(y&&y.value==="(")&&t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ut("qmark",_);continue}if(y&&y.type==="paren"){const I=D();let q=_;if(I==="<"&&!ce.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(y.value==="("&&!/[!=<:]/.test(I)||I==="<"&&!/<([!=]|\w+>)/.test(Ae()))&&(q=`\\${_}`),M({type:"text",value:_,output:q});continue}if(t.dot!==!0&&(y.type==="slash"||y.type==="bos")){M({type:"qmark",value:_,output:T});continue}M({type:"qmark",value:_,output:k});continue}if(_==="!"){if(t.noextglob!==!0&&D()==="("&&(D(2)!=="?"||!/[!=<:]/.test(D(3)))){Ut("negate",_);continue}if(t.nonegate!==!0&&b.index===0){ha();continue}}if(_==="+"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ut("plus",_);continue}if(y&&y.value==="("||t.regex===!1){M({type:"plus",value:_,output:h});continue}if(y&&(y.type==="bracket"||y.type==="paren"||y.type==="brace")||b.parens>0){M({type:"plus",value:_});continue}M({type:"plus",value:h});continue}if(_==="@"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){M({type:"at",extglob:!0,value:_,output:""});continue}M({type:"text",value:_});continue}if(_!=="*"){(_==="$"||_==="^")&&(_=`\\${_}`);const v=ku.exec(Ae());v&&(_+=v[0],b.index+=v[0].length),M({type:"text",value:_});continue}if(y&&(y.type==="globstar"||y.star===!0)){y.type="star",y.star=!0,y.value+=_,y.output=B,b.backtrack=!0,b.globstar=!0,ae(_);continue}let O=Ae();if(t.noextglob!==!0&&/^\([^?]/.test(O)){Ut("star",_);continue}if(y.type==="star"){if(t.noglobstar===!0){ae(_);continue}const v=y.prev,I=v.prev,q=v.type==="slash"||v.type==="bos",ne=I&&(I.type==="star"||I.type==="globstar");if(t.bash===!0&&(!q||O[0]&&O[0]!=="/")){M({type:"star",value:_,output:""});continue}const J=b.braces>0&&(v.type==="comma"||v.type==="brace"),Vn=C.length&&(v.type==="pipe"||v.type==="paren");if(!q&&v.type!=="paren"&&!J&&!Vn){M({type:"star",value:_,output:""});continue}for(;O.slice(0,3)==="/**";){const qt=n[b.index+4];if(qt&&qt!=="/")break;O=O.slice(3),ae("/**",3)}if(v.type==="bos"&&te()){y.type="globstar",y.value+=_,y.output=R(t),b.output=y.output,b.globstar=!0,ae(_);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!ne&&te()){b.output=b.output.slice(0,-(v.output+y.output).length),v.output=`(?:${v.output}`,y.type="globstar",y.output=R(t)+(t.strictSlashes?")":"|$)"),y.value+=_,b.globstar=!0,b.output+=v.output+y.output,ae(_);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&O[0]==="/"){const qt=O[1]!==void 0?"|$":"";b.output=b.output.slice(0,-(v.output+y.output).length),v.output=`(?:${v.output}`,y.type="globstar",y.output=`${R(t)}${g}|${g}${qt})`,y.value+=_,b.output+=v.output+y.output,b.globstar=!0,ae(_+Ee()),M({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&O[0]==="/"){y.type="globstar",y.value+=_,y.output=`(?:^|${g}|${R(t)}${g})`,b.output=y.output,b.globstar=!0,ae(_+Ee()),M({type:"slash",value:"/",output:""});continue}b.output=b.output.slice(0,-y.output.length),y.type="globstar",y.output=R(t),y.value+=_,b.output+=y.output,b.globstar=!0,ae(_);continue}const F={type:"star",value:_,output:B};if(t.bash===!0){F.output=".*?",(y.type==="bos"||y.type==="slash")&&(F.output=$+F.output),M(F);continue}if(y&&(y.type==="bracket"||y.type==="paren")&&t.regex===!0){F.output=_,M(F);continue}(b.index===b.start||y.type==="slash"||y.type==="dot")&&(y.type==="dot"?(b.output+=w,y.output+=w):t.dot===!0?(b.output+=E,y.output+=E):(b.output+=$,y.output+=$),D()!=="*"&&(b.output+=p,y.output+=p)),M(F)}for(;b.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing","]"));b.output=ce.escapeLast(b.output,"["),Ue("brackets")}for(;b.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing",")"));b.output=ce.escapeLast(b.output,"("),Ue("parens")}for(;b.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing","}"));b.output=ce.escapeLast(b.output,"{"),Ue("braces")}if(t.strictSlashes!==!0&&(y.type==="star"||y.type==="bracket")&&M({type:"maybe_slash",value:"",output:`${g}?`}),b.backtrack===!0){b.output="";for(const O of b.tokens)b.output+=O.output!=null?O.output:O.value,O.suffix&&(b.output+=O.suffix)}return b};Us.fastpaths=(n,e)=>{const t={...e},s=typeof t.maxLength=="number"?Math.min(Rn,t.maxLength):Rn,r=n.length;if(r>s)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${s}`);n=Oo[n]||n;const i=ce.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:c,NO_DOT:u,NO_DOTS:f,NO_DOTS_SLASH:h,STAR:g,START_ANCHOR:p}=Tn.globChars(i),d=t.dot?f:u,m=t.dot?h:u,w=t.capture?"":"?:",E={negated:!1,prefix:""};let k=t.bash===!0?".*?":g;t.capture&&(k=`(${k})`);const T=$=>$.noglobstar===!0?k:`(${w}(?:(?!${p}${$.dot?c:o}).)*?)`,A=$=>{switch($){case"*":return`${d}${l}${k}`;case".*":return`${o}${l}${k}`;case"*.*":return`${d}${k}${o}${l}${k}`;case"*/*":return`${d}${k}${a}${l}${m}${k}`;case"**":return d+T(t);case"**/*":return`(?:${d}${T(t)}${a})?${m}${l}${k}`;case"**/*.*":return`(?:${d}${T(t)}${a})?${m}${k}${o}${l}${k}`;case"**/.*":return`(?:${d}${T(t)}${a})?${o}${l}${k}`;default:{const P=/^(.*?)\.(\w+)$/.exec($);if(!P)return;const B=A(P[1]);return B?B+o+P[2]:void 0}}},S=ce.removePrefix(n,E);let R=A(S);return R&&t.strictSlashes!==!0&&(R+=`${a}?`),R};var Tu=Us;const Ru=ve,Pu=Au,qs=Tu,Vs=Ct,Nu=$n,Cu=n=>n&&typeof n=="object"&&!Array.isArray(n),W=(n,e,t=!1)=>{if(Array.isArray(n)){const u=n.map(h=>W(h,e,t));return h=>{for(const g of u){const p=g(h);if(p)return p}return!1}}const s=Cu(n)&&n.tokens&&n.input;if(n===""||typeof n!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");const r=e||{},i=Vs.isWindows(e),o=s?W.compileRe(n,e):W.makeRe(n,e,!1,!0),a=o.state;delete o.state;let l=()=>!1;if(r.ignore){const u={...e,ignore:null,onMatch:null,onResult:null};l=W(r.ignore,u,t)}const c=(u,f=!1)=>{const{isMatch:h,match:g,output:p}=W.test(u,o,e,{glob:n,posix:i}),d={glob:n,state:a,regex:o,posix:i,input:u,output:p,match:g,isMatch:h};return typeof r.onResult=="function"&&r.onResult(d),h===!1?(d.isMatch=!1,f?d:!1):l(u)?(typeof r.onIgnore=="function"&&r.onIgnore(d),d.isMatch=!1,f?d:!1):(typeof r.onMatch=="function"&&r.onMatch(d),f?d:!0)};return t&&(c.state=a),c};W.test=(n,e,t,{glob:s,posix:r}={})=>{if(typeof n!="string")throw new TypeError("Expected input to be a string");if(n==="")return{isMatch:!1,output:""};const i=t||{},o=i.format||(r?Vs.toPosixSlashes:null);let a=n===s,l=a&&o?o(n):n;return a===!1&&(l=o?o(n):n,a=l===s),(a===!1||i.capture===!0)&&(i.matchBase===!0||i.basename===!0?a=W.matchBase(n,e,t,r):a=e.exec(l)),{isMatch:!!a,match:a,output:l}},W.matchBase=(n,e,t,s=Vs.isWindows(t))=>(e instanceof RegExp?e:W.makeRe(e,t)).test(Ru.basename(n)),W.isMatch=(n,e,t)=>W(e,t)(n),W.parse=(n,e)=>Array.isArray(n)?n.map(t=>W.parse(t,e)):qs(n,{...e,fastpaths:!1}),W.scan=(n,e)=>Pu(n,e),W.compileRe=(n,e,t=!1,s=!1)=>{if(t===!0)return n.output;const r=e||{},i=r.contains?"":"^",o=r.contains?"":"$";let a=`${i}(?:${n.output})${o}`;n&&n.negated===!0&&(a=`^(?!${a}).*$`);const l=W.toRegex(a,e);return s===!0&&(l.state=n),l},W.makeRe=(n,e={},t=!1,s=!1)=>{if(!n||typeof n!="string")throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(n[0]==="."||n[0]==="*")&&(r.output=qs.fastpaths(n,e)),r.output||(r=qs(n,e)),W.compileRe(r,e,t,s)},W.toRegex=(n,e)=>{try{const t=e||{};return new RegExp(n,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}},W.constants=Nu;var Lu=W,Iu=Lu;const $o=Tr,To=su,$e=Iu,Gs=Ct,Ro=n=>n===""||n==="./",U=(n,e,t)=>{e=[].concat(e),n=[].concat(n);let s=new Set,r=new Set,i=new Set,o=0,a=u=>{i.add(u.output),t&&t.onResult&&t.onResult(u)};for(let u=0;u<e.length;u++){let f=$e(String(e[u]),{...t,onResult:a},!0),h=f.state.negated||f.state.negatedExtglob;h&&o++;for(let g of n){let p=f(g,!0);(h?!p.isMatch:p.isMatch)&&(h?s.add(p.output):(s.delete(p.output),r.add(p.output)))}}let c=(o===e.length?[...i]:[...r]).filter(u=>!s.has(u));if(t&&c.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?e.map(u=>u.replace(/\\/g,"")):e}return c};U.match=U,U.matcher=(n,e)=>$e(n,e),U.isMatch=(n,e,t)=>$e(e,t)(n),U.any=U.isMatch,U.not=(n,e,t={})=>{e=[].concat(e).map(String);let s=new Set,r=[],i=a=>{t.onResult&&t.onResult(a),r.push(a.output)},o=new Set(U(n,e,{...t,onResult:i}));for(let a of r)o.has(a)||s.add(a);return[...s]},U.contains=(n,e,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${$o.inspect(n)}"`);if(Array.isArray(e))return e.some(s=>U.contains(n,s,t));if(typeof e=="string"){if(Ro(n)||Ro(e))return!1;if(n.includes(e)||n.startsWith("./")&&n.slice(2).includes(e))return!0}return U.isMatch(n,e,{...t,contains:!0})},U.matchKeys=(n,e,t)=>{if(!Gs.isObject(n))throw new TypeError("Expected the first argument to be an object");let s=U(Object.keys(n),e,t),r={};for(let i of s)r[i]=n[i];return r},U.some=(n,e,t)=>{let s=[].concat(n);for(let r of[].concat(e)){let i=$e(String(r),t);if(s.some(o=>i(o)))return!0}return!1},U.every=(n,e,t)=>{let s=[].concat(n);for(let r of[].concat(e)){let i=$e(String(r),t);if(!s.every(o=>i(o)))return!1}return!0},U.all=(n,e,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${$o.inspect(n)}"`);return[].concat(e).every(s=>$e(s,t)(n))},U.capture=(n,e,t)=>{let s=Gs.isWindows(t),i=$e.makeRe(String(n),{...t,capture:!0}).exec(s?Gs.toPosixSlashes(e):e);if(i)return i.slice(1).map(o=>o===void 0?"":o)},U.makeRe=(...n)=>$e.makeRe(...n),U.scan=(...n)=>$e.scan(...n),U.parse=(n,e)=>{let t=[];for(let s of[].concat(n||[]))for(let r of To(String(s),e))t.push($e.parse(r,e));return t},U.braces=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(n)?[n]:To(n,e)},U.braceExpand=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");return U.braces(n,{...e,expand:!0})};var Mu=U;Object.defineProperty(N,"__esModule",{value:!0}),N.removeDuplicateSlashes=N.matchAny=N.convertPatternsToRe=N.makeRe=N.getPatternParts=N.expandBraceExpansion=N.expandPatternsWithBraceExpansion=N.isAffectDepthOfReadingPattern=N.endsWithSlashGlobStar=N.hasGlobStar=N.getBaseDirectory=N.isPatternRelatedToParentDirectory=N.getPatternsOutsideCurrentDirectory=N.getPatternsInsideCurrentDirectory=N.getPositivePatterns=N.getNegativePatterns=N.isPositivePattern=N.isNegativePattern=N.convertToNegativePattern=N.convertToPositivePattern=N.isDynamicPattern=N.isStaticPattern=void 0;const Du=ve,xu=gc,Ws=Mu,Po="**",Bu="\\",ju=/[*?]|^!/,Fu=/\[[^[]*]/,Hu=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,Ku=/[!*+?@]\([^(]*\)/,Uu=/,|\.\./,qu=/(?!^)\/{2,}/g;function No(n,e={}){return!Co(n,e)}N.isStaticPattern=No;function Co(n,e={}){return n===""?!1:!!(e.caseSensitiveMatch===!1||n.includes(Bu)||ju.test(n)||Fu.test(n)||Hu.test(n)||e.extglob!==!1&&Ku.test(n)||e.braceExpansion!==!1&&Vu(n))}N.isDynamicPattern=Co;function Vu(n){const e=n.indexOf("{");if(e===-1)return!1;const t=n.indexOf("}",e+1);if(t===-1)return!1;const s=n.slice(e,t);return Uu.test(s)}function Gu(n){return Pn(n)?n.slice(1):n}N.convertToPositivePattern=Gu;function Wu(n){return"!"+n}N.convertToNegativePattern=Wu;function Pn(n){return n.startsWith("!")&&n[1]!=="("}N.isNegativePattern=Pn;function Lo(n){return!Pn(n)}N.isPositivePattern=Lo;function Yu(n){return n.filter(Pn)}N.getNegativePatterns=Yu;function Qu(n){return n.filter(Lo)}N.getPositivePatterns=Qu;function Ju(n){return n.filter(e=>!Ys(e))}N.getPatternsInsideCurrentDirectory=Ju;function Xu(n){return n.filter(Ys)}N.getPatternsOutsideCurrentDirectory=Xu;function Ys(n){return n.startsWith("..")||n.startsWith("./..")}N.isPatternRelatedToParentDirectory=Ys;function zu(n){return xu(n,{flipBackslashes:!1})}N.getBaseDirectory=zu;function Zu(n){return n.includes(Po)}N.hasGlobStar=Zu;function Io(n){return n.endsWith("/"+Po)}N.endsWithSlashGlobStar=Io;function ef(n){const e=Du.basename(n);return Io(n)||No(e)}N.isAffectDepthOfReadingPattern=ef;function tf(n){return n.reduce((e,t)=>e.concat(Mo(t)),[])}N.expandPatternsWithBraceExpansion=tf;function Mo(n){const e=Ws.braces(n,{expand:!0,nodupes:!0});return e.sort((t,s)=>t.length-s.length),e.filter(t=>t!=="")}N.expandBraceExpansion=Mo;function nf(n,e){let{parts:t}=Ws.scan(n,Object.assign(Object.assign({},e),{parts:!0}));return t.length===0&&(t=[n]),t[0].startsWith("/")&&(t[0]=t[0].slice(1),t.unshift("")),t}N.getPatternParts=nf;function Do(n,e){return Ws.makeRe(n,e)}N.makeRe=Do;function sf(n,e){return n.map(t=>Do(t,e))}N.convertPatternsToRe=sf;function rf(n,e){return e.some(t=>t.test(n))}N.matchAny=rf;function of(n){return n.replace(qu,"/")}N.removeDuplicateSlashes=of;var Nn={};const af=Vt,xo=af.PassThrough,lf=Array.prototype.slice;var cf=uf;function uf(){const n=[],e=lf.call(arguments);let t=!1,s=e[e.length-1];s&&!Array.isArray(s)&&s.pipe==null?e.pop():s={};const r=s.end!==!1,i=s.pipeError===!0;s.objectMode==null&&(s.objectMode=!0),s.highWaterMark==null&&(s.highWaterMark=64*1024);const o=xo(s);function a(){for(let u=0,f=arguments.length;u<f;u++)n.push(Bo(arguments[u],s));return l(),this}function l(){if(t)return;t=!0;let u=n.shift();if(!u){process.nextTick(c);return}Array.isArray(u)||(u=[u]);let f=u.length+1;function h(){--f>0||(t=!1,l())}function g(p){function d(){p.removeListener("merge2UnpipeEnd",d),p.removeListener("end",d),i&&p.removeListener("error",m),h()}function m(w){o.emit("error",w)}if(p._readableState.endEmitted)return h();p.on("merge2UnpipeEnd",d),p.on("end",d),i&&p.on("error",m),p.pipe(o,{end:!1}),p.resume()}for(let p=0;p<u.length;p++)g(u[p]);h()}function c(){t=!1,o.emit("queueDrain"),r&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(u){u.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),o}function Bo(n,e){if(Array.isArray(n))for(let t=0,s=n.length;t<s;t++)n[t]=Bo(n[t],e);else{if(!n._readableState&&n.pipe&&(n=n.pipe(xo(e))),!n._readableState||!n.pause||!n.pipe)throw new Error("Only readable stream can be merged.");n.pause()}return n}Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.merge=void 0;const ff=cf;function hf(n){const e=ff(n);return n.forEach(t=>{t.once("error",s=>e.emit("error",s))}),e.once("close",()=>jo(n)),e.once("end",()=>jo(n)),e}Nn.merge=hf;function jo(n){n.forEach(e=>e.emit("close"))}var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.isEmpty=gt.isString=void 0;function df(n){return typeof n=="string"}gt.isString=df;function pf(n){return n===""}gt.isEmpty=pf,Object.defineProperty(V,"__esModule",{value:!0}),V.string=V.stream=V.pattern=V.path=V.fs=V.errno=V.array=void 0;const gf=ht;V.array=gf;const mf=En;V.errno=mf;const yf=An;V.fs=yf;const _f=Y;V.path=_f;const bf=N;V.pattern=bf;const Sf=Nn;V.stream=Sf;const wf=gt;V.string=wf,Object.defineProperty(ee,"__esModule",{value:!0}),ee.convertPatternGroupToTask=ee.convertPatternGroupsToTasks=ee.groupPatternsByBaseDirectory=ee.getNegativePatternsAsPositive=ee.getPositivePatterns=ee.convertPatternsToTasks=ee.generate=void 0;const Se=V;function Ef(n,e){const t=Fo(n,e),s=Fo(e.ignore,e),r=Ho(t),i=Ko(t,s),o=r.filter(u=>Se.pattern.isStaticPattern(u,e)),a=r.filter(u=>Se.pattern.isDynamicPattern(u,e)),l=Qs(o,i,!1),c=Qs(a,i,!0);return l.concat(c)}ee.generate=Ef;function Fo(n,e){let t=n;return e.braceExpansion&&(t=Se.pattern.expandPatternsWithBraceExpansion(t)),e.baseNameMatch&&(t=t.map(s=>s.includes("/")?s:`**/${s}`)),t.map(s=>Se.pattern.removeDuplicateSlashes(s))}function Qs(n,e,t){const s=[],r=Se.pattern.getPatternsOutsideCurrentDirectory(n),i=Se.pattern.getPatternsInsideCurrentDirectory(n),o=Js(r),a=Js(i);return s.push(...Xs(o,e,t)),"."in a?s.push(zs(".",i,e,t)):s.push(...Xs(a,e,t)),s}ee.convertPatternsToTasks=Qs;function Ho(n){return Se.pattern.getPositivePatterns(n)}ee.getPositivePatterns=Ho;function Ko(n,e){return Se.pattern.getNegativePatterns(n).concat(e).map(Se.pattern.convertToPositivePattern)}ee.getNegativePatternsAsPositive=Ko;function Js(n){const e={};return n.reduce((t,s)=>{const r=Se.pattern.getBaseDirectory(s);return r in t?t[r].push(s):t[r]=[s],t},e)}ee.groupPatternsByBaseDirectory=Js;function Xs(n,e,t){return Object.keys(n).map(s=>zs(s,n[s],e,t))}ee.convertPatternGroupsToTasks=Xs;function zs(n,e,t,s){return{dynamic:s,positive:e,negative:t,base:n,patterns:[].concat(e,t.map(Se.pattern.convertToNegativePattern))}}ee.convertPatternGroupToTask=zs;var Zs={},er={},pe={},tr={},Cn={},Te={},Fe={},ue={},Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.read=void 0;function Af(n,e,t){e.fs.lstat(n,(s,r)=>{if(s!==null){Uo(t,s);return}if(!r.isSymbolicLink()||!e.followSymbolicLink){nr(t,r);return}e.fs.stat(n,(i,o)=>{if(i!==null){if(e.throwErrorOnBrokenSymbolicLink){Uo(t,i);return}nr(t,r);return}e.markSymbolicLink&&(o.isSymbolicLink=()=>!0),nr(t,o)})})}Ln.read=Af;function Uo(n,e){n(e)}function nr(n,e){n(null,e)}var In={};Object.defineProperty(In,"__esModule",{value:!0}),In.read=void 0;function vf(n,e){const t=e.fs.lstatSync(n);if(!t.isSymbolicLink()||!e.followSymbolicLink)return t;try{const s=e.fs.statSync(n);return e.markSymbolicLink&&(s.isSymbolicLink=()=>!0),s}catch(s){if(!e.throwErrorOnBrokenSymbolicLink)return t;throw s}}In.read=vf;var sr={},qo={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const e=_t;n.FILE_SYSTEM_ADAPTER={lstat:e.lstat,stat:e.stat,lstatSync:e.lstatSync,statSync:e.statSync};function t(s){return s===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),s)}n.createFileSystemAdapter=t})(qo),Object.defineProperty(sr,"__esModule",{value:!0});const kf=qo;let Of=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=kf.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return e??t}};sr.default=Of,Object.defineProperty(ue,"__esModule",{value:!0}),ue.statSync=ue.stat=ue.Settings=void 0;const Vo=Ln,$f=In,rr=sr;ue.Settings=rr.default;function Tf(n,e,t){if(typeof e=="function"){Vo.read(n,ir(),e);return}Vo.read(n,ir(e),t)}ue.stat=Tf;function Rf(n,e){const t=ir(e);return $f.read(n,t)}ue.statSync=Rf;function ir(n={}){return n instanceof rr.default?n:new rr.default(n)}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Go;var Pf=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ma):n=>(Go||(Go=Promise.resolve())).then(n).catch(e=>setTimeout(()=>{throw e},0));/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Nf=Lf;const Cf=Pf;function Lf(n,e){let t,s,r,i=!0;Array.isArray(n)?(t=[],s=n.length):(r=Object.keys(n),t={},s=r.length);function o(l){function c(){e&&e(l,t),e=null}i?Cf(c):c()}function a(l,c,u){t[l]=u,(--s===0||c)&&o(c)}s?r?r.forEach(function(l){n[l](function(c,u){a(l,c,u)})}):n.forEach(function(l,c){l(function(u,f){a(c,u,f)})}):o(null),i=!1}var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const Mn=process.versions.node.split(".");if(Mn[0]===void 0||Mn[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const Wo=Number.parseInt(Mn[0],10),If=Number.parseInt(Mn[1],10),Yo=10,Mf=10,Df=Wo>Yo,xf=Wo===Yo&&If>=Mf;It.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Df||xf;var Mt={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.createDirentFromStats=void 0;class Bf{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}function jf(n,e){return new Bf(n,e)}Dn.createDirentFromStats=jf,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.fs=void 0;const Ff=Dn;Mt.fs=Ff;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.joinPathSegments=void 0;function Hf(n,e,t){return n.endsWith(t)?n+e:n+t+e}Dt.joinPathSegments=Hf,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.readdir=Fe.readdirWithFileTypes=Fe.read=void 0;const Kf=ue,Qo=Nf,Uf=It,Jo=Mt,Xo=Dt;function qf(n,e,t){if(!e.stats&&Uf.IS_SUPPORT_READDIR_WITH_FILE_TYPES){zo(n,e,t);return}Zo(n,e,t)}Fe.read=qf;function zo(n,e,t){e.fs.readdir(n,{withFileTypes:!0},(s,r)=>{if(s!==null){xn(t,s);return}const i=r.map(a=>({dirent:a,name:a.name,path:Xo.joinPathSegments(n,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){or(t,i);return}const o=i.map(a=>Vf(a,e));Qo(o,(a,l)=>{if(a!==null){xn(t,a);return}or(t,l)})})}Fe.readdirWithFileTypes=zo;function Vf(n,e){return t=>{if(!n.dirent.isSymbolicLink()){t(null,n);return}e.fs.stat(n.path,(s,r)=>{if(s!==null){if(e.throwErrorOnBrokenSymbolicLink){t(s);return}t(null,n);return}n.dirent=Jo.fs.createDirentFromStats(n.name,r),t(null,n)})}}function Zo(n,e,t){e.fs.readdir(n,(s,r)=>{if(s!==null){xn(t,s);return}const i=r.map(o=>{const a=Xo.joinPathSegments(n,o,e.pathSegmentSeparator);return l=>{Kf.stat(a,e.fsStatSettings,(c,u)=>{if(c!==null){l(c);return}const f={name:o,path:a,dirent:Jo.fs.createDirentFromStats(o,u)};e.stats&&(f.stats=u),l(null,f)})}});Qo(i,(o,a)=>{if(o!==null){xn(t,o);return}or(t,a)})})}Fe.readdir=Zo;function xn(n,e){n(e)}function or(n,e){n(null,e)}var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.readdir=He.readdirWithFileTypes=He.read=void 0;const Gf=ue,Wf=It,ea=Mt,ta=Dt;function Yf(n,e){return!e.stats&&Wf.IS_SUPPORT_READDIR_WITH_FILE_TYPES?na(n,e):sa(n,e)}He.read=Yf;function na(n,e){return e.fs.readdirSync(n,{withFileTypes:!0}).map(s=>{const r={dirent:s,name:s.name,path:ta.joinPathSegments(n,s.name,e.pathSegmentSeparator)};if(r.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{const i=e.fs.statSync(r.path);r.dirent=ea.fs.createDirentFromStats(r.name,i)}catch(i){if(e.throwErrorOnBrokenSymbolicLink)throw i}return r})}He.readdirWithFileTypes=na;function sa(n,e){return e.fs.readdirSync(n).map(s=>{const r=ta.joinPathSegments(n,s,e.pathSegmentSeparator),i=Gf.statSync(r,e.fsStatSettings),o={name:s,path:r,dirent:ea.fs.createDirentFromStats(s,i)};return e.stats&&(o.stats=i),o})}He.readdir=sa;var ar={},ra={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const e=_t;n.FILE_SYSTEM_ADAPTER={lstat:e.lstat,stat:e.stat,lstatSync:e.lstatSync,statSync:e.statSync,readdir:e.readdir,readdirSync:e.readdirSync};function t(s){return s===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),s)}n.createFileSystemAdapter=t})(ra),Object.defineProperty(ar,"__esModule",{value:!0});const Qf=ve,Jf=ue,Xf=ra;let zf=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Xf.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Qf.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Jf.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}};ar.default=zf,Object.defineProperty(Te,"__esModule",{value:!0}),Te.Settings=Te.scandirSync=Te.scandir=void 0;const ia=Fe,Zf=He,lr=ar;Te.Settings=lr.default;function eh(n,e,t){if(typeof e=="function"){ia.read(n,cr(),e);return}ia.read(n,cr(e),t)}Te.scandir=eh;function th(n,e){const t=cr(e);return Zf.read(n,t)}Te.scandirSync=th;function cr(n={}){return n instanceof lr.default?n:new lr.default(n)}var ur={exports:{}};function nh(n){var e=new n,t=e;function s(){var i=e;return i.next?e=i.next:(e=new n,t=e),i.next=null,i}function r(i){t.next=i,t=i}return{get:s,release:r}}var sh=nh,rh=sh;function oa(n,e,t){if(typeof n=="function"&&(t=e,e=n,n=null),t<1)throw new Error("fastqueue concurrency must be greater than 1");var s=rh(ih),r=null,i=null,o=0,a=null,l={push:d,drain:ge,saturated:ge,pause:u,paused:!1,concurrency:t,running:c,resume:g,idle:p,length:f,getQueue:h,unshift:m,empty:ge,kill:E,killAndDrain:k,error:T};return l;function c(){return o}function u(){l.paused=!0}function f(){for(var A=r,S=0;A;)A=A.next,S++;return S}function h(){for(var A=r,S=[];A;)S.push(A.value),A=A.next;return S}function g(){if(l.paused){l.paused=!1;for(var A=0;A<l.concurrency;A++)o++,w()}}function p(){return o===0&&l.length()===0}function d(A,S){var R=s.get();R.context=n,R.release=w,R.value=A,R.callback=S||ge,R.errorHandler=a,o===l.concurrency||l.paused?i?(i.next=R,i=R):(r=R,i=R,l.saturated()):(o++,e.call(n,R.value,R.worked))}function m(A,S){var R=s.get();R.context=n,R.release=w,R.value=A,R.callback=S||ge,o===l.concurrency||l.paused?r?(R.next=r,r=R):(r=R,i=R,l.saturated()):(o++,e.call(n,R.value,R.worked))}function w(A){A&&s.release(A);var S=r;S?l.paused?o--:(i===r&&(i=null),r=S.next,S.next=null,e.call(n,S.value,S.worked),i===null&&l.empty()):--o===0&&l.drain()}function E(){r=null,i=null,l.drain=ge}function k(){r=null,i=null,l.drain(),l.drain=ge}function T(A){a=A}}function ge(){}function ih(){this.value=null,this.callback=ge,this.next=null,this.release=ge,this.context=null,this.errorHandler=null;var n=this;this.worked=function(t,s){var r=n.callback,i=n.errorHandler,o=n.value;n.value=null,n.callback=ge,n.errorHandler&&i(t,o),r.call(n.context,t,s),n.release(n)}}function oh(n,e,t){typeof n=="function"&&(t=e,e=n,n=null);function s(u,f){e.call(this,u).then(function(h){f(null,h)},f)}var r=oa(n,s,t),i=r.push,o=r.unshift;return r.push=a,r.unshift=l,r.drained=c,r;function a(u){var f=new Promise(function(h,g){i(u,function(p,d){if(p){g(p);return}h(d)})});return f.catch(ge),f}function l(u){var f=new Promise(function(h,g){o(u,function(p,d){if(p){g(p);return}h(d)})});return f.catch(ge),f}function c(){if(r.idle())return new Promise(function(h){h()});var u=r.drain,f=new Promise(function(h){r.drain=function(){u(),h()}});return f}}ur.exports=oa,ur.exports.promise=oh;var ah=ur.exports,me={};Object.defineProperty(me,"__esModule",{value:!0}),me.joinPathSegments=me.replacePathSegmentSeparator=me.isAppliedFilter=me.isFatalError=void 0;function lh(n,e){return n.errorFilter===null?!0:!n.errorFilter(e)}me.isFatalError=lh;function ch(n,e){return n===null||n(e)}me.isAppliedFilter=ch;function uh(n,e){return n.split(/[/\\]/).join(e)}me.replacePathSegmentSeparator=uh;function fh(n,e,t){return n===""?e:n.endsWith(t)?n+e:n+t+e}me.joinPathSegments=fh;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});const hh=me;let dh=class{constructor(e,t){this._root=e,this._settings=t,this._root=hh.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}};Bn.default=dh,Object.defineProperty(Cn,"__esModule",{value:!0});const ph=ga,gh=Te,mh=ah,jn=me,yh=Bn;class _h extends yh.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=gh.scandir,this._emitter=new ph.EventEmitter,this._queue=mh(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const s={directory:e,base:t};this._queue.push(s,r=>{r!==null&&this._handleError(r)})}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,(s,r)=>{if(s!==null){t(s,void 0);return}for(const i of r)this._handleEntry(i,e.base);t(null,void 0)})}_handleError(e){this._isDestroyed||!jn.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const s=e.path;t!==void 0&&(e.path=jn.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),jn.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&jn.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,t===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}Cn.default=_h,Object.defineProperty(tr,"__esModule",{value:!0});const bh=Cn;class Sh{constructor(e,t){this._root=e,this._settings=t,this._reader=new bh.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(t=>{wh(e,t)}),this._reader.onEntry(t=>{this._storage.push(t)}),this._reader.onEnd(()=>{Eh(e,this._storage)}),this._reader.read()}}tr.default=Sh;function wh(n,e){n(e)}function Eh(n,e){n(null,e)}var fr={};Object.defineProperty(fr,"__esModule",{value:!0});const Ah=Vt,vh=Cn;class kh{constructor(e,t){this._root=e,this._settings=t,this._reader=new vh.default(this._root,this._settings),this._stream=new Ah.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}fr.default=kh;var hr={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});const Oh=Te,Fn=me,$h=Bn;class Th extends $h.default{constructor(){super(...arguments),this._scandir=Oh.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const s=this._scandir(e,this._settings.fsScandirSettings);for(const r of s)this._handleEntry(r,t)}catch(s){this._handleError(s)}}_handleError(e){if(Fn.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const s=e.path;t!==void 0&&(e.path=Fn.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),Fn.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&Fn.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,t===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}}dr.default=Th,Object.defineProperty(hr,"__esModule",{value:!0});const Rh=dr;class Ph{constructor(e,t){this._root=e,this._settings=t,this._reader=new Rh.default(this._root,this._settings)}read(){return this._reader.read()}}hr.default=Ph;var pr={};Object.defineProperty(pr,"__esModule",{value:!0});const Nh=ve,Ch=Te;class Lh{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Nh.sep),this.fsScandirSettings=new Ch.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}}pr.default=Lh,Object.defineProperty(pe,"__esModule",{value:!0}),pe.Settings=pe.walkStream=pe.walkSync=pe.walk=void 0;const aa=tr,Ih=fr,Mh=hr,gr=pr;pe.Settings=gr.default;function Dh(n,e,t){if(typeof e=="function"){new aa.default(n,Hn()).read(e);return}new aa.default(n,Hn(e)).read(t)}pe.walk=Dh;function xh(n,e){const t=Hn(e);return new Mh.default(n,t).read()}pe.walkSync=xh;function Bh(n,e){const t=Hn(e);return new Ih.default(n,t).read()}pe.walkStream=Bh;function Hn(n={}){return n instanceof gr.default?n:new gr.default(n)}var xt={};Object.defineProperty(xt,"__esModule",{value:!0});const jh=ve,Fh=ue,la=V;class Hh{constructor(e){this._settings=e,this._fsStatSettings=new Fh.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return jh.resolve(this._settings.cwd,e)}_makeEntry(e,t){const s={name:t,path:t,dirent:la.fs.createDirentFromStats(t,e)};return this._settings.stats&&(s.stats=e),s}_isFatalError(e){return!la.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}}xt.default=Hh;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});const Kh=Vt,Uh=ue,qh=pe,Vh=xt;class Gh extends Vh.default{constructor(){super(...arguments),this._walkStream=qh.walkStream,this._stat=Uh.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const s=e.map(this._getFullEntryPath,this),r=new Kh.PassThrough({objectMode:!0});r._write=(i,o,a)=>this._getEntry(s[i],e[i],t).then(l=>{l!==null&&t.entryFilter(l)&&r.push(l),i===s.length-1&&r.end(),a()}).catch(a);for(let i=0;i<s.length;i++)r.write(i);return r}_getEntry(e,t,s){return this._getStat(e).then(r=>this._makeEntry(r,t)).catch(r=>{if(s.errorFilter(r))return null;throw r})}_getStat(e){return new Promise((t,s)=>{this._stat(e,this._fsStatSettings,(r,i)=>r===null?t(i):s(r))})}}Kn.default=Gh,Object.defineProperty(er,"__esModule",{value:!0});const Wh=pe,Yh=xt,Qh=Kn;class Jh extends Yh.default{constructor(){super(...arguments),this._walkAsync=Wh.walk,this._readerStream=new Qh.default(this._settings)}dynamic(e,t){return new Promise((s,r)=>{this._walkAsync(e,t,(i,o)=>{i===null?s(o):r(i)})})}async static(e,t){const s=[],r=this._readerStream.static(e,t);return new Promise((i,o)=>{r.once("error",o),r.on("data",a=>s.push(a)),r.once("end",()=>i(s))})}}er.default=Jh;var Bt={},mr={},yr={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});const jt=V;class Xh{constructor(e,t,s){this._patterns=e,this._settings=t,this._micromatchOptions=s,this._storage=[],this._fillStorage()}_fillStorage(){for(const e of this._patterns){const t=this._getPatternSegments(e),s=this._splitSegmentsIntoSections(t);this._storage.push({complete:s.length<=1,pattern:e,segments:t,sections:s})}}_getPatternSegments(e){return jt.pattern.getPatternParts(e,this._micromatchOptions).map(s=>jt.pattern.isDynamicPattern(s,this._settings)?{dynamic:!0,pattern:s,patternRe:jt.pattern.makeRe(s,this._micromatchOptions)}:{dynamic:!1,pattern:s})}_splitSegmentsIntoSections(e){return jt.array.splitWhen(e,t=>t.dynamic&&jt.pattern.hasGlobStar(t.pattern))}}_r.default=Xh,Object.defineProperty(yr,"__esModule",{value:!0});const zh=_r;class Zh extends zh.default{match(e){const t=e.split("/"),s=t.length,r=this._storage.filter(i=>!i.complete||i.segments.length>s);for(const i of r){const o=i.sections[0];if(!i.complete&&s>o.length||t.every((l,c)=>{const u=i.segments[c];return!!(u.dynamic&&u.patternRe.test(l)||!u.dynamic&&u.pattern===l)}))return!0}return!1}}yr.default=Zh,Object.defineProperty(mr,"__esModule",{value:!0});const Un=V,ed=yr;class td{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,s){const r=this._getMatcher(t),i=this._getNegativePatternsRe(s);return o=>this._filter(e,o,r,i)}_getMatcher(e){return new ed.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const t=e.filter(Un.pattern.isAffectDepthOfReadingPattern);return Un.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,s,r){if(this._isSkippedByDeep(e,t.path)||this._isSkippedSymbolicLink(t))return!1;const i=Un.path.removeLeadingDotSegment(t.path);return this._isSkippedByPositivePatterns(i,s)?!1:this._isSkippedByNegativePatterns(i,r)}_isSkippedByDeep(e,t){return this._settings.deep===1/0?!1:this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const s=t.split("/").length;if(e==="")return s;const r=e.split("/").length;return s-r}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!Un.pattern.matchAny(e,t)}}mr.default=td;var br={};Object.defineProperty(br,"__esModule",{value:!0});const ze=V;class nd{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const s=ze.pattern.convertPatternsToRe(e,this._micromatchOptions),r=ze.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}));return i=>this._filter(i,s,r)}_filter(e,t,s){const r=ze.path.removeLeadingDotSegment(e.path);if(this._settings.unique&&this._isDuplicateEntry(r)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(r,s))return!1;const i=e.dirent.isDirectory(),o=this._isMatchToPatterns(r,t,i)&&!this._isMatchToPatterns(r,s,i);return this._settings.unique&&o&&this._createIndexRecord(r),o}_isDuplicateEntry(e){return this.index.has(e)}_createIndexRecord(e){this.index.set(e,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const s=ze.path.makeAbsolute(this._settings.cwd,e);return ze.pattern.matchAny(s,t)}_isMatchToPatterns(e,t,s){const r=ze.pattern.matchAny(e,t);return!r&&s?ze.pattern.matchAny(e+"/",t):r}}br.default=nd;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});const sd=V;class rd{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return sd.errno.isEnoentCodeError(e)||this._settings.suppressErrors}}Sr.default=rd;var wr={};Object.defineProperty(wr,"__esModule",{value:!0});const ca=V;class id{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=ca.path.makeAbsolute(this._settings.cwd,t),t=ca.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}}wr.default=id,Object.defineProperty(Bt,"__esModule",{value:!0});const od=ve,ad=mr,ld=br,cd=Sr,ud=wr;class fd{constructor(e){this._settings=e,this.errorFilter=new cd.default(this._settings),this.entryFilter=new ld.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new ad.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new ud.default(this._settings)}_getRootDirectory(e){return od.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t=e.base==="."?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}Bt.default=fd,Object.defineProperty(Zs,"__esModule",{value:!0});const hd=er,dd=Bt;class pd extends dd.default{constructor(){super(...arguments),this._reader=new hd.default(this._settings)}async read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e);return(await this.api(t,e,s)).map(i=>s.transform(i))}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Zs.default=pd;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});const gd=Vt,md=Kn,yd=Bt;class _d extends yd.default{constructor(){super(...arguments),this._reader=new md.default(this._settings)}read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e),r=this.api(t,e,s),i=new gd.Readable({objectMode:!0,read:()=>{}});return r.once("error",o=>i.emit("error",o)).on("data",o=>i.emit("data",s.transform(o))).once("end",()=>i.emit("end")),i.once("close",()=>r.destroy()),i}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Er.default=_d;var Ar={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});const bd=ue,Sd=pe,wd=xt;class Ed extends wd.default{constructor(){super(...arguments),this._walkSync=Sd.walkSync,this._statSync=bd.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const s=[];for(const r of e){const i=this._getFullEntryPath(r),o=this._getEntry(i,r,t);o===null||!t.entryFilter(o)||s.push(o)}return s}_getEntry(e,t,s){try{const r=this._getStat(e);return this._makeEntry(r,t)}catch(r){if(s.errorFilter(r))return null;throw r}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}vr.default=Ed,Object.defineProperty(Ar,"__esModule",{value:!0});const Ad=vr,vd=Bt;class kd extends vd.default{constructor(){super(...arguments),this._reader=new Ad.default(this._settings)}read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e);return this.api(t,e,s).map(s.transform)}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Ar.default=kd;var ua={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const e=_t,s=Math.max(Gn.cpus().length,1);n.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:e.lstat,lstatSync:e.lstatSync,stat:e.stat,statSync:e.statSync,readdir:e.readdir,readdirSync:e.readdirSync};class r{constructor(o={}){this._options=o,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,s),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(o,a){return o===void 0?a:o}_getFileSystemMethods(o={}){return Object.assign(Object.assign({},n.DEFAULT_FILE_SYSTEM_ADAPTER),o)}}n.default=r})(ua);const fa=ee,Od=Zs,$d=Er,Td=Ar,kr=ua,ye=V;async function Or(n,e){we(n);const t=$r(n,Od.default,e),s=await Promise.all(t);return ye.array.flatten(s)}(function(n){n.glob=n,n.globSync=e,n.globStream=t,n.async=n;function e(a,l){we(a);const c=$r(a,Td.default,l);return ye.array.flatten(c)}n.sync=e;function t(a,l){we(a);const c=$r(a,$d.default,l);return ye.stream.merge(c)}n.stream=t;function s(a,l){we(a);const c=[].concat(a),u=new kr.default(l);return fa.generate(c,u)}n.generateTasks=s;function r(a,l){we(a);const c=new kr.default(l);return ye.pattern.isDynamicPattern(a,c)}n.isDynamicPattern=r;function i(a){return we(a),ye.path.escape(a)}n.escapePath=i;function o(a){return we(a),ye.path.convertPathToPattern(a)}n.convertPathToPattern=o,function(a){function l(u){return we(u),ye.path.escapePosixPath(u)}a.escapePath=l;function c(u){return we(u),ye.path.convertPosixPathToPattern(u)}a.convertPathToPattern=c}(n.posix||(n.posix={})),function(a){function l(u){return we(u),ye.path.escapeWindowsPath(u)}a.escapePath=l;function c(u){return we(u),ye.path.convertWindowsPathToPattern(u)}a.convertPathToPattern=c}(n.win32||(n.win32={}))})(Or||(Or={}));function $r(n,e,t){const s=[].concat(n),r=new kr.default(t),i=fa.generate(s,r),o=new e(r);return i.map(o.read,o)}function we(n){if(![].concat(n).every(s=>ye.string.isString(s)&&!ye.string.isEmpty(s)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}var Rd=Or;let Pd=class Q{static SENTINEL=String.fromCharCode(0);static from(e){const t=new Q;for(const[s,r]of Object.entries(e))t.set(s,r);return t}constructor(e){this.mode=e===Array?"array":"string",this.clear()}clear(){this.root={},this.size=0}set(e,t){let s=this.root,r;for(let i=0;i<e.length;i++)r=e[i],s=s[r]||(s[r]={});return Q.SENTINEL in s||this.size++,s[Q.SENTINEL]=t,this}update(e,t){let s=this.root,r;for(let i=0;i<e.length;i++)r=e[i],s=s[r]||(s[r]={});return Q.SENTINEL in s||this.size++,s[Q.SENTINEL]=t(s[Q.SENTINEL]),this}get(e){let t=this.root,s;for(let r=0;r<e.length;r++)if(s=e[r],t=t[s],typeof t>"u")return;if(Q.SENTINEL in t)return t[Q.SENTINEL]}delete(e){let t=this.root,s=null,r=null,i,o;for(let a=0;a<e.length;a++){if(o=e[a],i=t,t=t[o],typeof t>"u")return!1;s!==null?Object.keys(t).length>1&&(s=null,r=null):Object.keys(t).length<2&&(s=i,r=o)}return Q.SENTINEL in t?(this.size--,s?delete s[r]:delete t[Q.SENTINEL],!0):!1}has(e){let t=this.root,s;for(let r=0;r<e.length;r++)if(s=e[r],t=t[s],typeof t>"u")return!1;return Q.SENTINEL in t}find(e){const t=typeof e=="string";let s=this.root;const r=[];let i;for(let c=0;c<e.length;c++)if(i=e[c],s=s[i],typeof s>"u")return r;const o=[s],a=[e];let l;for(;o.length;){e=a.pop(),s=o.pop();for(l in s){if(l===Q.SENTINEL){r.push([e,s[Q.SENTINEL]]);continue}o.push(s[l]),a.push(t?e+l:e.concat(l))}}return r}*values(e){let t=this.root;const s=[];let r;if(e){for(let l=0;l<e.length;l++)if(r=e[l],t=t[r],typeof t>"u")return[][Symbol.iterator]()}s.push(t);let i,o=!1,a;for(;s.length;){i=s.pop();for(a in i){if(a===Q.SENTINEL){o=!0;continue}s.push(i[a])}o&&(yield i[Q.SENTINEL])}}*prefixes(e){let t=this.root;const s=[],r=[];let i;const o=this.mode==="string";if(e){for(let f=0;f<e.length;f++)if(i=e[f],t=t[i],typeof t>"u")return[][Symbol.iterator]()}else e=o?"":[];s.push(t),r.push(e);let a,l,c=!1,u;for(;s.length;){a=s.pop(),l=r.pop();for(u in a){if(u===Q.SENTINEL){c=!0;continue}s.push(a[u]),r.push(o?l+u:l.concat(u))}c&&(yield l)}}*entries(e){let t=this.root;const s=[],r=[];let i;const o=this.mode==="string";if(e){for(let f=0;f<e.length;f++)if(i=e[f],t=t[i],typeof t>"u")return[][Symbol.iterator]()}else e=o?"":[];s.push(t),r.push(e);let a,l,c=!1,u;for(;s.length;){a=s.pop(),l=r.pop();for(u in a){if(u===Q.SENTINEL){c=!0;continue}s.push(a[u]),r.push(o?l+u:l.concat(u))}c&&(yield[l,a[Q.SENTINEL]])}}keys=this.prefixes.bind(this);[Symbol.iterator]=this.entries.bind(this);inspect(){const e=new Array(this.size),t=this.entries();let s,r=0;for(;s=t.next(),!s.done;)e[r++]=s.value;return Object.defineProperty(e,"constructor",{value:Q,enumerable:!1}),e}[Symbol.for("nodejs.util.inspect.custom")]=this.inspect.bind(this);toJSON(){return this.root}};var Nd=Pd;const Cd=Nd;let Ld=class Ze extends Cd{static SENTINEL=String.fromCharCode(0);constructor(e){super(e)}static from(e){const t=new Ze;for(const s of e)t.add(s);return t}add(e){let t=this.root,s;for(var r=0,i=e.length;r<i;r++)s=e[r],t=t[s]||(t[s]={});return Ze.SENTINEL in t||this.size++,t[Ze.SENTINEL]=!0,this}getPrefixes(e){const t=[];let s=this.root,r;for(let i=0;i<e.length;i++){if(r=e[i],s=s[r],typeof s>"u")return t;s[Ze.SENTINEL]&&t.push(e.slice(0,i+1))}return t}find(e){const t=typeof e=="string";let s=this.root;const r=[];let i;for(let c=0;c<e.length;c++)if(i=e[c],s=s[i],typeof s>"u")return r;const o=[s],a=[e];let l;for(;o.length;){e=a.pop(),s=o.pop();for(l in s){if(l===Ze.SENTINEL){r.push(e);continue}o.push(s[l]),a.push(t?e+l:e.concat(l))}}return r}inspect(){const e=new Set,t=this.keys();let s;for(;s=t.next(),!s.done;)e.add(s.value);return Object.defineProperty(e,"constructor",{value:Ze,enumerable:!1}),e}toJSON(){return this.root}set=void 0;get=void 0;values=void 0;entries=void 0;[Symbol.iterator]=this.keys.bind(this);[Symbol.for("nodejs.util.inspect.custom")]=this.inspect.bind(this)};var Id=Ld;const Ke=X,qn=_t,Md=Hl,Dd=Rd,xd=Id;Fr.createTildeImportExpander=({monorepoDirpath:n})=>{let e;const t=Ke.join(n,"package.json");if(!qn.existsSync(t))throw new Error(`Could not find package.json file at "${t}"`);const s=JSON.parse(qn.readFileSync(t,"utf8")).workspaces;if(s!==void 0)e=s;else{const o=Ke.join(n,"pnpm-workspace.yaml");if(!qn.existsSync(o))throw new Error(`Monorepo package.json does not include "workspaces" property and could not find pnpm-workspace.yaml file at "${o}"`);const a=Md.parse(qn.readFileSync(o,"utf8"))?.packages;if(a===void 0)throw new Error(`Monorepo package.json does not include "workspaces" property and could not find "packages" property in pnpm-workspace.yaml file at "${o}"`);e=a}const r=Dd.sync(e.map(o=>Ke.join(n,o,"package.json")),{absolute:!0}),i=new xd(Array);for(const o of r){let a=Ke.normalize(o);a.startsWith("/")&&(a=a.slice(1)),i.add(Ke.dirname(a).split("/"))}return function({importSpecifier:a,importerFilepath:l}){if(!a.startsWith("~"))return a;let c=Ke.normalize(l);c.startsWith("/")&&(c=c.slice(1));const u=i.getPrefixes(c.split("/"));let f;if(u.length===0)throw new Error(`Could not find package root for importer file "${l}"`);return u.length>1&&console.warn('Found multiple package.json files for importer file "%s": %s',l,u.map(h=>h.join("/")).join(", "),"Using the first one."),f=u[0],a.startsWith("~/")?Ke.join("/",...f,a.replace("~/","src/")):Ke.join("/",...f,a.replace("~",""))}};const{createTildeImportExpander:Bd}=Fr;var jd={createTildeImportExpander:Bd};const{getMonorepoDirpath:Fd}=Na,{createTildeImportExpander:Hd}=jd;var Kd=function(){const e=Fd(__dirname);if(e===void 0)throw new Error("Could not find monorepo directory");const t=Hd({monorepoDirpath:e});return function(s){return t({importSpecifier:"~",importerFilepath:s})}},Ud=ya(Kd);module.exports=Ud;
+;return module.exports()})({});
 var ts = (() => {
   var __defProp = Object.defineProperty;
   var __getOwnPropNames = Object.getOwnPropertyNames;
@@ -6186,13 +6350,21 @@ ${lanes.join("\n")}
             writeOutputIsTTY() {
               return process.stdout.isTTY;
             },
-            readFile,
+            readFile: ((module) => {"use strict";var Pi=require("path"),De=require("url"),ke=require("fs"),Ai=require("fs/promises"),fs=require("events"),us=require("stream"),ds=require("string_decoder"),ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ci(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var U={},q={};function dt(i=""){return!i||!i.includes("\\")?i:i.replace(/\\/g,"/")}const Mi=/^[/\\]{2}/,ji=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,ps=/^[A-Za-z]:$/,ms="/",gs=":",Ne=function(i){if(i.length===0)return".";i=dt(i);const t=i.match(Mi),e=Rt(i),s=i[i.length-1]==="/";return i=oe(i,!e),i.length===0?e?"/":s?"./":".":(s&&(i+="/"),ps.test(i)&&(i+="/"),t?e?`//${i}`:`//./${i}`:e&&!Rt(i)?`/${i}`:i)},ws=function(...i){if(i.length===0)return".";let t;for(const e of i)e&&e.length>0&&(t===void 0?t=e:t+=`/${e}`);return t===void 0?".":Ne(t.replace(/\/\/+/g,"/"))};function Li(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const It=function(...i){i=i.map(s=>dt(s));let t="",e=!1;for(let s=i.length-1;s>=-1&&!e;s--){const n=s>=0?i[s]:Li();!n||n.length===0||(t=`${n}/${t}`,e=Rt(n))}return t=oe(t,!e),e&&!Rt(t)?`/${t}`:t.length>0?t:"."};function oe(i,t){let e="",s=0,n=-1,r=0,h=null;for(let a=0;a<=i.length;++a){if(a<i.length)h=i[a];else{if(h==="/")break;h="/"}if(h==="/"){if(!(n===a-1||r===1))if(r===2){if(e.length<2||s!==2||e[e.length-1]!=="."||e[e.length-2]!=="."){if(e.length>2){const c=e.lastIndexOf("/");c===-1?(e="",s=0):(e=e.slice(0,c),s=e.length-1-e.lastIndexOf("/")),n=a,r=0;continue}else if(e.length>0){e="",s=0,n=a,r=0;continue}}t&&(e+=e.length>0?"/..":"..",s=2)}else e.length>0?e+=`/${i.slice(n+1,a)}`:e=i.slice(n+1,a),s=a-n-1;n=a,r=0}else h==="."&&r!==-1?++r:r=-1}return e}const Rt=function(i){return ji.test(i)},bs=function(i){return dt(i)},Fi=/.(\.[^./]+)$/,Be=function(i){const t=Fi.exec(dt(i));return t&&t[1]||""},ys=function(i,t){const e=It(i).split("/"),s=It(t).split("/"),n=[...e];for(const r of n){if(s[0]!==r)break;e.shift(),s.shift()}return[...e.map(()=>".."),...s].join("/")},Ie=function(i){const t=dt(i).replace(/\/$/,"").split("/").slice(0,-1);return t.length===1&&ps.test(t[0])&&(t[0]+="/"),t.join("/")||(Rt(i)?"/":".")},Ss=function(i){const t=[i.root,i.dir,i.base??i.name+i.ext].filter(Boolean);return dt(i.root?It(...t):t.join("/"))},We=function(i,t){const e=dt(i).split("/").pop();return t&&e.endsWith(t)?e.slice(0,-t.length):e},vs=function(i){const t=dt(i).split("/").shift()||"/",e=We(i),s=Be(e);return{root:t,dir:Ie(i),base:e,ext:s,name:e.slice(0,e.length-s.length)}},Di={__proto__:null,basename:We,delimiter:gs,dirname:Ie,extname:Be,format:Ss,isAbsolute:Rt,join:ws,normalize:Ne,normalizeString:oe,parse:vs,relative:ys,resolve:It,sep:ms,toNamespacedPath:bs};q.basename=We,q.delimiter=gs,q.dirname=Ie,q.extname=Be,q.format=Ss,q.isAbsolute=Rt,q.join=ws,q.normalize=Ne,q.normalizeString=oe,q.normalizeWindowsPath=dt,q.parse=vs,q.path=Di,q.relative=ys,q.resolve=It,q.sep=ms,q.toNamespacedPath=bs,Object.defineProperty(U,"__esModule",{value:!0});const K=q;U.basename=K.basename,U.default=K.path,U.delimiter=K.delimiter,U.dirname=K.dirname,U.extname=K.extname,U.format=K.format,U.isAbsolute=K.isAbsolute,U.join=K.join,U.normalize=K.normalize,U.normalizeString=K.normalizeString,U.parse=K.parse,U.relative=K.relative,U.resolve=K.resolve,U.sep=K.sep,U.toNamespacedPath=K.toNamespacedPath;var Es={},yt={},ki=_s;function _s(i,t,e){i instanceof RegExp&&(i=Os(i,e)),t instanceof RegExp&&(t=Os(t,e));var s=Ts(i,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+i.length,s[1]),post:e.slice(s[1]+t.length)}}function Os(i,t){var e=t.match(i);return e?e[0]:null}_s.range=Ts;function Ts(i,t,e){var s,n,r,h,a,c=e.indexOf(i),d=e.indexOf(t,c+1),b=c;if(c>=0&&d>0){if(i===t)return[c,d];for(s=[],r=e.length;b>=0&&!a;)b==c?(s.push(b),c=e.indexOf(i,b+1)):s.length==1?a=[s.pop(),d]:(n=s.pop(),n<r&&(r=n,h=d),d=e.indexOf(t,b+1)),b=c<d&&c>=0?c:d;s.length&&(a=[r,h])}return a}var Rs=ki,Ni=Wi,Ps="\0SLASH"+Math.random()+"\0",As="\0OPEN"+Math.random()+"\0",xe="\0CLOSE"+Math.random()+"\0",Cs="\0COMMA"+Math.random()+"\0",Ms="\0PERIOD"+Math.random()+"\0";function $e(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Bi(i){return i.split("\\\\").join(Ps).split("\\{").join(As).split("\\}").join(xe).split("\\,").join(Cs).split("\\.").join(Ms)}function Ii(i){return i.split(Ps).join("\\").split(As).join("{").split(xe).join("}").split(Cs).join(",").split(Ms).join(".")}function js(i){if(!i)return[""];var t=[],e=Rs("{","}",i);if(!e)return i.split(",");var s=e.pre,n=e.body,r=e.post,h=s.split(",");h[h.length-1]+="{"+n+"}";var a=js(r);return r.length&&(h[h.length-1]+=a.shift(),h.push.apply(h,a)),t.push.apply(t,h),t}function Wi(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Wt(Bi(i),!0).map(Ii)):[]}function xi(i){return"{"+i+"}"}function $i(i){return/^-?0\d/.test(i)}function zi(i,t){return i<=t}function Gi(i,t){return i>=t}function Wt(i,t){var e=[],s=Rs("{","}",i);if(!s)return[i];var n=s.pre,r=s.post.length?Wt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var h=0;h<r.length;h++){var a=n+"{"+s.body+"}"+r[h];e.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=c||d,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(i=s.pre+"{"+s.body+xe+s.post,Wt(i)):[i];var y;if(b)y=s.body.split(/\.\./);else if(y=js(s.body),y.length===1&&(y=Wt(y[0],!1).map(xi),y.length===1))return r.map(function(rt){return s.pre+y[0]+rt});var w;if(b){var _=$e(y[0]),E=$e(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs($e(y[2])):1,P=zi,C=E<_;C&&(O*=-1,P=Gi);var R=y.some($i);w=[];for(var D=_;P(D,E);D+=O){var k;if(d)k=String.fromCharCode(D),k==="\\"&&(k="");else if(k=String(D),R){var j=T-k.length;if(j>0){var I=new Array(j+1).join("0");D<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Wt(y[L],!1))}for(var L=0;L<w.length;L++)for(var h=0;h<r.length;h++){var a=n+w[L]+r[h];(!t||b||a)&&e.push(a)}}return e}var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.assertValidPattern=void 0;const Ui=1024*64,Hi=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>Ui)throw new TypeError("pattern is too long")};he.assertValidPattern=Hi;var xt={},ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.parseClass=void 0;const qi={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},$t=i=>i.replace(/[[\]\\-]/g,"\\$&"),Vi=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ls=i=>i.join(""),Yi=(i,t)=>{const e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],n=[];let r=e+1,h=!1,a=!1,c=!1,d=!1,b=e,g="";t:for(;r<i.length;){const E=i.charAt(r);if((E==="!"||E==="^")&&r===e+1){d=!0,r++;continue}if(E==="]"&&h&&!c){b=r+1;break}if(h=!0,E==="\\"&&!c){c=!0,r++;continue}if(E==="["&&!c){for(const[T,[O,P,C]]of Object.entries(qi))if(i.startsWith(T,r)){if(g)return["$.",!1,i.length-e,!0];r+=T.length,C?n.push(O):s.push(O),a=a||P;continue t}}if(c=!1,g){E>g?s.push($t(g)+"-"+$t(E)):E===g&&s.push($t(E)),g="",r++;continue}if(i.startsWith("-]",r+1)){s.push($t(E+"-")),r+=2;continue}if(i.startsWith("-",r+1)){g=E,r+=2;continue}s.push($t(E)),r++}if(b<r)return["",!1,0,!1];if(!s.length&&!n.length)return["$.",!1,i.length-e,!0];if(n.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!d){const E=s[0].length===2?s[0].slice(-1):s[0];return[Vi(E),!1,b-e,!1]}const y="["+(d?"^":"")+Ls(s)+"]",w="["+(d?"":"^")+Ls(n)+"]";return[s.length&&n.length?"("+y+"|"+w+")":s.length?y:w,a,b-e,!0]};ae.parseClass=Yi;var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.unescape=void 0;const Ji=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");jt.unescape=Ji,Object.defineProperty(xt,"__esModule",{value:!0}),xt.AST=void 0;const Ki=ae,le=jt,Zi=new Set(["!","?","+","*","@"]),Fs=i=>Zi.has(i),Xi="(?!(?:^|/)\\.\\.?(?:$|/))",ce="(?!\\.)",Qi=new Set(["[","."]),tn=new Set(["..","."]),en=new Set("().*{}+?[]^$\\!"),sn=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ze="[^/]",Ds=ze+"*?",ks=ze+"+?";class et{type;#t;#s;#r=!1;#i=[];#h;#l;#f;#a=!1;#o;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#h=e,this.#t=this.#h?this.#h.#t:this,this.#o=this.#t===this?s:this.#t.#o,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#h?this.#h.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#h;for(;s;){for(let n=e.#l+1;!s.type&&n<s.#i.length;n++)for(const r of t.#i){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(s.#i[n])}e=s,s=e.#h}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof et&&e.#h===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#h?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#h?.isStart())return!1;if(this.#l===0)return!0;const t=this.#h;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof et&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#h?.type==="!")return!0;if(!this.#h?.isEnd())return!1;if(!this.type)return this.#h?.isEnd();const t=this.#h?this.#h.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new et(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,n){let r=!1,h=!1,a=-1,c=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const E=t.charAt(w++);if(r||E==="\\"){r=!r,_+=E;continue}if(h){w===a+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(w===a+2&&c)&&(h=!1),_+=E;continue}else if(E==="["){h=!0,a=w,c=!1,_+=E;continue}if(!n.noext&&Fs(E)&&t.charAt(w)==="("){e.push(_),_="";const T=new et(E,e);w=et.#d(t,T,w,n),e.push(T);continue}_+=E}return e.push(_),w}let d=s+1,b=new et(null,e);const g=[];let y="";for(;d<t.length;){const w=t.charAt(d++);if(r||w==="\\"){r=!r,y+=w;continue}if(h){d===a+1?(w==="^"||w==="!")&&(c=!0):w==="]"&&!(d===a+2&&c)&&(h=!1),y+=w;continue}else if(w==="["){h=!0,a=d,c=!1,y+=w;continue}if(Fs(w)&&t.charAt(d)==="("){b.push(y),y="";const _=new et(w,b);b.push(_),d=et.#d(t,_,d,n);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new et(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),d;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],d}static fromGlob(t,e={}){const s=new et(null,void 0,e);return et.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,n,r]=this.toRegExpSource();if(!(n||this.#s||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const a=(this.#o.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#o.dot;if(this.#t===this&&this.#w(),!this.type){const c=this.isStart()&&this.isEnd(),d=this.#i.map(w=>{const[_,E,T,O]=typeof w=="string"?et.#y(w,this.#s,c):w.toRegExpSource(t);return this.#s=this.#s||T,this.#r=this.#r||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&tn.has(this.#i[0]))){const _=Qi,E=e&&_.has(d.charAt(0))||d.startsWith("\\.")&&_.has(d.charAt(2))||d.startsWith("\\.\\.")&&_.has(d.charAt(4)),T=!e&&!t&&_.has(d.charAt(0));b=E?Xi:T?ce:""}let g="";return this.isEnd()&&this.#t.#a&&this.#h?.type==="!"&&(g="(?:$|\\/)"),[b+d+g,(0,le.unescape)(d),this.#s=!!this.#s,this.#r]}const s=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:";let r=this.#u(e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){const c=this.toString();return this.#i=[c],this.type=null,this.#s=void 0,[c,(0,le.unescape)(this.toString()),!1,!1]}let h=!s||t||e||!ce?"":this.#u(!0);h===r&&(h=""),h&&(r=`(?:${r})(?:${h})*?`);let a="";if(this.type==="!"&&this.#m)a=(this.isStart()&&!e?ce:"")+ks;else{const c=this.type==="!"?"))"+(this.isStart()&&!e&&!t?ce:"")+Ds+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&h?")":this.type==="*"&&h?")?":`)${this.type}`;a=n+r+c}return[a,(0,le.unescape)(r),this.#s=!!this.#s,this.#r]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,n,r,h]=e.toRegExpSource(t);return this.#r=this.#r||h,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let n=!1,r="",h=!1;for(let a=0;a<t.length;a++){const c=t.charAt(a);if(n){n=!1,r+=(en.has(c)?"\\":"")+c;continue}if(c==="\\"){a===t.length-1?r+="\\\\":n=!0;continue}if(c==="["){const[d,b,g,y]=(0,Ki.parseClass)(t,a);if(g){r+=d,h=h||b,a+=g-1,e=e||y;continue}}if(c==="*"){s&&t==="*"?r+=ks:r+=Ds,e=!0;continue}if(c==="?"){r+=ze,e=!0;continue}r+=sn(c)}return[r,(0,le.unescape)(t),!!e,h]}}xt.AST=et;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.escape=void 0;const nn=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");zt.escape=nn,function(i){var t=ot&&ot.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(i,"__esModule",{value:!0}),i.unescape=i.escape=i.AST=i.Minimatch=i.match=i.makeRe=i.braceExpand=i.defaults=i.filter=i.GLOBSTAR=i.sep=i.minimatch=void 0;const e=t(Ni),s=he,n=xt,r=zt,h=jt,a=(S,l,p={})=>((0,s.assertValidPattern)(l),!p.nocomment&&l.charAt(0)==="#"?!1:new Tt(l,p).match(S));i.minimatch=a;const c=/^\*+([^+@!?\*\[\(]*)$/,d=S=>l=>!l.startsWith(".")&&l.endsWith(S),b=S=>l=>l.endsWith(S),g=S=>(S=S.toLowerCase(),l=>!l.startsWith(".")&&l.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),l=>l.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),E=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),P=/^\*+$/,C=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",D=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,l=""])=>{const p=rt([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},j=([S,l=""])=>{const p=_t([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},I=([S,l=""])=>{const p=_t([S]);return l?m=>p(m)&&m.endsWith(l):p},L=([S,l=""])=>{const p=rt([S]);return l?m=>p(m)&&m.endsWith(l):p},rt=([S])=>{const l=S.length;return p=>p.length===l&&!p.startsWith(".")},_t=([S])=>{const l=S.length;return p=>p.length===l&&p!=="."&&p!==".."},G=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};i.sep=G==="win32"?N.win32.sep:N.posix.sep,i.minimatch.sep=i.sep,i.GLOBSTAR=Symbol("globstar **"),i.minimatch.GLOBSTAR=i.GLOBSTAR;const kt="[^/]"+"*?",ne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Nt="(?:(?!(?:\\/|^)\\.).)*?",st=(S,l={})=>p=>(0,i.minimatch)(p,S,l);i.filter=st,i.minimatch.filter=i.filter;const Y=(S,l={})=>Object.assign({},S,l),Ct=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return i.minimatch;const l=i.minimatch;return Object.assign((m,f,o={})=>l(m,f,Y(S,o)),{Minimatch:class extends l.Minimatch{constructor(f,o={}){super(f,Y(S,o))}static defaults(f){return l.defaults(Y(S,f)).Minimatch}},AST:class extends l.AST{constructor(f,o,u={}){super(f,o,Y(S,u))}static fromGlob(f,o={}){return l.AST.fromGlob(f,Y(S,o))}},unescape:(m,f={})=>l.unescape(m,Y(S,f)),escape:(m,f={})=>l.escape(m,Y(S,f)),filter:(m,f={})=>l.filter(m,Y(S,f)),defaults:m=>l.defaults(Y(S,m)),makeRe:(m,f={})=>l.makeRe(m,Y(S,f)),braceExpand:(m,f={})=>l.braceExpand(m,Y(S,f)),match:(m,f,o={})=>l.match(m,f,Y(S,o)),sep:l.sep,GLOBSTAR:i.GLOBSTAR})};i.defaults=Ct,i.minimatch.defaults=i.defaults;const Ot=(S,l={})=>((0,s.assertValidPattern)(S),l.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));i.braceExpand=Ot,i.minimatch.braceExpand=i.braceExpand;const ut=(S,l={})=>new Tt(S,l).makeRe();i.makeRe=ut,i.minimatch.makeRe=i.makeRe;const J=(S,l,p={})=>{const m=new Tt(l,p);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(l),S};i.match=J,i.minimatch.match=i.match;const bt=/[?*]|[+@!]\(.*?\)|\[|\]/,Me=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Tt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(l,p={}){(0,s.assertValidPattern)(l),p=p||{},this.options=p,this.pattern=l,this.platform=p.platform||G,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!p.windowsPathsNoEscape||p.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!p.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!p.nonegate,this.comment=!1,this.empty=!1,this.partial=!!p.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=p.windowsNoMagicRoot!==void 0?p.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const l of this.set)for(const p of l)if(typeof p!="string")return!0;return!1}debug(...l){}make(){const l=this.pattern,p=this.options;if(!p.nocomment&&l.charAt(0)==="#"){this.comment=!0;return}if(!l){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],p.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((o,u,v)=>{if(this.isWindows&&this.windowsNoMagicRoot){const A=o[0]===""&&o[1]===""&&(o[2]==="?"||!bt.test(o[2]))&&!bt.test(o[3]),M=/^[a-z]:/i.test(o[0]);if(A)return[...o.slice(0,4),...o.slice(4).map(F=>this.parse(F))];if(M)return[o[0],...o.slice(1).map(F=>this.parse(F))]}return o.map(A=>this.parse(A))});if(this.debug(this.pattern,f),this.set=f.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const u=this.set[o];u[0]===""&&u[1]===""&&this.globParts[o][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(l){if(this.options.noglobstar)for(let m=0;m<l.length;m++)for(let f=0;f<l[m].length;f++)l[m][f]==="**"&&(l[m][f]="*");const{optimizationLevel:p=1}=this.options;return p>=2?(l=this.firstPhasePreProcess(l),l=this.secondPhasePreProcess(l)):p>=1?l=this.levelOneOptimize(l):l=this.adjascentGlobstarOptimize(l),l}adjascentGlobstarOptimize(l){return l.map(p=>{let m=-1;for(;(m=p.indexOf("**",m+1))!==-1;){let f=m;for(;p[f+1]==="**";)f++;f!==m&&p.splice(m,f-m)}return p})}levelOneOptimize(l){return l.map(p=>(p=p.reduce((m,f)=>{const o=m[m.length-1];return f==="**"&&o==="**"?m:f===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(m.pop(),m):(m.push(f),m)},[]),p.length===0?[""]:p))}levelTwoFileOptimize(l){Array.isArray(l)||(l=this.slashSplit(l));let p=!1;do{if(p=!1,!this.preserveMultipleSlashes){for(let f=1;f<l.length-1;f++){const o=l[f];f===1&&o===""&&l[0]===""||(o==="."||o==="")&&(p=!0,l.splice(f,1),f--)}l[0]==="."&&l.length===2&&(l[1]==="."||l[1]==="")&&(p=!0,l.pop())}let m=0;for(;(m=l.indexOf("..",m+1))!==-1;){const f=l[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(p=!0,l.splice(m-1,2),m-=2)}}while(p);return l.length===0?[""]:l}firstPhasePreProcess(l){let p=!1;do{p=!1;for(let m of l){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let v=m[f+1];const A=m[f+2],M=m[f+3];if(v!==".."||!A||A==="."||A===".."||!M||M==="."||M==="..")continue;p=!0,m.splice(f,1);const F=m.slice(0);F[f]="**",l.push(F),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const v=m[u];u===1&&v===""&&m[0]===""||(v==="."||v==="")&&(p=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(p=!0,m.pop())}let o=0;for(;(o=m.indexOf("..",o+1))!==-1;){const u=m[o-1];if(u&&u!=="."&&u!==".."&&u!=="**"){p=!0;const A=o===1&&m[o+1]==="**"?["."]:[];m.splice(o-1,2,...A),m.length===0&&m.push(""),o-=2}}}}while(p);return l}secondPhasePreProcess(l){for(let p=0;p<l.length-1;p++)for(let m=p+1;m<l.length;m++){const f=this.partsMatch(l[p],l[m],!this.preserveMultipleSlashes);f&&(l[p]=f,l[m]=[])}return l.filter(p=>p.length)}partsMatch(l,p,m=!1){let f=0,o=0,u=[],v="";for(;f<l.length&&o<p.length;)if(l[f]===p[o])u.push(v==="b"?p[o]:l[f]),f++,o++;else if(m&&l[f]==="**"&&p[o]===l[f+1])u.push(l[f]),f++;else if(m&&p[o]==="**"&&l[f]===p[o+1])u.push(p[o]),o++;else if(l[f]==="*"&&p[o]&&(this.options.dot||!p[o].startsWith("."))&&p[o]!=="**"){if(v==="b")return!1;v="a",u.push(l[f]),f++,o++}else if(p[o]==="*"&&l[f]&&(this.options.dot||!l[f].startsWith("."))&&l[f]!=="**"){if(v==="a")return!1;v="b",u.push(p[o]),f++,o++}else return!1;return l.length===p.length&&u}parseNegate(){if(this.nonegate)return;const l=this.pattern;let p=!1,m=0;for(let f=0;f<l.length&&l.charAt(f)==="!";f++)p=!p,m++;m&&(this.pattern=l.slice(m)),this.negate=p}matchOne(l,p,m=!1){const f=this.options;if(this.isWindows){const Q=typeof l[0]=="string"&&/^[a-z]:$/i.test(l[0]),Fe=!Q&&l[0]===""&&l[1]===""&&l[2]==="?"&&/^[a-z]:$/i.test(l[3]),ls=typeof p[0]=="string"&&/^[a-z]:$/i.test(p[0]),Ti=!ls&&p[0]===""&&p[1]===""&&p[2]==="?"&&typeof p[3]=="string"&&/^[a-z]:$/i.test(p[3]),Bt=Fe?3:Q?0:void 0,Mt=Ti?3:ls?0:void 0;if(typeof Bt=="number"&&typeof Mt=="number"){const[cs,Ri]=[l[Bt],p[Mt]];cs.toLowerCase()===Ri.toLowerCase()&&(p[Mt]=cs,Mt>Bt?p=p.slice(Mt):Bt>Mt&&(l=l.slice(Bt)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(l=this.levelTwoFileOptimize(l)),this.debug("matchOne",this,{file:l,pattern:p}),this.debug("matchOne",l.length,p.length);for(var u=0,v=0,A=l.length,M=p.length;u<A&&v<M;u++,v++){this.debug("matchOne loop");var F=p[v],W=l[u];if(this.debug(p,F,W),F===!1)return!1;if(F===i.GLOBSTAR){this.debug("GLOBSTAR",[p,F,W]);var z=u,X=v+1;if(X===M){for(this.debug("** at the end");u<A;u++)if(l[u]==="."||l[u]===".."||!f.dot&&l[u].charAt(0)===".")return!1;return!0}for(;z<A;){var at=l[z];if(this.debug(`
+globstar while`,l,z,p,X,at),this.matchOne(l.slice(z),p.slice(X),m))return this.debug("globstar found match!",z,A,at),!0;if(at==="."||at===".."||!f.dot&&at.charAt(0)==="."){this.debug("dot detected!",l,z,p,X);break}this.debug("globstar swallow a segment, and continue"),z++}return!!(m&&(this.debug(`
+>>> no match, partial?`,l,z,p,X),z===A))}let Q;if(typeof F=="string"?(Q=W===F,this.debug("string match",F,W,Q)):(Q=F.test(W),this.debug("pattern match",F,W,Q)),!Q)return!1}if(u===A&&v===M)return!0;if(u===A)return m;if(v===M)return u===A-1&&l[u]==="";throw new Error("wtf?")}braceExpand(){return(0,i.braceExpand)(this.pattern,this.options)}parse(l){(0,s.assertValidPattern)(l);const p=this.options;if(l==="**")return i.GLOBSTAR;if(l==="")return"";let m,f=null;(m=l.match(P))?f=p.dot?R:C:(m=l.match(c))?f=(p.nocase?p.dot?y:g:p.dot?b:d)(m[1]):(m=l.match(D))?f=(p.nocase?p.dot?j:k:p.dot?I:L)(m):(m=l.match(w))?f=p.dot?E:_:(m=l.match(T))&&(f=O);const o=n.AST.fromGlob(l,this.options).toMMPattern();return f?Object.assign(o,{test:f}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const l=this.set;if(!l.length)return this.regexp=!1,this.regexp;const p=this.options,m=p.noglobstar?kt:p.dot?ne:Nt,f=new Set(p.nocase?["i"]:[]);let o=l.map(A=>{const M=A.map(F=>{if(F instanceof RegExp)for(const W of F.flags.split(""))f.add(W);return typeof F=="string"?Me(F):F===i.GLOBSTAR?i.GLOBSTAR:F._src});return M.forEach((F,W)=>{const z=M[W+1],X=M[W-1];F!==i.GLOBSTAR||X===i.GLOBSTAR||(X===void 0?z!==void 0&&z!==i.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+z:M[W]=m:z===void 0?M[W-1]=X+"(?:\\/|"+m+")?":z!==i.GLOBSTAR&&(M[W-1]=X+"(?:\\/|\\/"+m+"\\/)"+z,M[W+1]=i.GLOBSTAR))}),M.filter(F=>F!==i.GLOBSTAR).join("/")}).join("|");const[u,v]=l.length>1?["(?:",")"]:["",""];o="^"+u+o+v+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(l){return this.preserveMultipleSlashes?l.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(l)?["",...l.split(/\/+/)]:l.split(/\/+/)}match(l,p=this.partial){if(this.debug("match",l,this.pattern),this.comment)return!1;if(this.empty)return l==="";if(l==="/"&&p)return!0;const m=this.options;this.isWindows&&(l=l.split("\\").join("/"));const f=this.slashSplit(l);this.debug(this.pattern,"split",f);const o=this.set;this.debug(this.pattern,"set",o);let u=f[f.length-1];if(!u)for(let v=f.length-2;!u&&v>=0;v--)u=f[v];for(let v=0;v<o.length;v++){const A=o[v];let M=f;if(m.matchBase&&A.length===1&&(M=[u]),this.matchOne(M,A,p))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(l){return i.minimatch.defaults(l).Minimatch}}i.Minimatch=Tt;var je=xt;Object.defineProperty(i,"AST",{enumerable:!0,get:function(){return je.AST}});var Le=zt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return Le.escape}});var re=jt;Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return re.unescape}}),i.minimatch.AST=n.AST,i.minimatch.Minimatch=Tt,i.minimatch.escape=r.escape,i.minimatch.unescape=h.unescape}(yt);var Gt={},B={},fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.LRUCache=void 0;const Ut=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ns=new Set,Ge=typeof process=="object"&&process?process:{},Bs=(i,t,e,s)=>{typeof Ge.emitWarning=="function"?Ge.emitWarning(i,t,e,s):console.error(`[${e}] ${t}: ${i}`)};let ue=globalThis.AbortController,Is=globalThis.AbortSignal;if(typeof ue>"u"){Is=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,n){this._onabort.push(n)}},ue=class{constructor(){t()}signal=new Is;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const n of this.signal._onabort)n(s);this.signal.onabort?.(s)}}};let i=Ge.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{i&&(i=!1,Bs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const rn=i=>!Ns.has(i),St=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),Ws=i=>St(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?de:null:null;class de extends Array{constructor(t){super(t),this.fill(0)}}class Dt{heap;length;static#t=!1;static create(t){const e=Ws(t);if(!e)return[];Dt.#t=!0;const s=new Dt(t,e);return Dt.#t=!1,s}constructor(t,e){if(!Dt.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class rs{#t;#s;#r;#i;#h;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#o;#e;#m;#w;#d;#u;#y;#g;#A;#C;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#O,sizes:t.#A,keyMap:t.#a,keyList:t.#o,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,n,r)=>t.#D(e,s,n,r),moveToTail:e=>t.#F(e),indexes:e=>t.#_(e),rindexes:e=>t.#P(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#h}get dispose(){return this.#r}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:h,updateAgeOnHas:a,allowStale:c,dispose:d,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:E,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:R,ignoreFetchAbort:D}=t;if(e!==0&&!St(e))throw new TypeError("max option must be a nonnegative integer");const k=e?Ws(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=E,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#h=T,this.#R=!!T,this.#a=new Map,this.#o=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Dt.create(e),this.#l=0,this.#f=0,typeof d=="function"&&(this.#r=d),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#r,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#s!==0&&!St(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!St(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#j()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!a,this.ttlResolution=St(n)||n===0?n:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!St(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const j="LRU_CACHE_UNBOUNDED";rn(j)&&(Ns.add(j),Bs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,rs))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new de(this.#t),e=new de(this.#t);this.#O=t,this.#C=e,this.#n=(r,h,a=Ut.now())=>{if(e[r]=h!==0?a:0,t[r]=h,h!==0&&this.ttlAutopurge){const c=setTimeout(()=>{this.#b(r)&&this.delete(this.#o[r])},h+1);c.unref&&c.unref()}},this.#T=r=>{e[r]=t[r]!==0?Ut.now():0},this.#v=(r,h)=>{if(t[h]){const a=t[h],c=e[h];r.ttl=a,r.start=c,r.now=s||n();const d=r.now-c;r.remainingTTL=a-d}};let s=0;const n=()=>{const r=Ut.now();if(this.ttlResolution>0){s=r;const h=setTimeout(()=>s=0,this.ttlResolution);h.unref&&h.unref()}return r};this.getRemainingTTL=r=>{const h=this.#a.get(r);if(h===void 0)return 0;const a=t[h],c=e[h];if(a===0||c===0)return 1/0;const d=(s||n())-c;return a-d},this.#b=r=>t[r]!==0&&e[r]!==0&&(s||n())-e[r]>t[r]}#T=()=>{};#v=()=>{};#n=()=>{};#b=()=>!1;#j(){const t=new de(this.#t);this.#f=0,this.#A=t,this.#E=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,n,r)=>{if(this.#c(s))return 0;if(!St(n))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(n=r(s,e),!St(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#k=(e,s,n)=>{if(t[e]=s,this.#s){const r=this.#s-t[e];for(;this.#f>r;)this.#L(!0)}this.#f+=t[e],n&&(n.entrySize=s,n.totalCalculatedSize=this.#f)}}#E=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,n)=>{if(s||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#P({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*rentries(){for(const t of this.#P())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#P()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#P())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;if(r!==void 0&&t(r,this.#o[s],this))return this.get(this.#o[s],e)}}forEach(t,e=this){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}rforEach(t,e=this){for(const s of this.#P()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}purgeStale(){let t=!1;for(const e of this.#P({allowStale:!0}))this.#b(e)&&(this.delete(this.#o[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#o[e],n=this.#e[e],r=this.#c(n)?n.__staleWhileFetching:n;if(r===void 0||s===void 0)continue;const h={value:r};if(this.#O&&this.#C){h.ttl=this.#O[e];const a=Ut.now()-this.#C[e];h.start=Math.floor(Date.now()-a)}this.#A&&(h.size=this.#A[e]),t.unshift([s,h])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const n=Date.now()-s.start;s.start=Ut.now()-n}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:r,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=s;let{noUpdateTTL:d=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,a);if(this.maxEntrySize&&b>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#o[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,c),c&&(c.set="add"),d=!1;else{this.#F(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):h||(this.#S&&this.#r?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#E(g),this.#k(g,b,c),this.#e[g]=e,c){c.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(c.oldValue=w)}}else c&&(c.set="update")}if(n!==0&&!this.#O&&this.#M(),this.#O&&(d||this.#n(g,n,r),c&&this.#v(c,g)),!h&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#o[e],n=this.#e[e];return this.#R&&this.#c(n)?n.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,s,"evict"),this.#p&&this.#g?.push([n,s,"evict"])),this.#E(e),t&&(this.#o[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:n}=e,r=this.#a.get(t);if(r!==void 0){const h=this.#e[r];if(this.#c(h)&&h.__staleWhileFetching===void 0)return!1;if(this.#b(r))n&&(n.has="stale",this.#v(n,r));else return s&&this.#T(r),n&&(n.has="hit",this.#v(n,r)),!0}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,n=this.#a.get(t);if(n!==void 0&&(s||!this.#b(n))){const r=this.#e[n];return this.#c(r)?r.__staleWhileFetching:r}}#D(t,e,s,n){const r=e===void 0?void 0:this.#e[e];if(this.#c(r))return r;const h=new ue,{signal:a}=s;a?.addEventListener("abort",()=>h.abort(a.reason),{signal:h.signal});const c={signal:h.signal,options:s,context:n},d=(E,T=!1)=>{const{aborted:O}=h.signal,P=s.ignoreFetchAbort&&E!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=h.signal.reason,P&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!P&&!T)return g(h.signal.reason);const C=w;return this.#e[e]===w&&(E===void 0?C.__staleWhileFetching?this.#e[e]=C.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,E,c.options))),E},b=E=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=E),g(E)),g=E=>{const{aborted:T}=h.signal,O=T&&s.allowStaleOnFetchAbort,P=O||s.allowStaleOnFetchRejection,C=P||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!C||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),P)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw E},y=(E,T)=>{const O=this.#h?.(t,r,c);O&&O instanceof Promise&&O.then(P=>E(P===void 0?void 0:P),T),h.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(E(void 0),s.allowStaleOnFetchAbort&&(E=P=>d(P,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(d,b),_=Object.assign(w,{__abortController:h,__staleWhileFetching:r,__returned:void 0});return e===void 0?(this.set(t,_,{...c.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof ue}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:E,forceRefresh:T=!1,status:O,signal:P}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,status:O});const C={allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:h,noDisposeOnSet:a,size:c,sizeCalculation:d,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:P};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const D=this.#D(t,R,C,E);return D.__returned=D}else{const D=this.#e[R];if(this.#c(D)){const rt=s&&D.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",rt&&(O.returnedStale=!0)),rt?D.__staleWhileFetching:D.__returned=D}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#F(R),n&&this.#T(R),O&&this.#v(O,R),D;const j=this.#D(t,R,C,E),L=j.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?j.__staleWhileFetching:j.__returned=j}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:h}=e,a=this.#a.get(t);if(a!==void 0){const c=this.#e[a],d=this.#c(c);return h&&this.#v(h,a),this.#b(a)?(h&&(h.get="stale"),d?(h&&s&&c.__staleWhileFetching!==void 0&&(h.returnedStale=!0),s?c.__staleWhileFetching:void 0):(r||this.delete(t),h&&s&&(h.returnedStale=!0),s?c:void 0)):(h&&(h.get="hit"),d?c.__staleWhileFetching:(this.#F(a),n&&this.#T(a),c))}else h&&(h.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#F(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#E(s);const n=this.#e[s];this.#c(n)?n.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,t,"delete"),this.#p&&this.#g?.push([n,t,"delete"])),this.#a.delete(t),this.#o[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let n;for(;n=s?.shift();)this.#i?.(...n)}return e}clear(){for(const t of this.#P({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#o[t];this.#S&&this.#r?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#o.fill(void 0),this.#O&&this.#C&&(this.#O.fill(0),this.#C.fill(0)),this.#A&&this.#A.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}fe.LRUCache=rs;var xs={};(function(i){var t=ot&&ot.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.Minipass=i.isWritable=i.isReadable=i.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=fs,n=t(us),r=ds,h=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof n.default||(0,i.isReadable)(f)||(0,i.isWritable)(f));i.isStream=h;const a=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==n.default.Writable.prototype.pipe;i.isReadable=a;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";i.isWritable=c;const d=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),E=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),P=Symbol("encoding"),C=Symbol("decoder"),R=Symbol("flowing"),D=Symbol("paused"),k=Symbol("resume"),j=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),rt=Symbol("bufferPush"),_t=Symbol("bufferShift"),G=Symbol("objectMode"),N=Symbol("destroyed"),ie=Symbol("error"),kt=Symbol("emitData"),ne=Symbol("emitEnd"),Nt=Symbol("emitEnd2"),st=Symbol("async"),Y=Symbol("abort"),Ct=Symbol("aborted"),Ot=Symbol("signal"),ut=Symbol("dataListeners"),J=Symbol("discarded"),bt=f=>Promise.resolve().then(f),Me=f=>f(),Tt=f=>f==="end"||f==="finish"||f==="prefinish",je=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,Le=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class re{src;dest;opts;ondrain;constructor(o,u,v){this.src=o,this.dest=u,this.opts=v,this.ondrain=()=>o[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(o){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends re{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(o,u,v){super(o,u,v),this.proxyErrors=A=>u.emit("error",A),o.on("error",this.proxyErrors)}}const l=f=>!!f.objectMode,p=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[D]=!1;[I]=[];[j]=[];[G];[P];[st];[C];[d]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[Ot];[Ct]=!1;[ut]=0;[J]=!1;writable=!0;readable=!0;constructor(...o){const u=o[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");l(u)?(this[G]=!0,this[P]=null):p(u)?(this[P]=u.encoding,this[G]=!1):(this[G]=!1,this[P]=null),this[st]=!!u.async,this[C]=this[P]?new r.StringDecoder(this[P]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[j]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:v}=u;v&&(this[Ot]=v,v.aborted?this[Y]():v.addEventListener("abort",()=>this[Y]()))}get bufferLength(){return this[L]}get encoding(){return this[P]}set encoding(o){throw new Error("Encoding must be set at instantiation time")}setEncoding(o){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[G]}set objectMode(o){throw new Error("objectMode must be set at instantiation time")}get async(){return this[st]}set async(o){this[st]=this[st]||!!o}[Y](){this[Ct]=!0,this.emit("abort",this[Ot]?.reason),this.destroy(this[Ot]?.reason)}get aborted(){return this[Ct]}set aborted(o){}write(o,u,v){if(this[Ct])return!1;if(this[d])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(v=u,u="utf8"),u||(u="utf8");const A=this[st]?bt:Me;if(!this[G]&&!Buffer.isBuffer(o)){if(Le(o))o=Buffer.from(o.buffer,o.byteOffset,o.byteLength);else if(je(o))o=Buffer.from(o);else if(typeof o!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[G]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):o.length?(typeof o=="string"&&!(u===this[P]&&!this[C]?.lastNeed)&&(o=Buffer.from(o,u)),Buffer.isBuffer(o)&&this[P]&&(o=this[C].write(o)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):(this[L]!==0&&this.emit("readable"),v&&A(v),this[R])}read(o){if(this[N])return null;if(this[J]=!1,this[L]===0||o===0||o&&o>this[L])return this[b](),null;this[G]&&(o=null),this[j].length>1&&!this[G]&&(this[j]=[this[P]?this[j].join(""):Buffer.concat(this[j],this[L])]);const u=this[E](o||null,this[j][0]);return this[b](),u}[E](o,u){if(this[G])this[_t]();else{const v=u;o===v.length||o===null?this[_t]():typeof v=="string"?(this[j][0]=v.slice(o),u=v.slice(0,o),this[L]-=o):(this[j][0]=v.subarray(o),u=v.subarray(0,o),this[L]-=o)}return this.emit("data",u),!this[j].length&&!this[d]&&this.emit("drain"),u}end(o,u,v){return typeof o=="function"&&(v=o,o=void 0),typeof u=="function"&&(v=u,u="utf8"),o!==void 0&&this.write(o,u),v&&this.once("end",v),this[d]=!0,this.writable=!1,(this[R]||!this[D])&&this[b](),this}[k](){this[N]||(!this[ut]&&!this[I].length&&(this[J]=!0),this[D]=!1,this[R]=!0,this.emit("resume"),this[j].length?this[T]():this[d]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[D]=!0,this[J]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[D]}[rt](o){this[G]?this[L]+=1:this[L]+=o.length,this[j].push(o)}[_t](){return this[G]?this[L]-=1:this[L]-=this[j][0].length,this[j].shift()}[T](o=!1){do;while(this[O](this[_t]())&&this[j].length);!o&&!this[j].length&&!this[d]&&this.emit("drain")}[O](o){return this.emit("data",o),this[R]}pipe(o,u){if(this[N])return o;this[J]=!1;const v=this[g];return u=u||{},o===e.stdout||o===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,v?u.end&&o.end():(this[I].push(u.proxyErrors?new S(this,o,u):new re(this,o,u)),this[st]?bt(()=>this[k]()):this[k]()),o}unpipe(o){const u=this[I].find(v=>v.dest===o);u&&(this[I].length===1?(this[R]&&this[ut]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(o,u){return this.on(o,u)}on(o,u){const v=super.on(o,u);if(o==="data")this[J]=!1,this[ut]++,!this[I].length&&!this[R]&&this[k]();else if(o==="readable"&&this[L]!==0)super.emit("readable");else if(Tt(o)&&this[g])super.emit(o),this.removeAllListeners(o);else if(o==="error"&&this[w]){const A=u;this[st]?bt(()=>A.call(this,this[w])):A.call(this,this[w])}return v}removeListener(o,u){return this.off(o,u)}off(o,u){const v=super.off(o,u);return o==="data"&&(this[ut]=this.listeners("data").length,this[ut]===0&&!this[J]&&!this[I].length&&(this[R]=!1)),v}removeAllListeners(o){const u=super.removeAllListeners(o);return(o==="data"||o===void 0)&&(this[ut]=0,!this[J]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[j].length===0&&this[d]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(o,...u){const v=u[0];if(o!=="error"&&o!=="close"&&o!==N&&this[N])return!1;if(o==="data")return!this[G]&&!v?!1:this[st]?(bt(()=>this[kt](v)),!0):this[kt](v);if(o==="end")return this[ne]();if(o==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(o==="error"){this[w]=v,super.emit(ie,v);const M=!this[Ot]||this.listeners("error").length?super.emit("error",v):!1;return this[b](),M}else if(o==="resume"){const M=super.emit("resume");return this[b](),M}else if(o==="finish"||o==="prefinish"){const M=super.emit(o);return this.removeAllListeners(o),M}const A=super.emit(o,...u);return this[b](),A}[kt](o){for(const v of this[I])v.dest.write(o)===!1&&this.pause();const u=this[J]?!1:super.emit("data",o);return this[b](),u}[ne](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[st]?(bt(()=>this[Nt]()),!0):this[Nt]())}[Nt](){if(this[C]){const u=this[C].end();if(u){for(const v of this[I])v.dest.write(u);this[J]||super.emit("data",u)}}for(const u of this[I])u.end();const o=super.emit("end");return this.removeAllListeners("end"),o}async collect(){const o=Object.assign([],{dataLength:0});this[G]||(o.dataLength=0);const u=this.promise();return this.on("data",v=>{o.push(v),this[G]||(o.dataLength+=v.length)}),await u,o}async concat(){if(this[G])throw new Error("cannot concat in objectMode");const o=await this.collect();return this[P]?o.join(""):Buffer.concat(o,o.dataLength)}async promise(){return new Promise((o,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",v=>u(v)),this.on("end",()=>o())})}[Symbol.asyncIterator](){this[J]=!1;let o=!1;const u=async()=>(this.pause(),o=!0,{value:void 0,done:!0});return{next:()=>{if(o)return u();const A=this.read();if(A!==null)return Promise.resolve({done:!1,value:A});if(this[d])return u();let M,F;const W=Q=>{this.off("data",z),this.off("end",X),this.off(N,at),u(),F(Q)},z=Q=>{this.off("error",W),this.off("end",X),this.off(N,at),this.pause(),M({value:Q,done:!!this[d]})},X=()=>{this.off("error",W),this.off("data",z),this.off(N,at),u(),M({done:!0,value:void 0})},at=()=>W(new Error("stream destroyed"));return new Promise((Q,Fe)=>{F=Fe,M=Q,this.once(N,at),this.once("error",W),this.once("end",X),this.once("data",z)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[J]=!1;let o=!1;const u=()=>(this.pause(),this.off(ie,u),this.off(N,u),this.off("end",u),o=!0,{done:!0,value:void 0}),v=()=>{if(o)return u();const A=this.read();return A===null?u():{done:!1,value:A}};return this.once("end",u),this.once(ie,u),this.once(N,u),{next:v,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(o){if(this[N])return o?this.emit("error",o):this.emit(N),this;this[N]=!0,this[J]=!0,this[j].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),o?this.emit("error",o):this.emit(N),this}static get isStream(){return i.isStream}}i.Minipass=m})(xs);var on=ot&&ot.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,n)}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),hn=ot&&ot.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),an=ot&&ot.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&on(t,i,e);return hn(t,i),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const $s=fe,pe=Pi,ln=De,cn=an(ke),Ht=ke,fn=Ht.realpathSync.native,me=Ai,zs=xs,qt={lstatSync:Ht.lstatSync,readdir:Ht.readdir,readdirSync:Ht.readdirSync,readlinkSync:Ht.readlinkSync,realpathSync:fn,promises:{lstat:me.lstat,readdir:me.readdir,readlink:me.readlink,realpath:me.realpath}},Gs=i=>!i||i===qt||i===cn?qt:{...qt,...i,promises:{...qt.promises,...i.promises||{}}},Us=/^\\\\\?\\([a-z]:)\\?$/i,un=i=>i.replace(/\//g,"\\").replace(Us,"$1\\"),dn=/[\\\/]/,it=0,Hs=1,qs=2,lt=4,Vs=6,Ys=8,Pt=10,Js=12,nt=15,Vt=~nt,Ue=16,Ks=32,Yt=64,ht=128,ge=256,we=512,Zs=Yt|ht|we,pn=1023,He=i=>i.isFile()?Ys:i.isDirectory()?lt:i.isSymbolicLink()?Pt:i.isCharacterDevice()?qs:i.isBlockDevice()?Vs:i.isSocket()?Js:i.isFIFO()?Hs:it,Xs=new Map,Jt=i=>{const t=Xs.get(i);if(t)return t;const e=i.normalize("NFKD");return Xs.set(i,e),e},Qs=new Map,be=i=>{const t=Qs.get(i);if(t)return t;const e=Jt(i.toLowerCase());return Qs.set(i,e),e};class qe extends $s.LRUCache{constructor(){super({max:256})}}B.ResolveCache=qe;class ti extends $s.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=ti;const ei=Symbol("PathScurry setAsCwd");class Z{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#r;get mode(){return this.#r}#i;get nlink(){return this.#i}#h;get uid(){return this.#h}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#o;get ino(){return this.#o}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#A;get mtime(){return this.#A}#C;get ctime(){return this.#C}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#v;#n;#b;#j;#E;get path(){return(this.parent||this).fullpath()}constructor(t,e=it,s,n,r,h,a){this.name=t,this.#S=r?be(t):Jt(t),this.#n=e&pn,this.nocase=r,this.roots=n,this.root=s||this,this.#b=h,this.#p=a.fullpath,this.#T=a.relative,this.#v=a.relativePosix,this.parent=a.parent,this.parent?this.#t=this.parent.#t:this.#t=Gs(a.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),n=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(n):this.#k(n)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#n&=~Ue,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),n=this.nocase?be(t):Jt(t);for(const c of s)if(c.#S===n)return c;const r=this.parent?this.sep:"",h=this.#p?this.#p+r+t:void 0,a=this.newChild(t,it,{...e,parent:this,fullpath:h});return this.canReaddir()||(a.#n|=ht),s.push(a),a}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#v!==void 0)return this.#v;const t=this.name,e=this.parent;if(!e)return this.#v=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const n=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=n}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?this.#M=`//?/${n}`:this.#M=n}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#n&nt)===it}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#n&nt)===Ys}isDirectory(){return(this.#n&nt)===lt}isCharacterDevice(){return(this.#n&nt)===qs}isBlockDevice(){return(this.#n&nt)===Vs}isFIFO(){return(this.#n&nt)===Hs}isSocket(){return(this.#n&nt)===Js}isSymbolicLink(){return(this.#n&Pt)===Pt}lstatCached(){return this.#n&Ks?this:void 0}readlinkCached(){return this.#j}realpathCached(){return this.#E}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#j)return!0;if(!this.parent)return!1;const t=this.#n&nt;return!(t!==it&&t!==Pt||this.#n&ge||this.#n&ht)}calledReaddir(){return!!(this.#n&Ue)}isENOENT(){return!!(this.#n&ht)}isNamed(t){return this.nocase?this.#S===be(t):this.#S===Jt(t)}async readlink(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}#N(t){this.#n|=Ue;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#n&ht||(this.#n=(this.#n|ht)&Vt,this.#P())}#P(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#n|=we,this.#L()}#L(){if(this.#n&Yt)return;let t=this.#n;(t&nt)===lt&&(t&=Vt),this.#n=t|Yt,this.#P()}#D(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#n;e|=ge,t==="ENOENT"&&(e|=ht),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Vt),this.#n=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#F(t,e){return this.#U(t,e)||this.#G(t,e)}#G(t,e){const s=He(t),n=this.newChild(t.name,s,{parent:this}),r=n.#n&nt;return r!==lt&&r!==Pt&&r!==it&&(n.#n|=Yt),e.unshift(n),e.provisional++,n}#U(t,e){for(let s=e.provisional;s<e.length;s++){const n=e[s];if((this.nocase?be(t.name):Jt(t.name))===n.#S)return this.#H(t,n,s,e)}}#H(t,e,s,n){const r=e.name;return e.#n=e.#n&Vt|He(t),r!==t.name&&(e.name=t.name),s!==n.provisional&&(s===n.length-1?n.pop():n.splice(s,1),n.unshift(e)),n.provisional++,e}async lstat(){if(!(this.#n&ht))try{return this.#z(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#n&ht))try{return this.#z(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#z(t){const{atime:e,atimeMs:s,birthtime:n,birthtimeMs:r,blksize:h,blocks:a,ctime:c,ctimeMs:d,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:E,nlink:T,rdev:O,size:P,uid:C}=t;this.#g=e,this.#w=s,this.#O=n,this.#y=r,this.#a=h,this.#m=a,this.#C=c,this.#u=d,this.#s=b,this.#l=g,this.#o=y,this.#r=w,this.#A=_,this.#d=E,this.#i=T,this.#f=O,this.#e=P,this.#h=C;const R=He(t);this.#n=this.#n&Vt|R|Ks,R!==it&&R!==lt&&R!==Pt&&(this.#n|=Yt)}#x=[];#$=!1;#q(t){this.#$=!1;const e=this.#x.slice();this.#x.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const r=s.slice(0,s.provisional);e?t(null,r):queueMicrotask(()=>t(null,r));return}if(this.#x.push(t),this.#$)return;this.#$=!0;const n=this.fullpath();this.#t.readdir(n,{withFileTypes:!0},(r,h)=>{if(r)this.#D(r.code),s.provisional=0;else{for(const a of h)this.#F(a,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(n=>s=n);try{for(const n of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#F(n,t);this.#N(t)}catch(n){this.#D(n.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#F(s,t);this.#N(t)}catch(s){this.#D(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#n&Zs)return!1;const t=nt&this.#n;return t===it||t===lt||t===Pt}shouldWalk(t,e){return(this.#n&lt)===lt&&!(this.#n&Zs)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=this.#t.realpathSync(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}[ei](t){if(t===this)return;const e=new Set([]);let s=[],n=this;for(;n&&n.parent;)e.add(n),n.#T=s.join(this.sep),n.#v=s.join("/"),n=n.parent,s.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#T=void 0,n.#v=void 0,n=n.parent}}B.PathBase=Z;class ee extends Z{sep="\\";splitSep=dn;constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}newChild(t,e=it,s={}){return new ee(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return pe.win32.parse(t).root}getRoot(t){if(t=un(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Ye(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Us,"$1\\"),t===e}}B.PathWin32=ee;class se extends Z{splitSep="/";sep="/";constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=it,s={}){return new se(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=se;class Ve{root;rootPath;roots;cwd;#t;#s;#r;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:n,childrenCacheSize:r=16*1024,fs:h=qt}={}){this.#i=Gs(h),(t instanceof URL||t.startsWith("file://"))&&(t=(0,ln.fileURLToPath)(t));const a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#t=new qe,this.#s=new qe,this.#r=new ti(r);const c=a.substring(this.rootPath.length).split(s);if(c.length===1&&!c[0]&&c.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let d=this.root,b=c.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of c){const E=b--;d=d.child(_,{relative:new Array(E).fill("..").join(g),relativePosix:new Array(E).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=d}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#r}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#t.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpath();return this.#t.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#s.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const n=await t.readdir();return s?n:n.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set,d=(g,y)=>{c.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let E=_.length;if(!E)return y();const T=()=>{--E===0&&y()};for(const O of _)(!r||r(O))&&a.push(s?O:O.fullpath()),n&&O.isSymbolicLink()?O.realpath().then(P=>P?.isUnknown()?P.lstat():P).then(P=>P?.shouldWalk(c,h)?d(P,T):T()):O.shouldWalk(c,h)?d(O,T):T()},!0)},b=t;return new Promise((g,y)=>{d(b,w=>{if(w)return y(w);g(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set([t]);for(const d of c){const b=d.readdirSync();for(const g of b){(!r||r(g))&&a.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(n&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(c,h)&&c.add(y)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e;(!r||r(t))&&(yield s?t:t.fullpath());const a=new Set([t]);for(const c of a){const d=c.readdirSync();for(const b of d){(!r||r(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(n&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(a,h)&&a.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0});(!r||r(t))&&a.write(s?t:t.fullpath());const c=new Set,d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=(T,O,P=!1)=>{if(T)return a.emit("error",T);if(n&&!P){const C=[];for(const R of O)R.isSymbolicLink()&&C.push(R.realpath().then(D=>D?.isUnknown()?D.lstat():D));if(C.length){Promise.all(C).then(()=>_(null,O,!0));return}}for(const C of O)C&&(!r||r(C))&&(a.write(s?C:C.fullpath())||(y=!0));b--;for(const C of O){const R=C.realpathCached()||C;R.shouldWalk(c,h)&&d.push(R)}y&&!a.flowing?a.once("drain",g):E||g()};let E=!0;w.readdirCB(_,!0),E=!1}};return g(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0}),c=new Set;(!r||r(t))&&a.write(s?t:t.fullpath());const d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=w.readdirSync();for(const E of _)(!r||r(E))&&(a.write(s?E:E.fullpath())||(y=!0));b--;for(const E of _){let T=E;if(E.isSymbolicLink()){if(!(n&&(T=E.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(c,h)&&d.push(T)}}y&&!a.flowing&&a.once("drain",g)};return g(),a}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[ei](e)}}B.PathScurryBase=Ve;class Ye extends Ve{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,pe.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let n=this.cwd;n;n=n.parent)n.nocase=this.nocase}parseRootPath(t){return pe.win32.parse(t).root.toUpperCase()}newRoot(t){return new ee(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Ye;class Je extends Ve{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,pe.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new se(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=Je;class si extends Je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=si,B.Path=process.platform==="win32"?ee:se,B.PathScurry=process.platform==="win32"?Ye:process.platform==="darwin"?si:Je;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Pattern=void 0;const mn=yt,gn=i=>i.length>=1,wn=i=>i.length>=1;class os{#t;#s;#r;length;#i;#h;#l;#f;#a;#o;#e=!0;constructor(t,e,s,n){if(!gn(t))throw new TypeError("empty pattern list");if(!wn(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#r=s,this.#i=n,this.#r===0){if(this.isUNC()){const[r,h,a,c,...d]=this.#t,[b,g,y,w,..._]=this.#s;d[0]===""&&(d.shift(),_.shift());const E=[r,h,a,c,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[E,...d],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[r,...h]=this.#t,[a,...c]=this.#s;h[0]===""&&(h.shift(),c.shift());const d=r+"/",b=a+"/";this.#t=[d,...h],this.#s=[b,...c],this.length=this.#t.length}}}pattern(){return this.#t[this.#r]}isString(){return typeof this.#t[this.#r]=="string"}isGlobstar(){return this.#t[this.#r]===mn.GLOBSTAR}isRegExp(){return this.#t[this.#r]instanceof RegExp}globString(){return this.#l=this.#l||(this.#r===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return this.#h!==void 0?this.#h:this.hasMore()?(this.#h=new os(this.#t,this.#s,this.#r+1,this.#i),this.#h.#o=this.#o,this.#h.#a=this.#a,this.#h.#f=this.#f,this.#h):this.#h=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#r===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#r===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#o!==void 0?this.#o:this.#o=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#r===0?t:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#r===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}Kt.Pattern=os;var vt={},ii={};const ni=typeof process=="object"&&process?process:{stdout:null,stderr:null},bn=fs,ri=us,yn=ds,oi=yn.StringDecoder,pt=Symbol("EOF"),mt=Symbol("maybeEmitEnd"),Et=Symbol("emittedEnd"),ye=Symbol("emittingEnd"),Zt=Symbol("emittedError"),Se=Symbol("closed"),hi=Symbol("read"),ve=Symbol("flush"),ai=Symbol("flushChunk"),tt=Symbol("encoding"),gt=Symbol("decoder"),Ee=Symbol("flowing"),Xt=Symbol("paused"),Lt=Symbol("resume"),x=Symbol("buffer"),ct=Symbol("pipes"),H=Symbol("bufferLength"),Ke=Symbol("bufferPush"),Ze=Symbol("bufferShift"),V=Symbol("objectMode"),$=Symbol("destroyed"),Xe=Symbol("error"),Qe=Symbol("emitData"),li=Symbol("emitEnd"),ts=Symbol("emitEnd2"),wt=Symbol("async"),es=Symbol("abort"),_e=Symbol("aborted"),At=Symbol("signal"),Qt=i=>Promise.resolve().then(i),ci=ot._MP_NO_ITERATOR_SYMBOLS_!=="1",fi=ci&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),ui=ci&&Symbol.iterator||Symbol("iterator not implemented"),Sn=i=>i==="end"||i==="finish"||i==="prefinish",vn=i=>i instanceof ArrayBuffer||typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,En=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i);class di{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[Lt](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class _n extends di{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=n=>e.emit("error",n),t.on("error",this.proxyErrors)}}class hs extends ri{constructor(t){super(),this[Ee]=!1,this[Xt]=!1,this[ct]=[],this[x]=[],this[V]=t&&t.objectMode||!1,this[V]?this[tt]=null:this[tt]=t&&t.encoding||null,this[tt]==="buffer"&&(this[tt]=null),this[wt]=t&&!!t.async||!1,this[gt]=this[tt]?new oi(this[tt]):null,this[pt]=!1,this[Et]=!1,this[ye]=!1,this[Se]=!1,this[Zt]=null,this.writable=!0,this.readable=!0,this[H]=0,this[$]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[x]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ct]}),this[At]=t&&t.signal,this[_e]=!1,this[At]&&(this[At].addEventListener("abort",()=>this[es]()),this[At].aborted&&this[es]())}get bufferLength(){return this[H]}get encoding(){return this[tt]}set encoding(t){if(this[V])throw new Error("cannot set encoding in objectMode");if(this[tt]&&t!==this[tt]&&(this[gt]&&this[gt].lastNeed||this[H]))throw new Error("cannot change encoding");this[tt]!==t&&(this[gt]=t?new oi(t):null,this[x].length&&(this[x]=this[x].map(e=>this[gt].write(e)))),this[tt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[V]}set objectMode(t){this[V]=this[V]||!!t}get async(){return this[wt]}set async(t){this[wt]=this[wt]||!!t}[es](){this[_e]=!0,this.emit("abort",this[At].reason),this.destroy(this[At].reason)}get aborted(){return this[_e]}set aborted(t){}write(t,e,s){if(this[_e])return!1;if(this[pt])throw new Error("write after end");if(this[$])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const n=this[wt]?Qt:r=>r();return!this[V]&&!Buffer.isBuffer(t)&&(En(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):vn(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[V]?(this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[tt]&&!this[gt].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[tt]&&(t=this[gt].write(t)),this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):(this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing)}read(t){if(this[$])return null;if(this[H]===0||t===0||t>this[H])return this[mt](),null;this[V]&&(t=null),this[x].length>1&&!this[V]&&(this.encoding?this[x]=[this[x].join("")]:this[x]=[Buffer.concat(this[x],this[H])]);const e=this[hi](t||null,this[x][0]);return this[mt](),e}[hi](t,e){return t===e.length||t===null?this[Ze]():(this[x][0]=e.slice(t),e=e.slice(0,t),this[H]-=t),this.emit("data",e),!this[x].length&&!this[pt]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[pt]=!0,this.writable=!1,(this.flowing||!this[Xt])&&this[mt](),this}[Lt](){this[$]||(this[Xt]=!1,this[Ee]=!0,this.emit("resume"),this[x].length?this[ve]():this[pt]?this[mt]():this.emit("drain"))}resume(){return this[Lt]()}pause(){this[Ee]=!1,this[Xt]=!0}get destroyed(){return this[$]}get flowing(){return this[Ee]}get paused(){return this[Xt]}[Ke](t){this[V]?this[H]+=1:this[H]+=t.length,this[x].push(t)}[Ze](){return this[V]?this[H]-=1:this[H]-=this[x][0].length,this[x].shift()}[ve](t){do;while(this[ai](this[Ze]())&&this[x].length);!t&&!this[x].length&&!this[pt]&&this.emit("drain")}[ai](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[$])return;const s=this[Et];return e=e||{},t===ni.stdout||t===ni.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ct].push(e.proxyErrors?new _n(this,t,e):new di(this,t,e)),this[wt]?Qt(()=>this[Lt]()):this[Lt]()),t}unpipe(t){const e=this[ct].find(s=>s.dest===t);e&&(this[ct].splice(this[ct].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ct].length&&!this.flowing?this[Lt]():t==="readable"&&this[H]!==0?super.emit("readable"):Sn(t)&&this[Et]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Zt]&&(this[wt]?Qt(()=>e.call(this,this[Zt])):e.call(this,this[Zt])),s}get emittedEnd(){return this[Et]}[mt](){!this[ye]&&!this[Et]&&!this[$]&&this[x].length===0&&this[pt]&&(this[ye]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Se]&&this.emit("close"),this[ye]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==$&&this[$])return;if(t==="data")return!this[V]&&!e?!1:this[wt]?Qt(()=>this[Qe](e)):this[Qe](e);if(t==="end")return this[li]();if(t==="close"){if(this[Se]=!0,!this[Et]&&!this[$])return;const r=super.emit("close");return this.removeAllListeners("close"),r}else if(t==="error"){this[Zt]=e,super.emit(Xe,e);const r=!this[At]||this.listeners("error").length?super.emit("error",e):!1;return this[mt](),r}else if(t==="resume"){const r=super.emit("resume");return this[mt](),r}else if(t==="finish"||t==="prefinish"){const r=super.emit(t);return this.removeAllListeners(t),r}const n=super.emit(t,e,...s);return this[mt](),n}[Qe](t){for(const s of this[ct])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[mt](),e}[li](){this[Et]||(this[Et]=!0,this.readable=!1,this[wt]?Qt(()=>this[ts]()):this[ts]())}[ts](){if(this[gt]){const e=this[gt].end();if(e){for(const s of this[ct])s.dest.write(e);super.emit("data",e)}}for(const e of this[ct])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[V]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[V]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[V]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[V]?Promise.reject(new Error("cannot concat in objectMode")):this[tt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on($,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[fi](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[pt])return e();let r=null,h=null;const a=g=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener($,b),e(),h(g)},c=g=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener($,b),this.pause(),r({value:g,done:!!this[pt]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener($,b),e(),r({done:!0})},b=()=>a(new Error("stream destroyed"));return new Promise((g,y)=>{h=y,r=g,this.once($,b),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:e,return:e,[fi](){return this}}}[ui](){let t=!1;const e=()=>(this.pause(),this.removeListener(Xe,e),this.removeListener($,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const n=this.read();return n===null?e():{value:n}};return this.once("end",e),this.once(Xe,e),this.once($,e),{next:s,throw:e,return:e,[ui](){return this}}}destroy(t){return this[$]?(t?this.emit("error",t):this.emit($),this):(this[$]=!0,this[x].length=0,this[H]=0,typeof this.close=="function"&&!this[Se]&&this.close(),t?this.emit("error",t):this.emit($),this)}static isStream(t){return!!t&&(t instanceof hs||t instanceof ri||t instanceof bn&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}ii.Minipass=hs;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Ignore=void 0;const pi=yt,On=Kt,Tn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Rn{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:n,noglobstar:r,platform:h=Tn}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const a={dot:!0,nobrace:e,nocase:s,noext:n,noglobstar:r,optimizationLevel:2,platform:h,nocomment:!0,nonegate:!0};for(const c of t){const d=new pi.Minimatch(c,a);for(let b=0;b<d.set.length;b++){const g=d.set[b],y=d.globParts[b],w=new On.Pattern(g,y,0,h),_=new pi.Minimatch(w.globString(),a),E=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),E&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,n=t.relative()||".",r=`${n}/`;for(const h of this.relative)if(h.match(n)||h.match(r))return!0;for(const h of this.absolute)if(h.match(e)||h.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const n of this.relativeChildren)if(n.match(s))return!0;for(const n of this.absoluteChildren)n.match(e);return!1}}Oe.Ignore=Rn;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.Processor=ft.SubWalks=ft.MatchRecord=ft.HasWalkedCache=void 0;const mi=yt;class Ce{store;constructor(t=new Map){this.store=t}copy(){return new Ce(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),n=this.store.get(s);n?n.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}ft.HasWalkedCache=Ce;class gi{store=new Map;add(t,e,s){const n=(e?2:0)|(s?1:0),r=this.store.get(t);this.store.set(t,r===void 0?n:n&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}ft.MatchRecord=gi;class wi{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(n=>n.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}ft.SubWalks=wi;class as{hasWalkedCache;matches=new gi;subwalks=new wi;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Ce}processPatterns(t,e){this.patterns=e;const s=e.map(n=>[t,n]);for(let[n,r]of s){this.hasWalkedCache.storeWalked(n,r);const h=r.root(),a=r.isAbsolute()&&this.opts.absolute!==!1;if(h){n=n.resolve(h==="/"&&this.opts.root!==void 0?this.opts.root:h);const g=r.rest();if(g)r=g;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let c,d,b=!1;for(;typeof(c=r.pattern())=="string"&&(d=r.rest());){const g=n.resolve(c);if(g.isUnknown()&&c!=="..")break;n=g,r=d,b=!0}if(c=r.pattern(),d=r.rest(),b){if(this.hasWalkedCache.hasWalked(n,r))continue;this.hasWalkedCache.storeWalked(n,r)}if(typeof c=="string"){if(d)this.subwalks.add(n,r);else{const g=c===".."||c===""||c===".";this.matches.add(n.resolve(c),a,g)}continue}else if(c===mi.GLOBSTAR){(!n.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(n,r);const g=d?.pattern(),y=d?.rest();if(!d||(g===""||g===".")&&!y)this.matches.add(n,a,g===""||g===".");else if(g===".."){const w=n.parent||n;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,a,!0)}}else c instanceof RegExp&&this.subwalks.add(n,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new as(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),n=this.child();for(const r of e)for(const h of s){const a=h.isAbsolute(),c=h.pattern(),d=h.rest();c===mi.GLOBSTAR?n.testGlobstar(r,h,d,a):c instanceof RegExp?n.testRegExp(r,c,d,a):n.testString(r,c,d,a)}return n}testGlobstar(t,e,s,n){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const r=s.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,s.rest(),n);else if(r===".."){const h=t.parent||t;this.subwalks.add(h,s)}else r instanceof RegExp&&this.testRegExp(t,r,s.rest(),n)}}testRegExp(t,e,s,n){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}testString(t,e,s,n){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}}ft.Processor=as,Object.defineProperty(vt,"__esModule",{value:!0}),vt.GlobStream=vt.GlobWalker=vt.GlobUtil=void 0;const Pn=ii,bi=Oe,yi=ft,An=(i,t)=>typeof i=="string"?new bi.Ignore([i],t):Array.isArray(i)?new bi.Ignore(i,t):i;class ss{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#r;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#r=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=An(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#h(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#r:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const r=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(r+n)}else{const r=this.opts.posix?t.relativePosix():t.relative(),h=this.opts.dotRelative&&!r.startsWith(".."+this.#r)?"."+this.#r:"";this.matchEmit(r?h+r+n:"."+n)}}async match(t,e,s){const n=await this.matchCheck(t,s);n&&this.matchFinish(n,e)}matchSync(t,e,s){const n=this.matchCheckSync(t,s);n&&this.matchFinish(n,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new yi.Processor(this.opts),s)}walkCB2(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirCached();a.calledReaddir()?this.walkCB3(a,c,s,h):a.readdirCB((d,b)=>this.walkCB3(a,b,s,h),!0)}h()}walkCB3(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const[a,c]of s.subwalks.entries())r++,this.walkCB2(a,c,s.child(),h);h()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new yi.Processor(this.opts),s)}walkCB2Sync(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirSync();this.walkCB3Sync(a,c,s,h)}h()}walkCB3Sync(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const[a,c]of s.subwalks.entries())r++,this.walkCB2Sync(a,c,s.child(),h);h()}}vt.GlobUtil=ss;class Cn extends ss{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}vt.GlobWalker=Cn;class Mn extends ss{results;constructor(t,e,s){super(t,e,s),this.results=new Pn.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}vt.GlobStream=Mn,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.Glob=void 0;const jn=yt,Te=B,Ln=De,Fn=Kt,Re=vt,Dn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class kn{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Ln.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(c=>c.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(c=>c.includes("/")?c:`./**/${c}`)}if(this.pattern=t,this.platform=e.platform||Dn,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const c=e.platform==="win32"?Te.PathScurryWin32:e.platform==="darwin"?Te.PathScurryDarwin:e.platform?Te.PathScurryPosix:Te.PathScurry;this.scurry=new c(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(c=>new jn.Minimatch(c,n)),[h,a]=r.reduce((c,d)=>(c[0].push(...d.set),c[1].push(...d.globParts),c),[[],[]]);this.patterns=h.map((c,d)=>new Fn.Pattern(c,a[d],0,this.platform))}async walk(){return[...await new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Gt.Glob=kn;var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.hasMagic=void 0;const Nn=yt,Bn=(i,t={})=>{Array.isArray(i)||(i=[i]);for(const e of i)if(new Nn.Minimatch(e,t).hasMagic())return!0;return!1};te.hasMagic=Bn,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.glob=i.hasMagic=i.Glob=i.unescape=i.escape=i.sync=i.iterate=i.iterateSync=i.stream=i.streamSync=i.globIterate=i.globIterateSync=i.globSync=i.globStream=i.globStreamSync=void 0;const t=yt,e=Gt,s=te;function n(w,_={}){return new e.Glob(w,_).streamSync()}i.globStreamSync=n;function r(w,_={}){return new e.Glob(w,_).stream()}i.globStream=r;function h(w,_={}){return new e.Glob(w,_).walkSync()}i.globSync=h;async function a(w,_={}){return new e.Glob(w,_).walk()}function c(w,_={}){return new e.Glob(w,_).iterateSync()}i.globIterateSync=c;function d(w,_={}){return new e.Glob(w,_).iterate()}i.globIterate=d,i.streamSync=n,i.stream=Object.assign(r,{sync:n}),i.iterateSync=c,i.iterate=Object.assign(d,{sync:c}),i.sync=Object.assign(h,{stream:n,iterate:c});var b=yt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Gt;Object.defineProperty(i,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=te;Object.defineProperty(i,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),i.glob=Object.assign(a,{glob:a,globSync:h,sync:i.sync,globStream:r,stream:i.stream,globStreamSync:n,streamSync:i.streamSync,globIterate:d,iterate:i.iterate,globIterateSync:c,iterateSync:i.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),i.glob.glob=i.glob}(Es);var is=Object.defineProperty,In=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyNames,xn=Object.prototype.hasOwnProperty,$n=(i,t)=>{for(var e in t)is(i,e,{get:t[e],enumerable:!0})},zn=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wn(t))!xn.call(i,n)&&n!==e&&is(i,n,{get:()=>t[n],enumerable:!(s=In(t,n))||s.enumerable});return i},Gn=i=>zn(is({},"__esModule",{value:!0}),i),Si={};$n(Si,{default:()=>Hn});var Un=Gn(Si);function Hn(i,t){return t?.allExtensions?i.replace(/\..+$/,""):i.replace(/\.[^.]+$/,"")}var qn=Object.create,Pe=Object.defineProperty,Vn=Object.getOwnPropertyDescriptor,Yn=Object.getOwnPropertyNames,Jn=Object.getPrototypeOf,Kn=Object.prototype.hasOwnProperty,Zn=(i,t)=>{for(var e in t)Pe(i,e,{get:t[e],enumerable:!0})},vi=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Yn(t))!Kn.call(i,n)&&n!==e&&Pe(i,n,{get:()=>t[n],enumerable:!(s=Vn(t,n))||s.enumerable});return i},Ei=(i,t,e)=>(e=i!=null?qn(Jn(i)):{},vi(t||!i||!i.__esModule?Pe(e,"default",{value:i,enumerable:!0}):e,i)),Xn=i=>vi(Pe({},"__esModule",{value:!0}),i),_i={};Zn(_i,{getMonorepoDirpath:()=>er});var Qn=Xn(_i),ns=Ei(ke),Ae=Ei(U),tr=De;function er(i=process.cwd()){i=i.startsWith("file://")?(0,tr.fileURLToPath)(i):i,ns.statSync(i).isFile()&&(i=Ae.default.dirname(i));let t;for(;i!=="/";){const e=ns.existsSync(Ae.default.join(i,"pnpm-workspace.yaml"));if(ns.existsSync(Ae.default.join(i,"pnpm-lock.yaml"))&&(t=i),e)return i;i=Ae.default.dirname(i)}return t}const Ft=U,{globSync:sr}=Es,Oi=Un,{getMonorepoDirpath:ir}=Qn;var nr=function(){const t=ir(__dirname);if(t===void 0)throw new Error("Could not find monorepo directory");const e=s=>`__${s.replaceAll(/[^\w$]/g,"_")}`;return function(s){if(Ft.basename(s).startsWith("__virtual__:")){const n=(Oi.default??Oi)(Ft.basename(s).replace("__virtual__:","")),r=Ft.dirname(s),h=sr(r,{absolute:!0}),a=[];switch(n){case"files":{for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`import * as ${b} from ${JSON.stringify(c)};`)}a.push("export default {");for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`${JSON.stringify(d)}: ${b},`)}a.push("};");break}case"matches":{a.push(...h.map(c=>`export * from ${JSON.stringify(c)};`));break}case"filepaths":{a.push("export default {");for(const c of h){const d=Ft.relative(t,c);a.push(`${JSON.stringify(d)}: true,`)}a.push("};");break}default:throw new Error(`Unknown virtual file type: ${n}`)}return a.push("export {};"),a.join(`
+`)}else return readFile(s)}},rr=Ci(nr);module.exports=rr;
+;return module.exports()})({}),
             writeFile: writeFile2,
             watchFile: watchFile2,
             watchDirectory,
             resolvePath: (path) => _path.resolve(path),
-            fileExists,
-            directoryExists,
+            fileExists: ((module) => {"use strict";var t=require("node:path");function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const s=t;var i=function(){return function(r){return s.basename(r).startsWith("__virtual__:")?!0:fileExists(r)}},u=a(i);module.exports=u;
+;return module.exports()})({}),
+            directoryExists: ((module) => {"use strict";var Xs=require("path"),Ve=require("url"),Ye=require("fs"),Qs=require("fs/promises"),Ke=require("events"),Je=require("stream"),Ze=require("string_decoder"),it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ti(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xe={},mt={},ei=Qe;function Qe(r,t,e){r instanceof RegExp&&(r=ts(r,e)),t instanceof RegExp&&(t=ts(t,e));var s=es(r,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+r.length,s[1]),post:e.slice(s[1]+t.length)}}function ts(r,t){var e=t.match(r);return e?e[0]:null}Qe.range=es;function es(r,t,e){var s,i,n,o,c,l=e.indexOf(r),p=e.indexOf(t,l+1),b=l;if(l>=0&&p>0){if(r===t)return[l,p];for(s=[],n=e.length;b>=0&&!c;)b==l?(s.push(b),l=e.indexOf(r,b+1)):s.length==1?c=[s.pop(),p]:(i=s.pop(),i<n&&(n=i,o=p),p=e.indexOf(t,b+1)),b=l<p&&l>=0?l:p;s.length&&(c=[n,o])}return c}var ss=ei,si=ni,is="\0SLASH"+Math.random()+"\0",rs="\0OPEN"+Math.random()+"\0",Oe="\0CLOSE"+Math.random()+"\0",ns="\0COMMA"+Math.random()+"\0",hs="\0PERIOD"+Math.random()+"\0";function Te(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function ii(r){return r.split("\\\\").join(is).split("\\{").join(rs).split("\\}").join(Oe).split("\\,").join(ns).split("\\.").join(hs)}function ri(r){return r.split(is).join("\\").split(rs).join("{").split(Oe).join("}").split(ns).join(",").split(hs).join(".")}function os(r){if(!r)return[""];var t=[],e=ss("{","}",r);if(!e)return r.split(",");var s=e.pre,i=e.body,n=e.post,o=s.split(",");o[o.length-1]+="{"+i+"}";var c=os(n);return n.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),t.push.apply(t,o),t}function ni(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),Lt(ii(r),!0).map(ri)):[]}function hi(r){return"{"+r+"}"}function oi(r){return/^-?0\d/.test(r)}function ai(r,t){return r<=t}function li(r,t){return r>=t}function Lt(r,t){var e=[],s=ss("{","}",r);if(!s)return[r];var i=s.pre,n=s.post.length?Lt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<n.length;o++){var c=i+"{"+s.body+"}"+n[o];e.push(c)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),p=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=l||p,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(r=s.pre+"{"+s.body+Oe+s.post,Lt(r)):[r];var y;if(b)y=s.body.split(/\.\./);else if(y=os(s.body),y.length===1&&(y=Lt(y[0],!1).map(hi),y.length===1))return n.map(function(st){return s.pre+y[0]+st});var w;if(b){var _=Te(y[0]),v=Te(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs(Te(y[2])):1,A=ai,P=v<_;P&&(O*=-1,A=li);var R=y.some(oi);w=[];for(var F=_;A(F,v);F+=O){var k;if(p)k=String.fromCharCode(F),k==="\\"&&(k="");else if(k=String(F),R){var D=T-k.length;if(D>0){var I=new Array(D+1).join("0");F<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Lt(y[L],!1))}for(var L=0;L<w.length;L++)for(var o=0;o<n.length;o++){var c=i+w[L]+n[o];(!t||b||c)&&e.push(c)}}return e}var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.assertValidPattern=void 0;const ci=1024*64,fi=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>ci)throw new TypeError("pattern is too long")};Qt.assertValidPattern=fi;var jt={},te={};Object.defineProperty(te,"__esModule",{value:!0}),te.parseClass=void 0;const ui={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ft=r=>r.replace(/[[\]\\-]/g,"\\$&"),di=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),as=r=>r.join(""),pi=(r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],i=[];let n=e+1,o=!1,c=!1,l=!1,p=!1,b=e,g="";t:for(;n<r.length;){const v=r.charAt(n);if((v==="!"||v==="^")&&n===e+1){p=!0,n++;continue}if(v==="]"&&o&&!l){b=n+1;break}if(o=!0,v==="\\"&&!l){l=!0,n++;continue}if(v==="["&&!l){for(const[T,[O,A,P]]of Object.entries(ui))if(r.startsWith(T,n)){if(g)return["$.",!1,r.length-e,!0];n+=T.length,P?i.push(O):s.push(O),c=c||A;continue t}}if(l=!1,g){v>g?s.push(Ft(g)+"-"+Ft(v)):v===g&&s.push(Ft(v)),g="",n++;continue}if(r.startsWith("-]",n+1)){s.push(Ft(v+"-")),n+=2;continue}if(r.startsWith("-",n+1)){g=v,n+=2;continue}s.push(Ft(v)),n++}if(b<n)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,r.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!p){const v=s[0].length===2?s[0].slice(-1):s[0];return[di(v),!1,b-e,!1]}const y="["+(p?"^":"")+as(s)+"]",w="["+(p?"":"^")+as(i)+"]";return[s.length&&i.length?"("+y+"|"+w+")":s.length?y:w,c,b-e,!0]};te.parseClass=pi;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.unescape=void 0;const mi=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Rt.unescape=mi,Object.defineProperty(jt,"__esModule",{value:!0}),jt.AST=void 0;const gi=te,ee=Rt,wi=new Set(["!","?","+","*","@"]),ls=r=>wi.has(r),bi="(?!(?:^|/)\\.\\.?(?:$|/))",se="(?!\\.)",yi=new Set(["[","."]),Si=new Set(["..","."]),Ei=new Set("().*{}+?[]^$\\!"),vi=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Re="[^/]",cs=Re+"*?",fs=Re+"+?";class X{type;#t;#s;#n=!1;#i=[];#o;#l;#f;#a=!1;#h;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#o=e,this.#t=this.#o?this.#o.#t:this,this.#h=this.#t===this?s:this.#t.#h,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#o?this.#o.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#o;for(;s;){for(let i=e.#l+1;!s.type&&i<s.#i.length;i++)for(const n of t.#i){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#i[i])}e=s,s=e.#o}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof X&&e.#o===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#o?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#o?.isStart())return!1;if(this.#l===0)return!0;const t=this.#o;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof X&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();const t=this.#o?this.#o.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new X(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,i){let n=!1,o=!1,c=-1,l=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const v=t.charAt(w++);if(n||v==="\\"){n=!n,_+=v;continue}if(o){w===c+1?(v==="^"||v==="!")&&(l=!0):v==="]"&&!(w===c+2&&l)&&(o=!1),_+=v;continue}else if(v==="["){o=!0,c=w,l=!1,_+=v;continue}if(!i.noext&&ls(v)&&t.charAt(w)==="("){e.push(_),_="";const T=new X(v,e);w=X.#d(t,T,w,i),e.push(T);continue}_+=v}return e.push(_),w}let p=s+1,b=new X(null,e);const g=[];let y="";for(;p<t.length;){const w=t.charAt(p++);if(n||w==="\\"){n=!n,y+=w;continue}if(o){p===c+1?(w==="^"||w==="!")&&(l=!0):w==="]"&&!(p===c+2&&l)&&(o=!1),y+=w;continue}else if(w==="["){o=!0,c=p,l=!1,y+=w;continue}if(ls(w)&&t.charAt(p)==="("){b.push(y),y="";const _=new X(w,b);b.push(_),p=X.#d(t,_,p,i);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new X(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),p;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],p}static fromGlob(t,e={}){const s=new X(null,void 0,e);return X.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,i,n]=this.toRegExpSource();if(!(i||this.#s||this.#h.nocase&&!this.#h.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const c=(this.#h.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,c),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#h.dot;if(this.#t===this&&this.#w(),!this.type){const l=this.isStart()&&this.isEnd(),p=this.#i.map(w=>{const[_,v,T,O]=typeof w=="string"?X.#y(w,this.#s,l):w.toRegExpSource(t);return this.#s=this.#s||T,this.#n=this.#n||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&Si.has(this.#i[0]))){const _=yi,v=e&&_.has(p.charAt(0))||p.startsWith("\\.")&&_.has(p.charAt(2))||p.startsWith("\\.\\.")&&_.has(p.charAt(4)),T=!e&&!t&&_.has(p.charAt(0));b=v?bi:T?se:""}let g="";return this.isEnd()&&this.#t.#a&&this.#o?.type==="!"&&(g="(?:$|\\/)"),[b+p+g,(0,ee.unescape)(p),this.#s=!!this.#s,this.#n]}const s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let n=this.#u(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){const l=this.toString();return this.#i=[l],this.type=null,this.#s=void 0,[l,(0,ee.unescape)(this.toString()),!1,!1]}let o=!s||t||e||!se?"":this.#u(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let c="";if(this.type==="!"&&this.#m)c=(this.isStart()&&!e?se:"")+fs;else{const l=this.type==="!"?"))"+(this.isStart()&&!e&&!t?se:"")+cs+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;c=i+n+l}return[c,(0,ee.unescape)(n),this.#s=!!this.#s,this.#n]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,i,n,o]=e.toRegExpSource(t);return this.#n=this.#n||o,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let i=!1,n="",o=!1;for(let c=0;c<t.length;c++){const l=t.charAt(c);if(i){i=!1,n+=(Ei.has(l)?"\\":"")+l;continue}if(l==="\\"){c===t.length-1?n+="\\\\":i=!0;continue}if(l==="["){const[p,b,g,y]=(0,gi.parseClass)(t,c);if(g){n+=p,o=o||b,c+=g-1,e=e||y;continue}}if(l==="*"){s&&t==="*"?n+=fs:n+=cs,e=!0;continue}if(l==="?"){n+=Re,e=!0;continue}n+=vi(l)}return[n,(0,ee.unescape)(t),!!e,o]}}jt.AST=X;var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.escape=void 0;const _i=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");kt.escape=_i,function(r){var t=it&&it.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.unescape=r.escape=r.AST=r.Minimatch=r.match=r.makeRe=r.braceExpand=r.defaults=r.filter=r.GLOBSTAR=r.sep=r.minimatch=void 0;const e=t(si),s=Qt,i=jt,n=kt,o=Rt,c=(S,a,d={})=>((0,s.assertValidPattern)(a),!d.nocomment&&a.charAt(0)==="#"?!1:new Et(a,d).match(S));r.minimatch=c;const l=/^\*+([^+@!?\*\[\(]*)$/,p=S=>a=>!a.startsWith(".")&&a.endsWith(S),b=S=>a=>a.endsWith(S),g=S=>(S=S.toLowerCase(),a=>!a.startsWith(".")&&a.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),a=>a.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),v=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),A=/^\*+$/,P=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",F=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,a=""])=>{const d=st([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},D=([S,a=""])=>{const d=yt([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},I=([S,a=""])=>{const d=yt([S]);return a?m=>d(m)&&m.endsWith(a):d},L=([S,a=""])=>{const d=st([S]);return a?m=>d(m)&&m.endsWith(a):d},st=([S])=>{const a=S.length;return d=>d.length===a&&!d.startsWith(".")},yt=([S])=>{const a=S.length;return d=>d.length===a&&d!=="."&&d!==".."},z=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};r.sep=z==="win32"?N.win32.sep:N.posix.sep,r.minimatch.sep=r.sep,r.GLOBSTAR=Symbol("globstar **"),r.minimatch.GLOBSTAR=r.GLOBSTAR;const Pt="[^/]"+"*?",Zt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Mt="(?:(?!(?:\\/|^)\\.).)*?",Q=(S,a={})=>d=>(0,r.minimatch)(d,S,a);r.filter=Q,r.minimatch.filter=r.filter;const q=(S,a={})=>Object.assign({},S,a),Ot=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return r.minimatch;const a=r.minimatch;return Object.assign((m,f,h={})=>a(m,f,q(S,h)),{Minimatch:class extends a.Minimatch{constructor(f,h={}){super(f,q(S,h))}static defaults(f){return a.defaults(q(S,f)).Minimatch}},AST:class extends a.AST{constructor(f,h,u={}){super(f,h,q(S,u))}static fromGlob(f,h={}){return a.AST.fromGlob(f,q(S,h))}},unescape:(m,f={})=>a.unescape(m,q(S,f)),escape:(m,f={})=>a.escape(m,q(S,f)),filter:(m,f={})=>a.filter(m,q(S,f)),defaults:m=>a.defaults(q(S,m)),makeRe:(m,f={})=>a.makeRe(m,q(S,f)),braceExpand:(m,f={})=>a.braceExpand(m,q(S,f)),match:(m,f,h={})=>a.match(m,f,q(S,h)),sep:a.sep,GLOBSTAR:r.GLOBSTAR})};r.defaults=Ot,r.minimatch.defaults=r.defaults;const St=(S,a={})=>((0,s.assertValidPattern)(S),a.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));r.braceExpand=St,r.minimatch.braceExpand=r.braceExpand;const lt=(S,a={})=>new Et(S,a).makeRe();r.makeRe=lt,r.minimatch.makeRe=r.makeRe;const V=(S,a,d={})=>{const m=new Et(a,d);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(a),S};r.match=V,r.minimatch.match=r.match;const pt=/[?*]|[+@!]\(.*?\)|\[|\]/,Se=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Et{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(a,d={}){(0,s.assertValidPattern)(a),d=d||{},this.options=d,this.pattern=a,this.platform=d.platform||z,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!d.windowsPathsNoEscape||d.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!d.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!d.nonegate,this.comment=!1,this.empty=!1,this.partial=!!d.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=d.windowsNoMagicRoot!==void 0?d.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const a of this.set)for(const d of a)if(typeof d!="string")return!0;return!1}debug(...a){}make(){const a=this.pattern,d=this.options;if(!d.nocomment&&a.charAt(0)==="#"){this.comment=!0;return}if(!a){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],d.debug&&(this.debug=(...h)=>console.error(...h)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(h=>this.slashSplit(h));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((h,u,E)=>{if(this.isWindows&&this.windowsNoMagicRoot){const C=h[0]===""&&h[1]===""&&(h[2]==="?"||!pt.test(h[2]))&&!pt.test(h[3]),M=/^[a-z]:/i.test(h[0]);if(C)return[...h.slice(0,4),...h.slice(4).map(j=>this.parse(j))];if(M)return[h[0],...h.slice(1).map(j=>this.parse(j))]}return h.map(C=>this.parse(C))});if(this.debug(this.pattern,f),this.set=f.filter(h=>h.indexOf(!1)===-1),this.isWindows)for(let h=0;h<this.set.length;h++){const u=this.set[h];u[0]===""&&u[1]===""&&this.globParts[h][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(a){if(this.options.noglobstar)for(let m=0;m<a.length;m++)for(let f=0;f<a[m].length;f++)a[m][f]==="**"&&(a[m][f]="*");const{optimizationLevel:d=1}=this.options;return d>=2?(a=this.firstPhasePreProcess(a),a=this.secondPhasePreProcess(a)):d>=1?a=this.levelOneOptimize(a):a=this.adjascentGlobstarOptimize(a),a}adjascentGlobstarOptimize(a){return a.map(d=>{let m=-1;for(;(m=d.indexOf("**",m+1))!==-1;){let f=m;for(;d[f+1]==="**";)f++;f!==m&&d.splice(m,f-m)}return d})}levelOneOptimize(a){return a.map(d=>(d=d.reduce((m,f)=>{const h=m[m.length-1];return f==="**"&&h==="**"?m:f===".."&&h&&h!==".."&&h!=="."&&h!=="**"?(m.pop(),m):(m.push(f),m)},[]),d.length===0?[""]:d))}levelTwoFileOptimize(a){Array.isArray(a)||(a=this.slashSplit(a));let d=!1;do{if(d=!1,!this.preserveMultipleSlashes){for(let f=1;f<a.length-1;f++){const h=a[f];f===1&&h===""&&a[0]===""||(h==="."||h==="")&&(d=!0,a.splice(f,1),f--)}a[0]==="."&&a.length===2&&(a[1]==="."||a[1]==="")&&(d=!0,a.pop())}let m=0;for(;(m=a.indexOf("..",m+1))!==-1;){const f=a[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(d=!0,a.splice(m-1,2),m-=2)}}while(d);return a.length===0?[""]:a}firstPhasePreProcess(a){let d=!1;do{d=!1;for(let m of a){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let E=m[f+1];const C=m[f+2],M=m[f+3];if(E!==".."||!C||C==="."||C===".."||!M||M==="."||M==="..")continue;d=!0,m.splice(f,1);const j=m.slice(0);j[f]="**",a.push(j),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const E=m[u];u===1&&E===""&&m[0]===""||(E==="."||E==="")&&(d=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(d=!0,m.pop())}let h=0;for(;(h=m.indexOf("..",h+1))!==-1;){const u=m[h-1];if(u&&u!=="."&&u!==".."&&u!=="**"){d=!0;const C=h===1&&m[h+1]==="**"?["."]:[];m.splice(h-1,2,...C),m.length===0&&m.push(""),h-=2}}}}while(d);return a}secondPhasePreProcess(a){for(let d=0;d<a.length-1;d++)for(let m=d+1;m<a.length;m++){const f=this.partsMatch(a[d],a[m],!this.preserveMultipleSlashes);f&&(a[d]=f,a[m]=[])}return a.filter(d=>d.length)}partsMatch(a,d,m=!1){let f=0,h=0,u=[],E="";for(;f<a.length&&h<d.length;)if(a[f]===d[h])u.push(E==="b"?d[h]:a[f]),f++,h++;else if(m&&a[f]==="**"&&d[h]===a[f+1])u.push(a[f]),f++;else if(m&&d[h]==="**"&&a[f]===d[h+1])u.push(d[h]),h++;else if(a[f]==="*"&&d[h]&&(this.options.dot||!d[h].startsWith("."))&&d[h]!=="**"){if(E==="b")return!1;E="a",u.push(a[f]),f++,h++}else if(d[h]==="*"&&a[f]&&(this.options.dot||!a[f].startsWith("."))&&a[f]!=="**"){if(E==="a")return!1;E="b",u.push(d[h]),f++,h++}else return!1;return a.length===d.length&&u}parseNegate(){if(this.nonegate)return;const a=this.pattern;let d=!1,m=0;for(let f=0;f<a.length&&a.charAt(f)==="!";f++)d=!d,m++;m&&(this.pattern=a.slice(m)),this.negate=d}matchOne(a,d,m=!1){const f=this.options;if(this.isWindows){const J=typeof a[0]=="string"&&/^[a-z]:$/i.test(a[0]),_e=!J&&a[0]===""&&a[1]===""&&a[2]==="?"&&/^[a-z]:$/i.test(a[3]),He=typeof d[0]=="string"&&/^[a-z]:$/i.test(d[0]),Js=!He&&d[0]===""&&d[1]===""&&d[2]==="?"&&typeof d[3]=="string"&&/^[a-z]:$/i.test(d[3]),Dt=_e?3:J?0:void 0,Tt=Js?3:He?0:void 0;if(typeof Dt=="number"&&typeof Tt=="number"){const[qe,Zs]=[a[Dt],d[Tt]];qe.toLowerCase()===Zs.toLowerCase()&&(d[Tt]=qe,Tt>Dt?d=d.slice(Tt):Dt>Tt&&(a=a.slice(Dt)))}}const{optimizationLevel:h=1}=this.options;h>=2&&(a=this.levelTwoFileOptimize(a)),this.debug("matchOne",this,{file:a,pattern:d}),this.debug("matchOne",a.length,d.length);for(var u=0,E=0,C=a.length,M=d.length;u<C&&E<M;u++,E++){this.debug("matchOne loop");var j=d[E],W=a[u];if(this.debug(d,j,W),j===!1)return!1;if(j===r.GLOBSTAR){this.debug("GLOBSTAR",[d,j,W]);var $=u,K=E+1;if(K===M){for(this.debug("** at the end");u<C;u++)if(a[u]==="."||a[u]===".."||!f.dot&&a[u].charAt(0)===".")return!1;return!0}for(;$<C;){var nt=a[$];if(this.debug(`
+globstar while`,a,$,d,K,nt),this.matchOne(a.slice($),d.slice(K),m))return this.debug("globstar found match!",$,C,nt),!0;if(nt==="."||nt===".."||!f.dot&&nt.charAt(0)==="."){this.debug("dot detected!",a,$,d,K);break}this.debug("globstar swallow a segment, and continue"),$++}return!!(m&&(this.debug(`
+>>> no match, partial?`,a,$,d,K),$===C))}let J;if(typeof j=="string"?(J=W===j,this.debug("string match",j,W,J)):(J=j.test(W),this.debug("pattern match",j,W,J)),!J)return!1}if(u===C&&E===M)return!0;if(u===C)return m;if(E===M)return u===C-1&&a[u]==="";throw new Error("wtf?")}braceExpand(){return(0,r.braceExpand)(this.pattern,this.options)}parse(a){(0,s.assertValidPattern)(a);const d=this.options;if(a==="**")return r.GLOBSTAR;if(a==="")return"";let m,f=null;(m=a.match(A))?f=d.dot?R:P:(m=a.match(l))?f=(d.nocase?d.dot?y:g:d.dot?b:p)(m[1]):(m=a.match(F))?f=(d.nocase?d.dot?D:k:d.dot?I:L)(m):(m=a.match(w))?f=d.dot?v:_:(m=a.match(T))&&(f=O);const h=i.AST.fromGlob(a,this.options).toMMPattern();return f?Object.assign(h,{test:f}):h}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const a=this.set;if(!a.length)return this.regexp=!1,this.regexp;const d=this.options,m=d.noglobstar?Pt:d.dot?Zt:Mt,f=new Set(d.nocase?["i"]:[]);let h=a.map(C=>{const M=C.map(j=>{if(j instanceof RegExp)for(const W of j.flags.split(""))f.add(W);return typeof j=="string"?Se(j):j===r.GLOBSTAR?r.GLOBSTAR:j._src});return M.forEach((j,W)=>{const $=M[W+1],K=M[W-1];j!==r.GLOBSTAR||K===r.GLOBSTAR||(K===void 0?$!==void 0&&$!==r.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+$:M[W]=m:$===void 0?M[W-1]=K+"(?:\\/|"+m+")?":$!==r.GLOBSTAR&&(M[W-1]=K+"(?:\\/|\\/"+m+"\\/)"+$,M[W+1]=r.GLOBSTAR))}),M.filter(j=>j!==r.GLOBSTAR).join("/")}).join("|");const[u,E]=a.length>1?["(?:",")"]:["",""];h="^"+u+h+E+"$",this.negate&&(h="^(?!"+h+").+$");try{this.regexp=new RegExp(h,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(a){return this.preserveMultipleSlashes?a.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(a)?["",...a.split(/\/+/)]:a.split(/\/+/)}match(a,d=this.partial){if(this.debug("match",a,this.pattern),this.comment)return!1;if(this.empty)return a==="";if(a==="/"&&d)return!0;const m=this.options;this.isWindows&&(a=a.split("\\").join("/"));const f=this.slashSplit(a);this.debug(this.pattern,"split",f);const h=this.set;this.debug(this.pattern,"set",h);let u=f[f.length-1];if(!u)for(let E=f.length-2;!u&&E>=0;E--)u=f[E];for(let E=0;E<h.length;E++){const C=h[E];let M=f;if(m.matchBase&&C.length===1&&(M=[u]),this.matchOne(M,C,d))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(a){return r.minimatch.defaults(a).Minimatch}}r.Minimatch=Et;var Ee=jt;Object.defineProperty(r,"AST",{enumerable:!0,get:function(){return Ee.AST}});var ve=kt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return ve.escape}});var Xt=Rt;Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return Xt.unescape}}),r.minimatch.AST=i.AST,r.minimatch.Minimatch=Et,r.minimatch.escape=n.escape,r.minimatch.unescape=o.unescape}(mt);var Nt={},B={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.LRUCache=void 0;const Bt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,us=new Set,Ae=typeof process=="object"&&process?process:{},ds=(r,t,e,s)=>{typeof Ae.emitWarning=="function"?Ae.emitWarning(r,t,e,s):console.error(`[${e}] ${t}: ${r}`)};let re=globalThis.AbortController,ps=globalThis.AbortSignal;if(typeof re>"u"){ps=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,i){this._onabort.push(i)}},re=class{constructor(){t()}signal=new ps;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const i of this.signal._onabort)i(s);this.signal.onabort?.(s)}}};let r=Ae.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{r&&(r=!1,ds("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Oi=r=>!us.has(r),gt=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),ms=r=>gt(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?ne:null:null;class ne extends Array{constructor(t){super(t),this.fill(0)}}class Ct{heap;length;static#t=!1;static create(t){const e=ms(t);if(!e)return[];Ct.#t=!0;const s=new Ct(t,e);return Ct.#t=!1,s}constructor(t,e){if(!Ct.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class xe{#t;#s;#n;#i;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#h;#e;#m;#w;#d;#u;#y;#g;#C;#P;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#P,ttls:t.#O,sizes:t.#C,keyMap:t.#a,keyList:t.#h,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,i,n)=>t.#F(e,s,i,n),moveToTail:e=>t.#j(e),indexes:e=>t.#_(e),rindexes:e=>t.#A(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#o}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:c,allowStale:l,dispose:p,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:v,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:R,ignoreFetchAbort:F}=t;if(e!==0&&!gt(e))throw new TypeError("max option must be a nonnegative integer");const k=e?ms(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=v,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=T,this.#R=!!T,this.#a=new Map,this.#h=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Ct.create(e),this.#l=0,this.#f=0,typeof p=="function"&&(this.#n=p),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#n,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!P,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!F,this.maxEntrySize!==0){if(this.#s!==0&&!gt(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!gt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#D()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!c,this.ttlResolution=gt(i)||i===0?i:1,this.ttlAutopurge=!!n,this.ttl=s||0,this.ttl){if(!gt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const D="LRU_CACHE_UNBOUNDED";Oi(D)&&(us.add(D),ds("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,xe))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new ne(this.#t),e=new ne(this.#t);this.#O=t,this.#P=e,this.#r=(n,o,c=Bt.now())=>{if(e[n]=o!==0?c:0,t[n]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{this.#b(n)&&this.delete(this.#h[n])},o+1);l.unref&&l.unref()}},this.#T=n=>{e[n]=t[n]!==0?Bt.now():0},this.#E=(n,o)=>{if(t[o]){const c=t[o],l=e[o];n.ttl=c,n.start=l,n.now=s||i();const p=n.now-l;n.remainingTTL=c-p}};let s=0;const i=()=>{const n=Bt.now();if(this.ttlResolution>0){s=n;const o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{const o=this.#a.get(n);if(o===void 0)return 0;const c=t[o],l=e[o];if(c===0||l===0)return 1/0;const p=(s||i())-l;return c-p},this.#b=n=>t[n]!==0&&e[n]!==0&&(s||i())-e[n]>t[n]}#T=()=>{};#E=()=>{};#r=()=>{};#b=()=>!1;#D(){const t=new ne(this.#t);this.#f=0,this.#C=t,this.#v=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,i,n)=>{if(this.#c(s))return 0;if(!gt(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(s,e),!gt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#k=(e,s,i)=>{if(t[e]=s,this.#s){const n=this.#s-t[e];for(;this.#f>n;)this.#L(!0)}this.#f+=t[e],i&&(i.entrySize=s,i.totalCalculatedSize=this.#f)}}#v=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#A({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#h[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*rentries(){for(const t of this.#A())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#A()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#A())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;if(n!==void 0&&t(n,this.#h[s],this))return this.get(this.#h[s],e)}}forEach(t,e=this){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}rforEach(t,e=this){for(const s of this.#A()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}purgeStale(){let t=!1;for(const e of this.#A({allowStale:!0}))this.#b(e)&&(this.delete(this.#h[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#h[e],i=this.#e[e],n=this.#c(i)?i.__staleWhileFetching:i;if(n===void 0||s===void 0)continue;const o={value:n};if(this.#O&&this.#P){o.ttl=this.#O[e];const c=Bt.now()-this.#P[e];o.start=Math.floor(Date.now()-c)}this.#C&&(o.size=this.#C[e]),t.unshift([s,o])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const i=Date.now()-s.start;s.start=Bt.now()-i}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:l}=s;let{noUpdateTTL:p=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,c);if(this.maxEntrySize&&b>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#h[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,l),l&&(l.set="add"),p=!1;else{this.#j(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):o||(this.#S&&this.#n?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#v(g),this.#k(g,b,l),this.#e[g]=e,l){l.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(l.oldValue=w)}}else l&&(l.set="update")}if(i!==0&&!this.#O&&this.#M(),this.#O&&(p||this.#r(g,i,n),l&&this.#E(l,g)),!o&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#h[e],i=this.#e[e];return this.#R&&this.#c(i)?i.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,s,"evict"),this.#p&&this.#g?.push([i,s,"evict"])),this.#v(e),t&&(this.#h[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=e,n=this.#a.get(t);if(n!==void 0){const o=this.#e[n];if(this.#c(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(n))i&&(i.has="stale",this.#E(i,n));else return s&&this.#T(n),i&&(i.has="hit",this.#E(i,n)),!0}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,i=this.#a.get(t);if(i!==void 0&&(s||!this.#b(i))){const n=this.#e[i];return this.#c(n)?n.__staleWhileFetching:n}}#F(t,e,s,i){const n=e===void 0?void 0:this.#e[e];if(this.#c(n))return n;const o=new re,{signal:c}=s;c?.addEventListener("abort",()=>o.abort(c.reason),{signal:o.signal});const l={signal:o.signal,options:s,context:i},p=(v,T=!1)=>{const{aborted:O}=o.signal,A=s.ignoreFetchAbort&&v!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,A&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!A&&!T)return g(o.signal.reason);const P=w;return this.#e[e]===w&&(v===void 0?P.__staleWhileFetching?this.#e[e]=P.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,v,l.options))),v},b=v=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=v),g(v)),g=v=>{const{aborted:T}=o.signal,O=T&&s.allowStaleOnFetchAbort,A=O||s.allowStaleOnFetchRejection,P=A||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!P||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),A)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw v},y=(v,T)=>{const O=this.#o?.(t,n,l);O&&O instanceof Promise&&O.then(A=>v(A===void 0?void 0:A),T),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(v(void 0),s.allowStaleOnFetchAbort&&(v=A=>p(A,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(p,b),_=Object.assign(w,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,_,{...l.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof re}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:v,forceRefresh:T=!1,status:O,signal:A}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:O});const P={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:c,size:l,sizeCalculation:p,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:A};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const F=this.#F(t,R,P,v);return F.__returned=F}else{const F=this.#e[R];if(this.#c(F)){const st=s&&F.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",st&&(O.returnedStale=!0)),st?F.__staleWhileFetching:F.__returned=F}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#j(R),i&&this.#T(R),O&&this.#E(O,R),F;const D=this.#F(t,R,P,v),L=D.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?D.__staleWhileFetching:D.__returned=D}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,c=this.#a.get(t);if(c!==void 0){const l=this.#e[c],p=this.#c(l);return o&&this.#E(o,c),this.#b(c)?(o&&(o.get="stale"),p?(o&&s&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?l.__staleWhileFetching:void 0):(n||this.delete(t),o&&s&&(o.returnedStale=!0),s?l:void 0)):(o&&(o.get="hit"),p?l.__staleWhileFetching:(this.#j(c),i&&this.#T(c),l))}else o&&(o.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#j(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#v(s);const i=this.#e[s];this.#c(i)?i.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,t,"delete"),this.#p&&this.#g?.push([i,t,"delete"])),this.#a.delete(t),this.#h[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let i;for(;i=s?.shift();)this.#i?.(...i)}return e}clear(){for(const t of this.#A({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#h[t];this.#S&&this.#n?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#h.fill(void 0),this.#O&&this.#P&&(this.#O.fill(0),this.#P.fill(0)),this.#C&&this.#C.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}ie.LRUCache=xe;var gs={};(function(r){var t=it&&it.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(r,"__esModule",{value:!0}),r.Minipass=r.isWritable=r.isReadable=r.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=Ke,i=t(Je),n=Ze,o=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof i.default||(0,r.isReadable)(f)||(0,r.isWritable)(f));r.isStream=o;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==i.default.Writable.prototype.pipe;r.isReadable=c;const l=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";r.isWritable=l;const p=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),v=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),A=Symbol("encoding"),P=Symbol("decoder"),R=Symbol("flowing"),F=Symbol("paused"),k=Symbol("resume"),D=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),st=Symbol("bufferPush"),yt=Symbol("bufferShift"),z=Symbol("objectMode"),N=Symbol("destroyed"),Jt=Symbol("error"),Pt=Symbol("emitData"),Zt=Symbol("emitEnd"),Mt=Symbol("emitEnd2"),Q=Symbol("async"),q=Symbol("abort"),Ot=Symbol("aborted"),St=Symbol("signal"),lt=Symbol("dataListeners"),V=Symbol("discarded"),pt=f=>Promise.resolve().then(f),Se=f=>f(),Et=f=>f==="end"||f==="finish"||f==="prefinish",Ee=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,ve=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class Xt{src;dest;opts;ondrain;constructor(h,u,E){this.src=h,this.dest=u,this.opts=E,this.ondrain=()=>h[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(h){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends Xt{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(h,u,E){super(h,u,E),this.proxyErrors=C=>u.emit("error",C),h.on("error",this.proxyErrors)}}const a=f=>!!f.objectMode,d=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[F]=!1;[I]=[];[D]=[];[z];[A];[Q];[P];[p]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[St];[Ot]=!1;[lt]=0;[V]=!1;writable=!0;readable=!0;constructor(...h){const u=h[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");a(u)?(this[z]=!0,this[A]=null):d(u)?(this[A]=u.encoding,this[z]=!1):(this[z]=!1,this[A]=null),this[Q]=!!u.async,this[P]=this[A]?new n.StringDecoder(this[A]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[D]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:E}=u;E&&(this[St]=E,E.aborted?this[q]():E.addEventListener("abort",()=>this[q]()))}get bufferLength(){return this[L]}get encoding(){return this[A]}set encoding(h){throw new Error("Encoding must be set at instantiation time")}setEncoding(h){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[z]}set objectMode(h){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Q]}set async(h){this[Q]=this[Q]||!!h}[q](){this[Ot]=!0,this.emit("abort",this[St]?.reason),this.destroy(this[St]?.reason)}get aborted(){return this[Ot]}set aborted(h){}write(h,u,E){if(this[Ot])return!1;if(this[p])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(E=u,u="utf8"),u||(u="utf8");const C=this[Q]?pt:Se;if(!this[z]&&!Buffer.isBuffer(h)){if(ve(h))h=Buffer.from(h.buffer,h.byteOffset,h.byteLength);else if(Ee(h))h=Buffer.from(h);else if(typeof h!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[z]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):h.length?(typeof h=="string"&&!(u===this[A]&&!this[P]?.lastNeed)&&(h=Buffer.from(h,u)),Buffer.isBuffer(h)&&this[A]&&(h=this[P].write(h)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):(this[L]!==0&&this.emit("readable"),E&&C(E),this[R])}read(h){if(this[N])return null;if(this[V]=!1,this[L]===0||h===0||h&&h>this[L])return this[b](),null;this[z]&&(h=null),this[D].length>1&&!this[z]&&(this[D]=[this[A]?this[D].join(""):Buffer.concat(this[D],this[L])]);const u=this[v](h||null,this[D][0]);return this[b](),u}[v](h,u){if(this[z])this[yt]();else{const E=u;h===E.length||h===null?this[yt]():typeof E=="string"?(this[D][0]=E.slice(h),u=E.slice(0,h),this[L]-=h):(this[D][0]=E.subarray(h),u=E.subarray(0,h),this[L]-=h)}return this.emit("data",u),!this[D].length&&!this[p]&&this.emit("drain"),u}end(h,u,E){return typeof h=="function"&&(E=h,h=void 0),typeof u=="function"&&(E=u,u="utf8"),h!==void 0&&this.write(h,u),E&&this.once("end",E),this[p]=!0,this.writable=!1,(this[R]||!this[F])&&this[b](),this}[k](){this[N]||(!this[lt]&&!this[I].length&&(this[V]=!0),this[F]=!1,this[R]=!0,this.emit("resume"),this[D].length?this[T]():this[p]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[F]=!0,this[V]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[F]}[st](h){this[z]?this[L]+=1:this[L]+=h.length,this[D].push(h)}[yt](){return this[z]?this[L]-=1:this[L]-=this[D][0].length,this[D].shift()}[T](h=!1){do;while(this[O](this[yt]())&&this[D].length);!h&&!this[D].length&&!this[p]&&this.emit("drain")}[O](h){return this.emit("data",h),this[R]}pipe(h,u){if(this[N])return h;this[V]=!1;const E=this[g];return u=u||{},h===e.stdout||h===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,E?u.end&&h.end():(this[I].push(u.proxyErrors?new S(this,h,u):new Xt(this,h,u)),this[Q]?pt(()=>this[k]()):this[k]()),h}unpipe(h){const u=this[I].find(E=>E.dest===h);u&&(this[I].length===1?(this[R]&&this[lt]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(h,u){return this.on(h,u)}on(h,u){const E=super.on(h,u);if(h==="data")this[V]=!1,this[lt]++,!this[I].length&&!this[R]&&this[k]();else if(h==="readable"&&this[L]!==0)super.emit("readable");else if(Et(h)&&this[g])super.emit(h),this.removeAllListeners(h);else if(h==="error"&&this[w]){const C=u;this[Q]?pt(()=>C.call(this,this[w])):C.call(this,this[w])}return E}removeListener(h,u){return this.off(h,u)}off(h,u){const E=super.off(h,u);return h==="data"&&(this[lt]=this.listeners("data").length,this[lt]===0&&!this[V]&&!this[I].length&&(this[R]=!1)),E}removeAllListeners(h){const u=super.removeAllListeners(h);return(h==="data"||h===void 0)&&(this[lt]=0,!this[V]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[D].length===0&&this[p]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(h,...u){const E=u[0];if(h!=="error"&&h!=="close"&&h!==N&&this[N])return!1;if(h==="data")return!this[z]&&!E?!1:this[Q]?(pt(()=>this[Pt](E)),!0):this[Pt](E);if(h==="end")return this[Zt]();if(h==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(h==="error"){this[w]=E,super.emit(Jt,E);const M=!this[St]||this.listeners("error").length?super.emit("error",E):!1;return this[b](),M}else if(h==="resume"){const M=super.emit("resume");return this[b](),M}else if(h==="finish"||h==="prefinish"){const M=super.emit(h);return this.removeAllListeners(h),M}const C=super.emit(h,...u);return this[b](),C}[Pt](h){for(const E of this[I])E.dest.write(h)===!1&&this.pause();const u=this[V]?!1:super.emit("data",h);return this[b](),u}[Zt](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[Q]?(pt(()=>this[Mt]()),!0):this[Mt]())}[Mt](){if(this[P]){const u=this[P].end();if(u){for(const E of this[I])E.dest.write(u);this[V]||super.emit("data",u)}}for(const u of this[I])u.end();const h=super.emit("end");return this.removeAllListeners("end"),h}async collect(){const h=Object.assign([],{dataLength:0});this[z]||(h.dataLength=0);const u=this.promise();return this.on("data",E=>{h.push(E),this[z]||(h.dataLength+=E.length)}),await u,h}async concat(){if(this[z])throw new Error("cannot concat in objectMode");const h=await this.collect();return this[A]?h.join(""):Buffer.concat(h,h.dataLength)}async promise(){return new Promise((h,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",E=>u(E)),this.on("end",()=>h())})}[Symbol.asyncIterator](){this[V]=!1;let h=!1;const u=async()=>(this.pause(),h=!0,{value:void 0,done:!0});return{next:()=>{if(h)return u();const C=this.read();if(C!==null)return Promise.resolve({done:!1,value:C});if(this[p])return u();let M,j;const W=J=>{this.off("data",$),this.off("end",K),this.off(N,nt),u(),j(J)},$=J=>{this.off("error",W),this.off("end",K),this.off(N,nt),this.pause(),M({value:J,done:!!this[p]})},K=()=>{this.off("error",W),this.off("data",$),this.off(N,nt),u(),M({done:!0,value:void 0})},nt=()=>W(new Error("stream destroyed"));return new Promise((J,_e)=>{j=_e,M=J,this.once(N,nt),this.once("error",W),this.once("end",K),this.once("data",$)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[V]=!1;let h=!1;const u=()=>(this.pause(),this.off(Jt,u),this.off(N,u),this.off("end",u),h=!0,{done:!0,value:void 0}),E=()=>{if(h)return u();const C=this.read();return C===null?u():{done:!1,value:C}};return this.once("end",u),this.once(Jt,u),this.once(N,u),{next:E,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(h){if(this[N])return h?this.emit("error",h):this.emit(N),this;this[N]=!0,this[V]=!0,this[D].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),h?this.emit("error",h):this.emit(N),this}static get isStream(){return r.isStream}}r.Minipass=m})(gs);var Ti=it&&it.__createBinding||(Object.create?function(r,t,e,s){s===void 0&&(s=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,s,i)}:function(r,t,e,s){s===void 0&&(s=e),r[s]=t[e]}),Ri=it&&it.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Ai=it&&it.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&Ti(t,r,e);return Ri(t,r),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const ws=ie,he=Xs,Ci=Ve,Pi=Ai(Ye),It=Ye,Mi=It.realpathSync.native,oe=Qs,bs=gs,Wt={lstatSync:It.lstatSync,readdir:It.readdir,readdirSync:It.readdirSync,readlinkSync:It.readlinkSync,realpathSync:Mi,promises:{lstat:oe.lstat,readdir:oe.readdir,readlink:oe.readlink,realpath:oe.realpath}},ys=r=>!r||r===Wt||r===Pi?Wt:{...Wt,...r,promises:{...Wt.promises,...r.promises||{}}},Ss=/^\\\\\?\\([a-z]:)\\?$/i,Di=r=>r.replace(/\//g,"\\").replace(Ss,"$1\\"),Li=/[\\\/]/,tt=0,Es=1,vs=2,ht=4,_s=6,Os=8,vt=10,Ts=12,et=15,Gt=~et,Ce=16,Rs=32,xt=64,rt=128,ae=256,le=512,As=xt|rt|le,ji=1023,Pe=r=>r.isFile()?Os:r.isDirectory()?ht:r.isSymbolicLink()?vt:r.isCharacterDevice()?vs:r.isBlockDevice()?_s:r.isSocket()?Ts:r.isFIFO()?Es:tt,Cs=new Map,$t=r=>{const t=Cs.get(r);if(t)return t;const e=r.normalize("NFKD");return Cs.set(r,e),e},Ps=new Map,ce=r=>{const t=Ps.get(r);if(t)return t;const e=$t(r.toLowerCase());return Ps.set(r,e),e};class Me extends ws.LRUCache{constructor(){super({max:256})}}B.ResolveCache=Me;class Ms extends ws.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=Ms;const Ds=Symbol("PathScurry setAsCwd");class Y{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#n;get mode(){return this.#n}#i;get nlink(){return this.#i}#o;get uid(){return this.#o}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#h;get ino(){return this.#h}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#C;get mtime(){return this.#C}#P;get ctime(){return this.#P}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#E;#r;#b;#D;#v;get path(){return(this.parent||this).fullpath()}constructor(t,e=tt,s,i,n,o,c){this.name=t,this.#S=n?ce(t):$t(t),this.#r=e&ji,this.nocase=n,this.roots=i,this.root=s||this,this.#b=o,this.#p=c.fullpath,this.#T=c.relative,this.#E=c.relativePosix,this.parent=c.parent,this.parent?this.#t=this.parent.#t:this.#t=ys(c.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(i):this.#k(i)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#r&=~Ce,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),i=this.nocase?ce(t):$t(t);for(const l of s)if(l.#S===i)return l;const n=this.parent?this.sep:"",o=this.#p?this.#p+n+t:void 0,c=this.newChild(t,tt,{...e,parent:this,fullpath:o});return this.canReaddir()||(c.#r|=rt),s.push(c),c}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#E!==void 0)return this.#E;const t=this.name,e=this.parent;if(!e)return this.#E=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=i}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#M=`//?/${i}`:this.#M=i}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#r&et)===tt}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&et)===Os}isDirectory(){return(this.#r&et)===ht}isCharacterDevice(){return(this.#r&et)===vs}isBlockDevice(){return(this.#r&et)===_s}isFIFO(){return(this.#r&et)===Es}isSocket(){return(this.#r&et)===Ts}isSymbolicLink(){return(this.#r&vt)===vt}lstatCached(){return this.#r&Rs?this:void 0}readlinkCached(){return this.#D}realpathCached(){return this.#v}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#D)return!0;if(!this.parent)return!1;const t=this.#r&et;return!(t!==tt&&t!==vt||this.#r&ae||this.#r&rt)}calledReaddir(){return!!(this.#r&Ce)}isENOENT(){return!!(this.#r&rt)}isNamed(t){return this.nocase?this.#S===ce(t):this.#S===$t(t)}async readlink(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}#N(t){this.#r|=Ce;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#r&rt||(this.#r=(this.#r|rt)&Gt,this.#A())}#A(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#r|=le,this.#L()}#L(){if(this.#r&xt)return;let t=this.#r;(t&et)===ht&&(t&=Gt),this.#r=t|xt,this.#A()}#F(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#r;e|=ae,t==="ENOENT"&&(e|=rt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Gt),this.#r=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#j(t,e){return this.#U(t,e)||this.#z(t,e)}#z(t,e){const s=Pe(t),i=this.newChild(t.name,s,{parent:this}),n=i.#r&et;return n!==ht&&n!==vt&&n!==tt&&(i.#r|=xt),e.unshift(i),e.provisional++,i}#U(t,e){for(let s=e.provisional;s<e.length;s++){const i=e[s];if((this.nocase?ce(t.name):$t(t.name))===i.#S)return this.#H(t,i,s,e)}}#H(t,e,s,i){const n=e.name;return e.#r=e.#r&Gt|Pe(t),n!==t.name&&(e.name=t.name),s!==i.provisional&&(s===i.length-1?i.pop():i.splice(s,1),i.unshift(e)),i.provisional++,e}async lstat(){if(!(this.#r&rt))try{return this.#$(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#r&rt))try{return this.#$(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#$(t){const{atime:e,atimeMs:s,birthtime:i,birthtimeMs:n,blksize:o,blocks:c,ctime:l,ctimeMs:p,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:v,nlink:T,rdev:O,size:A,uid:P}=t;this.#g=e,this.#w=s,this.#O=i,this.#y=n,this.#a=o,this.#m=c,this.#P=l,this.#u=p,this.#s=b,this.#l=g,this.#h=y,this.#n=w,this.#C=_,this.#d=v,this.#i=T,this.#f=O,this.#e=A,this.#o=P;const R=Pe(t);this.#r=this.#r&Gt|R|Rs,R!==tt&&R!==ht&&R!==vt&&(this.#r|=xt)}#G=[];#x=!1;#q(t){this.#x=!1;const e=this.#G.slice();this.#G.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const n=s.slice(0,s.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#G.push(t),this.#x)return;this.#x=!0;const i=this.fullpath();this.#t.readdir(i,{withFileTypes:!0},(n,o)=>{if(n)this.#F(n.code),s.provisional=0;else{for(const c of o)this.#j(c,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(i=>s=i);try{for(const i of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#j(i,t);this.#N(t)}catch(i){this.#F(i.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#j(s,t);this.#N(t)}catch(s){this.#F(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#r&As)return!1;const t=et&this.#r;return t===tt||t===ht||t===vt}shouldWalk(t,e){return(this.#r&ht)===ht&&!(this.#r&As)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=this.#t.realpathSync(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}[Ds](t){if(t===this)return;const e=new Set([]);let s=[],i=this;for(;i&&i.parent;)e.add(i),i.#T=s.join(this.sep),i.#E=s.join("/"),i=i.parent,s.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#T=void 0,i.#E=void 0,i=i.parent}}B.PathBase=Y;class Yt extends Y{sep="\\";splitSep=Li;constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}newChild(t,e=tt,s={}){return new Yt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return he.win32.parse(t).root}getRoot(t){if(t=Di(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Le(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Ss,"$1\\"),t===e}}B.PathWin32=Yt;class Kt extends Y{splitSep="/";sep="/";constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=tt,s={}){return new Kt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=Kt;class De{root;rootPath;roots;cwd;#t;#s;#n;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:i,childrenCacheSize:n=16*1024,fs:o=Wt}={}){this.#i=ys(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Ci.fileURLToPath)(t));const c=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(c),this.#t=new Me,this.#s=new Me,this.#n=new Ms(n);const l=c.substring(this.rootPath.length).split(s);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let p=this.root,b=l.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of l){const v=b--;p=p.child(_,{relative:new Array(v).fill("..").join(g),relativePosix:new Array(v).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=p}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#n}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#t.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpath();return this.#t.set(e,i),i}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#s.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,i),i}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const i=await t.readdir();return s?i:i.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(i=>i.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set,p=(g,y)=>{l.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let v=_.length;if(!v)return y();const T=()=>{--v===0&&y()};for(const O of _)(!n||n(O))&&c.push(s?O:O.fullpath()),i&&O.isSymbolicLink()?O.realpath().then(A=>A?.isUnknown()?A.lstat():A).then(A=>A?.shouldWalk(l,o)?p(A,T):T()):O.shouldWalk(l,o)?p(O,T):T()},!0)},b=t;return new Promise((g,y)=>{p(b,w=>{if(w)return y(w);g(c)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set([t]);for(const p of l){const b=p.readdirSync();for(const g of b){(!n||n(g))&&c.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(i&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(l,o)&&l.add(y)}}return c}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield s?t:t.fullpath());const c=new Set([t]);for(const l of c){const p=l.readdirSync();for(const b of p){(!n||n(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(i&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(c,o)&&c.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0});(!n||n(t))&&c.write(s?t:t.fullpath());const l=new Set,p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=(T,O,A=!1)=>{if(T)return c.emit("error",T);if(i&&!A){const P=[];for(const R of O)R.isSymbolicLink()&&P.push(R.realpath().then(F=>F?.isUnknown()?F.lstat():F));if(P.length){Promise.all(P).then(()=>_(null,O,!0));return}}for(const P of O)P&&(!n||n(P))&&(c.write(s?P:P.fullpath())||(y=!0));b--;for(const P of O){const R=P.realpathCached()||P;R.shouldWalk(l,o)&&p.push(R)}y&&!c.flowing?c.once("drain",g):v||g()};let v=!0;w.readdirCB(_,!0),v=!1}};return g(),c}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0}),l=new Set;(!n||n(t))&&c.write(s?t:t.fullpath());const p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=w.readdirSync();for(const v of _)(!n||n(v))&&(c.write(s?v:v.fullpath())||(y=!0));b--;for(const v of _){let T=v;if(v.isSymbolicLink()){if(!(i&&(T=v.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(l,o)&&p.push(T)}}y&&!c.flowing&&c.once("drain",g)};return g(),c}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[Ds](e)}}B.PathScurryBase=De;class Le extends De{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,he.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(t){return he.win32.parse(t).root.toUpperCase()}newRoot(t){return new Yt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Le;class je extends De{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,he.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Kt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=je;class Ls extends je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=Ls,B.Path=process.platform==="win32"?Yt:Kt,B.PathScurry=process.platform==="win32"?Le:process.platform==="darwin"?Ls:je;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.Pattern=void 0;const Fi=mt,ki=r=>r.length>=1,Ni=r=>r.length>=1;class $e{#t;#s;#n;length;#i;#o;#l;#f;#a;#h;#e=!0;constructor(t,e,s,i){if(!ki(t))throw new TypeError("empty pattern list");if(!Ni(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#n=s,this.#i=i,this.#n===0){if(this.isUNC()){const[n,o,c,l,...p]=this.#t,[b,g,y,w,..._]=this.#s;p[0]===""&&(p.shift(),_.shift());const v=[n,o,c,l,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[v,...p],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[n,...o]=this.#t,[c,...l]=this.#s;o[0]===""&&(o.shift(),l.shift());const p=n+"/",b=c+"/";this.#t=[p,...o],this.#s=[b,...l],this.length=this.#t.length}}}pattern(){return this.#t[this.#n]}isString(){return typeof this.#t[this.#n]=="string"}isGlobstar(){return this.#t[this.#n]===Fi.GLOBSTAR}isRegExp(){return this.#t[this.#n]instanceof RegExp}globString(){return this.#l=this.#l||(this.#n===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new $e(this.#t,this.#s,this.#n+1,this.#i),this.#o.#h=this.#h,this.#o.#a=this.#a,this.#o.#f=this.#f,this.#o):this.#o=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#n===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#n===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#h!==void 0?this.#h:this.#h=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#n===0?t:""}checkFollowGlobstar(){return!(this.#n===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#n===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}zt.Pattern=$e;var wt={},js={};const Fs=typeof process=="object"&&process?process:{stdout:null,stderr:null},Bi=Ke,ks=Je,Ii=Ze,Ns=Ii.StringDecoder,ct=Symbol("EOF"),ft=Symbol("maybeEmitEnd"),bt=Symbol("emittedEnd"),fe=Symbol("emittingEnd"),Ut=Symbol("emittedError"),ue=Symbol("closed"),Bs=Symbol("read"),de=Symbol("flush"),Is=Symbol("flushChunk"),Z=Symbol("encoding"),ut=Symbol("decoder"),pe=Symbol("flowing"),Ht=Symbol("paused"),At=Symbol("resume"),G=Symbol("buffer"),ot=Symbol("pipes"),U=Symbol("bufferLength"),Fe=Symbol("bufferPush"),ke=Symbol("bufferShift"),H=Symbol("objectMode"),x=Symbol("destroyed"),Ne=Symbol("error"),Be=Symbol("emitData"),Ws=Symbol("emitEnd"),Ie=Symbol("emitEnd2"),dt=Symbol("async"),We=Symbol("abort"),me=Symbol("aborted"),_t=Symbol("signal"),qt=r=>Promise.resolve().then(r),Gs=it._MP_NO_ITERATOR_SYMBOLS_!=="1",xs=Gs&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$s=Gs&&Symbol.iterator||Symbol("iterator not implemented"),Wi=r=>r==="end"||r==="finish"||r==="prefinish",Gi=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,xi=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r);class zs{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[At](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class $i extends zs{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=i=>e.emit("error",i),t.on("error",this.proxyErrors)}}class ze extends ks{constructor(t){super(),this[pe]=!1,this[Ht]=!1,this[ot]=[],this[G]=[],this[H]=t&&t.objectMode||!1,this[H]?this[Z]=null:this[Z]=t&&t.encoding||null,this[Z]==="buffer"&&(this[Z]=null),this[dt]=t&&!!t.async||!1,this[ut]=this[Z]?new Ns(this[Z]):null,this[ct]=!1,this[bt]=!1,this[fe]=!1,this[ue]=!1,this[Ut]=null,this.writable=!0,this.readable=!0,this[U]=0,this[x]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[G]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ot]}),this[_t]=t&&t.signal,this[me]=!1,this[_t]&&(this[_t].addEventListener("abort",()=>this[We]()),this[_t].aborted&&this[We]())}get bufferLength(){return this[U]}get encoding(){return this[Z]}set encoding(t){if(this[H])throw new Error("cannot set encoding in objectMode");if(this[Z]&&t!==this[Z]&&(this[ut]&&this[ut].lastNeed||this[U]))throw new Error("cannot change encoding");this[Z]!==t&&(this[ut]=t?new Ns(t):null,this[G].length&&(this[G]=this[G].map(e=>this[ut].write(e)))),this[Z]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[H]}set objectMode(t){this[H]=this[H]||!!t}get async(){return this[dt]}set async(t){this[dt]=this[dt]||!!t}[We](){this[me]=!0,this.emit("abort",this[_t].reason),this.destroy(this[_t].reason)}get aborted(){return this[me]}set aborted(t){}write(t,e,s){if(this[me])return!1;if(this[ct])throw new Error("write after end");if(this[x])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const i=this[dt]?qt:n=>n();return!this[H]&&!Buffer.isBuffer(t)&&(xi(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gi(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[H]?(this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[Z]&&!this[ut].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[Z]&&(t=this[ut].write(t)),this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):(this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing)}read(t){if(this[x])return null;if(this[U]===0||t===0||t>this[U])return this[ft](),null;this[H]&&(t=null),this[G].length>1&&!this[H]&&(this.encoding?this[G]=[this[G].join("")]:this[G]=[Buffer.concat(this[G],this[U])]);const e=this[Bs](t||null,this[G][0]);return this[ft](),e}[Bs](t,e){return t===e.length||t===null?this[ke]():(this[G][0]=e.slice(t),e=e.slice(0,t),this[U]-=t),this.emit("data",e),!this[G].length&&!this[ct]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[ct]=!0,this.writable=!1,(this.flowing||!this[Ht])&&this[ft](),this}[At](){this[x]||(this[Ht]=!1,this[pe]=!0,this.emit("resume"),this[G].length?this[de]():this[ct]?this[ft]():this.emit("drain"))}resume(){return this[At]()}pause(){this[pe]=!1,this[Ht]=!0}get destroyed(){return this[x]}get flowing(){return this[pe]}get paused(){return this[Ht]}[Fe](t){this[H]?this[U]+=1:this[U]+=t.length,this[G].push(t)}[ke](){return this[H]?this[U]-=1:this[U]-=this[G][0].length,this[G].shift()}[de](t){do;while(this[Is](this[ke]())&&this[G].length);!t&&!this[G].length&&!this[ct]&&this.emit("drain")}[Is](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[x])return;const s=this[bt];return e=e||{},t===Fs.stdout||t===Fs.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ot].push(e.proxyErrors?new $i(this,t,e):new zs(this,t,e)),this[dt]?qt(()=>this[At]()):this[At]()),t}unpipe(t){const e=this[ot].find(s=>s.dest===t);e&&(this[ot].splice(this[ot].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ot].length&&!this.flowing?this[At]():t==="readable"&&this[U]!==0?super.emit("readable"):Wi(t)&&this[bt]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Ut]&&(this[dt]?qt(()=>e.call(this,this[Ut])):e.call(this,this[Ut])),s}get emittedEnd(){return this[bt]}[ft](){!this[fe]&&!this[bt]&&!this[x]&&this[G].length===0&&this[ct]&&(this[fe]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ue]&&this.emit("close"),this[fe]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==x&&this[x])return;if(t==="data")return!this[H]&&!e?!1:this[dt]?qt(()=>this[Be](e)):this[Be](e);if(t==="end")return this[Ws]();if(t==="close"){if(this[ue]=!0,!this[bt]&&!this[x])return;const n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[Ut]=e,super.emit(Ne,e);const n=!this[_t]||this.listeners("error").length?super.emit("error",e):!1;return this[ft](),n}else if(t==="resume"){const n=super.emit("resume");return this[ft](),n}else if(t==="finish"||t==="prefinish"){const n=super.emit(t);return this.removeAllListeners(t),n}const i=super.emit(t,e,...s);return this[ft](),i}[Be](t){for(const s of this[ot])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[ft](),e}[Ws](){this[bt]||(this[bt]=!0,this.readable=!1,this[dt]?qt(()=>this[Ie]()):this[Ie]())}[Ie](){if(this[ut]){const e=this[ut].end();if(e){for(const s of this[ot])s.dest.write(e);super.emit("data",e)}}for(const e of this[ot])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[H]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[H]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[H]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[H]?Promise.reject(new Error("cannot concat in objectMode")):this[Z]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(x,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[xs](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[ct])return e();let n=null,o=null;const c=g=>{this.removeListener("data",l),this.removeListener("end",p),this.removeListener(x,b),e(),o(g)},l=g=>{this.removeListener("error",c),this.removeListener("end",p),this.removeListener(x,b),this.pause(),n({value:g,done:!!this[ct]})},p=()=>{this.removeListener("error",c),this.removeListener("data",l),this.removeListener(x,b),e(),n({done:!0})},b=()=>c(new Error("stream destroyed"));return new Promise((g,y)=>{o=y,n=g,this.once(x,b),this.once("error",c),this.once("end",p),this.once("data",l)})},throw:e,return:e,[xs](){return this}}}[$s](){let t=!1;const e=()=>(this.pause(),this.removeListener(Ne,e),this.removeListener(x,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const i=this.read();return i===null?e():{value:i}};return this.once("end",e),this.once(Ne,e),this.once(x,e),{next:s,throw:e,return:e,[$s](){return this}}}destroy(t){return this[x]?(t?this.emit("error",t):this.emit(x),this):(this[x]=!0,this[G].length=0,this[U]=0,typeof this.close=="function"&&!this[ue]&&this.close(),t?this.emit("error",t):this.emit(x),this)}static isStream(t){return!!t&&(t instanceof ze||t instanceof ks||t instanceof Bi&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}js.Minipass=ze;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.Ignore=void 0;const Us=mt,zi=zt,Ui=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Hi{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:i,noglobstar:n,platform:o=Ui}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const c={dot:!0,nobrace:e,nocase:s,noext:i,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(const l of t){const p=new Us.Minimatch(l,c);for(let b=0;b<p.set.length;b++){const g=p.set[b],y=p.globParts[b],w=new zi.Pattern(g,y,0,o),_=new Us.Minimatch(w.globString(),c),v=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),v&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,i=t.relative()||".",n=`${i}/`;for(const o of this.relative)if(o.match(i)||o.match(n))return!0;for(const o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const i of this.relativeChildren)if(i.match(s))return!0;for(const i of this.absoluteChildren)i.match(e);return!1}}ge.Ignore=Hi;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.Processor=at.SubWalks=at.MatchRecord=at.HasWalkedCache=void 0;const Hs=mt;class ye{store;constructor(t=new Map){this.store=t}copy(){return new ye(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),i=this.store.get(s);i?i.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}at.HasWalkedCache=ye;class qs{store=new Map;add(t,e,s){const i=(e?2:0)|(s?1:0),n=this.store.get(t);this.store.set(t,n===void 0?i:i&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}at.MatchRecord=qs;class Vs{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(i=>i.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}at.SubWalks=Vs;class Ue{hasWalkedCache;matches=new qs;subwalks=new Vs;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new ye}processPatterns(t,e){this.patterns=e;const s=e.map(i=>[t,i]);for(let[i,n]of s){this.hasWalkedCache.storeWalked(i,n);const o=n.root(),c=n.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);const g=n.rest();if(g)n=g;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,p,b=!1;for(;typeof(l=n.pattern())=="string"&&(p=n.rest());){const g=i.resolve(l);if(g.isUnknown()&&l!=="..")break;i=g,n=p,b=!0}if(l=n.pattern(),p=n.rest(),b){if(this.hasWalkedCache.hasWalked(i,n))continue;this.hasWalkedCache.storeWalked(i,n)}if(typeof l=="string"){if(p)this.subwalks.add(i,n);else{const g=l===".."||l===""||l===".";this.matches.add(i.resolve(l),c,g)}continue}else if(l===Hs.GLOBSTAR){(!i.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(i,n);const g=p?.pattern(),y=p?.rest();if(!p||(g===""||g===".")&&!y)this.matches.add(i,c,g===""||g===".");else if(g===".."){const w=i.parent||i;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,c,!0)}}else l instanceof RegExp&&this.subwalks.add(i,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Ue(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),i=this.child();for(const n of e)for(const o of s){const c=o.isAbsolute(),l=o.pattern(),p=o.rest();l===Hs.GLOBSTAR?i.testGlobstar(n,o,p,c):l instanceof RegExp?i.testRegExp(n,l,p,c):i.testString(n,l,p,c)}return i}testGlobstar(t,e,s,i){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const n=s.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,s.rest(),i);else if(n===".."){const o=t.parent||t;this.subwalks.add(o,s)}else n instanceof RegExp&&this.testRegExp(t,n,s.rest(),i)}}testRegExp(t,e,s,i){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}testString(t,e,s,i){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}}at.Processor=Ue,Object.defineProperty(wt,"__esModule",{value:!0}),wt.GlobStream=wt.GlobWalker=wt.GlobUtil=void 0;const qi=js,Ys=ge,Ks=at,Vi=(r,t)=>typeof r=="string"?new Ys.Ignore([r],t):Array.isArray(r)?new Ys.Ignore(r,t):r;class Ge{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#n;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#n=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=Vi(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#o(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?this.#n:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+i)}else{const n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#n)?"."+this.#n:"";this.matchEmit(n?o+n+i:"."+i)}}async match(t,e,s){const i=await this.matchCheck(t,s);i&&this.matchFinish(i,e)}matchSync(t,e,s){const i=this.matchCheckSync(t,s);i&&this.matchFinish(i,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new Ks.Processor(this.opts),s)}walkCB2(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirCached();c.calledReaddir()?this.walkCB3(c,l,s,o):c.readdirCB((p,b)=>this.walkCB3(c,b,s,o),!0)}o()}walkCB3(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const[c,l]of s.subwalks.entries())n++,this.walkCB2(c,l,s.child(),o);o()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new Ks.Processor(this.opts),s)}walkCB2Sync(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirSync();this.walkCB3Sync(c,l,s,o)}o()}walkCB3Sync(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const[c,l]of s.subwalks.entries())n++,this.walkCB2Sync(c,l,s.child(),o);o()}}wt.GlobUtil=Ge;class Yi extends Ge{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}wt.GlobWalker=Yi;class Ki extends Ge{results;constructor(t,e,s){super(t,e,s),this.results=new qi.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}wt.GlobStream=Ki,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.Glob=void 0;const Ji=mt,we=B,Zi=Ve,Xi=zt,be=wt,Qi=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class tr{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Zi.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=t,this.platform=e.platform||Qi,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const l=e.platform==="win32"?we.PathScurryWin32:e.platform==="darwin"?we.PathScurryDarwin:e.platform?we.PathScurryPosix:we.PathScurry;this.scurry=new l(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(l=>new Ji.Minimatch(l,i)),[o,c]=n.reduce((l,p)=>(l[0].push(...p.set),l[1].push(...p.globParts),l),[[],[]]);this.patterns=o.map((l,p)=>new Xi.Pattern(l,c[p],0,this.platform))}async walk(){return[...await new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Nt.Glob=tr;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.hasMagic=void 0;const er=mt,sr=(r,t={})=>{Array.isArray(r)||(r=[r]);for(const e of r)if(new er.Minimatch(e,t).hasMagic())return!0;return!1};Vt.hasMagic=sr,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.glob=r.hasMagic=r.Glob=r.unescape=r.escape=r.sync=r.iterate=r.iterateSync=r.stream=r.streamSync=r.globIterate=r.globIterateSync=r.globSync=r.globStream=r.globStreamSync=void 0;const t=mt,e=Nt,s=Vt;function i(w,_={}){return new e.Glob(w,_).streamSync()}r.globStreamSync=i;function n(w,_={}){return new e.Glob(w,_).stream()}r.globStream=n;function o(w,_={}){return new e.Glob(w,_).walkSync()}r.globSync=o;async function c(w,_={}){return new e.Glob(w,_).walk()}function l(w,_={}){return new e.Glob(w,_).iterateSync()}r.globIterateSync=l;function p(w,_={}){return new e.Glob(w,_).iterate()}r.globIterate=p,r.streamSync=i,r.stream=Object.assign(n,{sync:i}),r.iterateSync=l,r.iterate=Object.assign(p,{sync:l}),r.sync=Object.assign(o,{stream:i,iterate:l});var b=mt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Nt;Object.defineProperty(r,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=Vt;Object.defineProperty(r,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),r.glob=Object.assign(c,{glob:c,globSync:o,sync:r.sync,globStream:n,stream:r.stream,globStreamSync:i,streamSync:r.streamSync,globIterate:p,iterate:r.iterate,globIterateSync:l,iterateSync:r.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),r.glob.glob=r.glob}(Xe);const{globSync:ir}=Xe;var rr=function(){return function(t){if(directoryExists(t))return!0;const e=t.replace(/\/__virtual__:.*$/,"");return ir(e+"/").length>0}},nr=ti(rr);module.exports=nr;
+;return module.exports()})({}),
             createDirectory(directoryName) {
               if (!nodeSystem.directoryExists(directoryName)) {
                 try {
@@ -41403,7 +41575,20 @@ ${lanes.join("\n")}
         trace(state.host, Diagnostics.Module_name_0_matched_pattern_1, moduleName, matchedPatternText);
       }
       const resolved = forEach(paths[matchedPatternText], (subst) => {
-        const path = matchedStar ? subst.replace("*", matchedStar) : subst;
+        const unreplacedPath = (matchedStar ? subst.replace("*", matchedStar) : subst);
+let path;
+if (unreplacedPath.includes('./<packagePath>')) {
+	path = unreplacedPath.replace('./<packagePath>', getPackagePath(state.requestContainingDirectory))
+} else {
+	path = unreplacedPath
+}
+
+if (path.includes('./<dirname>')) {
+	path = path.replace(
+		'./<dirname>',
+		state.requestContainingDirectory
+	)
+}
         const candidate = normalizePath(combinePaths(baseDirectory, path));
         if (state.traceEnabled) {
           trace(state.host, Diagnostics.Trying_substitution_0_candidate_module_location_Colon_1, subst, path);
@@ -120571,7 +120756,7 @@ ${lanes.join("\n")}
       if (options.composite) {
         const rootPaths = new Set(rootNames.map(toPath3));
         for (const file of files) {
-          if (sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
+          if (!require('path').basename(file.path).startsWith('__virtual__:') && require('path').basename(file.path) !== 'package.json' && sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
             addProgramDiagnosticExplainingFile(
               file,
               Diagnostics.File_0_is_not_listed_within_the_file_list_of_project_1_Projects_must_list_all_files_or_use_an_include_pattern,
diff --git a/lib/typescript.js b/lib/typescript.js
index 4d0ee15506636db54c25a06224a64a03e4853610..ee732de2a4daf92cb74ed053d246a1134523cf2d 100644
--- a/lib/typescript.js
+++ b/lib/typescript.js
@@ -14,7 +14,171 @@ and limitations under the License.
 ***************************************************************************** */
 
 
-"use strict";
+"use strict";var getPackagePath = ((module) => {"use strict";var _t=require("fs"),pa=require("url"),Gn=require("os"),ve=require("path"),Tr=require("util"),Vt=require("stream"),ga=require("events"),ma=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ya(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function _a(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}),t}var X={},z={};function Re(n=""){return!n||!n.includes("\\")?n:n.replace(/\\/g,"/")}const ba=/^[/\\]{2}/,Sa=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,Rr=/^[A-Za-z]:$/,Pr="/",Nr=":",Wn=function(n){if(n.length===0)return".";n=Re(n);const e=n.match(ba),t=qe(n),s=n[n.length-1]==="/";return n=Gt(n,!t),n.length===0?t?"/":s?"./":".":(s&&(n+="/"),Rr.test(n)&&(n+="/"),e?t?`//${n}`:`//./${n}`:t&&!qe(n)?`/${n}`:n)},Cr=function(...n){if(n.length===0)return".";let e;for(const t of n)t&&t.length>0&&(e===void 0?e=t:e+=`/${t}`);return e===void 0?".":Wn(e.replace(/\/\/+/g,"/"))};function wa(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const bt=function(...n){n=n.map(s=>Re(s));let e="",t=!1;for(let s=n.length-1;s>=-1&&!t;s--){const r=s>=0?n[s]:wa();!r||r.length===0||(e=`${r}/${e}`,t=qe(r))}return e=Gt(e,!t),t&&!qe(e)?`/${e}`:e.length>0?e:"."};function Gt(n,e){let t="",s=0,r=-1,i=0,o=null;for(let a=0;a<=n.length;++a){if(a<n.length)o=n[a];else{if(o==="/")break;o="/"}if(o==="/"){if(!(r===a-1||i===1))if(i===2){if(t.length<2||s!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const l=t.lastIndexOf("/");l===-1?(t="",s=0):(t=t.slice(0,l),s=t.length-1-t.lastIndexOf("/")),r=a,i=0;continue}else if(t.length>0){t="",s=0,r=a,i=0;continue}}e&&(t+=t.length>0?"/..":"..",s=2)}else t.length>0?t+=`/${n.slice(r+1,a)}`:t=n.slice(r+1,a),s=a-r-1;r=a,i=0}else o==="."&&i!==-1?++i:i=-1}return t}const qe=function(n){return Sa.test(n)},Lr=function(n){return Re(n)},Ea=/.(\.[^./]+)$/,Yn=function(n){const e=Ea.exec(Re(n));return e&&e[1]||""},Ir=function(n,e){const t=bt(n).split("/"),s=bt(e).split("/"),r=[...t];for(const i of r){if(s[0]!==i)break;t.shift(),s.shift()}return[...t.map(()=>".."),...s].join("/")},Qn=function(n){const e=Re(n).replace(/\/$/,"").split("/").slice(0,-1);return e.length===1&&Rr.test(e[0])&&(e[0]+="/"),e.join("/")||(qe(n)?"/":".")},Mr=function(n){const e=[n.root,n.dir,n.base??n.name+n.ext].filter(Boolean);return Re(n.root?bt(...e):e.join("/"))},Jn=function(n,e){const t=Re(n).split("/").pop();return e&&t.endsWith(e)?t.slice(0,-e.length):t},Dr=function(n){const e=Re(n).split("/").shift()||"/",t=Jn(n),s=Yn(t);return{root:e,dir:Qn(n),base:t,ext:s,name:t.slice(0,t.length-s.length)}},Aa={__proto__:null,basename:Jn,delimiter:Nr,dirname:Qn,extname:Yn,format:Mr,isAbsolute:qe,join:Cr,normalize:Wn,normalizeString:Gt,parse:Dr,relative:Ir,resolve:bt,sep:Pr,toNamespacedPath:Lr};z.basename=Jn,z.delimiter=Nr,z.dirname=Qn,z.extname=Yn,z.format=Mr,z.isAbsolute=qe,z.join=Cr,z.normalize=Wn,z.normalizeString=Gt,z.normalizeWindowsPath=Re,z.parse=Dr,z.path=Aa,z.relative=Ir,z.resolve=bt,z.sep=Pr,z.toNamespacedPath=Lr,Object.defineProperty(X,"__esModule",{value:!0});const se=z;X.basename=se.basename,X.default=se.path,X.delimiter=se.delimiter,X.dirname=se.dirname,X.extname=se.extname,X.format=se.format,X.isAbsolute=se.isAbsolute,X.join=se.join,X.normalize=se.normalize,X.normalizeString=se.normalizeString,X.parse=se.parse,X.relative=se.relative,X.resolve=se.resolve,X.sep=se.sep,X.toNamespacedPath=se.toNamespacedPath;var va=Object.create,Wt=Object.defineProperty,ka=Object.getOwnPropertyDescriptor,Oa=Object.getOwnPropertyNames,$a=Object.getPrototypeOf,Ta=Object.prototype.hasOwnProperty,Ra=(n,e)=>{for(var t in e)Wt(n,t,{get:e[t],enumerable:!0})},xr=(n,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Oa(e))!Ta.call(n,r)&&r!==t&&Wt(n,r,{get:()=>e[r],enumerable:!(s=ka(e,r))||s.enumerable});return n},Br=(n,e,t)=>(t=n!=null?va($a(n)):{},xr(e||!n||!n.__esModule?Wt(t,"default",{value:n,enumerable:!0}):t,n)),Pa=n=>xr(Wt({},"__esModule",{value:!0}),n),jr={};Ra(jr,{getMonorepoDirpath:()=>La});var Na=Pa(jr),Xn=Br(_t),Yt=Br(X),Ca=pa;function La(n=process.cwd()){n=n.startsWith("file://")?(0,Ca.fileURLToPath)(n):n,Xn.statSync(n).isFile()&&(n=Yt.default.dirname(n));let e;for(;n!=="/";){const t=Xn.existsSync(Yt.default.join(n,"pnpm-workspace.yaml"));if(Xn.existsSync(Yt.default.join(n,"pnpm-lock.yaml"))&&(e=n),t)return n;n=Yt.default.dirname(n)}return e}var Fr={};const zn=Symbol.for("yaml.alias"),Zn=Symbol.for("yaml.document"),De=Symbol.for("yaml.map"),Hr=Symbol.for("yaml.pair"),Pe=Symbol.for("yaml.scalar"),tt=Symbol.for("yaml.seq"),fe=Symbol.for("yaml.node.type"),xe=n=>!!n&&typeof n=="object"&&n[fe]===zn,Ve=n=>!!n&&typeof n=="object"&&n[fe]===Zn,Ge=n=>!!n&&typeof n=="object"&&n[fe]===De,H=n=>!!n&&typeof n=="object"&&n[fe]===Hr,x=n=>!!n&&typeof n=="object"&&n[fe]===Pe,We=n=>!!n&&typeof n=="object"&&n[fe]===tt;function K(n){if(n&&typeof n=="object")switch(n[fe]){case De:case tt:return!0}return!1}function G(n){if(n&&typeof n=="object")switch(n[fe]){case zn:case De:case Pe:case tt:return!0}return!1}const Ia=n=>(x(n)||K(n))&&!!n.anchor,ie=Symbol("break visit"),Kr=Symbol("skip children"),ke=Symbol("remove node");function Ne(n,e){const t=Ur(e);Ve(n)?nt(null,n.contents,t,Object.freeze([n]))===ke&&(n.contents=null):nt(null,n,t,Object.freeze([]))}Ne.BREAK=ie,Ne.SKIP=Kr,Ne.REMOVE=ke;function nt(n,e,t,s){const r=qr(n,e,t,s);if(G(r)||H(r))return Vr(n,s,r),nt(n,r,t,s);if(typeof r!="symbol"){if(K(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const o=nt(i,e.items[i],t,s);if(typeof o=="number")i=o-1;else{if(o===ie)return ie;o===ke&&(e.items.splice(i,1),i-=1)}}}else if(H(e)){s=Object.freeze(s.concat(e));const i=nt("key",e.key,t,s);if(i===ie)return ie;i===ke&&(e.key=null);const o=nt("value",e.value,t,s);if(o===ie)return ie;o===ke&&(e.value=null)}}return r}async function St(n,e){const t=Ur(e);Ve(n)?await st(null,n.contents,t,Object.freeze([n]))===ke&&(n.contents=null):await st(null,n,t,Object.freeze([]))}St.BREAK=ie,St.SKIP=Kr,St.REMOVE=ke;async function st(n,e,t,s){const r=await qr(n,e,t,s);if(G(r)||H(r))return Vr(n,s,r),st(n,r,t,s);if(typeof r!="symbol"){if(K(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const o=await st(i,e.items[i],t,s);if(typeof o=="number")i=o-1;else{if(o===ie)return ie;o===ke&&(e.items.splice(i,1),i-=1)}}}else if(H(e)){s=Object.freeze(s.concat(e));const i=await st("key",e.key,t,s);if(i===ie)return ie;i===ke&&(e.key=null);const o=await st("value",e.value,t,s);if(o===ie)return ie;o===ke&&(e.value=null)}}return r}function Ur(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function qr(n,e,t,s){if(typeof t=="function")return t(n,e,s);if(Ge(e))return t.Map?.(n,e,s);if(We(e))return t.Seq?.(n,e,s);if(H(e))return t.Pair?.(n,e,s);if(x(e))return t.Scalar?.(n,e,s);if(xe(e))return t.Alias?.(n,e,s)}function Vr(n,e,t){const s=e[e.length-1];if(K(s))s.items[n]=t;else if(H(s))n==="key"?s.key=t:s.value=t;else if(Ve(s))s.contents=t;else{const r=xe(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}const Ma={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Da=n=>n.replace(/[!,[\]{}]/g,e=>Ma[e]);class re{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},re.defaultYaml,e),this.tags=Object.assign({},re.defaultTags,t)}clone(){const e=new re(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new re(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:re.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},re.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:re.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},re.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),r=s.shift();switch(r){case"%TAG":{if(s.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[i,o]=s;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[i]=s;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return t(6,`Unsupported YAML version ${i}`,o),!1}}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),o)}const[,s,r]=e.match(/^(.*!)([^!]*)$/);r||t(`The ${e} tag has no suffix`);const i=this.tags[s];return i?i+decodeURIComponent(r):s==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,s]of Object.entries(this.tags))if(e.startsWith(s))return t+Da(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let r;if(e&&s.length>0&&G(e.contents)){const i={};Ne(e.contents,(o,a)=>{G(a)&&a.tag&&(i[a.tag]=!0)}),r=Object.keys(i)}else r=[];for(const[i,o]of s)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&t.push(`%TAG ${i} ${o}`);return t.join(`
+`)}}re.defaultYaml={explicit:!1,version:"1.2"},re.defaultTags={"!!":"tag:yaml.org,2002:"};function Gr(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return!0}function Wr(n){const e=new Set;return Ne(n,{Value(t,s){s.anchor&&e.add(s.anchor)}}),e}function Yr(n,e){for(let t=1;;++t){const s=`${n}${t}`;if(!e.has(s))return s}}function xa(n,e){const t=[],s=new Map;let r=null;return{onAnchor:i=>{t.push(i),r||(r=Wr(n));const o=Yr(e,r);return r.add(o),o},setAnchors:()=>{for(const i of t){const o=s.get(i);if(typeof o=="object"&&o.anchor&&(x(o.node)||K(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:s}}function rt(n,e,t,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,i=s.length;r<i;++r){const o=s[r],a=rt(n,s,String(r),o);a===void 0?delete s[r]:a!==o&&(s[r]=a)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const i=s.get(r),o=rt(n,s,r,i);o===void 0?s.delete(r):o!==i&&s.set(r,o)}else if(s instanceof Set)for(const r of Array.from(s)){const i=rt(n,s,r,r);i===void 0?s.delete(r):i!==r&&(s.delete(r),s.add(i))}else for(const[r,i]of Object.entries(s)){const o=rt(n,s,r,i);o===void 0?delete s[r]:o!==i&&(s[r]=o)}return n.call(e,t,s)}function he(n,e,t){if(Array.isArray(n))return n.map((s,r)=>he(s,String(r),t));if(n&&typeof n.toJSON=="function"){if(!t||!Ia(n))return n.toJSON(e,t);const s={aliasCount:0,count:1,res:void 0};t.anchors.set(n,s),t.onCreate=i=>{s.res=i,delete t.onCreate};const r=n.toJSON(e,t);return t.onCreate&&t.onCreate(r),r}return typeof n=="bigint"&&!t?.keep?Number(n):n}class es{constructor(e){Object.defineProperty(this,fe,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:s,onAnchor:r,reviver:i}={}){if(!Ve(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=he(this,"",o);if(typeof r=="function")for(const{count:l,res:c}of o.anchors.values())r(c,l);return typeof i=="function"?rt(i,{"":a},"",a):a}}class wt extends es{constructor(e){super(zn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return Ne(e,{Node:(s,r)=>{if(r===this)return Ne.BREAK;r.anchor===this.source&&(t=r)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:s,doc:r,maxAliasCount:i}=t,o=this.resolve(r);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(o);if(a||(he(o,null,t),a=s.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Qt(r,o,s)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,t,s){const r=`*${this.source}`;if(e){if(Gr(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${r} `}return r}}function Qt(n,e,t){if(xe(e)){const s=e.resolve(n),r=t&&s&&t.get(s);return r?r.count*r.aliasCount:0}else if(K(e)){let s=0;for(const r of e.items){const i=Qt(n,r,t);i>s&&(s=i)}return s}else if(H(e)){const s=Qt(n,e.key,t),r=Qt(n,e.value,t);return Math.max(s,r)}return 1}const Qr=n=>!n||typeof n!="function"&&typeof n!="object";class L extends es{constructor(e){super(Pe),this.value=e}toJSON(e,t){return t?.keep?this.value:he(this.value,e,t)}toString(){return String(this.value)}}L.BLOCK_FOLDED="BLOCK_FOLDED",L.BLOCK_LITERAL="BLOCK_LITERAL",L.PLAIN="PLAIN",L.QUOTE_DOUBLE="QUOTE_DOUBLE",L.QUOTE_SINGLE="QUOTE_SINGLE";const Ba="tag:yaml.org,2002:";function ja(n,e,t){if(e){const s=t.filter(i=>i.tag===e),r=s.find(i=>!i.format)??s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return t.find(s=>s.identify?.(n)&&!s.format)}function Et(n,e,t){if(Ve(n)&&(n=n.contents),G(n))return n;if(H(n)){const f=t.schema[De].createNode?.(t.schema,null,t);return f.items.push(n),f}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:i,schema:o,sourceObjects:a}=t;let l;if(s&&n&&typeof n=="object"){if(l=a.get(n),l)return l.anchor||(l.anchor=r(n)),new wt(l.anchor);l={anchor:null,node:null},a.set(n,l)}e?.startsWith("!!")&&(e=Ba+e.slice(2));let c=ja(n,e,o.tags);if(!c){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const f=new L(n);return l&&(l.node=f),f}c=n instanceof Map?o[De]:Symbol.iterator in Object(n)?o[tt]:o[De]}i&&(i(c),delete t.onTagObj);const u=c?.createNode?c.createNode(t.schema,n,t):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(t.schema,n,t):new L(n);return e?u.tag=e:c.default||(u.tag=c.tag),l&&(l.node=u),u}function Jt(n,e,t){let s=t;for(let r=e.length-1;r>=0;--r){const i=e[r];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=s,s=o}else s=new Map([[i,s]])}return Et(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const At=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class Xt extends es{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(s=>G(s)||H(s)?s.clone(e):s),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(At(e))this.add(t);else{const[s,...r]=e,i=this.get(s,!0);if(K(i))i.addIn(r,t);else if(i===void 0&&this.schema)this.set(s,Jt(this.schema,r,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(e){const[t,...s]=e;if(s.length===0)return this.delete(t);const r=this.get(t,!0);if(K(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${s}`)}getIn(e,t){const[s,...r]=e,i=this.get(s,!0);return r.length===0?!t&&x(i)?i.value:i:K(i)?i.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!H(t))return!1;const s=t.value;return s==null||e&&x(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[t,...s]=e;if(s.length===0)return this.has(t);const r=this.get(t,!0);return K(r)?r.hasIn(s):!1}setIn(e,t){const[s,...r]=e;if(r.length===0)this.set(s,t);else{const i=this.get(s,!0);if(K(i))i.setIn(r,t);else if(i===void 0&&this.schema)this.set(s,Jt(this.schema,r,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}}Xt.maxFlowStringSingleLineLength=60;const Fa=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function Ce(n,e){return/^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}const Be=(n,e,t)=>n.endsWith(`
+`)?Ce(t,e):t.includes(`
+`)?`
+`+Ce(t,e):(n.endsWith(" ")?"":" ")+t,Jr="flow",ts="block",zt="quoted";function Zt(n,e,t="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return n;const l=Math.max(1+i,1+r-e.length);if(n.length<=l)return n;const c=[],u={};let f=r-e.length;typeof s=="number"&&(s>r-Math.max(2,i)?c.push(0):f=r-s);let h,g,p=!1,d=-1,m=-1,w=-1;t===ts&&(d=Xr(n,d),d!==-1&&(f=d+l));for(let k;k=n[d+=1];){if(t===zt&&k==="\\"){switch(m=d,n[d+1]){case"x":d+=3;break;case"u":d+=5;break;case"U":d+=9;break;default:d+=1}w=d}if(k===`
+`)t===ts&&(d=Xr(n,d)),f=d+l,h=void 0;else{if(k===" "&&g&&g!==" "&&g!==`
+`&&g!=="	"){const T=n[d+1];T&&T!==" "&&T!==`
+`&&T!=="	"&&(h=d)}if(d>=f)if(h)c.push(h),f=h+l,h=void 0;else if(t===zt){for(;g===" "||g==="	";)g=k,k=n[d+=1],p=!0;const T=d>w+1?d-2:m-1;if(u[T])return n;c.push(T),u[T]=!0,f=T+l,h=void 0}else p=!0}g=k}if(p&&a&&a(),c.length===0)return n;o&&o();let E=n.slice(0,c[0]);for(let k=0;k<c.length;++k){const T=c[k],A=c[k+1]||n.length;T===0?E=`
+${e}${n.slice(0,A)}`:(t===zt&&u[T]&&(E+=`${n[T]}\\`),E+=`
+${e}${n.slice(T+1,A)}`)}return E}function Xr(n,e){let t=n[e+1];for(;t===" "||t==="	";){do t=n[e+=1];while(t&&t!==`
+`);t=n[e+1]}return e}const en=(n,e)=>({indentAtStart:e?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),tn=n=>/^(%|---|\.\.\.)/m.test(n);function Ha(n,e,t){if(!e||e<0)return!1;const s=e-t,r=n.length;if(r<=s)return!1;for(let i=0,o=0;i<r;++i)if(n[i]===`
+`){if(i-o>s)return!0;if(o=i+1,r-o<=s)return!1}return!0}function vt(n,e){const t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(tn(n)?"  ":"");let o="",a=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(o+=t.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{o+=t.slice(a,l);const u=t.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=t.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||t[l+2]==='"'||t.length<r)l+=1;else{for(o+=t.slice(a,l)+`
+
+`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)o+=`
+`,l+=2;o+=i,t[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+t.slice(a):t,s?o:Zt(o,i,zt,en(e,!1))}function ns(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
+`)||/[ \t]\n|\n[ \t]/.test(n))return vt(n,e);const t=e.indent||(tn(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
+${t}`)+"'";return e.implicitKey?s:Zt(s,t,Jr,en(e,!1))}function it(n,e){const{singleQuote:t}=e.options;let s;if(t===!1)s=vt;else{const r=n.includes('"'),i=n.includes("'");r&&!i?s=ns:i&&!r?s=vt:s=t?ns:vt}return s(n,e)}let ss;try{ss=new RegExp(`(^|(?<!
+))
++(?!
+|$)`,"g")}catch{ss=/\n+(?!\n|$)/g}function nn({comment:n,type:e,value:t},s,r,i){const{blockQuote:o,commentString:a,lineWidth:l}=s.options;if(!o||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return it(t,s);const c=s.indent||(s.forceBlockIndent||tn(t)?"  ":""),u=o==="literal"?!0:o==="folded"||e===L.BLOCK_FOLDED?!1:e===L.BLOCK_LITERAL?!0:!Ha(t,l,c.length);if(!t)return u?`|
+`:`>
+`;let f,h;for(h=t.length;h>0;--h){const S=t[h-1];if(S!==`
+`&&S!=="	"&&S!==" ")break}let g=t.substring(h);const p=g.indexOf(`
+`);p===-1?f="-":t===g||p!==g.length-1?(f="+",i&&i()):f="",g&&(t=t.slice(0,-g.length),g[g.length-1]===`
+`&&(g=g.slice(0,-1)),g=g.replace(ss,`$&${c}`));let d=!1,m,w=-1;for(m=0;m<t.length;++m){const S=t[m];if(S===" ")d=!0;else if(S===`
+`)w=m;else break}let E=t.substring(0,w<m?w+1:m);E&&(t=t.substring(E.length),E=E.replace(/\n+/g,`$&${c}`));let T=(u?"|":">")+(d?c?"2":"1":"")+f;if(n&&(T+=" "+a(n.replace(/ ?[\r\n]+/g," ")),r&&r()),u)return t=t.replace(/\n+/g,`$&${c}`),`${T}
+${c}${E}${t}${g}`;t=t.replace(/\n+/g,`
+$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const A=Zt(`${E}${t}${g}`,c,ts,en(s,!0));return`${T}
+${c}${A}`}function Ka(n,e,t,s){const{type:r,value:i}=n,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&i.includes(`
+`)||u&&/[[\]{},]/.test(i))return it(i,e);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||u||!i.includes(`
+`)?it(i,e):nn(n,e,t,s);if(!a&&!u&&r!==L.PLAIN&&i.includes(`
+`))return nn(n,e,t,s);if(tn(i)){if(l==="")return e.forceBlockIndent=!0,nn(n,e,t,s);if(a&&l===c)return it(i,e)}const f=i.replace(/\n+/g,`$&
+${l}`);if(o){const h=d=>d.default&&d.tag!=="tag:yaml.org,2002:str"&&d.test?.test(f),{compat:g,tags:p}=e.doc.schema;if(p.some(h)||g?.some(h))return it(i,e)}return a?f:Zt(f,l,Jr,en(e,!1))}function kt(n,e,t,s){const{implicitKey:r,inFlow:i}=e,o=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:a}=n;a!==L.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=L.QUOTE_DOUBLE);const l=u=>{switch(u){case L.BLOCK_FOLDED:case L.BLOCK_LITERAL:return r||i?it(o.value,e):nn(o,e,t,s);case L.QUOTE_DOUBLE:return vt(o.value,e);case L.QUOTE_SINGLE:return ns(o.value,e);case L.PLAIN:return Ka(o,e,t,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:f}=e.options,h=r&&u||f;if(c=l(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function zr(n,e){const t=Object.assign({blockQuote:!0,commentString:Fa,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e);let s;switch(t.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:s,options:t}}function Ua(n,e){if(e.tag){const r=n.filter(i=>i.tag===e.tag);if(r.length>0)return r.find(i=>i.format===e.format)??r[0]}let t,s;if(x(e)){s=e.value;const r=n.filter(i=>i.identify?.(s));t=r.find(i=>i.format===e.format)??r.find(i=>!i.format)}else s=e,t=n.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!t){const r=s?.constructor?.name??typeof s;throw new Error(`Tag not resolved for ${r} value`)}return t}function qa(n,e,{anchors:t,doc:s}){if(!s.directives)return"";const r=[],i=(x(n)||K(n))&&n.anchor;i&&Gr(i)&&(t.add(i),r.push(`&${i}`));const o=n.tag?n.tag:e.default?null:e.tag;return o&&r.push(s.directives.tagString(o)),r.join(" ")}function ot(n,e,t,s){if(H(n))return n.toString(e,t,s);if(xe(n)){if(e.doc.directives)return n.toString(e);if(e.resolvedAliases?.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc)}let r;const i=G(n)?n:e.doc.createNode(n,{onTagObj:l=>r=l});r||(r=Ua(e.doc.schema.tags,i));const o=qa(i,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof r.stringify=="function"?r.stringify(i,e,t,s):x(i)?kt(i,e,t,s):i.toString(e,t,s);return o?x(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
+${e.indent}${a}`:a}function Va({key:n,value:e},t,s,r){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:f}}=t;let h=G(n)&&n.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(K(n)){const R="With simple keys, collection cannot be used as a key value";throw new Error(R)}}let g=!f&&(!n||h&&e==null&&!t.inFlow||K(n)||(x(n)?n.type===L.BLOCK_FOLDED||n.type===L.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!g&&(f||!i),indent:a+l});let p=!1,d=!1,m=ot(n,t,()=>p=!0,()=>d=!0);if(!g&&!t.inFlow&&m.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");g=!0}if(t.inFlow){if(i||e==null)return p&&s&&s(),m===""?"?":g?`? ${m}`:m}else if(i&&!f||e==null&&g)return m=`? ${m}`,h&&!p?m+=Be(m,t.indent,c(h)):d&&r&&r(),m;p&&(h=null),g?(h&&(m+=Be(m,t.indent,c(h))),m=`? ${m}
+${a}:`):(m=`${m}:`,h&&(m+=Be(m,t.indent,c(h))));let w,E,k;G(e)?(w=!!e.spaceBefore,E=e.commentBefore,k=e.comment):(w=!1,E=null,k=null,e&&typeof e=="object"&&(e=o.createNode(e))),t.implicitKey=!1,!g&&!h&&x(e)&&(t.indentAtStart=m.length+1),d=!1,!u&&l.length>=2&&!t.inFlow&&!g&&We(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let T=!1;const A=ot(e,t,()=>T=!0,()=>d=!0);let S=" ";if(h||w||E){if(S=w?`
+`:"",E){const R=c(E);S+=`
+${Ce(R,t.indent)}`}A===""&&!t.inFlow?S===`
+`&&(S=`
+
+`):S+=`
+${t.indent}`}else if(!g&&K(e)){const R=A[0],$=A.indexOf(`
+`),P=$!==-1,B=t.inFlow??e.flow??e.items.length===0;if(P||!B){let b=!1;if(P&&(R==="&"||R==="!")){let C=A.indexOf(" ");R==="&"&&C!==-1&&C<$&&A[C+1]==="!"&&(C=A.indexOf(" ",C+1)),(C===-1||$<C)&&(b=!0)}b||(S=`
+${t.indent}`)}}else(A===""||A[0]===`
+`)&&(S="");return m+=S+A,t.inFlow?T&&s&&s():k&&!T?m+=Be(m,t.indent,c(k)):d&&r&&r(),m}function Zr(n,e){(n==="debug"||n==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const ei="<<";function ti(n,e,{key:t,value:s}){if(n?.doc.schema.merge&&Ga(t))if(s=xe(s)?s.resolve(n.doc):s,We(s))for(const r of s.items)rs(n,e,r);else if(Array.isArray(s))for(const r of s)rs(n,e,r);else rs(n,e,s);else{const r=he(t,"",n);if(e instanceof Map)e.set(r,he(s,r,n));else if(e instanceof Set)e.add(r);else{const i=Wa(t,r,n),o=he(s,i,n);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}const Ga=n=>n===ei||x(n)&&n.value===ei&&(!n.type||n.type===L.PLAIN);function rs(n,e,t){const s=n&&xe(t)?t.resolve(n.doc):t;if(!Ge(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,n,Map);for(const[i,o]of r)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Wa(n,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(G(n)&&t?.doc){const s=zr(t.doc,{});s.anchors=new Set;for(const i of t.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const r=n.toString(s);if(!t.mapKeyWarned){let i=JSON.stringify(r);i.length>40&&(i=i.substring(0,36)+'..."'),Zr(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return r}return JSON.stringify(e)}function is(n,e,t){const s=Et(n,void 0,t),r=Et(e,void 0,t);return new Z(s,r)}class Z{constructor(e,t=null){Object.defineProperty(this,fe,{value:Hr}),this.key=e,this.value=t}clone(e){let{key:t,value:s}=this;return G(t)&&(t=t.clone(e)),G(s)&&(s=s.clone(e)),new Z(t,s)}toJSON(e,t){const s=t?.mapAsMap?new Map:{};return ti(t,s,this)}toString(e,t,s){return e?.doc?Va(this,e,t,s):JSON.stringify(this)}}function ni(n,e,t){return(e.inFlow??n.flow?Qa:Ya)(n,e,t)}function Ya({comment:n,items:e},t,{blockItemPrefix:s,flowChars:r,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=t,u=Object.assign({},t,{indent:i,type:null});let f=!1;const h=[];for(let p=0;p<e.length;++p){const d=e[p];let m=null;if(G(d))!f&&d.spaceBefore&&h.push(""),sn(t,h,d.commentBefore,f),d.comment&&(m=d.comment);else if(H(d)){const E=G(d.key)?d.key:null;E&&(!f&&E.spaceBefore&&h.push(""),sn(t,h,E.commentBefore,f))}f=!1;let w=ot(d,u,()=>m=null,()=>f=!0);m&&(w+=Be(w,i,c(m))),f&&m&&(f=!1),h.push(s+w)}let g;if(h.length===0)g=r.start+r.end;else{g=h[0];for(let p=1;p<h.length;++p){const d=h[p];g+=d?`
+${l}${d}`:`
+`}}return n?(g+=`
+`+Ce(c(n),l),a&&a()):f&&o&&o(),g}function Qa({comment:n,items:e},t,{flowChars:s,itemIndent:r,onComment:i}){const{indent:o,indentStep:a,flowCollectionPadding:l,options:{commentString:c}}=t;r+=a;const u=Object.assign({},t,{indent:r,inFlow:!0,type:null});let f=!1,h=0;const g=[];for(let w=0;w<e.length;++w){const E=e[w];let k=null;if(G(E))E.spaceBefore&&g.push(""),sn(t,g,E.commentBefore,!1),E.comment&&(k=E.comment);else if(H(E)){const A=G(E.key)?E.key:null;A&&(A.spaceBefore&&g.push(""),sn(t,g,A.commentBefore,!1),A.comment&&(f=!0));const S=G(E.value)?E.value:null;S?(S.comment&&(k=S.comment),S.commentBefore&&(f=!0)):E.value==null&&A?.comment&&(k=A.comment)}k&&(f=!0);let T=ot(E,u,()=>k=null);w<e.length-1&&(T+=","),k&&(T+=Be(T,r,c(k))),!f&&(g.length>h||T.includes(`
+`))&&(f=!0),g.push(T),h=g.length}let p;const{start:d,end:m}=s;if(g.length===0)p=d+m;else if(f||(f=g.reduce((E,k)=>E+k.length+2,2)>Xt.maxFlowStringSingleLineLength),f){p=d;for(const w of g)p+=w?`
+${a}${o}${w}`:`
+`;p+=`
+${o}${m}`}else p=`${d}${l}${g.join(" ")}${l}${m}`;return n&&(p+=Be(p,o,c(n)),i&&i()),p}function sn({indent:n,options:{commentString:e}},t,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const i=Ce(e(s),n);t.push(i.trimStart())}}function Ye(n,e){const t=x(e)?e.value:e;for(const s of n)if(H(s)&&(s.key===e||s.key===t||x(s.key)&&s.key.value===t))return s}class oe extends Xt{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(De,e),this.items=[]}static from(e,t,s){const{keepUndefined:r,replacer:i}=s,o=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(t,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||r)&&o.items.push(is(l,c,s))};if(t instanceof Map)for(const[l,c]of t)a(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))a(l,t[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,t){let s;H(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Z(e,e?.value):s=new Z(e.key,e.value);const r=Ye(this.items,s.key),i=this.schema?.sortMapEntries;if(r){if(!t)throw new Error(`Key ${s.key} already set`);x(r.value)&&Qr(s.value)?r.value.value=s.value:r.value=s.value}else if(i){const o=this.items.findIndex(a=>i(s,a)<0);o===-1?this.items.push(s):this.items.splice(o,0,s)}else this.items.push(s)}delete(e){const t=Ye(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const r=Ye(this.items,e)?.value;return(!t&&x(r)?r.value:r)??void 0}has(e){return!!Ye(this.items,e)}set(e,t){this.add(new Z(e,t),!0)}toJSON(e,t,s){const r=s?new s:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(r);for(const i of this.items)ti(t,r,i);return r}toString(e,t,s){if(!e)return JSON.stringify(this);for(const r of this.items)if(!H(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),ni(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:t})}}const at={collection:"map",default:!0,nodeClass:oe,tag:"tag:yaml.org,2002:map",resolve(n,e){return Ge(n)||e("Expected a mapping for this tag"),n},createNode:(n,e,t)=>oe.from(n,e,t)};class Le extends Xt{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(tt,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=rn(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const s=rn(e);if(typeof s!="number")return;const r=this.items[s];return!t&&x(r)?r.value:r}has(e){const t=rn(e);return typeof t=="number"&&t<this.items.length}set(e,t){const s=rn(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[s];x(r)&&Qr(t)?r.value=t:this.items[s]=t}toJSON(e,t){const s=[];t?.onCreate&&t.onCreate(s);let r=0;for(const i of this.items)s.push(he(i,String(r++),t));return s}toString(e,t,s){return e?ni(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:t}):JSON.stringify(this)}static from(e,t,s){const{replacer:r}=s,i=new this(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let a of t){if(typeof r=="function"){const l=t instanceof Set?a:String(o++);a=r.call(t,l,a)}i.items.push(Et(a,void 0,s))}}return i}}function rn(n){let e=x(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const lt={collection:"seq",default:!0,nodeClass:Le,tag:"tag:yaml.org,2002:seq",resolve(n,e){return We(n)||e("Expected a sequence for this tag"),n},createNode:(n,e,t)=>Le.from(n,e,t)},on={identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify(n,e,t,s){return e=Object.assign({actualString:!0},e),kt(n,e,t,s)}},an={identify:n=>n==null,createNode:()=>new L(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new L(null),stringify:({source:n},e)=>typeof n=="string"&&an.test.test(n)?n:e.options.nullStr},os={identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:n=>new L(n[0]==="t"||n[0]==="T"),stringify({source:n,value:e},t){if(n&&os.test.test(n)){const s=n[0]==="t"||n[0]==="T";if(e===s)return n}return e?t.options.trueStr:t.options.falseStr}};function _e({format:n,minFractionDigits:e,tag:t,value:s}){if(typeof s=="bigint")return String(s);const r=typeof s=="number"?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(s);if(!n&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=e-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const si={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},ri={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():_e(n)}},ii={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(n){const e=new L(parseFloat(n)),t=n.indexOf(".");return t!==-1&&n[n.length-1]==="0"&&(e.minFractionDigits=n.length-t-1),e},stringify:_e},ln=n=>typeof n=="bigint"||Number.isInteger(n),as=(n,e,t,{intAsBigInt:s})=>s?BigInt(n):parseInt(n.substring(e),t);function oi(n,e,t){const{value:s}=n;return ln(s)&&s>=0?t+s.toString(e):_e(n)}const ai={identify:n=>ln(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(n,e,t)=>as(n,2,8,t),stringify:n=>oi(n,8,"0o")},li={identify:ln,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(n,e,t)=>as(n,0,10,t),stringify:_e},ci={identify:n=>ln(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(n,e,t)=>as(n,2,16,t),stringify:n=>oi(n,16,"0x")},Ja=[at,lt,on,an,os,ai,li,ci,si,ri,ii];function ui(n){return typeof n=="bigint"||Number.isInteger(n)}const cn=({value:n})=>JSON.stringify(n),Xa=[{identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify:cn},{identify:n=>n==null,createNode:()=>new L(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:cn},{identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:n=>n==="true",stringify:cn},{identify:ui,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(n,e,{intAsBigInt:t})=>t?BigInt(n):parseInt(n,10),stringify:({value:n})=>ui(n)?n.toString():JSON.stringify(n)},{identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:n=>parseFloat(n),stringify:cn}],za={default:!0,tag:"",test:/^/,resolve(n,e){return e(`Unresolved plain scalar ${JSON.stringify(n)}`),n}},Za=[at,lt].concat(Xa,za),ls={identify:n=>n instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(n,e){if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){const t=atob(n.replace(/[\n\r]/g,"")),s=new Uint8Array(t.length);for(let r=0;r<t.length;++r)s[r]=t.charCodeAt(r);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),n},stringify({comment:n,type:e,value:t},s,r,i){const o=t;let a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=L.BLOCK_LITERAL),e!==L.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let f=0,h=0;f<c;++f,h+=l)u[f]=a.substr(h,l);a=u.join(e===L.BLOCK_LITERAL?`
+`:" ")}return kt({comment:n,type:e,value:a},s,r,i)}};function fi(n,e){if(We(n))for(let t=0;t<n.items.length;++t){let s=n.items[t];if(!H(s)){if(Ge(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const r=s.items[0]||new Z(new L(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}
+${r.key.commentBefore}`:s.commentBefore),s.comment){const i=r.value??r.key;i.comment=i.comment?`${s.comment}
+${i.comment}`:s.comment}s=r}n.items[t]=H(s)?s:new Z(s)}}else e("Expected a sequence for this tag");return n}function hi(n,e,t){const{replacer:s}=t,r=new Le(n);r.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;r.items.push(is(a,l,t))}return r}const cs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:fi,createNode:hi};class mt extends Le{constructor(){super(),this.add=oe.prototype.add.bind(this),this.delete=oe.prototype.delete.bind(this),this.get=oe.prototype.get.bind(this),this.has=oe.prototype.has.bind(this),this.set=oe.prototype.set.bind(this),this.tag=mt.tag}toJSON(e,t){if(!t)return super.toJSON(e);const s=new Map;t?.onCreate&&t.onCreate(s);for(const r of this.items){let i,o;if(H(r)?(i=he(r.key,"",t),o=he(r.value,i,t)):i=he(r,"",t),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,o)}return s}static from(e,t,s){const r=hi(e,t,s),i=new this;return i.items=r.items,i}}mt.tag="tag:yaml.org,2002:omap";const us={collection:"seq",identify:n=>n instanceof Map,nodeClass:mt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,e){const t=fi(n,e),s=[];for(const{key:r}of t.items)x(r)&&(s.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new mt,t)},createNode:(n,e,t)=>mt.from(n,e,t)};function di({value:n,source:e},t){return e&&(n?pi:gi).test.test(e)?e:n?t.options.trueStr:t.options.falseStr}const pi={identify:n=>n===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new L(!0),stringify:di},gi={identify:n=>n===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new L(!1),stringify:di},el={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},tl={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n.replace(/_/g,"")),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():_e(n)}},nl={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(n){const e=new L(parseFloat(n.replace(/_/g,""))),t=n.indexOf(".");if(t!==-1){const s=n.substring(t+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:_e},Ot=n=>typeof n=="bigint"||Number.isInteger(n);function un(n,e,t,{intAsBigInt:s}){const r=n[0];if((r==="-"||r==="+")&&(e+=1),n=n.substring(e).replace(/_/g,""),s){switch(t){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`;break}const o=BigInt(n);return r==="-"?BigInt(-1)*o:o}const i=parseInt(n,t);return r==="-"?-1*i:i}function fs(n,e,t){const{value:s}=n;if(Ot(s)){const r=s.toString(e);return s<0?"-"+t+r.substr(1):t+r}return _e(n)}const sl={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(n,e,t)=>un(n,2,2,t),stringify:n=>fs(n,2,"0b")},rl={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(n,e,t)=>un(n,1,8,t),stringify:n=>fs(n,8,"0")},il={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(n,e,t)=>un(n,0,10,t),stringify:_e},ol={identify:Ot,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(n,e,t)=>un(n,2,16,t),stringify:n=>fs(n,16,"0x")};class yt extends oe{constructor(e){super(e),this.tag=yt.tag}add(e){let t;H(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new Z(e.key,null):t=new Z(e,null),Ye(this.items,t.key)||this.items.push(t)}get(e,t){const s=Ye(this.items,e);return!t&&H(s)?x(s.key)?s.key.value:s.key:s}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const s=Ye(this.items,e);s&&!t?this.items.splice(this.items.indexOf(s),1):!s&&t&&this.items.push(new Z(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,s);throw new Error("Set items must all have null values")}static from(e,t,s){const{replacer:r}=s,i=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof r=="function"&&(o=r.call(t,o,o)),i.items.push(is(o,null,s));return i}}yt.tag="tag:yaml.org,2002:set";const hs={collection:"map",identify:n=>n instanceof Set,nodeClass:yt,default:!1,tag:"tag:yaml.org,2002:set",createNode:(n,e,t)=>yt.from(n,e,t),resolve(n,e){if(Ge(n)){if(n.hasAllNullValues(!0))return Object.assign(new yt,n);e("Set items must all have null values")}else e("Expected a mapping for this tag");return n}};function ds(n,e){const t=n[0],s=t==="-"||t==="+"?n.substring(1):n,r=o=>e?BigInt(o):Number(o),i=s.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return t==="-"?r(-1)*i:i}function mi(n){let{value:e}=n,t=o=>o;if(typeof e=="bigint")t=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return _e(n);let s="";e<0&&(s="-",e*=t(-1));const r=t(60),i=[e%r];return e<60?i.unshift(0):(e=(e-i[0])/r,i.unshift(e%r),e>=60&&(e=(e-i[0])/r,i.unshift(e))),s+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const yi={identify:n=>typeof n=="bigint"||Number.isInteger(n),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(n,e,{intAsBigInt:t})=>ds(n,t),stringify:mi},_i={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:n=>ds(n,!1),stringify:mi},fn={identify:n=>n instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(n){const e=n.match(fn.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,s,r,i,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(t,s-1,r,i||0,o||0,a||0,l);const u=e[8];if(u&&u!=="Z"){let f=ds(u,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:n})=>n.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},bi=[at,lt,on,an,pi,gi,sl,rl,il,ol,el,tl,nl,ls,us,cs,hs,yi,_i,fn],Si=new Map([["core",Ja],["failsafe",[at,lt,on]],["json",Za],["yaml11",bi],["yaml-1.1",bi]]),wi={binary:ls,bool:os,float:ii,floatExp:ri,floatNaN:si,floatTime:_i,int:li,intHex:ci,intOct:ai,intTime:yi,map:at,null:an,omap:us,pairs:cs,seq:lt,set:hs,timestamp:fn},al={"tag:yaml.org,2002:binary":ls,"tag:yaml.org,2002:omap":us,"tag:yaml.org,2002:pairs":cs,"tag:yaml.org,2002:set":hs,"tag:yaml.org,2002:timestamp":fn};function ps(n,e){let t=Si.get(e);if(!t)if(Array.isArray(n))t=[];else{const s=Array.from(Si.keys()).filter(r=>r!=="yaml11").map(r=>JSON.stringify(r)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(n))for(const s of n)t=t.concat(s);else typeof n=="function"&&(t=n(t.slice()));return t.map(s=>{if(typeof s!="string")return s;const r=wi[s];if(r)return r;const i=Object.keys(wi).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${s}"; use one of ${i}`)})}const ll=(n,e)=>n.key<e.key?-1:n.key>e.key?1:0;class Ft{constructor({compat:e,customTags:t,merge:s,resolveKnownTags:r,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?ps(e,"compat"):e?ps(null,e):null,this.merge=!!s,this.name=typeof i=="string"&&i||"core",this.knownTags=r?al:{},this.tags=ps(t,this.name),this.toStringOptions=a??null,Object.defineProperty(this,De,{value:at}),Object.defineProperty(this,Pe,{value:on}),Object.defineProperty(this,tt,{value:lt}),this.sortMapEntries=typeof o=="function"?o:o===!0?ll:null}clone(){const e=Object.create(Ft.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function cl(n,e){const t=[];let s=e.directives===!0;if(e.directives!==!1&&n.directives){const l=n.directives.toString(n);l?(t.push(l),s=!0):n.directives.docStart&&(s=!0)}s&&t.push("---");const r=zr(n,e),{commentString:i}=r.options;if(n.commentBefore){t.length!==1&&t.unshift("");const l=i(n.commentBefore);t.unshift(Ce(l,""))}let o=!1,a=null;if(n.contents){if(G(n.contents)){if(n.contents.spaceBefore&&s&&t.push(""),n.contents.commentBefore){const u=i(n.contents.commentBefore);t.push(Ce(u,""))}r.forceBlockIndent=!!n.comment,a=n.contents.comment}const l=a?void 0:()=>o=!0;let c=ot(n.contents,r,()=>a=null,l);a&&(c+=Be(c,"",i(a))),(c[0]==="|"||c[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${c}`:t.push(c)}else t.push(ot(n.contents,r));if(n.directives?.docEnd)if(n.comment){const l=i(n.comment);l.includes(`
+`)?(t.push("..."),t.push(Ce(l,""))):t.push(`... ${l}`)}else t.push("...");else{let l=n.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&t[t.length-1]!==""&&t.push(""),t.push(Ce(i(l),"")))}return t.join(`
+`)+`
+`}class et{constructor(e,t,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,fe,{value:Zn});let r=null;typeof t=="function"||Array.isArray(t)?r=t:s===void 0&&t&&(s=t,t=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},s);this.options=i;let{version:o}=i;s?._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new re({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,r,s)}clone(){const e=Object.create(et.prototype,{[fe]:{value:Zn}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=G(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){ct(this.contents)&&this.contents.add(e)}addIn(e,t){ct(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const s=Wr(this);e.anchor=!t||s.has(t)?Yr(t||"a",s):t}return new wt(e.anchor)}createNode(e,t,s){let r;if(typeof t=="function")e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){const m=E=>typeof E=="number"||E instanceof String||E instanceof Number,w=t.filter(m).map(String);w.length>0&&(t=t.concat(w)),r=t}else s===void 0&&t&&(s=t,t=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=s??{},{onAnchor:f,setAnchors:h,sourceObjects:g}=xa(this,o||"a"),p={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:g},d=Et(e,u,p);return a&&K(d)&&(d.flow=!0),h(),d}createPair(e,t,s={}){const r=this.createNode(e,null,s),i=this.createNode(t,null,s);return new Z(r,i)}delete(e){return ct(this.contents)?this.contents.delete(e):!1}deleteIn(e){return At(e)?this.contents==null?!1:(this.contents=null,!0):ct(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return K(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return At(e)?!t&&x(this.contents)?this.contents.value:this.contents:K(this.contents)?this.contents.getIn(e,t):void 0}has(e){return K(this.contents)?this.contents.has(e):!1}hasIn(e){return At(e)?this.contents!==void 0:K(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=Jt(this.schema,[e],t):ct(this.contents)&&this.contents.set(e,t)}setIn(e,t){At(e)?this.contents=t:this.contents==null?this.contents=Jt(this.schema,Array.from(e),t):ct(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new re({version:"1.1"}),s={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new re({version:e}),s={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(s)this.schema=new Ft(Object.assign(s,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:s,maxAliasCount:r,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=he(this.contents,t??"",a);if(typeof i=="function")for(const{count:c,res:u}of a.anchors.values())i(u,c);return typeof o=="function"?rt(o,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return cl(this,e)}}function ct(n){if(K(n))return!0;throw new Error("Expected a YAML collection as document contents")}class hn extends Error{constructor(e,t,s,r){super(),this.name=e,this.code=s,this.message=r,this.pos=t}}class je extends hn{constructor(e,t,s){super("YAMLParseError",e,t,s)}}class gs extends hn{constructor(e,t,s){super("YAMLWarning",e,t,s)}}const dn=(n,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(a=>e.linePos(a));const{line:s,col:r}=t.linePos[0];t.message+=` at line ${s}, column ${r}`;let i=r-1,o=n.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o="\u2026"+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),s>1&&/^ *$/.test(o.substring(0,i))){let a=n.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
+`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=t.linePos[1];l&&l.line===s&&l.col>r&&(a=Math.max(1,Math.min(l.col-r,80-i)));const c=" ".repeat(i)+"^".repeat(a);t.message+=`:
+
+${o}
+${c}
+`}};function ut(n,{flow:e,indicator:t,next:s,offset:r,onError:i,startOnNewline:o}){let a=!1,l=o,c=o,u="",f="",h=!1,g=!1,p=!1,d=null,m=null,w=null,E=null,k=null;for(const S of n)switch(p&&(S.type!=="space"&&S.type!=="newline"&&S.type!=="comma"&&i(S.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),S.type){case"space":!e&&l&&t!=="doc-start"&&S.source[0]==="	"&&i(S,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||i(S,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const R=S.source.substring(1)||" ";u?u+=f+R:u=R,f="",l=!1;break}case"newline":l?u?u+=S.source:a=!0:f+=S.source,l=!0,h=!0,(d||m)&&(g=!0),c=!0;break;case"anchor":d&&i(S,"MULTIPLE_ANCHORS","A node can have at most one anchor"),S.source.endsWith(":")&&i(S.offset+S.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),d=S,k===null&&(k=S.offset),l=!1,c=!1,p=!0;break;case"tag":{m&&i(S,"MULTIPLE_TAGS","A node can have at most one tag"),m=S,k===null&&(k=S.offset),l=!1,c=!1,p=!0;break}case t:(d||m)&&i(S,"BAD_PROP_ORDER",`Anchors and tags must be after the ${S.source} indicator`),E&&i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.source} in ${e??"collection"}`),E=S,l=!1,c=!1;break;case"comma":if(e){w&&i(S,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),w=S,l=!1,c=!1;break}default:i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.type} token`),l=!1,c=!1}const T=n[n.length-1],A=T?T.offset+T.source.length:r;return p&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:w,found:E,spaceBefore:a,comment:u,hasNewline:h,hasNewlineAfterProp:g,anchor:d,tag:m,end:A,start:k??A}}function $t(n){if(!n)return null;switch(n.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(n.source.includes(`
+`))return!0;if(n.end){for(const e of n.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of n.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if($t(e.key)||$t(e.value))return!0}return!1;default:return!0}}function ms(n,e,t){if(e?.type==="flow-collection"){const s=e.end[0];s.indent===n&&(s.source==="]"||s.source==="}")&&$t(e)&&t(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Ei(n,e,t){const{uniqueKeys:s}=n.options;if(s===!1)return!1;const r=typeof s=="function"?s:(i,o)=>i===o||x(i)&&x(o)&&i.value===o.value&&!(i.value==="<<"&&n.schema.merge);return e.some(i=>r(i.key,t))}const Ai="All mapping items must start at the same column";function ul({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=i?.nodeClass??oe,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=s.offset,c=null;for(const u of s.items){const{start:f,key:h,sep:g,value:p}=u,d=ut(f,{indicator:"explicit-key-ind",next:h??g?.[0],offset:l,onError:r,startOnNewline:!0}),m=!d.found;if(m){if(h&&(h.type==="block-seq"?r(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==s.indent&&r(l,"BAD_INDENT",Ai)),!d.anchor&&!d.tag&&!g){c=d.end,d.comment&&(a.comment?a.comment+=`
+`+d.comment:a.comment=d.comment);continue}(d.hasNewlineAfterProp||$t(h))&&r(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else d.found?.indent!==s.indent&&r(l,"BAD_INDENT",Ai);const w=d.end,E=h?n(t,h,d,r):e(t,w,f,null,d,r);t.schema.compat&&ms(s.indent,h,r),Ei(t,a.items,E)&&r(w,"DUPLICATE_KEY","Map keys must be unique");const k=ut(g??[],{indicator:"map-value-ind",next:p,offset:E.range[2],onError:r,startOnNewline:!h||h.type==="block-scalar"});if(l=k.end,k.found){m&&(p?.type==="block-map"&&!k.hasNewline&&r(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&d.start<k.found.offset-1024&&r(E.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const T=p?n(t,p,k,r):e(t,l,g,null,k,r);t.schema.compat&&ms(s.indent,p,r),l=T.range[2];const A=new Z(E,T);t.options.keepSourceTokens&&(A.srcToken=u),a.items.push(A)}else{m&&r(E.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),k.comment&&(E.comment?E.comment+=`
+`+k.comment:E.comment=k.comment);const T=new Z(E);t.options.keepSourceTokens&&(T.srcToken=u),a.items.push(T)}}return c&&c<l&&r(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[s.offset,l,c??l],a}function fl({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=i?.nodeClass??Le,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=s.offset,c=null;for(const{start:u,value:f}of s.items){const h=ut(u,{indicator:"seq-item-ind",next:f,offset:l,onError:r,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?r(h.end,"BAD_INDENT","All sequence items must start at the same column"):r(l,"MISSING_CHAR","Sequence item without - indicator");else{c=h.end,h.comment&&(a.comment=h.comment);continue}const g=f?n(t,f,h,r):e(t,h.end,u,null,h,r);t.schema.compat&&ms(s.indent,f,r),l=g.range[2],a.items.push(g)}return a.range=[s.offset,l,c??l],a}function Tt(n,e,t,s){let r="";if(n){let i=!1,o="";for(const a of n){const{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{t&&!i&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";r?r+=o+u:r=u,o="";break}case"newline":r&&(o+=l),i=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:r,offset:e}}const ys="Block collections are not allowed within flow collections",_s=n=>n&&(n.type==="block-map"||n.type==="block-seq");function hl({composeNode:n,composeEmptyNode:e},t,s,r,i){const o=s.start.source==="{",a=o?"flow map":"flow sequence",l=i?.nodeClass??(o?oe:Le),c=new l(t.schema);c.flow=!0;const u=t.atRoot;u&&(t.atRoot=!1);let f=s.offset+s.start.source.length;for(let m=0;m<s.items.length;++m){const w=s.items[m],{start:E,key:k,sep:T,value:A}=w,S=ut(E,{flow:a,indicator:"explicit-key-ind",next:k??T?.[0],offset:f,onError:r,startOnNewline:!1});if(!S.found){if(!S.anchor&&!S.tag&&!T&&!A){m===0&&S.comma?r(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<s.items.length-1&&r(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),S.comment&&(c.comment?c.comment+=`
+`+S.comment:c.comment=S.comment),f=S.end;continue}!o&&t.options.strict&&$t(k)&&r(k,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(m===0)S.comma&&r(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(S.comma||r(S.start,"MISSING_CHAR",`Missing , between ${a} items`),S.comment){let R="";e:for(const $ of E)switch($.type){case"comma":case"space":break;case"comment":R=$.source.substring(1);break e;default:break e}if(R){let $=c.items[c.items.length-1];H($)&&($=$.value??$.key),$.comment?$.comment+=`
+`+R:$.comment=R,S.comment=S.comment.substring(R.length+1)}}if(!o&&!T&&!S.found){const R=A?n(t,A,S,r):e(t,S.end,T,null,S,r);c.items.push(R),f=R.range[2],_s(A)&&r(R.range,"BLOCK_IN_FLOW",ys)}else{const R=S.end,$=k?n(t,k,S,r):e(t,R,E,null,S,r);_s(k)&&r($.range,"BLOCK_IN_FLOW",ys);const P=ut(T??[],{flow:a,indicator:"map-value-ind",next:A,offset:$.range[2],onError:r,startOnNewline:!1});if(P.found){if(!o&&!S.found&&t.options.strict){if(T)for(const C of T){if(C===P.found)break;if(C.type==="newline"){r(C,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<P.found.offset-1024&&r(P.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else A&&("source"in A&&A.source&&A.source[0]===":"?r(A,"MISSING_CHAR",`Missing space after : in ${a}`):r(P.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const B=A?n(t,A,P,r):P.found?e(t,P.end,T,null,P,r):null;B?_s(A)&&r(B.range,"BLOCK_IN_FLOW",ys):P.comment&&($.comment?$.comment+=`
+`+P.comment:$.comment=P.comment);const b=new Z($,B);if(t.options.keepSourceTokens&&(b.srcToken=w),o){const C=c;Ei(t,C.items,$)&&r(R,"DUPLICATE_KEY","Map keys must be unique"),C.items.push(b)}else{const C=new oe(t.schema);C.flow=!0,C.items.push(b),c.items.push(C)}f=B?B.range[2]:P.end}}const h=o?"}":"]",[g,...p]=s.end;let d=f;if(g&&g.source===h)d=g.offset+g.source.length;else{const m=a[0].toUpperCase()+a.substring(1),w=u?`${m} must end with a ${h}`:`${m} in block collection must be sufficiently indented and end with a ${h}`;r(f,u?"MISSING_CHAR":"BAD_INDENT",w),g&&g.source.length!==1&&p.unshift(g)}if(p.length>0){const m=Tt(p,d,t.options.strict,r);m.comment&&(c.comment?c.comment+=`
+`+m.comment:c.comment=m.comment),c.range=[s.offset,d,m.offset]}else c.range=[s.offset,d,d];return c}function bs(n,e,t,s,r,i){const o=t.type==="block-map"?ul(n,e,t,s,i):t.type==="block-seq"?fl(n,e,t,s,i):hl(n,e,t,s,i),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function dl(n,e,t,s,r){const i=s?e.directives.tagName(s.source,f=>r(s,"TAG_RESOLVE_FAILED",f)):null,o=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!s||!i||i==="!"||i===oe.tagName&&o==="map"||i===Le.tagName&&o==="seq"||!o)return bs(n,e,t,r,i);let a=e.schema.tags.find(f=>f.tag===i&&f.collection===o);if(!a){const f=e.schema.knownTags[i];if(f&&f.collection===o)e.schema.tags.push(Object.assign({},f,{default:!1})),a=f;else return f?.collection?r(s,"BAD_COLLECTION_TYPE",`${f.tag} used for ${o} collection, but expects ${f.collection}`,!0):r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,!0),bs(n,e,t,r,i)}const l=bs(n,e,t,r,i,a),c=a.resolve?.(l,f=>r(s,"TAG_RESOLVE_FAILED",f),e.options)??l,u=G(c)?c:new L(c);return u.range=l.range,u.tag=i,a?.format&&(u.format=a.format),u}function vi(n,e,t){const s=n.offset,r=pl(n,e,t);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const i=r.mode===">"?L.BLOCK_FOLDED:L.BLOCK_LITERAL,o=n.source?gl(n.source):[];let a=o.length;for(let d=o.length-1;d>=0;--d){const m=o[d][1];if(m===""||m==="\r")a=d;else break}if(a===0){const d=r.chomp==="+"&&o.length>0?`
+`.repeat(Math.max(1,o.length-1)):"";let m=s+r.length;return n.source&&(m+=n.source.length),{value:d,type:i,comment:r.comment,range:[s,m,m]}}let l=n.indent+r.indent,c=n.offset+r.length,u=0;for(let d=0;d<a;++d){const[m,w]=o[d];if(w===""||w==="\r")r.indent===0&&m.length>l&&(l=m.length);else{if(m.length<l){const E="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";t(c+m.length,"MISSING_CHAR",E)}r.indent===0&&(l=m.length),u=d;break}c+=m.length+w.length+1}for(let d=o.length-1;d>=a;--d)o[d][0].length>l&&(a=d+1);let f="",h="",g=!1;for(let d=0;d<u;++d)f+=o[d][0].slice(l)+`
+`;for(let d=u;d<a;++d){let[m,w]=o[d];c+=m.length+w.length+1;const E=w[w.length-1]==="\r";if(E&&(w=w.slice(0,-1)),w&&m.length<l){const T=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;t(c-w.length-(E?2:1),"BAD_INDENT",T),m=""}i===L.BLOCK_LITERAL?(f+=h+m.slice(l)+w,h=`
+`):m.length>l||w[0]==="	"?(h===" "?h=`
+`:!g&&h===`
+`&&(h=`
+
+`),f+=h+m.slice(l)+w,h=`
+`,g=!0):w===""?h===`
+`?f+=`
+`:h=`
+`:(f+=h+w,h=" ",g=!1)}switch(r.chomp){case"-":break;case"+":for(let d=a;d<o.length;++d)f+=`
+`+o[d][0].slice(l);f[f.length-1]!==`
+`&&(f+=`
+`);break;default:f+=`
+`}const p=s+r.length+n.source.length;return{value:f,type:i,comment:r.comment,range:[s,p,p]}}function pl({offset:n,props:e},t,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],i=r[0];let o=0,a="",l=-1;for(let h=1;h<r.length;++h){const g=r[h];if(!a&&(g==="-"||g==="+"))a=g;else{const p=Number(g);!o&&p?o=p:l===-1&&(l=n+h)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let c=!1,u="",f=r.length;for(let h=1;h<e.length;++h){const g=e[h];switch(g.type){case"space":c=!0;case"newline":f+=g.source.length;break;case"comment":t&&!c&&s(g,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=g.source.length,u=g.source.substring(1);break;case"error":s(g,"UNEXPECTED_TOKEN",g.message),f+=g.source.length;break;default:{const p=`Unexpected token in block scalar header: ${g.type}`;s(g,"UNEXPECTED_TOKEN",p);const d=g.source;d&&typeof d=="string"&&(f+=d.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:f}}function gl(n){const e=n.split(/\n( *)/),t=e[0],s=t.match(/^( *)/),i=[s?.[1]?[s[1],t.slice(s[1].length)]:["",t]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function ki(n,e,t){const{offset:s,type:r,source:i,end:o}=n;let a,l;const c=(h,g,p)=>t(s+h,g,p);switch(r){case"scalar":a=L.PLAIN,l=ml(i,c);break;case"single-quoted-scalar":a=L.QUOTE_SINGLE,l=yl(i,c);break;case"double-quoted-scalar":a=L.QUOTE_DOUBLE,l=_l(i,c);break;default:return t(n,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const u=s+i.length,f=Tt(o,u,e,t);return{value:l,type:a,comment:f.comment,range:[s,u,f.offset]}}function ml(n,e){let t="";switch(n[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${n[0]}`;break}case"@":case"`":{t=`reserved character ${n[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),Oi(n)}function yl(n,e){return(n[n.length-1]!=="'"||n.length===1)&&e(n.length,"MISSING_CHAR","Missing closing 'quote"),Oi(n.slice(1,-1)).replace(/''/g,"'")}function Oi(n){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
+`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
+`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(n);if(!s)return n;let r=s[1],i=" ",o=e.lastIndex;for(t.lastIndex=o;s=t.exec(n);)s[1]===""?i===`
+`?r+=i:i=`
+`:(r+=i+s[1],i=" "),o=t.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(n),r+i+(s?.[1]??"")}function _l(n,e){let t="";for(let s=1;s<n.length-1;++s){const r=n[s];if(!(r==="\r"&&n[s+1]===`
+`))if(r===`
+`){const{fold:i,offset:o}=bl(n,s);t+=i,s=o}else if(r==="\\"){let i=n[++s];const o=Sl[i];if(o)t+=o;else if(i===`
+`)for(i=n[s+1];i===" "||i==="	";)i=n[++s+1];else if(i==="\r"&&n[s+1]===`
+`)for(i=n[++s+1];i===" "||i==="	";)i=n[++s+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];t+=wl(n,s+1,a,e),s+=a}else{const a=n.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),t+=a}}else if(r===" "||r==="	"){const i=s;let o=n[s+1];for(;o===" "||o==="	";)o=n[++s+1];o!==`
+`&&!(o==="\r"&&n[s+2]===`
+`)&&(t+=s>i?n.slice(i,s+1):r)}else t+=r}return(n[n.length-1]!=='"'||n.length===1)&&e(n.length,"MISSING_CHAR",'Missing closing "quote'),t}function bl(n,e){let t="",s=n[e+1];for(;(s===" "||s==="	"||s===`
+`||s==="\r")&&!(s==="\r"&&n[e+2]!==`
+`);)s===`
+`&&(t+=`
+`),e+=1,s=n[e+1];return t||(t=" "),{fold:t,offset:e}}const Sl={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
+`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function wl(n,e,t,s){const r=n.substr(e,t),o=r.length===t&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){const a=n.substr(e-2,t+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function $i(n,e,t,s){const{value:r,type:i,comment:o,range:a}=e.type==="block-scalar"?vi(e,n.options.strict,s):ki(e,n.options.strict,s),l=t?n.directives.tagName(t.source,f=>s(t,"TAG_RESOLVE_FAILED",f)):null,c=t&&l?El(n.schema,r,l,t,s):e.type==="scalar"?Al(n,r,e,s):n.schema[Pe];let u;try{const f=c.resolve(r,h=>s(t??e,"TAG_RESOLVE_FAILED",h),n.options);u=x(f)?f:new L(f)}catch(f){const h=f instanceof Error?f.message:String(f);s(t??e,"TAG_RESOLVE_FAILED",h),u=new L(r)}return u.range=a,u.source=r,i&&(u.type=i),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function El(n,e,t,s,r){if(t==="!")return n[Pe];const i=[];for(const a of n.tags)if(!a.collection&&a.tag===t)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if(a.test?.test(e))return a;const o=n.knownTags[t];return o&&!o.collection?(n.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),n[Pe])}function Al({directives:n,schema:e},t,s,r){const i=e.tags.find(o=>o.default&&o.test?.test(t))||e[Pe];if(e.compat){const o=e.compat.find(a=>a.default&&a.test?.test(t))??e[Pe];if(i.tag!==o.tag){const a=n.tagString(i.tag),l=n.tagString(o.tag),c=`Value may be parsed as either ${a} or ${l}`;r(s,"TAG_RESOLVE_FAILED",c,!0)}}return i}function vl(n,e,t){if(e){t===null&&(t=e.length);for(let s=t-1;s>=0;--s){let r=e[s];switch(r.type){case"space":case"comment":case"newline":n-=r.source.length;continue}for(r=e[++s];r?.type==="space";)n+=r.source.length,r=e[++s];break}}return n}const kl={composeNode:Ti,composeEmptyNode:Ss};function Ti(n,e,t,s){const{spaceBefore:r,comment:i,anchor:o,tag:a}=t;let l,c=!0;switch(e.type){case"alias":l=Ol(n,e,s),(o||a)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=$i(n,e,a,s),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=dl(kl,n,e,a,s),o&&(l.anchor=o.source.substring(1));break;default:{const u=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",u),l=Ss(n,e.offset,void 0,null,t,s),c=!1}}return o&&l.anchor===""&&s(o,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(l.spaceBefore=!0),i&&(e.type==="scalar"&&e.source===""?l.comment=i:l.commentBefore=i),n.options.keepSourceTokens&&c&&(l.srcToken=e),l}function Ss(n,e,t,s,{spaceBefore:r,comment:i,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:vl(e,t,s),indent:-1,source:""},f=$i(n,u,a,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(f.spaceBefore=!0),i&&(f.comment=i,f.range[2]=l),f}function Ol({options:n},{offset:e,source:t,end:s},r){const i=new wt(t.substring(1));i.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&r(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+t.length,a=Tt(s,o,n.strict,r);return i.range=[e,o,a.offset],a.comment&&(i.comment=a.comment),i}function $l(n,e,{offset:t,start:s,value:r,end:i},o){const a=Object.assign({_directives:e},n),l=new et(void 0,a),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=ut(s,{indicator:"doc-start",next:r??i?.[0],offset:t,onError:o,startOnNewline:!0});u.found&&(l.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?Ti(c,r,u,o):Ss(c,u.end,s,null,u,o);const f=l.contents.range[2],h=Tt(i,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[t,f,h.offset],l}function Rt(n){if(typeof n=="number")return[n,n+1];if(Array.isArray(n))return n.length===2?n:[n[0],n[1]];const{offset:e,source:t}=n;return[e,e+(typeof t=="string"?t.length:1)]}function Ri(n){let e="",t=!1,s=!1;for(let r=0;r<n.length;++r){const i=n[r];switch(i[0]){case"#":e+=(e===""?"":s?`
+
+`:`
+`)+(i.substring(1)||" "),t=!0,s=!1;break;case"%":n[r+1]?.[0]!=="#"&&(r+=1),t=!1;break;default:t||(s=!0),t=!1}}return{comment:e,afterEmptyLine:s}}class pn{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,s,r,i)=>{const o=Rt(t);i?this.warnings.push(new gs(o,s,r)):this.errors.push(new je(o,s,r))},this.directives=new re({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:s,afterEmptyLine:r}=Ri(this.prelude);if(s){const i=e.contents;if(t)e.comment=e.comment?`${e.comment}
+${s}`:s;else if(r||e.directives.docStart||!i)e.commentBefore=s;else if(K(i)&&!i.flow&&i.items.length>0){let o=i.items[0];H(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${s}
+${a}`:s}else{const o=i.commentBefore;i.commentBefore=o?`${s}
+${o}`:s}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Ri(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,s=-1){for(const r of e)yield*this.next(r);yield*this.end(t,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,s,r)=>{const i=Rt(e);i[0]+=t,this.onError(i,"BAD_DIRECTIVE",s,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=$l(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new je(Rt(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new je(Rt(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const t=Tt(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
+${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new je(Rt(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),r=new et(void 0,s);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,t,t],this.decorate(r,!1),yield r}}}function Tl(n,e=!0,t){if(n){const s=(r,i,o)=>{const a=typeof r=="number"?r:Array.isArray(r)?r[0]:r.offset;if(t)t(a,i,o);else throw new je([a,a+1],i,o)};switch(n.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return ki(n,e,s);case"block-scalar":return vi(n,e,s)}}return null}function Rl(n,e){const{implicitKey:t=!1,indent:s,inFlow:r=!1,offset:i=-1,type:o="PLAIN"}=e,a=kt({type:o,value:n},{implicitKey:t,indent:s>0?" ".repeat(s):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:s,source:`
+`}];switch(a[0]){case"|":case">":{const c=a.indexOf(`
+`),u=a.substring(0,c),f=a.substring(c+1)+`
+`,h=[{type:"block-scalar-header",offset:i,indent:s,source:u}];return Pi(h,l)||h.push({type:"newline",offset:-1,indent:s,source:`
+`}),{type:"block-scalar",offset:i,indent:s,props:h,source:f}}case'"':return{type:"double-quoted-scalar",offset:i,indent:s,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:i,indent:s,source:a,end:l};default:return{type:"scalar",offset:i,indent:s,source:a,end:l}}}function Pl(n,e,t={}){let{afterKey:s=!1,implicitKey:r=!1,inFlow:i=!1,type:o}=t,a="indent"in n?n.indent:null;if(s&&typeof a=="number"&&(a+=2),!o)switch(n.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const c=n.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=kt({type:o,value:e},{implicitKey:r||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Nl(n,l);break;case'"':ws(n,l,"double-quoted-scalar");break;case"'":ws(n,l,"single-quoted-scalar");break;default:ws(n,l,"scalar")}}function Nl(n,e){const t=e.indexOf(`
+`),s=e.substring(0,t),r=e.substring(t+1)+`
+`;if(n.type==="block-scalar"){const i=n.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=s,n.source=r}else{const{offset:i}=n,o="indent"in n?n.indent:-1,a=[{type:"block-scalar-header",offset:i,indent:o,source:s}];Pi(a,"end"in n?n.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
+`});for(const l of Object.keys(n))l!=="type"&&l!=="offset"&&delete n[l];Object.assign(n,{type:"block-scalar",indent:o,props:a,source:r})}}function Pi(n,e){if(e)for(const t of e)switch(t.type){case"space":case"comment":n.push(t);break;case"newline":return n.push(t),!0}return!1}function ws(n,e,t){switch(n.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":n.type=t,n.source=e;break;case"block-scalar":{const s=n.props.slice(1);let r=e.length;n.props[0].type==="block-scalar-header"&&(r-=n.props[0].source.length);for(const i of s)i.offset+=r;delete n.props,Object.assign(n,{type:t,source:e,end:s});break}case"block-map":case"block-seq":{const r={type:"newline",offset:n.offset+e.length,indent:n.indent,source:`
+`};delete n.items,Object.assign(n,{type:t,source:e,end:[r]});break}default:{const s="indent"in n?n.indent:-1,r="end"in n&&Array.isArray(n.end)?n.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(n))i!=="type"&&i!=="offset"&&delete n[i];Object.assign(n,{type:t,indent:s,source:e,end:r})}}}const Cl=n=>"type"in n?gn(n):mn(n);function gn(n){switch(n.type){case"block-scalar":{let e="";for(const t of n.props)e+=gn(t);return e+n.source}case"block-map":case"block-seq":{let e="";for(const t of n.items)e+=mn(t);return e}case"flow-collection":{let e=n.start.source;for(const t of n.items)e+=mn(t);for(const t of n.end)e+=t.source;return e}case"document":{let e=mn(n);if(n.end)for(const t of n.end)e+=t.source;return e}default:{let e=n.source;if("end"in n&&n.end)for(const t of n.end)e+=t.source;return e}}}function mn({start:n,key:e,sep:t,value:s}){let r="";for(const i of n)r+=i.source;if(e&&(r+=gn(e)),t)for(const i of t)r+=i.source;return s&&(r+=gn(s)),r}const Es=Symbol("break visit"),Ll=Symbol("skip children"),Ni=Symbol("remove item");function Qe(n,e){"type"in n&&n.type==="document"&&(n={start:n.start,value:n.value}),Ci(Object.freeze([]),n,e)}Qe.BREAK=Es,Qe.SKIP=Ll,Qe.REMOVE=Ni,Qe.itemAtPath=(n,e)=>{let t=n;for(const[s,r]of e){const i=t?.[s];if(i&&"items"in i)t=i.items[r];else return}return t},Qe.parentCollection=(n,e)=>{const t=Qe.itemAtPath(n,e.slice(0,-1)),s=e[e.length-1][0],r=t?.[s];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};function Ci(n,e,t){let s=t(e,n);if(typeof s=="symbol")return s;for(const r of["key","value"]){const i=e[r];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const a=Ci(Object.freeze(n.concat([[r,o]])),i.items[o],t);if(typeof a=="number")o=a-1;else{if(a===Es)return Es;a===Ni&&(i.items.splice(o,1),o-=1)}}typeof s=="function"&&r==="key"&&(s=s(e,n))}}return typeof s=="function"?s(e,n):s}const yn="\uFEFF",_n="",bn="",Pt="",Il=n=>!!n&&"items"in n,Ml=n=>!!n&&(n.type==="scalar"||n.type==="single-quoted-scalar"||n.type==="double-quoted-scalar"||n.type==="block-scalar");function Dl(n){switch(n){case yn:return"<BOM>";case _n:return"<DOC>";case bn:return"<FLOW_END>";case Pt:return"<SCALAR>";default:return JSON.stringify(n)}}function Li(n){switch(n){case yn:return"byte-order-mark";case _n:return"doc-mode";case bn:return"flow-error-end";case Pt:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
+`:case`\r
+`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(n[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}var Ii=Object.freeze({__proto__:null,BOM:yn,DOCUMENT:_n,FLOW_END:bn,SCALAR:Pt,createScalarToken:Rl,isCollection:Il,isScalar:Ml,prettyToken:Dl,resolveAsScalar:Tl,setScalarValue:Pl,stringify:Cl,tokenType:Li,visit:Qe});function de(n){switch(n){case void 0:case" ":case`
+`:case"\r":case"	":return!0;default:return!1}}const Mi="0123456789ABCDEFabcdef".split(""),xl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),As=",[]{}".split(""),Bl=` ,[]{}
+\r	`.split(""),vs=n=>!n||Bl.includes(n);class ks{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let s=this.next??"stream";for(;s&&(t||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
+`?!0:t==="\r"?this.buffer[e+1]===`
+`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let s=0;for(;t===" ";)t=this.buffer[++s+e];if(t==="\r"){const r=this.buffer[s+e+1];if(r===`
+`||!r&&!this.atEnd)return e+s+1}return t===`
+`||s>=this.indentNext||!t&&!this.atEnd?e+s:-1}if(t==="-"||t==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&de(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
+`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===yn&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length;const s=e.indexOf("#");if(s!==-1){const i=e[s-1];(i===" "||i==="	")&&(t=s-1)}for(;;){const i=e[t-1];if(i===" "||i==="	")t-=1;else break}const r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield _n,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if(t==="---"&&de(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&de(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!de(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&de(t)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(vs),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,s=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=s=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);const r=this.getLine();if(r===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&r[0]!=="#"||s===0&&(r.startsWith("---")||r.startsWith("..."))&&de(r[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield bn,yield*this.parseLineStart();let i=0;for(;r[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),r[i]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(vs),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||de(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let i=0;for(;this.buffer[t-1-i]==="\\";)i+=1;if(i%2===0)break;t=this.buffer.indexOf('"',t+1)}const s=this.buffer.substring(0,t);let r=s.indexOf(`
+`,this.pos);if(r!==-1){for(;r!==-1;){const i=this.continueScalar(r+1);if(i===-1)break;r=s.indexOf(`
+`,i)}r!==-1&&(t=r-(s[r-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>de(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,s;e:for(let r=this.pos;s=this.buffer[r];++r)switch(s){case" ":t+=1;break;case`
+`:e=r,t=0;break;case"\r":{const i=this.buffer[r+1];if(!i&&!this.atEnd)return this.setNext("block-scalar");if(i===`
+`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
+`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let r=e-1,i=this.buffer[r];i==="\r"&&(i=this.buffer[--r]);const o=r;for(;i===" "||i==="	";)i=this.buffer[--r];if(i===`
+`&&r>=this.pos&&r+1+t>o)e=r;else break}while(!0);return yield Pt,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,s=this.pos-1,r;for(;r=this.buffer[++s];)if(r===":"){const i=this.buffer[s+1];if(de(i)||e&&i===",")break;t=s}else if(de(r)){let i=this.buffer[s+1];if(r==="\r"&&(i===`
+`?(s+=1,r=`
+`,i=this.buffer[s+1]):t=s),i==="#"||e&&As.includes(i))break;if(r===`
+`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&As.includes(r))break;t=s}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield Pt,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(vs))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(de(t)||e&&As.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!de(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(xl.includes(t))t=this.buffer[++e];else if(t==="%"&&Mi.includes(this.buffer[e+1])&&Mi.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
+`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
+`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,s;do s=this.buffer[++t];while(s===" "||e&&s==="	");const r=t-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=t),r}*pushUntil(e){let t=this.pos,s=this.buffer[t];for(;!e(s);)s=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Os{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,s=this.lineStarts.length;for(;t<s;){const i=t+s>>1;this.lineStarts[i]<e?t=i+1:s=i}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const r=this.lineStarts[t-1];return{line:t,col:e-r+1}}}}function be(n,e){for(let t=0;t<n.length;++t)if(n[t].type===e)return!0;return!1}function Di(n){for(let e=0;e<n.length;++e)switch(n[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function xi(n){switch(n?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Sn(n){switch(n.type){case"document":return n.start;case"block-map":{const e=n.items[n.items.length-1];return e.sep??e.start}case"block-seq":return n.items[n.items.length-1].start;default:return[]}}function ft(n){if(n.length===0)return[];let e=n.length;e:for(;--e>=0;)switch(n[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;n[++e]?.type==="space";);return n.splice(e,n.length)}function Bi(n){if(n.start.type==="flow-seq-start")for(const e of n.items)e.sep&&!e.value&&!be(e.start,"explicit-key-ind")&&!be(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,xi(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class wn{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new ks,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,t))yield*this.next(s);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const t=Li(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(this.stack.length===0)yield t;else{const s=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in s?s.indent:0:t.type==="flow-collection"&&s.type==="document"&&(t.indent=0),t.type==="flow-collection"&&Bi(t),s.type){case"document":s.value=t;break;case"block-scalar":s.props.push(t);break;case"block-map":{const r=s.items[s.items.length-1];if(r.value){s.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=t;else{Object.assign(r,{key:t,sep:[]}),this.onKeyLine=!be(r.start,"explicit-key-ind");return}break}case"block-seq":{const r=s.items[s.items.length-1];r.value?s.items.push({start:[],value:t}):r.value=t;break}case"flow-collection":{const r=s.items[s.items.length-1];!r||r.value?s.items.push({start:[],key:t,sep:[]}):r.sep?r.value=t:Object.assign(r,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const r=t.items[t.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&Di(r.start)===-1&&(t.indent===0||r.start.every(i=>i.type!=="comment"||i.indent<t.indent))&&(s.type==="document"?s.end=r.start:s.items.push({start:r.start}),t.items.splice(-1,1))}}else{const s="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:s}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Di(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=Sn(this.peek(2)),s=ft(t);let r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
+`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
+`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const s="end"in t.value?t.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent&&t.sep;let r=[];if(s&&t.sep&&!t.value){const i=[];for(let o=0;o<t.sep.length;++o){const a=t.sep[o];switch(a.type){case"newline":i.push(o);break;case"space":break;case"comment":a.indent>e.indent&&(i.length=0);break;default:i.length=0}}i.length>=2&&(r=t.sep.splice(i[1]))}switch(this.type){case"anchor":case"tag":s||t.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!be(t.start,"explicit-key-ind")?t.start.push(this.sourceToken):s||t.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(be(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(be(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(xi(t.key)&&!be(t.sep,"newline")){const i=ft(t.start),o=t.key,a=t.sep;a.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:o,sep:a}]})}else r.length>0?t.sep=t.sep.concat(r,this.sourceToken):t.sep.push(this.sourceToken);else if(be(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const i=ft(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||s?e.items.push({start:r,key:null,sep:[this.sourceToken]}):be(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);s||t.value?(e.items.push({start:r,key:i,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(i):(Object.assign(t,{key:i,sep:[]}),this.onKeyLine=!0);return}default:{const i=this.startBlockValue(e);if(i){s&&i.type!=="block-seq"&&be(t.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(i);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const s="end"in t.value?t.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||be(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:r,sep:[]}):t.sep?this.stack.push(r):Object.assign(t,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const r=Sn(s),i=ft(r);Bi(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
+`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
+`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Sn(e),s=ft(t);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Sn(e),s=ft(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function ji(n){const e=n.prettyErrors!==!1;return{lineCounter:n.lineCounter||e&&new Os||null,prettyErrors:e}}function Fi(n,e={}){const{lineCounter:t,prettyErrors:s}=ji(e),r=new wn(t?.addNewLine),i=new pn(e),o=Array.from(i.compose(r.parse(n)));if(s&&t)for(const a of o)a.errors.forEach(dn(n,t)),a.warnings.forEach(dn(n,t));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function $s(n,e={}){const{lineCounter:t,prettyErrors:s}=ji(e),r=new wn(t?.addNewLine),i=new pn(e);let o=null;for(const a of i.compose(r.parse(n),!0,n.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new je(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&t&&(o.errors.forEach(dn(n,t)),o.warnings.forEach(dn(n,t))),o}function Hi(n,e,t){let s;typeof e=="function"?s=e:t===void 0&&e&&typeof e=="object"&&(t=e);const r=$s(n,t);if(!r)return null;if(r.warnings.forEach(i=>Zr(r.options.logLevel,i)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},t))}function Ki(n,e,t){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){const r=Math.round(t);t=r<1?void 0:r>8?{indent:8}:{indent:r}}if(n===void 0){const{keepUndefined:r}=t??e??{};if(!r)return}return new et(n,s,t).toString(t)}var jl=Object.freeze({__proto__:null,Alias:wt,CST:Ii,Composer:pn,Document:et,Lexer:ks,LineCounter:Os,Pair:Z,Parser:wn,Scalar:L,Schema:Ft,YAMLError:hn,YAMLMap:oe,YAMLParseError:je,YAMLSeq:Le,YAMLWarning:gs,isAlias:xe,isCollection:K,isDocument:Ve,isMap:Ge,isNode:G,isPair:H,isScalar:x,isSeq:We,parse:Hi,parseAllDocuments:Fi,parseDocument:$s,stringify:Ki,visit:Ne,visitAsync:St}),Fl=Object.freeze({__proto__:null,Alias:wt,CST:Ii,Composer:pn,Document:et,Lexer:ks,LineCounter:Os,Pair:Z,Parser:wn,Scalar:L,Schema:Ft,YAMLError:hn,YAMLMap:oe,YAMLParseError:je,YAMLSeq:Le,YAMLWarning:gs,default:jl,isAlias:xe,isCollection:K,isDocument:Ve,isMap:Ge,isNode:G,isPair:H,isScalar:x,isSeq:We,parse:Hi,parseAllDocuments:Fi,parseDocument:$s,stringify:Ki,visit:Ne,visitAsync:St}),Hl=_a(Fl),ee={},V={},ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.splitWhen=ht.flatten=void 0;function Kl(n){return n.reduce((e,t)=>[].concat(e,t),[])}ht.flatten=Kl;function Ul(n,e){const t=[[]];let s=0;for(const r of n)e(r)?(s++,t[s]=[]):t[s].push(r);return t}ht.splitWhen=Ul;var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.isEnoentCodeError=void 0;function ql(n){return n.code==="ENOENT"}En.isEnoentCodeError=ql;var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.createDirentFromStats=void 0;let Vl=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};function Gl(n,e){return new Vl(n,e)}An.createDirentFromStats=Gl;var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.convertPosixPathToPattern=Y.convertWindowsPathToPattern=Y.convertPathToPattern=Y.escapePosixPath=Y.escapeWindowsPath=Y.escape=Y.removeLeadingDotSegment=Y.makeAbsolute=Y.unixify=void 0;const Wl=Gn,Yl=ve,Ui=Wl.platform()==="win32",Ql=2,Jl=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,Xl=/(\\?)([(){}]|^!|[!+@](?=\())/g,zl=/^\\\\([.?])/,Zl=/\\(?![!()+@{}])/g;function ec(n){return n.replace(/\\/g,"/")}Y.unixify=ec;function tc(n,e){return Yl.resolve(n,e)}Y.makeAbsolute=tc;function nc(n){if(n.charAt(0)==="."){const e=n.charAt(1);if(e==="/"||e==="\\")return n.slice(Ql)}return n}Y.removeLeadingDotSegment=nc,Y.escape=Ui?Ts:Rs;function Ts(n){return n.replace(Xl,"\\$2")}Y.escapeWindowsPath=Ts;function Rs(n){return n.replace(Jl,"\\$2")}Y.escapePosixPath=Rs,Y.convertPathToPattern=Ui?qi:Vi;function qi(n){return Ts(n).replace(zl,"//$1").replace(Zl,"/")}Y.convertWindowsPathToPattern=qi;function Vi(n){return Rs(n)}Y.convertPosixPathToPattern=Vi;var N={};/*!
+ * is-extglob <https://github.com/jonschlinkert/is-extglob>
+ *
+ * Copyright (c) 2014-2016, Jon Schlinkert.
+ * Licensed under the MIT License.
+ */var sc=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1};/*!
+ * is-glob <https://github.com/jonschlinkert/is-glob>
+ *
+ * Copyright (c) 2014-2017, Jon Schlinkert.
+ * Released under the MIT License.
+ */var rc=sc,Gi={"{":"}","(":")","[":"]"},ic=function(n){if(n[0]==="!")return!0;for(var e=0,t=-2,s=-2,r=-2,i=-2,o=-2;e<n.length;){if(n[e]==="*"||n[e+1]==="?"&&/[\].+)]/.test(n[e])||s!==-1&&n[e]==="["&&n[e+1]!=="]"&&(s<e&&(s=n.indexOf("]",e)),s>e&&(o===-1||o>s||(o=n.indexOf("\\",e),o===-1||o>s)))||r!==-1&&n[e]==="{"&&n[e+1]!=="}"&&(r=n.indexOf("}",e),r>e&&(o=n.indexOf("\\",e),o===-1||o>r))||i!==-1&&n[e]==="("&&n[e+1]==="?"&&/[:!=]/.test(n[e+2])&&n[e+3]!==")"&&(i=n.indexOf(")",e),i>e&&(o=n.indexOf("\\",e),o===-1||o>i))||t!==-1&&n[e]==="("&&n[e+1]!=="|"&&(t<e&&(t=n.indexOf("|",e)),t!==-1&&n[t+1]!==")"&&(i=n.indexOf(")",t),i>t&&(o=n.indexOf("\\",t),o===-1||o>i))))return!0;if(n[e]==="\\"){var a=n[e+1];e+=2;var l=Gi[a];if(l){var c=n.indexOf(l,e);c!==-1&&(e=c+1)}if(n[e]==="!")return!0}else e++}return!1},oc=function(n){if(n[0]==="!")return!0;for(var e=0;e<n.length;){if(/[*?{}()[\]]/.test(n[e]))return!0;if(n[e]==="\\"){var t=n[e+1];e+=2;var s=Gi[t];if(s){var r=n.indexOf(s,e);r!==-1&&(e=r+1)}if(n[e]==="!")return!0}else e++}return!1},ac=function(e,t){if(typeof e!="string"||e==="")return!1;if(rc(e))return!0;var s=ic;return t&&t.strict===!1&&(s=oc),s(e)},lc=ac,cc=ve.posix.dirname,uc=Gn.platform()==="win32",Ps="/",fc=/\\/g,hc=/[\{\[].*[\}\]]$/,dc=/(^|[^\\])([\{\[]|\([^\)]+$)/,pc=/\\([\!\*\?\|\[\]\(\)\{\}])/g,gc=function(e,t){var s=Object.assign({flipBackslashes:!0},t);s.flipBackslashes&&uc&&e.indexOf(Ps)<0&&(e=e.replace(fc,Ps)),hc.test(e)&&(e+=Ps),e+="a";do e=cc(e);while(lc(e)||dc.test(e));return e.replace(pc,"$1")},vn={};(function(n){n.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1,n.find=(e,t)=>e.nodes.find(s=>s.type===t),n.exceedsLimit=(e,t,s=1,r)=>r===!1||!n.isInteger(e)||!n.isInteger(t)?!1:(Number(t)-Number(e))/Number(s)>=r,n.escapeNode=(e,t=0,s)=>{let r=e.nodes[t];r&&(s&&r.type===s||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)},n.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0),n.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1,n.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0,n.reduce=e=>e.reduce((t,s)=>(s.type==="text"&&t.push(s.value),s.type==="range"&&(s.type="text"),t),[]),n.flatten=(...e)=>{const t=[],s=r=>{for(let i=0;i<r.length;i++){let o=r[i];Array.isArray(o)?s(o):o!==void 0&&t.push(o)}return t};return s(e),t}})(vn);const Wi=vn;var Ns=(n,e={})=>{let t=(s,r={})=>{let i=e.escapeInvalid&&Wi.isInvalidBrace(r),o=s.invalid===!0&&e.escapeInvalid===!0,a="";if(s.value)return(i||o)&&Wi.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let l of s.nodes)a+=t(l);return a};return t(n)};/*!
+ * is-number <https://github.com/jonschlinkert/is-number>
+ *
+ * Copyright (c) 2014-present, Jon Schlinkert.
+ * Released under the MIT License.
+ */var mc=function(n){return typeof n=="number"?n-n===0:typeof n=="string"&&n.trim()!==""?Number.isFinite?Number.isFinite(+n):isFinite(+n):!1};/*!
+ * to-regex-range <https://github.com/micromatch/to-regex-range>
+ *
+ * Copyright (c) 2015-present, Jon Schlinkert.
+ * Released under the MIT License.
+ */const Yi=mc,Je=(n,e,t)=>{if(Yi(n)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||n===e)return String(n);if(Yi(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...t};typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let r=String(s.relaxZeros),i=String(s.shorthand),o=String(s.capture),a=String(s.wrap),l=n+":"+e+"="+r+i+o+a;if(Je.cache.hasOwnProperty(l))return Je.cache[l].result;let c=Math.min(n,e),u=Math.max(n,e);if(Math.abs(c-u)===1){let d=n+"|"+e;return s.capture?`(${d})`:s.wrap===!1?d:`(?:${d})`}let f=eo(n)||eo(e),h={min:n,max:e,a:c,b:u},g=[],p=[];if(f&&(h.isPadded=f,h.maxLen=String(h.max).length),c<0){let d=u<0?Math.abs(u):1;p=Qi(d,Math.abs(c),h,s),c=h.a=0}return u>=0&&(g=Qi(c,u,h,s)),h.negatives=p,h.positives=g,h.result=yc(p,g),s.capture===!0?h.result=`(${h.result})`:s.wrap!==!1&&g.length+p.length>1&&(h.result=`(?:${h.result})`),Je.cache[l]=h,h.result};function yc(n,e,t){let s=Cs(n,e,"-",!1)||[],r=Cs(e,n,"",!1)||[],i=Cs(n,e,"-?",!0)||[];return s.concat(i).concat(r).join("|")}function _c(n,e){let t=1,s=1,r=Xi(n,t),i=new Set([e]);for(;n<=r&&r<=e;)i.add(r),t+=1,r=Xi(n,t);for(r=zi(e+1,s)-1;n<r&&r<=e;)i.add(r),s+=1,r=zi(e+1,s)-1;return i=[...i],i.sort(wc),i}function bc(n,e,t){if(n===e)return{pattern:n,count:[],digits:0};let s=Sc(n,e),r=s.length,i="",o=0;for(let a=0;a<r;a++){let[l,c]=s[a];l===c?i+=l:l!=="0"||c!=="9"?i+=Ec(l,c):o++}return o&&(i+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:i,count:[o],digits:r}}function Qi(n,e,t,s){let r=_c(n,e),i=[],o=n,a;for(let l=0;l<r.length;l++){let c=r[l],u=bc(String(o),String(c),s),f="";if(!t.isPadded&&a&&a.pattern===u.pattern){a.count.length>1&&a.count.pop(),a.count.push(u.count[0]),a.string=a.pattern+Zi(a.count),o=c+1;continue}t.isPadded&&(f=Ac(c,t,s)),u.string=f+u.pattern+Zi(u.count),i.push(u),o=c+1,a=u}return i}function Cs(n,e,t,s,r){let i=[];for(let o of n){let{string:a}=o;!s&&!Ji(e,"string",a)&&i.push(t+a),s&&Ji(e,"string",a)&&i.push(t+a)}return i}function Sc(n,e){let t=[];for(let s=0;s<n.length;s++)t.push([n[s],e[s]]);return t}function wc(n,e){return n>e?1:e>n?-1:0}function Ji(n,e,t){return n.some(s=>s[e]===t)}function Xi(n,e){return Number(String(n).slice(0,-e)+"9".repeat(e))}function zi(n,e){return n-n%Math.pow(10,e)}function Zi(n){let[e=0,t=""]=n;return t||e>1?`{${e+(t?","+t:"")}}`:""}function Ec(n,e,t){return`[${n}${e-n===1?"":"-"}${e}]`}function eo(n){return/^-?(0+)\d/.test(n)}function Ac(n,e,t){if(!e.isPadded)return n;let s=Math.abs(e.maxLen-String(n).length),r=t.relaxZeros!==!1;switch(s){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${s}}`:`0{${s}}`}}Je.cache={},Je.clearCache=()=>Je.cache={};var vc=Je;/*!
+ * fill-range <https://github.com/jonschlinkert/fill-range>
+ *
+ * Copyright (c) 2014-present, Jon Schlinkert.
+ * Licensed under the MIT License.
+ */const kc=Tr,to=vc,no=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),Oc=n=>e=>n===!0?Number(e):String(e),Ls=n=>typeof n=="number"||typeof n=="string"&&n!=="",Nt=n=>Number.isInteger(+n),Is=n=>{let e=`${n}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},$c=(n,e,t)=>typeof n=="string"||typeof e=="string"?!0:t.stringify===!0,Tc=(n,e,t)=>{if(e>0){let s=n[0]==="-"?"-":"";s&&(n=n.slice(1)),n=s+n.padStart(s?e-1:e,"0")}return t===!1?String(n):n},so=(n,e)=>{let t=n[0]==="-"?"-":"";for(t&&(n=n.slice(1),e--);n.length<e;)n="0"+n;return t?"-"+n:n},Rc=(n,e)=>{n.negatives.sort((o,a)=>o<a?-1:o>a?1:0),n.positives.sort((o,a)=>o<a?-1:o>a?1:0);let t=e.capture?"":"?:",s="",r="",i;return n.positives.length&&(s=n.positives.join("|")),n.negatives.length&&(r=`-(${t}${n.negatives.join("|")})`),s&&r?i=`${s}|${r}`:i=s||r,e.wrap?`(${t}${i})`:i},ro=(n,e,t,s)=>{if(t)return to(n,e,{wrap:!1,...s});let r=String.fromCharCode(n);if(n===e)return r;let i=String.fromCharCode(e);return`[${r}-${i}]`},io=(n,e,t)=>{if(Array.isArray(n)){let s=t.wrap===!0,r=t.capture?"":"?:";return s?`(${r}${n.join("|")})`:n.join("|")}return to(n,e,t)},oo=(...n)=>new RangeError("Invalid range arguments: "+kc.inspect(...n)),ao=(n,e,t)=>{if(t.strictRanges===!0)throw oo([n,e]);return[]},Pc=(n,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${n}" to be a number`);return[]},Nc=(n,e,t=1,s={})=>{let r=Number(n),i=Number(e);if(!Number.isInteger(r)||!Number.isInteger(i)){if(s.strictRanges===!0)throw oo([n,e]);return[]}r===0&&(r=0),i===0&&(i=0);let o=r>i,a=String(n),l=String(e),c=String(t);t=Math.max(Math.abs(t),1);let u=Is(a)||Is(l)||Is(c),f=u?Math.max(a.length,l.length,c.length):0,h=u===!1&&$c(n,e,s)===!1,g=s.transform||Oc(h);if(s.toRegex&&t===1)return ro(so(n,f),so(e,f),!0,s);let p={negatives:[],positives:[]},d=E=>p[E<0?"negatives":"positives"].push(Math.abs(E)),m=[],w=0;for(;o?r>=i:r<=i;)s.toRegex===!0&&t>1?d(r):m.push(Tc(g(r,w),f,h)),r=o?r-t:r+t,w++;return s.toRegex===!0?t>1?Rc(p,s):io(m,null,{wrap:!1,...s}):m},Cc=(n,e,t=1,s={})=>{if(!Nt(n)&&n.length>1||!Nt(e)&&e.length>1)return ao(n,e,s);let r=s.transform||(h=>String.fromCharCode(h)),i=`${n}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=i>o,l=Math.min(i,o),c=Math.max(i,o);if(s.toRegex&&t===1)return ro(l,c,!1,s);let u=[],f=0;for(;a?i>=o:i<=o;)u.push(r(i,f)),i=a?i-t:i+t,f++;return s.toRegex===!0?io(u,null,{wrap:!1,options:s}):u},kn=(n,e,t,s={})=>{if(e==null&&Ls(n))return[n];if(!Ls(n)||!Ls(e))return ao(n,e,s);if(typeof t=="function")return kn(n,e,1,{transform:t});if(no(t))return kn(n,e,0,t);let r={...s};return r.capture===!0&&(r.wrap=!0),t=t||r.step||1,Nt(t)?Nt(n)&&Nt(e)?Nc(n,e,t,r):Cc(n,e,Math.max(Math.abs(t),1),r):t!=null&&!no(t)?Pc(t,r):kn(n,e,1,t)};var lo=kn;const Lc=lo,co=vn,Ic=(n,e={})=>{let t=(s,r={})=>{let i=co.isInvalidBrace(r),o=s.invalid===!0&&e.escapeInvalid===!0,a=i===!0||o===!0,l=e.escapeInvalid===!0?"\\":"",c="";if(s.isOpen===!0||s.isClose===!0)return l+s.value;if(s.type==="open")return a?l+s.value:"(";if(s.type==="close")return a?l+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":a?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let u=co.reduce(s.nodes),f=Lc(...u,{...e,wrap:!1,toRegex:!0});if(f.length!==0)return u.length>1&&f.length>1?`(${f})`:f}if(s.nodes)for(let u of s.nodes)c+=t(u,s);return c};return t(n)};var Mc=Ic;const Dc=lo,uo=Ns,dt=vn,Xe=(n="",e="",t=!1)=>{let s=[];if(n=[].concat(n),e=[].concat(e),!e.length)return n;if(!n.length)return t?dt.flatten(e).map(r=>`{${r}}`):e;for(let r of n)if(Array.isArray(r))for(let i of r)s.push(Xe(i,e,t));else for(let i of e)t===!0&&typeof i=="string"&&(i=`{${i}}`),s.push(Array.isArray(i)?Xe(r,i,t):r+i);return dt.flatten(s)},xc=(n,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,s=(r,i={})=>{r.queue=[];let o=i,a=i.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(r.invalid||r.dollar){a.push(Xe(a.pop(),uo(r,e)));return}if(r.type==="brace"&&r.invalid!==!0&&r.nodes.length===2){a.push(Xe(a.pop(),["{}"]));return}if(r.nodes&&r.ranges>0){let f=dt.reduce(r.nodes);if(dt.exceedsLimit(...f,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let h=Dc(...f,e);h.length===0&&(h=uo(r,e)),a.push(Xe(a.pop(),h)),r.nodes=[];return}let l=dt.encloseBrace(r),c=r.queue,u=r;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,c=u.queue;for(let f=0;f<r.nodes.length;f++){let h=r.nodes[f];if(h.type==="comma"&&r.type==="brace"){f===1&&c.push(""),c.push("");continue}if(h.type==="close"){a.push(Xe(a.pop(),c,l));continue}if(h.value&&h.type!=="open"){c.push(Xe(c.pop(),h.value));continue}h.nodes&&s(h,r)}return c};return dt.flatten(s(n))};var Bc=xc,jc={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
+`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const Fc=Ns,{MAX_LENGTH:fo,CHAR_BACKSLASH:Ms,CHAR_BACKTICK:Hc,CHAR_COMMA:Kc,CHAR_DOT:Uc,CHAR_LEFT_PARENTHESES:qc,CHAR_RIGHT_PARENTHESES:Vc,CHAR_LEFT_CURLY_BRACE:Gc,CHAR_RIGHT_CURLY_BRACE:Wc,CHAR_LEFT_SQUARE_BRACKET:ho,CHAR_RIGHT_SQUARE_BRACKET:po,CHAR_DOUBLE_QUOTE:Yc,CHAR_SINGLE_QUOTE:Qc,CHAR_NO_BREAK_SPACE:Jc,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Xc}=jc,zc=(n,e={})=>{if(typeof n!="string")throw new TypeError("Expected a string");let t=e||{},s=typeof t.maxLength=="number"?Math.min(fo,t.maxLength):fo;if(n.length>s)throw new SyntaxError(`Input length (${n.length}), exceeds max characters (${s})`);let r={type:"root",input:n,nodes:[]},i=[r],o=r,a=r,l=0,c=n.length,u=0,f=0,h;const g=()=>n[u++],p=d=>{if(d.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&d.type==="text"){a.value+=d.value;return}return o.nodes.push(d),d.parent=o,d.prev=a,a=d,d};for(p({type:"bos"});u<c;)if(o=i[i.length-1],h=g(),!(h===Xc||h===Jc)){if(h===Ms){p({type:"text",value:(e.keepEscaping?h:"")+g()});continue}if(h===po){p({type:"text",value:"\\"+h});continue}if(h===ho){l++;let d;for(;u<c&&(d=g());){if(h+=d,d===ho){l++;continue}if(d===Ms){h+=g();continue}if(d===po&&(l--,l===0))break}p({type:"text",value:h});continue}if(h===qc){o=p({type:"paren",nodes:[]}),i.push(o),p({type:"text",value:h});continue}if(h===Vc){if(o.type!=="paren"){p({type:"text",value:h});continue}o=i.pop(),p({type:"text",value:h}),o=i[i.length-1];continue}if(h===Yc||h===Qc||h===Hc){let d=h,m;for(e.keepQuotes!==!0&&(h="");u<c&&(m=g());){if(m===Ms){h+=m+g();continue}if(m===d){e.keepQuotes===!0&&(h+=m);break}h+=m}p({type:"text",value:h});continue}if(h===Gc){f++;let m={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};o=p(m),i.push(o),p({type:"open",value:h});continue}if(h===Wc){if(o.type!=="brace"){p({type:"text",value:h});continue}let d="close";o=i.pop(),o.close=!0,p({type:d,value:h}),f--,o=i[i.length-1];continue}if(h===Kc&&f>0){if(o.ranges>0){o.ranges=0;let d=o.nodes.shift();o.nodes=[d,{type:"text",value:Fc(o)}]}p({type:"comma",value:h}),o.commas++;continue}if(h===Uc&&f>0&&o.commas===0){let d=o.nodes;if(f===0||d.length===0){p({type:"text",value:h});continue}if(a.type==="dot"){if(o.range=[],a.value+=h,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){d.pop();let m=d[d.length-1];m.value+=a.value+h,a=m,o.ranges--;continue}p({type:"dot",value:h});continue}p({type:"text",value:h})}do if(o=i.pop(),o.type!=="root"){o.nodes.forEach(w=>{w.nodes||(w.type==="open"&&(w.isOpen=!0),w.type==="close"&&(w.isClose=!0),w.nodes||(w.type="text"),w.invalid=!0)});let d=i[i.length-1],m=d.nodes.indexOf(o);d.nodes.splice(m,1,...o.nodes)}while(i.length>0);return p({type:"eos"}),r};var Zc=zc;const go=Ns,eu=Mc,tu=Bc,nu=Zc,le=(n,e={})=>{let t=[];if(Array.isArray(n))for(let s of n){let r=le.create(s,e);Array.isArray(r)?t.push(...r):t.push(r)}else t=[].concat(le.create(n,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};le.parse=(n,e={})=>nu(n,e),le.stringify=(n,e={})=>go(typeof n=="string"?le.parse(n,e):n,e),le.compile=(n,e={})=>(typeof n=="string"&&(n=le.parse(n,e)),eu(n,e)),le.expand=(n,e={})=>{typeof n=="string"&&(n=le.parse(n,e));let t=tu(n,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t},le.create=(n,e={})=>n===""||n.length<3?[n]:e.expand!==!0?le.compile(n,e):le.expand(n,e);var su=le,Ct={};const ru=ve,Oe="\\\\/",mo=`[^${Oe}]`,Ie="\\.",iu="\\+",ou="\\?",On="\\/",au="(?=.)",yo="[^/]",Ds=`(?:${On}|$)`,_o=`(?:^|${On})`,xs=`${Ie}{1,2}${Ds}`,lu=`(?!${Ie})`,cu=`(?!${_o}${xs})`,uu=`(?!${Ie}{0,1}${Ds})`,fu=`(?!${xs})`,hu=`[^.${On}]`,du=`${yo}*?`,bo={DOT_LITERAL:Ie,PLUS_LITERAL:iu,QMARK_LITERAL:ou,SLASH_LITERAL:On,ONE_CHAR:au,QMARK:yo,END_ANCHOR:Ds,DOTS_SLASH:xs,NO_DOT:lu,NO_DOTS:cu,NO_DOT_SLASH:uu,NO_DOTS_SLASH:fu,QMARK_NO_DOT:hu,STAR:du,START_ANCHOR:_o},pu={...bo,SLASH_LITERAL:`[${Oe}]`,QMARK:mo,STAR:`${mo}*?`,DOTS_SLASH:`${Ie}{1,2}(?:[${Oe}]|$)`,NO_DOT:`(?!${Ie})`,NO_DOTS:`(?!(?:^|[${Oe}])${Ie}{1,2}(?:[${Oe}]|$))`,NO_DOT_SLASH:`(?!${Ie}{0,1}(?:[${Oe}]|$))`,NO_DOTS_SLASH:`(?!${Ie}{1,2}(?:[${Oe}]|$))`,QMARK_NO_DOT:`[^.${Oe}]`,START_ANCHOR:`(?:^|[${Oe}])`,END_ANCHOR:`(?:[${Oe}]|$)`},gu={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var $n={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:gu,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:ru.sep,extglobChars(n){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${n.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(n){return n===!0?pu:bo}};(function(n){const e=ve,t=process.platform==="win32",{REGEX_BACKSLASH:s,REGEX_REMOVE_BACKSLASH:r,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:o}=$n;n.isObject=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n.hasRegexChars=a=>i.test(a),n.isRegexChar=a=>a.length===1&&n.hasRegexChars(a),n.escapeRegex=a=>a.replace(o,"\\$1"),n.toPosixSlashes=a=>a.replace(s,"/"),n.removeBackslashes=a=>a.replace(r,l=>l==="\\"?"":l),n.supportsLookbehinds=()=>{const a=process.version.slice(1).split(".").map(Number);return a.length===3&&a[0]>=9||a[0]===8&&a[1]>=10},n.isWindows=a=>a&&typeof a.windows=="boolean"?a.windows:t===!0||e.sep==="\\",n.escapeLast=(a,l,c)=>{const u=a.lastIndexOf(l,c);return u===-1?a:a[u-1]==="\\"?n.escapeLast(a,l,u-1):`${a.slice(0,u)}\\${a.slice(u)}`},n.removePrefix=(a,l={})=>{let c=a;return c.startsWith("./")&&(c=c.slice(2),l.prefix="./"),c},n.wrapOutput=(a,l={},c={})=>{const u=c.contains?"":"^",f=c.contains?"":"$";let h=`${u}(?:${a})${f}`;return l.negated===!0&&(h=`(?:^(?!${h}).*$)`),h}})(Ct);const So=Ct,{CHAR_ASTERISK:Bs,CHAR_AT:mu,CHAR_BACKWARD_SLASH:Lt,CHAR_COMMA:yu,CHAR_DOT:js,CHAR_EXCLAMATION_MARK:Fs,CHAR_FORWARD_SLASH:wo,CHAR_LEFT_CURLY_BRACE:Hs,CHAR_LEFT_PARENTHESES:Ks,CHAR_LEFT_SQUARE_BRACKET:_u,CHAR_PLUS:bu,CHAR_QUESTION_MARK:Eo,CHAR_RIGHT_CURLY_BRACE:Su,CHAR_RIGHT_PARENTHESES:Ao,CHAR_RIGHT_SQUARE_BRACKET:wu}=$n,vo=n=>n===wo||n===Lt,ko=n=>{n.isPrefix!==!0&&(n.depth=n.isGlobstar?1/0:1)},Eu=(n,e)=>{const t=e||{},s=n.length-1,r=t.parts===!0||t.scanToEnd===!0,i=[],o=[],a=[];let l=n,c=-1,u=0,f=0,h=!1,g=!1,p=!1,d=!1,m=!1,w=!1,E=!1,k=!1,T=!1,A=!1,S=0,R,$,P={value:"",depth:0,isGlob:!1};const B=()=>c>=s,b=()=>l.charCodeAt(c+1),C=()=>(R=$,l.charCodeAt(++c));for(;c<s;){$=C();let te;if($===Lt){E=P.backslashes=!0,$=C(),$===Hs&&(w=!0);continue}if(w===!0||$===Hs){for(S++;B()!==!0&&($=C());){if($===Lt){E=P.backslashes=!0,C();continue}if($===Hs){S++;continue}if(w!==!0&&$===js&&($=C())===js){if(h=P.isBrace=!0,p=P.isGlob=!0,A=!0,r===!0)continue;break}if(w!==!0&&$===yu){if(h=P.isBrace=!0,p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===Su&&(S--,S===0)){w=!1,h=P.isBrace=!0,A=!0;break}}if(r===!0)continue;break}if($===wo){if(i.push(c),o.push(P),P={value:"",depth:0,isGlob:!1},A===!0)continue;if(R===js&&c===u+1){u+=2;continue}f=c+1;continue}if(t.noext!==!0&&($===bu||$===mu||$===Bs||$===Eo||$===Fs)===!0&&b()===Ks){if(p=P.isGlob=!0,d=P.isExtglob=!0,A=!0,$===Fs&&c===u&&(T=!0),r===!0){for(;B()!==!0&&($=C());){if($===Lt){E=P.backslashes=!0,$=C();continue}if($===Ao){p=P.isGlob=!0,A=!0;break}}continue}break}if($===Bs){if(R===Bs&&(m=P.isGlobstar=!0),p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===Eo){if(p=P.isGlob=!0,A=!0,r===!0)continue;break}if($===_u){for(;B()!==!0&&(te=C());){if(te===Lt){E=P.backslashes=!0,C();continue}if(te===wu){g=P.isBracket=!0,p=P.isGlob=!0,A=!0;break}}if(r===!0)continue;break}if(t.nonegate!==!0&&$===Fs&&c===u){k=P.negated=!0,u++;continue}if(t.noparen!==!0&&$===Ks){if(p=P.isGlob=!0,r===!0){for(;B()!==!0&&($=C());){if($===Ks){E=P.backslashes=!0,$=C();continue}if($===Ao){A=!0;break}}continue}break}if(p===!0){if(A=!0,r===!0)continue;break}}t.noext===!0&&(d=!1,p=!1);let j=l,Me="",y="";u>0&&(Me=l.slice(0,u),l=l.slice(u),f-=u),j&&p===!0&&f>0?(j=l.slice(0,f),y=l.slice(f)):p===!0?(j="",y=l):j=l,j&&j!==""&&j!=="/"&&j!==l&&vo(j.charCodeAt(j.length-1))&&(j=j.slice(0,-1)),t.unescape===!0&&(y&&(y=So.removeBackslashes(y)),j&&E===!0&&(j=So.removeBackslashes(j)));const _={prefix:Me,input:n,start:u,base:j,glob:y,isBrace:h,isBracket:g,isGlob:p,isExtglob:d,isGlobstar:m,negated:k,negatedExtglob:T};if(t.tokens===!0&&(_.maxDepth=0,vo($)||o.push(P),_.tokens=o),t.parts===!0||t.tokens===!0){let te;for(let D=0;D<i.length;D++){const Ee=te?te+1:u,Ae=i[D],ae=n.slice(Ee,Ae);t.tokens&&(D===0&&u!==0?(o[D].isPrefix=!0,o[D].value=Me):o[D].value=ae,ko(o[D]),_.maxDepth+=o[D].depth),(D!==0||ae!=="")&&a.push(ae),te=Ae}if(te&&te+1<n.length){const D=n.slice(te+1);a.push(D),t.tokens&&(o[o.length-1].value=D,ko(o[o.length-1]),_.maxDepth+=o[o.length-1].depth)}_.slashes=i,_.parts=a}return _};var Au=Eu;const Tn=$n,ce=Ct,{MAX_LENGTH:Rn,POSIX_REGEX_SOURCE:vu,REGEX_NON_SPECIAL_CHARS:ku,REGEX_SPECIAL_CHARS_BACKREF:Ou,REPLACEMENTS:Oo}=Tn,$u=(n,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...n,e);n.sort();const t=`[${n.join("-")}]`;try{new RegExp(t)}catch{return n.map(r=>ce.escapeRegex(r)).join("..")}return t},pt=(n,e)=>`Missing ${n}: "${e}" - use "\\\\${e}" to match literal characters`,Us=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");n=Oo[n]||n;const t={...e},s=typeof t.maxLength=="number"?Math.min(Rn,t.maxLength):Rn;let r=n.length;if(r>s)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${s}`);const i={type:"bos",value:"",output:t.prepend||""},o=[i],a=t.capture?"":"?:",l=ce.isWindows(e),c=Tn.globChars(l),u=Tn.extglobChars(c),{DOT_LITERAL:f,PLUS_LITERAL:h,SLASH_LITERAL:g,ONE_CHAR:p,DOTS_SLASH:d,NO_DOT:m,NO_DOT_SLASH:w,NO_DOTS_SLASH:E,QMARK:k,QMARK_NO_DOT:T,STAR:A,START_ANCHOR:S}=c,R=O=>`(${a}(?:(?!${S}${O.dot?d:f}).)*?)`,$=t.dot?"":m,P=t.dot?k:T;let B=t.bash===!0?R(t):A;t.capture&&(B=`(${B})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);const b={input:n,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};n=ce.removePrefix(n,b),r=n.length;const C=[],j=[],Me=[];let y=i,_;const te=()=>b.index===r-1,D=b.peek=(O=1)=>n[b.index+O],Ee=b.advance=()=>n[++b.index]||"",Ae=()=>n.slice(b.index+1),ae=(O="",F=0)=>{b.consumed+=O,b.index+=F},Ht=O=>{b.output+=O.output!=null?O.output:O.value,ae(O.value)},ha=()=>{let O=1;for(;D()==="!"&&(D(2)!=="("||D(3)==="?");)Ee(),b.start++,O++;return O%2===0?!1:(b.negated=!0,b.start++,!0)},Kt=O=>{b[O]++,Me.push(O)},Ue=O=>{b[O]--,Me.pop()},M=O=>{if(y.type==="globstar"){const F=b.braces>0&&(O.type==="comma"||O.type==="brace"),v=O.extglob===!0||C.length&&(O.type==="pipe"||O.type==="paren");O.type!=="slash"&&O.type!=="paren"&&!F&&!v&&(b.output=b.output.slice(0,-y.output.length),y.type="star",y.value="*",y.output=B,b.output+=y.output)}if(C.length&&O.type!=="paren"&&(C[C.length-1].inner+=O.value),(O.value||O.output)&&Ht(O),y&&y.type==="text"&&O.type==="text"){y.value+=O.value,y.output=(y.output||"")+O.value;return}O.prev=y,o.push(O),y=O},Ut=(O,F)=>{const v={...u[F],conditions:1,inner:""};v.prev=y,v.parens=b.parens,v.output=b.output;const I=(t.capture?"(":"")+v.open;Kt("parens"),M({type:O,value:F,output:b.output?"":p}),M({type:"paren",extglob:!0,value:Ee(),output:I}),C.push(v)},da=O=>{let F=O.close+(t.capture?")":""),v;if(O.type==="negate"){let I=B;if(O.inner&&O.inner.length>1&&O.inner.includes("/")&&(I=R(t)),(I!==B||te()||/^\)+$/.test(Ae()))&&(F=O.close=`)$))${I}`),O.inner.includes("*")&&(v=Ae())&&/^\.[^\\/.]+$/.test(v)){const q=Us(v,{...e,fastpaths:!1}).output;F=O.close=`)${q})${I})`}O.prev.type==="bos"&&(b.negatedExtglob=!0)}M({type:"paren",extglob:!0,value:_,output:F}),Ue("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(n)){let O=!1,F=n.replace(Ou,(v,I,q,ne,J,Vn)=>ne==="\\"?(O=!0,v):ne==="?"?I?I+ne+(J?k.repeat(J.length):""):Vn===0?P+(J?k.repeat(J.length):""):k.repeat(q.length):ne==="."?f.repeat(q.length):ne==="*"?I?I+ne+(J?B:""):B:I?v:`\\${v}`);return O===!0&&(t.unescape===!0?F=F.replace(/\\/g,""):F=F.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),F===n&&t.contains===!0?(b.output=n,b):(b.output=ce.wrapOutput(F,b,e),b)}for(;!te();){if(_=Ee(),_==="\0")continue;if(_==="\\"){const v=D();if(v==="/"&&t.bash!==!0||v==="."||v===";")continue;if(!v){_+="\\",M({type:"text",value:_});continue}const I=/^\\+/.exec(Ae());let q=0;if(I&&I[0].length>2&&(q=I[0].length,b.index+=q,q%2!==0&&(_+="\\")),t.unescape===!0?_=Ee():_+=Ee(),b.brackets===0){M({type:"text",value:_});continue}}if(b.brackets>0&&(_!=="]"||y.value==="["||y.value==="[^")){if(t.posix!==!1&&_===":"){const v=y.value.slice(1);if(v.includes("[")&&(y.posix=!0,v.includes(":"))){const I=y.value.lastIndexOf("["),q=y.value.slice(0,I),ne=y.value.slice(I+2),J=vu[ne];if(J){y.value=q+J,b.backtrack=!0,Ee(),!i.output&&o.indexOf(y)===1&&(i.output=p);continue}}}(_==="["&&D()!==":"||_==="-"&&D()==="]")&&(_=`\\${_}`),_==="]"&&(y.value==="["||y.value==="[^")&&(_=`\\${_}`),t.posix===!0&&_==="!"&&y.value==="["&&(_="^"),y.value+=_,Ht({value:_});continue}if(b.quotes===1&&_!=='"'){_=ce.escapeRegex(_),y.value+=_,Ht({value:_});continue}if(_==='"'){b.quotes=b.quotes===1?0:1,t.keepQuotes===!0&&M({type:"text",value:_});continue}if(_==="("){Kt("parens"),M({type:"paren",value:_});continue}if(_===")"){if(b.parens===0&&t.strictBrackets===!0)throw new SyntaxError(pt("opening","("));const v=C[C.length-1];if(v&&b.parens===v.parens+1){da(C.pop());continue}M({type:"paren",value:_,output:b.parens?")":"\\)"}),Ue("parens");continue}if(_==="["){if(t.nobracket===!0||!Ae().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(pt("closing","]"));_=`\\${_}`}else Kt("brackets");M({type:"bracket",value:_});continue}if(_==="]"){if(t.nobracket===!0||y&&y.type==="bracket"&&y.value.length===1){M({type:"text",value:_,output:`\\${_}`});continue}if(b.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(pt("opening","["));M({type:"text",value:_,output:`\\${_}`});continue}Ue("brackets");const v=y.value.slice(1);if(y.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(_=`/${_}`),y.value+=_,Ht({value:_}),t.literalBrackets===!1||ce.hasRegexChars(v))continue;const I=ce.escapeRegex(y.value);if(b.output=b.output.slice(0,-y.value.length),t.literalBrackets===!0){b.output+=I,y.value=I;continue}y.value=`(${a}${I}|${y.value})`,b.output+=y.value;continue}if(_==="{"&&t.nobrace!==!0){Kt("braces");const v={type:"brace",value:_,output:"(",outputIndex:b.output.length,tokensIndex:b.tokens.length};j.push(v),M(v);continue}if(_==="}"){const v=j[j.length-1];if(t.nobrace===!0||!v){M({type:"text",value:_,output:_});continue}let I=")";if(v.dots===!0){const q=o.slice(),ne=[];for(let J=q.length-1;J>=0&&(o.pop(),q[J].type!=="brace");J--)q[J].type!=="dots"&&ne.unshift(q[J].value);I=$u(ne,t),b.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){const q=b.output.slice(0,v.outputIndex),ne=b.tokens.slice(v.tokensIndex);v.value=v.output="\\{",_=I="\\}",b.output=q;for(const J of ne)b.output+=J.output||J.value}M({type:"brace",value:_,output:I}),Ue("braces"),j.pop();continue}if(_==="|"){C.length>0&&C[C.length-1].conditions++,M({type:"text",value:_});continue}if(_===","){let v=_;const I=j[j.length-1];I&&Me[Me.length-1]==="braces"&&(I.comma=!0,v="|"),M({type:"comma",value:_,output:v});continue}if(_==="/"){if(y.type==="dot"&&b.index===b.start+1){b.start=b.index+1,b.consumed="",b.output="",o.pop(),y=i;continue}M({type:"slash",value:_,output:g});continue}if(_==="."){if(b.braces>0&&y.type==="dot"){y.value==="."&&(y.output=f);const v=j[j.length-1];y.type="dots",y.output+=_,y.value+=_,v.dots=!0;continue}if(b.braces+b.parens===0&&y.type!=="bos"&&y.type!=="slash"){M({type:"text",value:_,output:f});continue}M({type:"dot",value:_,output:f});continue}if(_==="?"){if(!(y&&y.value==="(")&&t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ut("qmark",_);continue}if(y&&y.type==="paren"){const I=D();let q=_;if(I==="<"&&!ce.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(y.value==="("&&!/[!=<:]/.test(I)||I==="<"&&!/<([!=]|\w+>)/.test(Ae()))&&(q=`\\${_}`),M({type:"text",value:_,output:q});continue}if(t.dot!==!0&&(y.type==="slash"||y.type==="bos")){M({type:"qmark",value:_,output:T});continue}M({type:"qmark",value:_,output:k});continue}if(_==="!"){if(t.noextglob!==!0&&D()==="("&&(D(2)!=="?"||!/[!=<:]/.test(D(3)))){Ut("negate",_);continue}if(t.nonegate!==!0&&b.index===0){ha();continue}}if(_==="+"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ut("plus",_);continue}if(y&&y.value==="("||t.regex===!1){M({type:"plus",value:_,output:h});continue}if(y&&(y.type==="bracket"||y.type==="paren"||y.type==="brace")||b.parens>0){M({type:"plus",value:_});continue}M({type:"plus",value:h});continue}if(_==="@"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){M({type:"at",extglob:!0,value:_,output:""});continue}M({type:"text",value:_});continue}if(_!=="*"){(_==="$"||_==="^")&&(_=`\\${_}`);const v=ku.exec(Ae());v&&(_+=v[0],b.index+=v[0].length),M({type:"text",value:_});continue}if(y&&(y.type==="globstar"||y.star===!0)){y.type="star",y.star=!0,y.value+=_,y.output=B,b.backtrack=!0,b.globstar=!0,ae(_);continue}let O=Ae();if(t.noextglob!==!0&&/^\([^?]/.test(O)){Ut("star",_);continue}if(y.type==="star"){if(t.noglobstar===!0){ae(_);continue}const v=y.prev,I=v.prev,q=v.type==="slash"||v.type==="bos",ne=I&&(I.type==="star"||I.type==="globstar");if(t.bash===!0&&(!q||O[0]&&O[0]!=="/")){M({type:"star",value:_,output:""});continue}const J=b.braces>0&&(v.type==="comma"||v.type==="brace"),Vn=C.length&&(v.type==="pipe"||v.type==="paren");if(!q&&v.type!=="paren"&&!J&&!Vn){M({type:"star",value:_,output:""});continue}for(;O.slice(0,3)==="/**";){const qt=n[b.index+4];if(qt&&qt!=="/")break;O=O.slice(3),ae("/**",3)}if(v.type==="bos"&&te()){y.type="globstar",y.value+=_,y.output=R(t),b.output=y.output,b.globstar=!0,ae(_);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!ne&&te()){b.output=b.output.slice(0,-(v.output+y.output).length),v.output=`(?:${v.output}`,y.type="globstar",y.output=R(t)+(t.strictSlashes?")":"|$)"),y.value+=_,b.globstar=!0,b.output+=v.output+y.output,ae(_);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&O[0]==="/"){const qt=O[1]!==void 0?"|$":"";b.output=b.output.slice(0,-(v.output+y.output).length),v.output=`(?:${v.output}`,y.type="globstar",y.output=`${R(t)}${g}|${g}${qt})`,y.value+=_,b.output+=v.output+y.output,b.globstar=!0,ae(_+Ee()),M({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&O[0]==="/"){y.type="globstar",y.value+=_,y.output=`(?:^|${g}|${R(t)}${g})`,b.output=y.output,b.globstar=!0,ae(_+Ee()),M({type:"slash",value:"/",output:""});continue}b.output=b.output.slice(0,-y.output.length),y.type="globstar",y.output=R(t),y.value+=_,b.output+=y.output,b.globstar=!0,ae(_);continue}const F={type:"star",value:_,output:B};if(t.bash===!0){F.output=".*?",(y.type==="bos"||y.type==="slash")&&(F.output=$+F.output),M(F);continue}if(y&&(y.type==="bracket"||y.type==="paren")&&t.regex===!0){F.output=_,M(F);continue}(b.index===b.start||y.type==="slash"||y.type==="dot")&&(y.type==="dot"?(b.output+=w,y.output+=w):t.dot===!0?(b.output+=E,y.output+=E):(b.output+=$,y.output+=$),D()!=="*"&&(b.output+=p,y.output+=p)),M(F)}for(;b.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing","]"));b.output=ce.escapeLast(b.output,"["),Ue("brackets")}for(;b.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing",")"));b.output=ce.escapeLast(b.output,"("),Ue("parens")}for(;b.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(pt("closing","}"));b.output=ce.escapeLast(b.output,"{"),Ue("braces")}if(t.strictSlashes!==!0&&(y.type==="star"||y.type==="bracket")&&M({type:"maybe_slash",value:"",output:`${g}?`}),b.backtrack===!0){b.output="";for(const O of b.tokens)b.output+=O.output!=null?O.output:O.value,O.suffix&&(b.output+=O.suffix)}return b};Us.fastpaths=(n,e)=>{const t={...e},s=typeof t.maxLength=="number"?Math.min(Rn,t.maxLength):Rn,r=n.length;if(r>s)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${s}`);n=Oo[n]||n;const i=ce.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:c,NO_DOT:u,NO_DOTS:f,NO_DOTS_SLASH:h,STAR:g,START_ANCHOR:p}=Tn.globChars(i),d=t.dot?f:u,m=t.dot?h:u,w=t.capture?"":"?:",E={negated:!1,prefix:""};let k=t.bash===!0?".*?":g;t.capture&&(k=`(${k})`);const T=$=>$.noglobstar===!0?k:`(${w}(?:(?!${p}${$.dot?c:o}).)*?)`,A=$=>{switch($){case"*":return`${d}${l}${k}`;case".*":return`${o}${l}${k}`;case"*.*":return`${d}${k}${o}${l}${k}`;case"*/*":return`${d}${k}${a}${l}${m}${k}`;case"**":return d+T(t);case"**/*":return`(?:${d}${T(t)}${a})?${m}${l}${k}`;case"**/*.*":return`(?:${d}${T(t)}${a})?${m}${k}${o}${l}${k}`;case"**/.*":return`(?:${d}${T(t)}${a})?${o}${l}${k}`;default:{const P=/^(.*?)\.(\w+)$/.exec($);if(!P)return;const B=A(P[1]);return B?B+o+P[2]:void 0}}},S=ce.removePrefix(n,E);let R=A(S);return R&&t.strictSlashes!==!0&&(R+=`${a}?`),R};var Tu=Us;const Ru=ve,Pu=Au,qs=Tu,Vs=Ct,Nu=$n,Cu=n=>n&&typeof n=="object"&&!Array.isArray(n),W=(n,e,t=!1)=>{if(Array.isArray(n)){const u=n.map(h=>W(h,e,t));return h=>{for(const g of u){const p=g(h);if(p)return p}return!1}}const s=Cu(n)&&n.tokens&&n.input;if(n===""||typeof n!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");const r=e||{},i=Vs.isWindows(e),o=s?W.compileRe(n,e):W.makeRe(n,e,!1,!0),a=o.state;delete o.state;let l=()=>!1;if(r.ignore){const u={...e,ignore:null,onMatch:null,onResult:null};l=W(r.ignore,u,t)}const c=(u,f=!1)=>{const{isMatch:h,match:g,output:p}=W.test(u,o,e,{glob:n,posix:i}),d={glob:n,state:a,regex:o,posix:i,input:u,output:p,match:g,isMatch:h};return typeof r.onResult=="function"&&r.onResult(d),h===!1?(d.isMatch=!1,f?d:!1):l(u)?(typeof r.onIgnore=="function"&&r.onIgnore(d),d.isMatch=!1,f?d:!1):(typeof r.onMatch=="function"&&r.onMatch(d),f?d:!0)};return t&&(c.state=a),c};W.test=(n,e,t,{glob:s,posix:r}={})=>{if(typeof n!="string")throw new TypeError("Expected input to be a string");if(n==="")return{isMatch:!1,output:""};const i=t||{},o=i.format||(r?Vs.toPosixSlashes:null);let a=n===s,l=a&&o?o(n):n;return a===!1&&(l=o?o(n):n,a=l===s),(a===!1||i.capture===!0)&&(i.matchBase===!0||i.basename===!0?a=W.matchBase(n,e,t,r):a=e.exec(l)),{isMatch:!!a,match:a,output:l}},W.matchBase=(n,e,t,s=Vs.isWindows(t))=>(e instanceof RegExp?e:W.makeRe(e,t)).test(Ru.basename(n)),W.isMatch=(n,e,t)=>W(e,t)(n),W.parse=(n,e)=>Array.isArray(n)?n.map(t=>W.parse(t,e)):qs(n,{...e,fastpaths:!1}),W.scan=(n,e)=>Pu(n,e),W.compileRe=(n,e,t=!1,s=!1)=>{if(t===!0)return n.output;const r=e||{},i=r.contains?"":"^",o=r.contains?"":"$";let a=`${i}(?:${n.output})${o}`;n&&n.negated===!0&&(a=`^(?!${a}).*$`);const l=W.toRegex(a,e);return s===!0&&(l.state=n),l},W.makeRe=(n,e={},t=!1,s=!1)=>{if(!n||typeof n!="string")throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(n[0]==="."||n[0]==="*")&&(r.output=qs.fastpaths(n,e)),r.output||(r=qs(n,e)),W.compileRe(r,e,t,s)},W.toRegex=(n,e)=>{try{const t=e||{};return new RegExp(n,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}},W.constants=Nu;var Lu=W,Iu=Lu;const $o=Tr,To=su,$e=Iu,Gs=Ct,Ro=n=>n===""||n==="./",U=(n,e,t)=>{e=[].concat(e),n=[].concat(n);let s=new Set,r=new Set,i=new Set,o=0,a=u=>{i.add(u.output),t&&t.onResult&&t.onResult(u)};for(let u=0;u<e.length;u++){let f=$e(String(e[u]),{...t,onResult:a},!0),h=f.state.negated||f.state.negatedExtglob;h&&o++;for(let g of n){let p=f(g,!0);(h?!p.isMatch:p.isMatch)&&(h?s.add(p.output):(s.delete(p.output),r.add(p.output)))}}let c=(o===e.length?[...i]:[...r]).filter(u=>!s.has(u));if(t&&c.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?e.map(u=>u.replace(/\\/g,"")):e}return c};U.match=U,U.matcher=(n,e)=>$e(n,e),U.isMatch=(n,e,t)=>$e(e,t)(n),U.any=U.isMatch,U.not=(n,e,t={})=>{e=[].concat(e).map(String);let s=new Set,r=[],i=a=>{t.onResult&&t.onResult(a),r.push(a.output)},o=new Set(U(n,e,{...t,onResult:i}));for(let a of r)o.has(a)||s.add(a);return[...s]},U.contains=(n,e,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${$o.inspect(n)}"`);if(Array.isArray(e))return e.some(s=>U.contains(n,s,t));if(typeof e=="string"){if(Ro(n)||Ro(e))return!1;if(n.includes(e)||n.startsWith("./")&&n.slice(2).includes(e))return!0}return U.isMatch(n,e,{...t,contains:!0})},U.matchKeys=(n,e,t)=>{if(!Gs.isObject(n))throw new TypeError("Expected the first argument to be an object");let s=U(Object.keys(n),e,t),r={};for(let i of s)r[i]=n[i];return r},U.some=(n,e,t)=>{let s=[].concat(n);for(let r of[].concat(e)){let i=$e(String(r),t);if(s.some(o=>i(o)))return!0}return!1},U.every=(n,e,t)=>{let s=[].concat(n);for(let r of[].concat(e)){let i=$e(String(r),t);if(!s.every(o=>i(o)))return!1}return!0},U.all=(n,e,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${$o.inspect(n)}"`);return[].concat(e).every(s=>$e(s,t)(n))},U.capture=(n,e,t)=>{let s=Gs.isWindows(t),i=$e.makeRe(String(n),{...t,capture:!0}).exec(s?Gs.toPosixSlashes(e):e);if(i)return i.slice(1).map(o=>o===void 0?"":o)},U.makeRe=(...n)=>$e.makeRe(...n),U.scan=(...n)=>$e.scan(...n),U.parse=(n,e)=>{let t=[];for(let s of[].concat(n||[]))for(let r of To(String(s),e))t.push($e.parse(r,e));return t},U.braces=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(n)?[n]:To(n,e)},U.braceExpand=(n,e)=>{if(typeof n!="string")throw new TypeError("Expected a string");return U.braces(n,{...e,expand:!0})};var Mu=U;Object.defineProperty(N,"__esModule",{value:!0}),N.removeDuplicateSlashes=N.matchAny=N.convertPatternsToRe=N.makeRe=N.getPatternParts=N.expandBraceExpansion=N.expandPatternsWithBraceExpansion=N.isAffectDepthOfReadingPattern=N.endsWithSlashGlobStar=N.hasGlobStar=N.getBaseDirectory=N.isPatternRelatedToParentDirectory=N.getPatternsOutsideCurrentDirectory=N.getPatternsInsideCurrentDirectory=N.getPositivePatterns=N.getNegativePatterns=N.isPositivePattern=N.isNegativePattern=N.convertToNegativePattern=N.convertToPositivePattern=N.isDynamicPattern=N.isStaticPattern=void 0;const Du=ve,xu=gc,Ws=Mu,Po="**",Bu="\\",ju=/[*?]|^!/,Fu=/\[[^[]*]/,Hu=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,Ku=/[!*+?@]\([^(]*\)/,Uu=/,|\.\./,qu=/(?!^)\/{2,}/g;function No(n,e={}){return!Co(n,e)}N.isStaticPattern=No;function Co(n,e={}){return n===""?!1:!!(e.caseSensitiveMatch===!1||n.includes(Bu)||ju.test(n)||Fu.test(n)||Hu.test(n)||e.extglob!==!1&&Ku.test(n)||e.braceExpansion!==!1&&Vu(n))}N.isDynamicPattern=Co;function Vu(n){const e=n.indexOf("{");if(e===-1)return!1;const t=n.indexOf("}",e+1);if(t===-1)return!1;const s=n.slice(e,t);return Uu.test(s)}function Gu(n){return Pn(n)?n.slice(1):n}N.convertToPositivePattern=Gu;function Wu(n){return"!"+n}N.convertToNegativePattern=Wu;function Pn(n){return n.startsWith("!")&&n[1]!=="("}N.isNegativePattern=Pn;function Lo(n){return!Pn(n)}N.isPositivePattern=Lo;function Yu(n){return n.filter(Pn)}N.getNegativePatterns=Yu;function Qu(n){return n.filter(Lo)}N.getPositivePatterns=Qu;function Ju(n){return n.filter(e=>!Ys(e))}N.getPatternsInsideCurrentDirectory=Ju;function Xu(n){return n.filter(Ys)}N.getPatternsOutsideCurrentDirectory=Xu;function Ys(n){return n.startsWith("..")||n.startsWith("./..")}N.isPatternRelatedToParentDirectory=Ys;function zu(n){return xu(n,{flipBackslashes:!1})}N.getBaseDirectory=zu;function Zu(n){return n.includes(Po)}N.hasGlobStar=Zu;function Io(n){return n.endsWith("/"+Po)}N.endsWithSlashGlobStar=Io;function ef(n){const e=Du.basename(n);return Io(n)||No(e)}N.isAffectDepthOfReadingPattern=ef;function tf(n){return n.reduce((e,t)=>e.concat(Mo(t)),[])}N.expandPatternsWithBraceExpansion=tf;function Mo(n){const e=Ws.braces(n,{expand:!0,nodupes:!0});return e.sort((t,s)=>t.length-s.length),e.filter(t=>t!=="")}N.expandBraceExpansion=Mo;function nf(n,e){let{parts:t}=Ws.scan(n,Object.assign(Object.assign({},e),{parts:!0}));return t.length===0&&(t=[n]),t[0].startsWith("/")&&(t[0]=t[0].slice(1),t.unshift("")),t}N.getPatternParts=nf;function Do(n,e){return Ws.makeRe(n,e)}N.makeRe=Do;function sf(n,e){return n.map(t=>Do(t,e))}N.convertPatternsToRe=sf;function rf(n,e){return e.some(t=>t.test(n))}N.matchAny=rf;function of(n){return n.replace(qu,"/")}N.removeDuplicateSlashes=of;var Nn={};const af=Vt,xo=af.PassThrough,lf=Array.prototype.slice;var cf=uf;function uf(){const n=[],e=lf.call(arguments);let t=!1,s=e[e.length-1];s&&!Array.isArray(s)&&s.pipe==null?e.pop():s={};const r=s.end!==!1,i=s.pipeError===!0;s.objectMode==null&&(s.objectMode=!0),s.highWaterMark==null&&(s.highWaterMark=64*1024);const o=xo(s);function a(){for(let u=0,f=arguments.length;u<f;u++)n.push(Bo(arguments[u],s));return l(),this}function l(){if(t)return;t=!0;let u=n.shift();if(!u){process.nextTick(c);return}Array.isArray(u)||(u=[u]);let f=u.length+1;function h(){--f>0||(t=!1,l())}function g(p){function d(){p.removeListener("merge2UnpipeEnd",d),p.removeListener("end",d),i&&p.removeListener("error",m),h()}function m(w){o.emit("error",w)}if(p._readableState.endEmitted)return h();p.on("merge2UnpipeEnd",d),p.on("end",d),i&&p.on("error",m),p.pipe(o,{end:!1}),p.resume()}for(let p=0;p<u.length;p++)g(u[p]);h()}function c(){t=!1,o.emit("queueDrain"),r&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(u){u.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),o}function Bo(n,e){if(Array.isArray(n))for(let t=0,s=n.length;t<s;t++)n[t]=Bo(n[t],e);else{if(!n._readableState&&n.pipe&&(n=n.pipe(xo(e))),!n._readableState||!n.pause||!n.pipe)throw new Error("Only readable stream can be merged.");n.pause()}return n}Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.merge=void 0;const ff=cf;function hf(n){const e=ff(n);return n.forEach(t=>{t.once("error",s=>e.emit("error",s))}),e.once("close",()=>jo(n)),e.once("end",()=>jo(n)),e}Nn.merge=hf;function jo(n){n.forEach(e=>e.emit("close"))}var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.isEmpty=gt.isString=void 0;function df(n){return typeof n=="string"}gt.isString=df;function pf(n){return n===""}gt.isEmpty=pf,Object.defineProperty(V,"__esModule",{value:!0}),V.string=V.stream=V.pattern=V.path=V.fs=V.errno=V.array=void 0;const gf=ht;V.array=gf;const mf=En;V.errno=mf;const yf=An;V.fs=yf;const _f=Y;V.path=_f;const bf=N;V.pattern=bf;const Sf=Nn;V.stream=Sf;const wf=gt;V.string=wf,Object.defineProperty(ee,"__esModule",{value:!0}),ee.convertPatternGroupToTask=ee.convertPatternGroupsToTasks=ee.groupPatternsByBaseDirectory=ee.getNegativePatternsAsPositive=ee.getPositivePatterns=ee.convertPatternsToTasks=ee.generate=void 0;const Se=V;function Ef(n,e){const t=Fo(n,e),s=Fo(e.ignore,e),r=Ho(t),i=Ko(t,s),o=r.filter(u=>Se.pattern.isStaticPattern(u,e)),a=r.filter(u=>Se.pattern.isDynamicPattern(u,e)),l=Qs(o,i,!1),c=Qs(a,i,!0);return l.concat(c)}ee.generate=Ef;function Fo(n,e){let t=n;return e.braceExpansion&&(t=Se.pattern.expandPatternsWithBraceExpansion(t)),e.baseNameMatch&&(t=t.map(s=>s.includes("/")?s:`**/${s}`)),t.map(s=>Se.pattern.removeDuplicateSlashes(s))}function Qs(n,e,t){const s=[],r=Se.pattern.getPatternsOutsideCurrentDirectory(n),i=Se.pattern.getPatternsInsideCurrentDirectory(n),o=Js(r),a=Js(i);return s.push(...Xs(o,e,t)),"."in a?s.push(zs(".",i,e,t)):s.push(...Xs(a,e,t)),s}ee.convertPatternsToTasks=Qs;function Ho(n){return Se.pattern.getPositivePatterns(n)}ee.getPositivePatterns=Ho;function Ko(n,e){return Se.pattern.getNegativePatterns(n).concat(e).map(Se.pattern.convertToPositivePattern)}ee.getNegativePatternsAsPositive=Ko;function Js(n){const e={};return n.reduce((t,s)=>{const r=Se.pattern.getBaseDirectory(s);return r in t?t[r].push(s):t[r]=[s],t},e)}ee.groupPatternsByBaseDirectory=Js;function Xs(n,e,t){return Object.keys(n).map(s=>zs(s,n[s],e,t))}ee.convertPatternGroupsToTasks=Xs;function zs(n,e,t,s){return{dynamic:s,positive:e,negative:t,base:n,patterns:[].concat(e,t.map(Se.pattern.convertToNegativePattern))}}ee.convertPatternGroupToTask=zs;var Zs={},er={},pe={},tr={},Cn={},Te={},Fe={},ue={},Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.read=void 0;function Af(n,e,t){e.fs.lstat(n,(s,r)=>{if(s!==null){Uo(t,s);return}if(!r.isSymbolicLink()||!e.followSymbolicLink){nr(t,r);return}e.fs.stat(n,(i,o)=>{if(i!==null){if(e.throwErrorOnBrokenSymbolicLink){Uo(t,i);return}nr(t,r);return}e.markSymbolicLink&&(o.isSymbolicLink=()=>!0),nr(t,o)})})}Ln.read=Af;function Uo(n,e){n(e)}function nr(n,e){n(null,e)}var In={};Object.defineProperty(In,"__esModule",{value:!0}),In.read=void 0;function vf(n,e){const t=e.fs.lstatSync(n);if(!t.isSymbolicLink()||!e.followSymbolicLink)return t;try{const s=e.fs.statSync(n);return e.markSymbolicLink&&(s.isSymbolicLink=()=>!0),s}catch(s){if(!e.throwErrorOnBrokenSymbolicLink)return t;throw s}}In.read=vf;var sr={},qo={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const e=_t;n.FILE_SYSTEM_ADAPTER={lstat:e.lstat,stat:e.stat,lstatSync:e.lstatSync,statSync:e.statSync};function t(s){return s===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),s)}n.createFileSystemAdapter=t})(qo),Object.defineProperty(sr,"__esModule",{value:!0});const kf=qo;let Of=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=kf.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return e??t}};sr.default=Of,Object.defineProperty(ue,"__esModule",{value:!0}),ue.statSync=ue.stat=ue.Settings=void 0;const Vo=Ln,$f=In,rr=sr;ue.Settings=rr.default;function Tf(n,e,t){if(typeof e=="function"){Vo.read(n,ir(),e);return}Vo.read(n,ir(e),t)}ue.stat=Tf;function Rf(n,e){const t=ir(e);return $f.read(n,t)}ue.statSync=Rf;function ir(n={}){return n instanceof rr.default?n:new rr.default(n)}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Go;var Pf=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ma):n=>(Go||(Go=Promise.resolve())).then(n).catch(e=>setTimeout(()=>{throw e},0));/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Nf=Lf;const Cf=Pf;function Lf(n,e){let t,s,r,i=!0;Array.isArray(n)?(t=[],s=n.length):(r=Object.keys(n),t={},s=r.length);function o(l){function c(){e&&e(l,t),e=null}i?Cf(c):c()}function a(l,c,u){t[l]=u,(--s===0||c)&&o(c)}s?r?r.forEach(function(l){n[l](function(c,u){a(l,c,u)})}):n.forEach(function(l,c){l(function(u,f){a(c,u,f)})}):o(null),i=!1}var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const Mn=process.versions.node.split(".");if(Mn[0]===void 0||Mn[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const Wo=Number.parseInt(Mn[0],10),If=Number.parseInt(Mn[1],10),Yo=10,Mf=10,Df=Wo>Yo,xf=Wo===Yo&&If>=Mf;It.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Df||xf;var Mt={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.createDirentFromStats=void 0;class Bf{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}function jf(n,e){return new Bf(n,e)}Dn.createDirentFromStats=jf,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.fs=void 0;const Ff=Dn;Mt.fs=Ff;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.joinPathSegments=void 0;function Hf(n,e,t){return n.endsWith(t)?n+e:n+t+e}Dt.joinPathSegments=Hf,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.readdir=Fe.readdirWithFileTypes=Fe.read=void 0;const Kf=ue,Qo=Nf,Uf=It,Jo=Mt,Xo=Dt;function qf(n,e,t){if(!e.stats&&Uf.IS_SUPPORT_READDIR_WITH_FILE_TYPES){zo(n,e,t);return}Zo(n,e,t)}Fe.read=qf;function zo(n,e,t){e.fs.readdir(n,{withFileTypes:!0},(s,r)=>{if(s!==null){xn(t,s);return}const i=r.map(a=>({dirent:a,name:a.name,path:Xo.joinPathSegments(n,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){or(t,i);return}const o=i.map(a=>Vf(a,e));Qo(o,(a,l)=>{if(a!==null){xn(t,a);return}or(t,l)})})}Fe.readdirWithFileTypes=zo;function Vf(n,e){return t=>{if(!n.dirent.isSymbolicLink()){t(null,n);return}e.fs.stat(n.path,(s,r)=>{if(s!==null){if(e.throwErrorOnBrokenSymbolicLink){t(s);return}t(null,n);return}n.dirent=Jo.fs.createDirentFromStats(n.name,r),t(null,n)})}}function Zo(n,e,t){e.fs.readdir(n,(s,r)=>{if(s!==null){xn(t,s);return}const i=r.map(o=>{const a=Xo.joinPathSegments(n,o,e.pathSegmentSeparator);return l=>{Kf.stat(a,e.fsStatSettings,(c,u)=>{if(c!==null){l(c);return}const f={name:o,path:a,dirent:Jo.fs.createDirentFromStats(o,u)};e.stats&&(f.stats=u),l(null,f)})}});Qo(i,(o,a)=>{if(o!==null){xn(t,o);return}or(t,a)})})}Fe.readdir=Zo;function xn(n,e){n(e)}function or(n,e){n(null,e)}var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.readdir=He.readdirWithFileTypes=He.read=void 0;const Gf=ue,Wf=It,ea=Mt,ta=Dt;function Yf(n,e){return!e.stats&&Wf.IS_SUPPORT_READDIR_WITH_FILE_TYPES?na(n,e):sa(n,e)}He.read=Yf;function na(n,e){return e.fs.readdirSync(n,{withFileTypes:!0}).map(s=>{const r={dirent:s,name:s.name,path:ta.joinPathSegments(n,s.name,e.pathSegmentSeparator)};if(r.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{const i=e.fs.statSync(r.path);r.dirent=ea.fs.createDirentFromStats(r.name,i)}catch(i){if(e.throwErrorOnBrokenSymbolicLink)throw i}return r})}He.readdirWithFileTypes=na;function sa(n,e){return e.fs.readdirSync(n).map(s=>{const r=ta.joinPathSegments(n,s,e.pathSegmentSeparator),i=Gf.statSync(r,e.fsStatSettings),o={name:s,path:r,dirent:ea.fs.createDirentFromStats(s,i)};return e.stats&&(o.stats=i),o})}He.readdir=sa;var ar={},ra={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const e=_t;n.FILE_SYSTEM_ADAPTER={lstat:e.lstat,stat:e.stat,lstatSync:e.lstatSync,statSync:e.statSync,readdir:e.readdir,readdirSync:e.readdirSync};function t(s){return s===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),s)}n.createFileSystemAdapter=t})(ra),Object.defineProperty(ar,"__esModule",{value:!0});const Qf=ve,Jf=ue,Xf=ra;let zf=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Xf.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Qf.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Jf.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}};ar.default=zf,Object.defineProperty(Te,"__esModule",{value:!0}),Te.Settings=Te.scandirSync=Te.scandir=void 0;const ia=Fe,Zf=He,lr=ar;Te.Settings=lr.default;function eh(n,e,t){if(typeof e=="function"){ia.read(n,cr(),e);return}ia.read(n,cr(e),t)}Te.scandir=eh;function th(n,e){const t=cr(e);return Zf.read(n,t)}Te.scandirSync=th;function cr(n={}){return n instanceof lr.default?n:new lr.default(n)}var ur={exports:{}};function nh(n){var e=new n,t=e;function s(){var i=e;return i.next?e=i.next:(e=new n,t=e),i.next=null,i}function r(i){t.next=i,t=i}return{get:s,release:r}}var sh=nh,rh=sh;function oa(n,e,t){if(typeof n=="function"&&(t=e,e=n,n=null),t<1)throw new Error("fastqueue concurrency must be greater than 1");var s=rh(ih),r=null,i=null,o=0,a=null,l={push:d,drain:ge,saturated:ge,pause:u,paused:!1,concurrency:t,running:c,resume:g,idle:p,length:f,getQueue:h,unshift:m,empty:ge,kill:E,killAndDrain:k,error:T};return l;function c(){return o}function u(){l.paused=!0}function f(){for(var A=r,S=0;A;)A=A.next,S++;return S}function h(){for(var A=r,S=[];A;)S.push(A.value),A=A.next;return S}function g(){if(l.paused){l.paused=!1;for(var A=0;A<l.concurrency;A++)o++,w()}}function p(){return o===0&&l.length()===0}function d(A,S){var R=s.get();R.context=n,R.release=w,R.value=A,R.callback=S||ge,R.errorHandler=a,o===l.concurrency||l.paused?i?(i.next=R,i=R):(r=R,i=R,l.saturated()):(o++,e.call(n,R.value,R.worked))}function m(A,S){var R=s.get();R.context=n,R.release=w,R.value=A,R.callback=S||ge,o===l.concurrency||l.paused?r?(R.next=r,r=R):(r=R,i=R,l.saturated()):(o++,e.call(n,R.value,R.worked))}function w(A){A&&s.release(A);var S=r;S?l.paused?o--:(i===r&&(i=null),r=S.next,S.next=null,e.call(n,S.value,S.worked),i===null&&l.empty()):--o===0&&l.drain()}function E(){r=null,i=null,l.drain=ge}function k(){r=null,i=null,l.drain(),l.drain=ge}function T(A){a=A}}function ge(){}function ih(){this.value=null,this.callback=ge,this.next=null,this.release=ge,this.context=null,this.errorHandler=null;var n=this;this.worked=function(t,s){var r=n.callback,i=n.errorHandler,o=n.value;n.value=null,n.callback=ge,n.errorHandler&&i(t,o),r.call(n.context,t,s),n.release(n)}}function oh(n,e,t){typeof n=="function"&&(t=e,e=n,n=null);function s(u,f){e.call(this,u).then(function(h){f(null,h)},f)}var r=oa(n,s,t),i=r.push,o=r.unshift;return r.push=a,r.unshift=l,r.drained=c,r;function a(u){var f=new Promise(function(h,g){i(u,function(p,d){if(p){g(p);return}h(d)})});return f.catch(ge),f}function l(u){var f=new Promise(function(h,g){o(u,function(p,d){if(p){g(p);return}h(d)})});return f.catch(ge),f}function c(){if(r.idle())return new Promise(function(h){h()});var u=r.drain,f=new Promise(function(h){r.drain=function(){u(),h()}});return f}}ur.exports=oa,ur.exports.promise=oh;var ah=ur.exports,me={};Object.defineProperty(me,"__esModule",{value:!0}),me.joinPathSegments=me.replacePathSegmentSeparator=me.isAppliedFilter=me.isFatalError=void 0;function lh(n,e){return n.errorFilter===null?!0:!n.errorFilter(e)}me.isFatalError=lh;function ch(n,e){return n===null||n(e)}me.isAppliedFilter=ch;function uh(n,e){return n.split(/[/\\]/).join(e)}me.replacePathSegmentSeparator=uh;function fh(n,e,t){return n===""?e:n.endsWith(t)?n+e:n+t+e}me.joinPathSegments=fh;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});const hh=me;let dh=class{constructor(e,t){this._root=e,this._settings=t,this._root=hh.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}};Bn.default=dh,Object.defineProperty(Cn,"__esModule",{value:!0});const ph=ga,gh=Te,mh=ah,jn=me,yh=Bn;class _h extends yh.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=gh.scandir,this._emitter=new ph.EventEmitter,this._queue=mh(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const s={directory:e,base:t};this._queue.push(s,r=>{r!==null&&this._handleError(r)})}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,(s,r)=>{if(s!==null){t(s,void 0);return}for(const i of r)this._handleEntry(i,e.base);t(null,void 0)})}_handleError(e){this._isDestroyed||!jn.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const s=e.path;t!==void 0&&(e.path=jn.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),jn.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&jn.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,t===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}Cn.default=_h,Object.defineProperty(tr,"__esModule",{value:!0});const bh=Cn;class Sh{constructor(e,t){this._root=e,this._settings=t,this._reader=new bh.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(t=>{wh(e,t)}),this._reader.onEntry(t=>{this._storage.push(t)}),this._reader.onEnd(()=>{Eh(e,this._storage)}),this._reader.read()}}tr.default=Sh;function wh(n,e){n(e)}function Eh(n,e){n(null,e)}var fr={};Object.defineProperty(fr,"__esModule",{value:!0});const Ah=Vt,vh=Cn;class kh{constructor(e,t){this._root=e,this._settings=t,this._reader=new vh.default(this._root,this._settings),this._stream=new Ah.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}fr.default=kh;var hr={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});const Oh=Te,Fn=me,$h=Bn;class Th extends $h.default{constructor(){super(...arguments),this._scandir=Oh.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const s=this._scandir(e,this._settings.fsScandirSettings);for(const r of s)this._handleEntry(r,t)}catch(s){this._handleError(s)}}_handleError(e){if(Fn.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const s=e.path;t!==void 0&&(e.path=Fn.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),Fn.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&Fn.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,t===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}}dr.default=Th,Object.defineProperty(hr,"__esModule",{value:!0});const Rh=dr;class Ph{constructor(e,t){this._root=e,this._settings=t,this._reader=new Rh.default(this._root,this._settings)}read(){return this._reader.read()}}hr.default=Ph;var pr={};Object.defineProperty(pr,"__esModule",{value:!0});const Nh=ve,Ch=Te;class Lh{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Nh.sep),this.fsScandirSettings=new Ch.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}}pr.default=Lh,Object.defineProperty(pe,"__esModule",{value:!0}),pe.Settings=pe.walkStream=pe.walkSync=pe.walk=void 0;const aa=tr,Ih=fr,Mh=hr,gr=pr;pe.Settings=gr.default;function Dh(n,e,t){if(typeof e=="function"){new aa.default(n,Hn()).read(e);return}new aa.default(n,Hn(e)).read(t)}pe.walk=Dh;function xh(n,e){const t=Hn(e);return new Mh.default(n,t).read()}pe.walkSync=xh;function Bh(n,e){const t=Hn(e);return new Ih.default(n,t).read()}pe.walkStream=Bh;function Hn(n={}){return n instanceof gr.default?n:new gr.default(n)}var xt={};Object.defineProperty(xt,"__esModule",{value:!0});const jh=ve,Fh=ue,la=V;class Hh{constructor(e){this._settings=e,this._fsStatSettings=new Fh.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return jh.resolve(this._settings.cwd,e)}_makeEntry(e,t){const s={name:t,path:t,dirent:la.fs.createDirentFromStats(t,e)};return this._settings.stats&&(s.stats=e),s}_isFatalError(e){return!la.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}}xt.default=Hh;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});const Kh=Vt,Uh=ue,qh=pe,Vh=xt;class Gh extends Vh.default{constructor(){super(...arguments),this._walkStream=qh.walkStream,this._stat=Uh.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const s=e.map(this._getFullEntryPath,this),r=new Kh.PassThrough({objectMode:!0});r._write=(i,o,a)=>this._getEntry(s[i],e[i],t).then(l=>{l!==null&&t.entryFilter(l)&&r.push(l),i===s.length-1&&r.end(),a()}).catch(a);for(let i=0;i<s.length;i++)r.write(i);return r}_getEntry(e,t,s){return this._getStat(e).then(r=>this._makeEntry(r,t)).catch(r=>{if(s.errorFilter(r))return null;throw r})}_getStat(e){return new Promise((t,s)=>{this._stat(e,this._fsStatSettings,(r,i)=>r===null?t(i):s(r))})}}Kn.default=Gh,Object.defineProperty(er,"__esModule",{value:!0});const Wh=pe,Yh=xt,Qh=Kn;class Jh extends Yh.default{constructor(){super(...arguments),this._walkAsync=Wh.walk,this._readerStream=new Qh.default(this._settings)}dynamic(e,t){return new Promise((s,r)=>{this._walkAsync(e,t,(i,o)=>{i===null?s(o):r(i)})})}async static(e,t){const s=[],r=this._readerStream.static(e,t);return new Promise((i,o)=>{r.once("error",o),r.on("data",a=>s.push(a)),r.once("end",()=>i(s))})}}er.default=Jh;var Bt={},mr={},yr={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});const jt=V;class Xh{constructor(e,t,s){this._patterns=e,this._settings=t,this._micromatchOptions=s,this._storage=[],this._fillStorage()}_fillStorage(){for(const e of this._patterns){const t=this._getPatternSegments(e),s=this._splitSegmentsIntoSections(t);this._storage.push({complete:s.length<=1,pattern:e,segments:t,sections:s})}}_getPatternSegments(e){return jt.pattern.getPatternParts(e,this._micromatchOptions).map(s=>jt.pattern.isDynamicPattern(s,this._settings)?{dynamic:!0,pattern:s,patternRe:jt.pattern.makeRe(s,this._micromatchOptions)}:{dynamic:!1,pattern:s})}_splitSegmentsIntoSections(e){return jt.array.splitWhen(e,t=>t.dynamic&&jt.pattern.hasGlobStar(t.pattern))}}_r.default=Xh,Object.defineProperty(yr,"__esModule",{value:!0});const zh=_r;class Zh extends zh.default{match(e){const t=e.split("/"),s=t.length,r=this._storage.filter(i=>!i.complete||i.segments.length>s);for(const i of r){const o=i.sections[0];if(!i.complete&&s>o.length||t.every((l,c)=>{const u=i.segments[c];return!!(u.dynamic&&u.patternRe.test(l)||!u.dynamic&&u.pattern===l)}))return!0}return!1}}yr.default=Zh,Object.defineProperty(mr,"__esModule",{value:!0});const Un=V,ed=yr;class td{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,s){const r=this._getMatcher(t),i=this._getNegativePatternsRe(s);return o=>this._filter(e,o,r,i)}_getMatcher(e){return new ed.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const t=e.filter(Un.pattern.isAffectDepthOfReadingPattern);return Un.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,s,r){if(this._isSkippedByDeep(e,t.path)||this._isSkippedSymbolicLink(t))return!1;const i=Un.path.removeLeadingDotSegment(t.path);return this._isSkippedByPositivePatterns(i,s)?!1:this._isSkippedByNegativePatterns(i,r)}_isSkippedByDeep(e,t){return this._settings.deep===1/0?!1:this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const s=t.split("/").length;if(e==="")return s;const r=e.split("/").length;return s-r}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!Un.pattern.matchAny(e,t)}}mr.default=td;var br={};Object.defineProperty(br,"__esModule",{value:!0});const ze=V;class nd{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const s=ze.pattern.convertPatternsToRe(e,this._micromatchOptions),r=ze.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}));return i=>this._filter(i,s,r)}_filter(e,t,s){const r=ze.path.removeLeadingDotSegment(e.path);if(this._settings.unique&&this._isDuplicateEntry(r)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(r,s))return!1;const i=e.dirent.isDirectory(),o=this._isMatchToPatterns(r,t,i)&&!this._isMatchToPatterns(r,s,i);return this._settings.unique&&o&&this._createIndexRecord(r),o}_isDuplicateEntry(e){return this.index.has(e)}_createIndexRecord(e){this.index.set(e,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const s=ze.path.makeAbsolute(this._settings.cwd,e);return ze.pattern.matchAny(s,t)}_isMatchToPatterns(e,t,s){const r=ze.pattern.matchAny(e,t);return!r&&s?ze.pattern.matchAny(e+"/",t):r}}br.default=nd;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});const sd=V;class rd{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return sd.errno.isEnoentCodeError(e)||this._settings.suppressErrors}}Sr.default=rd;var wr={};Object.defineProperty(wr,"__esModule",{value:!0});const ca=V;class id{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=ca.path.makeAbsolute(this._settings.cwd,t),t=ca.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}}wr.default=id,Object.defineProperty(Bt,"__esModule",{value:!0});const od=ve,ad=mr,ld=br,cd=Sr,ud=wr;class fd{constructor(e){this._settings=e,this.errorFilter=new cd.default(this._settings),this.entryFilter=new ld.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new ad.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new ud.default(this._settings)}_getRootDirectory(e){return od.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t=e.base==="."?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}Bt.default=fd,Object.defineProperty(Zs,"__esModule",{value:!0});const hd=er,dd=Bt;class pd extends dd.default{constructor(){super(...arguments),this._reader=new hd.default(this._settings)}async read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e);return(await this.api(t,e,s)).map(i=>s.transform(i))}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Zs.default=pd;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});const gd=Vt,md=Kn,yd=Bt;class _d extends yd.default{constructor(){super(...arguments),this._reader=new md.default(this._settings)}read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e),r=this.api(t,e,s),i=new gd.Readable({objectMode:!0,read:()=>{}});return r.once("error",o=>i.emit("error",o)).on("data",o=>i.emit("data",s.transform(o))).once("end",()=>i.emit("end")),i.once("close",()=>r.destroy()),i}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Er.default=_d;var Ar={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});const bd=ue,Sd=pe,wd=xt;class Ed extends wd.default{constructor(){super(...arguments),this._walkSync=Sd.walkSync,this._statSync=bd.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const s=[];for(const r of e){const i=this._getFullEntryPath(r),o=this._getEntry(i,r,t);o===null||!t.entryFilter(o)||s.push(o)}return s}_getEntry(e,t,s){try{const r=this._getStat(e);return this._makeEntry(r,t)}catch(r){if(s.errorFilter(r))return null;throw r}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}vr.default=Ed,Object.defineProperty(Ar,"__esModule",{value:!0});const Ad=vr,vd=Bt;class kd extends vd.default{constructor(){super(...arguments),this._reader=new Ad.default(this._settings)}read(e){const t=this._getRootDirectory(e),s=this._getReaderOptions(e);return this.api(t,e,s).map(s.transform)}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}}Ar.default=kd;var ua={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const e=_t,s=Math.max(Gn.cpus().length,1);n.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:e.lstat,lstatSync:e.lstatSync,stat:e.stat,statSync:e.statSync,readdir:e.readdir,readdirSync:e.readdirSync};class r{constructor(o={}){this._options=o,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,s),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(o,a){return o===void 0?a:o}_getFileSystemMethods(o={}){return Object.assign(Object.assign({},n.DEFAULT_FILE_SYSTEM_ADAPTER),o)}}n.default=r})(ua);const fa=ee,Od=Zs,$d=Er,Td=Ar,kr=ua,ye=V;async function Or(n,e){we(n);const t=$r(n,Od.default,e),s=await Promise.all(t);return ye.array.flatten(s)}(function(n){n.glob=n,n.globSync=e,n.globStream=t,n.async=n;function e(a,l){we(a);const c=$r(a,Td.default,l);return ye.array.flatten(c)}n.sync=e;function t(a,l){we(a);const c=$r(a,$d.default,l);return ye.stream.merge(c)}n.stream=t;function s(a,l){we(a);const c=[].concat(a),u=new kr.default(l);return fa.generate(c,u)}n.generateTasks=s;function r(a,l){we(a);const c=new kr.default(l);return ye.pattern.isDynamicPattern(a,c)}n.isDynamicPattern=r;function i(a){return we(a),ye.path.escape(a)}n.escapePath=i;function o(a){return we(a),ye.path.convertPathToPattern(a)}n.convertPathToPattern=o,function(a){function l(u){return we(u),ye.path.escapePosixPath(u)}a.escapePath=l;function c(u){return we(u),ye.path.convertPosixPathToPattern(u)}a.convertPathToPattern=c}(n.posix||(n.posix={})),function(a){function l(u){return we(u),ye.path.escapeWindowsPath(u)}a.escapePath=l;function c(u){return we(u),ye.path.convertWindowsPathToPattern(u)}a.convertPathToPattern=c}(n.win32||(n.win32={}))})(Or||(Or={}));function $r(n,e,t){const s=[].concat(n),r=new kr.default(t),i=fa.generate(s,r),o=new e(r);return i.map(o.read,o)}function we(n){if(![].concat(n).every(s=>ye.string.isString(s)&&!ye.string.isEmpty(s)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}var Rd=Or;let Pd=class Q{static SENTINEL=String.fromCharCode(0);static from(e){const t=new Q;for(const[s,r]of Object.entries(e))t.set(s,r);return t}constructor(e){this.mode=e===Array?"array":"string",this.clear()}clear(){this.root={},this.size=0}set(e,t){let s=this.root,r;for(let i=0;i<e.length;i++)r=e[i],s=s[r]||(s[r]={});return Q.SENTINEL in s||this.size++,s[Q.SENTINEL]=t,this}update(e,t){let s=this.root,r;for(let i=0;i<e.length;i++)r=e[i],s=s[r]||(s[r]={});return Q.SENTINEL in s||this.size++,s[Q.SENTINEL]=t(s[Q.SENTINEL]),this}get(e){let t=this.root,s;for(let r=0;r<e.length;r++)if(s=e[r],t=t[s],typeof t>"u")return;if(Q.SENTINEL in t)return t[Q.SENTINEL]}delete(e){let t=this.root,s=null,r=null,i,o;for(let a=0;a<e.length;a++){if(o=e[a],i=t,t=t[o],typeof t>"u")return!1;s!==null?Object.keys(t).length>1&&(s=null,r=null):Object.keys(t).length<2&&(s=i,r=o)}return Q.SENTINEL in t?(this.size--,s?delete s[r]:delete t[Q.SENTINEL],!0):!1}has(e){let t=this.root,s;for(let r=0;r<e.length;r++)if(s=e[r],t=t[s],typeof t>"u")return!1;return Q.SENTINEL in t}find(e){const t=typeof e=="string";let s=this.root;const r=[];let i;for(let c=0;c<e.length;c++)if(i=e[c],s=s[i],typeof s>"u")return r;const o=[s],a=[e];let l;for(;o.length;){e=a.pop(),s=o.pop();for(l in s){if(l===Q.SENTINEL){r.push([e,s[Q.SENTINEL]]);continue}o.push(s[l]),a.push(t?e+l:e.concat(l))}}return r}*values(e){let t=this.root;const s=[];let r;if(e){for(let l=0;l<e.length;l++)if(r=e[l],t=t[r],typeof t>"u")return[][Symbol.iterator]()}s.push(t);let i,o=!1,a;for(;s.length;){i=s.pop();for(a in i){if(a===Q.SENTINEL){o=!0;continue}s.push(i[a])}o&&(yield i[Q.SENTINEL])}}*prefixes(e){let t=this.root;const s=[],r=[];let i;const o=this.mode==="string";if(e){for(let f=0;f<e.length;f++)if(i=e[f],t=t[i],typeof t>"u")return[][Symbol.iterator]()}else e=o?"":[];s.push(t),r.push(e);let a,l,c=!1,u;for(;s.length;){a=s.pop(),l=r.pop();for(u in a){if(u===Q.SENTINEL){c=!0;continue}s.push(a[u]),r.push(o?l+u:l.concat(u))}c&&(yield l)}}*entries(e){let t=this.root;const s=[],r=[];let i;const o=this.mode==="string";if(e){for(let f=0;f<e.length;f++)if(i=e[f],t=t[i],typeof t>"u")return[][Symbol.iterator]()}else e=o?"":[];s.push(t),r.push(e);let a,l,c=!1,u;for(;s.length;){a=s.pop(),l=r.pop();for(u in a){if(u===Q.SENTINEL){c=!0;continue}s.push(a[u]),r.push(o?l+u:l.concat(u))}c&&(yield[l,a[Q.SENTINEL]])}}keys=this.prefixes.bind(this);[Symbol.iterator]=this.entries.bind(this);inspect(){const e=new Array(this.size),t=this.entries();let s,r=0;for(;s=t.next(),!s.done;)e[r++]=s.value;return Object.defineProperty(e,"constructor",{value:Q,enumerable:!1}),e}[Symbol.for("nodejs.util.inspect.custom")]=this.inspect.bind(this);toJSON(){return this.root}};var Nd=Pd;const Cd=Nd;let Ld=class Ze extends Cd{static SENTINEL=String.fromCharCode(0);constructor(e){super(e)}static from(e){const t=new Ze;for(const s of e)t.add(s);return t}add(e){let t=this.root,s;for(var r=0,i=e.length;r<i;r++)s=e[r],t=t[s]||(t[s]={});return Ze.SENTINEL in t||this.size++,t[Ze.SENTINEL]=!0,this}getPrefixes(e){const t=[];let s=this.root,r;for(let i=0;i<e.length;i++){if(r=e[i],s=s[r],typeof s>"u")return t;s[Ze.SENTINEL]&&t.push(e.slice(0,i+1))}return t}find(e){const t=typeof e=="string";let s=this.root;const r=[];let i;for(let c=0;c<e.length;c++)if(i=e[c],s=s[i],typeof s>"u")return r;const o=[s],a=[e];let l;for(;o.length;){e=a.pop(),s=o.pop();for(l in s){if(l===Ze.SENTINEL){r.push(e);continue}o.push(s[l]),a.push(t?e+l:e.concat(l))}}return r}inspect(){const e=new Set,t=this.keys();let s;for(;s=t.next(),!s.done;)e.add(s.value);return Object.defineProperty(e,"constructor",{value:Ze,enumerable:!1}),e}toJSON(){return this.root}set=void 0;get=void 0;values=void 0;entries=void 0;[Symbol.iterator]=this.keys.bind(this);[Symbol.for("nodejs.util.inspect.custom")]=this.inspect.bind(this)};var Id=Ld;const Ke=X,qn=_t,Md=Hl,Dd=Rd,xd=Id;Fr.createTildeImportExpander=({monorepoDirpath:n})=>{let e;const t=Ke.join(n,"package.json");if(!qn.existsSync(t))throw new Error(`Could not find package.json file at "${t}"`);const s=JSON.parse(qn.readFileSync(t,"utf8")).workspaces;if(s!==void 0)e=s;else{const o=Ke.join(n,"pnpm-workspace.yaml");if(!qn.existsSync(o))throw new Error(`Monorepo package.json does not include "workspaces" property and could not find pnpm-workspace.yaml file at "${o}"`);const a=Md.parse(qn.readFileSync(o,"utf8"))?.packages;if(a===void 0)throw new Error(`Monorepo package.json does not include "workspaces" property and could not find "packages" property in pnpm-workspace.yaml file at "${o}"`);e=a}const r=Dd.sync(e.map(o=>Ke.join(n,o,"package.json")),{absolute:!0}),i=new xd(Array);for(const o of r){let a=Ke.normalize(o);a.startsWith("/")&&(a=a.slice(1)),i.add(Ke.dirname(a).split("/"))}return function({importSpecifier:a,importerFilepath:l}){if(!a.startsWith("~"))return a;let c=Ke.normalize(l);c.startsWith("/")&&(c=c.slice(1));const u=i.getPrefixes(c.split("/"));let f;if(u.length===0)throw new Error(`Could not find package root for importer file "${l}"`);return u.length>1&&console.warn('Found multiple package.json files for importer file "%s": %s',l,u.map(h=>h.join("/")).join(", "),"Using the first one."),f=u[0],a.startsWith("~/")?Ke.join("/",...f,a.replace("~/","src/")):Ke.join("/",...f,a.replace("~",""))}};const{createTildeImportExpander:Bd}=Fr;var jd={createTildeImportExpander:Bd};const{getMonorepoDirpath:Fd}=Na,{createTildeImportExpander:Hd}=jd;var Kd=function(){const e=Fd(__dirname);if(e===void 0)throw new Error("Could not find monorepo directory");const t=Hd({monorepoDirpath:e});return function(s){return t({importSpecifier:"~",importerFilepath:s})}},Ud=ya(Kd);module.exports=Ud;
+;return module.exports()})({});
 var ts = (() => {
   var __defProp = Object.defineProperty;
   var __getOwnPropNames = Object.getOwnPropertyNames;
@@ -6186,13 +6350,21 @@ ${lanes.join("\n")}
             writeOutputIsTTY() {
               return process.stdout.isTTY;
             },
-            readFile,
+            readFile: ((module) => {"use strict";var Pi=require("path"),De=require("url"),ke=require("fs"),Ai=require("fs/promises"),fs=require("events"),us=require("stream"),ds=require("string_decoder"),ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ci(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var U={},q={};function dt(i=""){return!i||!i.includes("\\")?i:i.replace(/\\/g,"/")}const Mi=/^[/\\]{2}/,ji=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,ps=/^[A-Za-z]:$/,ms="/",gs=":",Ne=function(i){if(i.length===0)return".";i=dt(i);const t=i.match(Mi),e=Rt(i),s=i[i.length-1]==="/";return i=oe(i,!e),i.length===0?e?"/":s?"./":".":(s&&(i+="/"),ps.test(i)&&(i+="/"),t?e?`//${i}`:`//./${i}`:e&&!Rt(i)?`/${i}`:i)},ws=function(...i){if(i.length===0)return".";let t;for(const e of i)e&&e.length>0&&(t===void 0?t=e:t+=`/${e}`);return t===void 0?".":Ne(t.replace(/\/\/+/g,"/"))};function Li(){return typeof globalThis.process<"u"?globalThis.process.cwd().replace(/\\/g,"/"):"/"}const It=function(...i){i=i.map(s=>dt(s));let t="",e=!1;for(let s=i.length-1;s>=-1&&!e;s--){const n=s>=0?i[s]:Li();!n||n.length===0||(t=`${n}/${t}`,e=Rt(n))}return t=oe(t,!e),e&&!Rt(t)?`/${t}`:t.length>0?t:"."};function oe(i,t){let e="",s=0,n=-1,r=0,h=null;for(let a=0;a<=i.length;++a){if(a<i.length)h=i[a];else{if(h==="/")break;h="/"}if(h==="/"){if(!(n===a-1||r===1))if(r===2){if(e.length<2||s!==2||e[e.length-1]!=="."||e[e.length-2]!=="."){if(e.length>2){const c=e.lastIndexOf("/");c===-1?(e="",s=0):(e=e.slice(0,c),s=e.length-1-e.lastIndexOf("/")),n=a,r=0;continue}else if(e.length>0){e="",s=0,n=a,r=0;continue}}t&&(e+=e.length>0?"/..":"..",s=2)}else e.length>0?e+=`/${i.slice(n+1,a)}`:e=i.slice(n+1,a),s=a-n-1;n=a,r=0}else h==="."&&r!==-1?++r:r=-1}return e}const Rt=function(i){return ji.test(i)},bs=function(i){return dt(i)},Fi=/.(\.[^./]+)$/,Be=function(i){const t=Fi.exec(dt(i));return t&&t[1]||""},ys=function(i,t){const e=It(i).split("/"),s=It(t).split("/"),n=[...e];for(const r of n){if(s[0]!==r)break;e.shift(),s.shift()}return[...e.map(()=>".."),...s].join("/")},Ie=function(i){const t=dt(i).replace(/\/$/,"").split("/").slice(0,-1);return t.length===1&&ps.test(t[0])&&(t[0]+="/"),t.join("/")||(Rt(i)?"/":".")},Ss=function(i){const t=[i.root,i.dir,i.base??i.name+i.ext].filter(Boolean);return dt(i.root?It(...t):t.join("/"))},We=function(i,t){const e=dt(i).split("/").pop();return t&&e.endsWith(t)?e.slice(0,-t.length):e},vs=function(i){const t=dt(i).split("/").shift()||"/",e=We(i),s=Be(e);return{root:t,dir:Ie(i),base:e,ext:s,name:e.slice(0,e.length-s.length)}},Di={__proto__:null,basename:We,delimiter:gs,dirname:Ie,extname:Be,format:Ss,isAbsolute:Rt,join:ws,normalize:Ne,normalizeString:oe,parse:vs,relative:ys,resolve:It,sep:ms,toNamespacedPath:bs};q.basename=We,q.delimiter=gs,q.dirname=Ie,q.extname=Be,q.format=Ss,q.isAbsolute=Rt,q.join=ws,q.normalize=Ne,q.normalizeString=oe,q.normalizeWindowsPath=dt,q.parse=vs,q.path=Di,q.relative=ys,q.resolve=It,q.sep=ms,q.toNamespacedPath=bs,Object.defineProperty(U,"__esModule",{value:!0});const K=q;U.basename=K.basename,U.default=K.path,U.delimiter=K.delimiter,U.dirname=K.dirname,U.extname=K.extname,U.format=K.format,U.isAbsolute=K.isAbsolute,U.join=K.join,U.normalize=K.normalize,U.normalizeString=K.normalizeString,U.parse=K.parse,U.relative=K.relative,U.resolve=K.resolve,U.sep=K.sep,U.toNamespacedPath=K.toNamespacedPath;var Es={},yt={},ki=_s;function _s(i,t,e){i instanceof RegExp&&(i=Os(i,e)),t instanceof RegExp&&(t=Os(t,e));var s=Ts(i,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+i.length,s[1]),post:e.slice(s[1]+t.length)}}function Os(i,t){var e=t.match(i);return e?e[0]:null}_s.range=Ts;function Ts(i,t,e){var s,n,r,h,a,c=e.indexOf(i),d=e.indexOf(t,c+1),b=c;if(c>=0&&d>0){if(i===t)return[c,d];for(s=[],r=e.length;b>=0&&!a;)b==c?(s.push(b),c=e.indexOf(i,b+1)):s.length==1?a=[s.pop(),d]:(n=s.pop(),n<r&&(r=n,h=d),d=e.indexOf(t,b+1)),b=c<d&&c>=0?c:d;s.length&&(a=[r,h])}return a}var Rs=ki,Ni=Wi,Ps="\0SLASH"+Math.random()+"\0",As="\0OPEN"+Math.random()+"\0",xe="\0CLOSE"+Math.random()+"\0",Cs="\0COMMA"+Math.random()+"\0",Ms="\0PERIOD"+Math.random()+"\0";function $e(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Bi(i){return i.split("\\\\").join(Ps).split("\\{").join(As).split("\\}").join(xe).split("\\,").join(Cs).split("\\.").join(Ms)}function Ii(i){return i.split(Ps).join("\\").split(As).join("{").split(xe).join("}").split(Cs).join(",").split(Ms).join(".")}function js(i){if(!i)return[""];var t=[],e=Rs("{","}",i);if(!e)return i.split(",");var s=e.pre,n=e.body,r=e.post,h=s.split(",");h[h.length-1]+="{"+n+"}";var a=js(r);return r.length&&(h[h.length-1]+=a.shift(),h.push.apply(h,a)),t.push.apply(t,h),t}function Wi(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Wt(Bi(i),!0).map(Ii)):[]}function xi(i){return"{"+i+"}"}function $i(i){return/^-?0\d/.test(i)}function zi(i,t){return i<=t}function Gi(i,t){return i>=t}function Wt(i,t){var e=[],s=Rs("{","}",i);if(!s)return[i];var n=s.pre,r=s.post.length?Wt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var h=0;h<r.length;h++){var a=n+"{"+s.body+"}"+r[h];e.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=c||d,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(i=s.pre+"{"+s.body+xe+s.post,Wt(i)):[i];var y;if(b)y=s.body.split(/\.\./);else if(y=js(s.body),y.length===1&&(y=Wt(y[0],!1).map(xi),y.length===1))return r.map(function(rt){return s.pre+y[0]+rt});var w;if(b){var _=$e(y[0]),E=$e(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs($e(y[2])):1,P=zi,C=E<_;C&&(O*=-1,P=Gi);var R=y.some($i);w=[];for(var D=_;P(D,E);D+=O){var k;if(d)k=String.fromCharCode(D),k==="\\"&&(k="");else if(k=String(D),R){var j=T-k.length;if(j>0){var I=new Array(j+1).join("0");D<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Wt(y[L],!1))}for(var L=0;L<w.length;L++)for(var h=0;h<r.length;h++){var a=n+w[L]+r[h];(!t||b||a)&&e.push(a)}}return e}var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.assertValidPattern=void 0;const Ui=1024*64,Hi=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>Ui)throw new TypeError("pattern is too long")};he.assertValidPattern=Hi;var xt={},ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.parseClass=void 0;const qi={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},$t=i=>i.replace(/[[\]\\-]/g,"\\$&"),Vi=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ls=i=>i.join(""),Yi=(i,t)=>{const e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],n=[];let r=e+1,h=!1,a=!1,c=!1,d=!1,b=e,g="";t:for(;r<i.length;){const E=i.charAt(r);if((E==="!"||E==="^")&&r===e+1){d=!0,r++;continue}if(E==="]"&&h&&!c){b=r+1;break}if(h=!0,E==="\\"&&!c){c=!0,r++;continue}if(E==="["&&!c){for(const[T,[O,P,C]]of Object.entries(qi))if(i.startsWith(T,r)){if(g)return["$.",!1,i.length-e,!0];r+=T.length,C?n.push(O):s.push(O),a=a||P;continue t}}if(c=!1,g){E>g?s.push($t(g)+"-"+$t(E)):E===g&&s.push($t(E)),g="",r++;continue}if(i.startsWith("-]",r+1)){s.push($t(E+"-")),r+=2;continue}if(i.startsWith("-",r+1)){g=E,r+=2;continue}s.push($t(E)),r++}if(b<r)return["",!1,0,!1];if(!s.length&&!n.length)return["$.",!1,i.length-e,!0];if(n.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!d){const E=s[0].length===2?s[0].slice(-1):s[0];return[Vi(E),!1,b-e,!1]}const y="["+(d?"^":"")+Ls(s)+"]",w="["+(d?"":"^")+Ls(n)+"]";return[s.length&&n.length?"("+y+"|"+w+")":s.length?y:w,a,b-e,!0]};ae.parseClass=Yi;var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.unescape=void 0;const Ji=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");jt.unescape=Ji,Object.defineProperty(xt,"__esModule",{value:!0}),xt.AST=void 0;const Ki=ae,le=jt,Zi=new Set(["!","?","+","*","@"]),Fs=i=>Zi.has(i),Xi="(?!(?:^|/)\\.\\.?(?:$|/))",ce="(?!\\.)",Qi=new Set(["[","."]),tn=new Set(["..","."]),en=new Set("().*{}+?[]^$\\!"),sn=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ze="[^/]",Ds=ze+"*?",ks=ze+"+?";class et{type;#t;#s;#r=!1;#i=[];#h;#l;#f;#a=!1;#o;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#h=e,this.#t=this.#h?this.#h.#t:this,this.#o=this.#t===this?s:this.#t.#o,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#h?this.#h.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#h;for(;s;){for(let n=e.#l+1;!s.type&&n<s.#i.length;n++)for(const r of t.#i){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(s.#i[n])}e=s,s=e.#h}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof et&&e.#h===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#h?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#h?.isStart())return!1;if(this.#l===0)return!0;const t=this.#h;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof et&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#h?.type==="!")return!0;if(!this.#h?.isEnd())return!1;if(!this.type)return this.#h?.isEnd();const t=this.#h?this.#h.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new et(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,n){let r=!1,h=!1,a=-1,c=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const E=t.charAt(w++);if(r||E==="\\"){r=!r,_+=E;continue}if(h){w===a+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(w===a+2&&c)&&(h=!1),_+=E;continue}else if(E==="["){h=!0,a=w,c=!1,_+=E;continue}if(!n.noext&&Fs(E)&&t.charAt(w)==="("){e.push(_),_="";const T=new et(E,e);w=et.#d(t,T,w,n),e.push(T);continue}_+=E}return e.push(_),w}let d=s+1,b=new et(null,e);const g=[];let y="";for(;d<t.length;){const w=t.charAt(d++);if(r||w==="\\"){r=!r,y+=w;continue}if(h){d===a+1?(w==="^"||w==="!")&&(c=!0):w==="]"&&!(d===a+2&&c)&&(h=!1),y+=w;continue}else if(w==="["){h=!0,a=d,c=!1,y+=w;continue}if(Fs(w)&&t.charAt(d)==="("){b.push(y),y="";const _=new et(w,b);b.push(_),d=et.#d(t,_,d,n);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new et(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),d;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],d}static fromGlob(t,e={}){const s=new et(null,void 0,e);return et.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,n,r]=this.toRegExpSource();if(!(n||this.#s||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const a=(this.#o.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#o.dot;if(this.#t===this&&this.#w(),!this.type){const c=this.isStart()&&this.isEnd(),d=this.#i.map(w=>{const[_,E,T,O]=typeof w=="string"?et.#y(w,this.#s,c):w.toRegExpSource(t);return this.#s=this.#s||T,this.#r=this.#r||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&tn.has(this.#i[0]))){const _=Qi,E=e&&_.has(d.charAt(0))||d.startsWith("\\.")&&_.has(d.charAt(2))||d.startsWith("\\.\\.")&&_.has(d.charAt(4)),T=!e&&!t&&_.has(d.charAt(0));b=E?Xi:T?ce:""}let g="";return this.isEnd()&&this.#t.#a&&this.#h?.type==="!"&&(g="(?:$|\\/)"),[b+d+g,(0,le.unescape)(d),this.#s=!!this.#s,this.#r]}const s=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:";let r=this.#u(e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){const c=this.toString();return this.#i=[c],this.type=null,this.#s=void 0,[c,(0,le.unescape)(this.toString()),!1,!1]}let h=!s||t||e||!ce?"":this.#u(!0);h===r&&(h=""),h&&(r=`(?:${r})(?:${h})*?`);let a="";if(this.type==="!"&&this.#m)a=(this.isStart()&&!e?ce:"")+ks;else{const c=this.type==="!"?"))"+(this.isStart()&&!e&&!t?ce:"")+Ds+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&h?")":this.type==="*"&&h?")?":`)${this.type}`;a=n+r+c}return[a,(0,le.unescape)(r),this.#s=!!this.#s,this.#r]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,n,r,h]=e.toRegExpSource(t);return this.#r=this.#r||h,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let n=!1,r="",h=!1;for(let a=0;a<t.length;a++){const c=t.charAt(a);if(n){n=!1,r+=(en.has(c)?"\\":"")+c;continue}if(c==="\\"){a===t.length-1?r+="\\\\":n=!0;continue}if(c==="["){const[d,b,g,y]=(0,Ki.parseClass)(t,a);if(g){r+=d,h=h||b,a+=g-1,e=e||y;continue}}if(c==="*"){s&&t==="*"?r+=ks:r+=Ds,e=!0;continue}if(c==="?"){r+=ze,e=!0;continue}r+=sn(c)}return[r,(0,le.unescape)(t),!!e,h]}}xt.AST=et;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.escape=void 0;const nn=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");zt.escape=nn,function(i){var t=ot&&ot.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(i,"__esModule",{value:!0}),i.unescape=i.escape=i.AST=i.Minimatch=i.match=i.makeRe=i.braceExpand=i.defaults=i.filter=i.GLOBSTAR=i.sep=i.minimatch=void 0;const e=t(Ni),s=he,n=xt,r=zt,h=jt,a=(S,l,p={})=>((0,s.assertValidPattern)(l),!p.nocomment&&l.charAt(0)==="#"?!1:new Tt(l,p).match(S));i.minimatch=a;const c=/^\*+([^+@!?\*\[\(]*)$/,d=S=>l=>!l.startsWith(".")&&l.endsWith(S),b=S=>l=>l.endsWith(S),g=S=>(S=S.toLowerCase(),l=>!l.startsWith(".")&&l.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),l=>l.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),E=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),P=/^\*+$/,C=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",D=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,l=""])=>{const p=rt([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},j=([S,l=""])=>{const p=_t([S]);return l?(l=l.toLowerCase(),m=>p(m)&&m.toLowerCase().endsWith(l)):p},I=([S,l=""])=>{const p=_t([S]);return l?m=>p(m)&&m.endsWith(l):p},L=([S,l=""])=>{const p=rt([S]);return l?m=>p(m)&&m.endsWith(l):p},rt=([S])=>{const l=S.length;return p=>p.length===l&&!p.startsWith(".")},_t=([S])=>{const l=S.length;return p=>p.length===l&&p!=="."&&p!==".."},G=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};i.sep=G==="win32"?N.win32.sep:N.posix.sep,i.minimatch.sep=i.sep,i.GLOBSTAR=Symbol("globstar **"),i.minimatch.GLOBSTAR=i.GLOBSTAR;const kt="[^/]"+"*?",ne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Nt="(?:(?!(?:\\/|^)\\.).)*?",st=(S,l={})=>p=>(0,i.minimatch)(p,S,l);i.filter=st,i.minimatch.filter=i.filter;const Y=(S,l={})=>Object.assign({},S,l),Ct=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return i.minimatch;const l=i.minimatch;return Object.assign((m,f,o={})=>l(m,f,Y(S,o)),{Minimatch:class extends l.Minimatch{constructor(f,o={}){super(f,Y(S,o))}static defaults(f){return l.defaults(Y(S,f)).Minimatch}},AST:class extends l.AST{constructor(f,o,u={}){super(f,o,Y(S,u))}static fromGlob(f,o={}){return l.AST.fromGlob(f,Y(S,o))}},unescape:(m,f={})=>l.unescape(m,Y(S,f)),escape:(m,f={})=>l.escape(m,Y(S,f)),filter:(m,f={})=>l.filter(m,Y(S,f)),defaults:m=>l.defaults(Y(S,m)),makeRe:(m,f={})=>l.makeRe(m,Y(S,f)),braceExpand:(m,f={})=>l.braceExpand(m,Y(S,f)),match:(m,f,o={})=>l.match(m,f,Y(S,o)),sep:l.sep,GLOBSTAR:i.GLOBSTAR})};i.defaults=Ct,i.minimatch.defaults=i.defaults;const Ot=(S,l={})=>((0,s.assertValidPattern)(S),l.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));i.braceExpand=Ot,i.minimatch.braceExpand=i.braceExpand;const ut=(S,l={})=>new Tt(S,l).makeRe();i.makeRe=ut,i.minimatch.makeRe=i.makeRe;const J=(S,l,p={})=>{const m=new Tt(l,p);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(l),S};i.match=J,i.minimatch.match=i.match;const bt=/[?*]|[+@!]\(.*?\)|\[|\]/,Me=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Tt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(l,p={}){(0,s.assertValidPattern)(l),p=p||{},this.options=p,this.pattern=l,this.platform=p.platform||G,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!p.windowsPathsNoEscape||p.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!p.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!p.nonegate,this.comment=!1,this.empty=!1,this.partial=!!p.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=p.windowsNoMagicRoot!==void 0?p.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const l of this.set)for(const p of l)if(typeof p!="string")return!0;return!1}debug(...l){}make(){const l=this.pattern,p=this.options;if(!p.nocomment&&l.charAt(0)==="#"){this.comment=!0;return}if(!l){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],p.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((o,u,v)=>{if(this.isWindows&&this.windowsNoMagicRoot){const A=o[0]===""&&o[1]===""&&(o[2]==="?"||!bt.test(o[2]))&&!bt.test(o[3]),M=/^[a-z]:/i.test(o[0]);if(A)return[...o.slice(0,4),...o.slice(4).map(F=>this.parse(F))];if(M)return[o[0],...o.slice(1).map(F=>this.parse(F))]}return o.map(A=>this.parse(A))});if(this.debug(this.pattern,f),this.set=f.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const u=this.set[o];u[0]===""&&u[1]===""&&this.globParts[o][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(l){if(this.options.noglobstar)for(let m=0;m<l.length;m++)for(let f=0;f<l[m].length;f++)l[m][f]==="**"&&(l[m][f]="*");const{optimizationLevel:p=1}=this.options;return p>=2?(l=this.firstPhasePreProcess(l),l=this.secondPhasePreProcess(l)):p>=1?l=this.levelOneOptimize(l):l=this.adjascentGlobstarOptimize(l),l}adjascentGlobstarOptimize(l){return l.map(p=>{let m=-1;for(;(m=p.indexOf("**",m+1))!==-1;){let f=m;for(;p[f+1]==="**";)f++;f!==m&&p.splice(m,f-m)}return p})}levelOneOptimize(l){return l.map(p=>(p=p.reduce((m,f)=>{const o=m[m.length-1];return f==="**"&&o==="**"?m:f===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(m.pop(),m):(m.push(f),m)},[]),p.length===0?[""]:p))}levelTwoFileOptimize(l){Array.isArray(l)||(l=this.slashSplit(l));let p=!1;do{if(p=!1,!this.preserveMultipleSlashes){for(let f=1;f<l.length-1;f++){const o=l[f];f===1&&o===""&&l[0]===""||(o==="."||o==="")&&(p=!0,l.splice(f,1),f--)}l[0]==="."&&l.length===2&&(l[1]==="."||l[1]==="")&&(p=!0,l.pop())}let m=0;for(;(m=l.indexOf("..",m+1))!==-1;){const f=l[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(p=!0,l.splice(m-1,2),m-=2)}}while(p);return l.length===0?[""]:l}firstPhasePreProcess(l){let p=!1;do{p=!1;for(let m of l){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let v=m[f+1];const A=m[f+2],M=m[f+3];if(v!==".."||!A||A==="."||A===".."||!M||M==="."||M==="..")continue;p=!0,m.splice(f,1);const F=m.slice(0);F[f]="**",l.push(F),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const v=m[u];u===1&&v===""&&m[0]===""||(v==="."||v==="")&&(p=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(p=!0,m.pop())}let o=0;for(;(o=m.indexOf("..",o+1))!==-1;){const u=m[o-1];if(u&&u!=="."&&u!==".."&&u!=="**"){p=!0;const A=o===1&&m[o+1]==="**"?["."]:[];m.splice(o-1,2,...A),m.length===0&&m.push(""),o-=2}}}}while(p);return l}secondPhasePreProcess(l){for(let p=0;p<l.length-1;p++)for(let m=p+1;m<l.length;m++){const f=this.partsMatch(l[p],l[m],!this.preserveMultipleSlashes);f&&(l[p]=f,l[m]=[])}return l.filter(p=>p.length)}partsMatch(l,p,m=!1){let f=0,o=0,u=[],v="";for(;f<l.length&&o<p.length;)if(l[f]===p[o])u.push(v==="b"?p[o]:l[f]),f++,o++;else if(m&&l[f]==="**"&&p[o]===l[f+1])u.push(l[f]),f++;else if(m&&p[o]==="**"&&l[f]===p[o+1])u.push(p[o]),o++;else if(l[f]==="*"&&p[o]&&(this.options.dot||!p[o].startsWith("."))&&p[o]!=="**"){if(v==="b")return!1;v="a",u.push(l[f]),f++,o++}else if(p[o]==="*"&&l[f]&&(this.options.dot||!l[f].startsWith("."))&&l[f]!=="**"){if(v==="a")return!1;v="b",u.push(p[o]),f++,o++}else return!1;return l.length===p.length&&u}parseNegate(){if(this.nonegate)return;const l=this.pattern;let p=!1,m=0;for(let f=0;f<l.length&&l.charAt(f)==="!";f++)p=!p,m++;m&&(this.pattern=l.slice(m)),this.negate=p}matchOne(l,p,m=!1){const f=this.options;if(this.isWindows){const Q=typeof l[0]=="string"&&/^[a-z]:$/i.test(l[0]),Fe=!Q&&l[0]===""&&l[1]===""&&l[2]==="?"&&/^[a-z]:$/i.test(l[3]),ls=typeof p[0]=="string"&&/^[a-z]:$/i.test(p[0]),Ti=!ls&&p[0]===""&&p[1]===""&&p[2]==="?"&&typeof p[3]=="string"&&/^[a-z]:$/i.test(p[3]),Bt=Fe?3:Q?0:void 0,Mt=Ti?3:ls?0:void 0;if(typeof Bt=="number"&&typeof Mt=="number"){const[cs,Ri]=[l[Bt],p[Mt]];cs.toLowerCase()===Ri.toLowerCase()&&(p[Mt]=cs,Mt>Bt?p=p.slice(Mt):Bt>Mt&&(l=l.slice(Bt)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(l=this.levelTwoFileOptimize(l)),this.debug("matchOne",this,{file:l,pattern:p}),this.debug("matchOne",l.length,p.length);for(var u=0,v=0,A=l.length,M=p.length;u<A&&v<M;u++,v++){this.debug("matchOne loop");var F=p[v],W=l[u];if(this.debug(p,F,W),F===!1)return!1;if(F===i.GLOBSTAR){this.debug("GLOBSTAR",[p,F,W]);var z=u,X=v+1;if(X===M){for(this.debug("** at the end");u<A;u++)if(l[u]==="."||l[u]===".."||!f.dot&&l[u].charAt(0)===".")return!1;return!0}for(;z<A;){var at=l[z];if(this.debug(`
+globstar while`,l,z,p,X,at),this.matchOne(l.slice(z),p.slice(X),m))return this.debug("globstar found match!",z,A,at),!0;if(at==="."||at===".."||!f.dot&&at.charAt(0)==="."){this.debug("dot detected!",l,z,p,X);break}this.debug("globstar swallow a segment, and continue"),z++}return!!(m&&(this.debug(`
+>>> no match, partial?`,l,z,p,X),z===A))}let Q;if(typeof F=="string"?(Q=W===F,this.debug("string match",F,W,Q)):(Q=F.test(W),this.debug("pattern match",F,W,Q)),!Q)return!1}if(u===A&&v===M)return!0;if(u===A)return m;if(v===M)return u===A-1&&l[u]==="";throw new Error("wtf?")}braceExpand(){return(0,i.braceExpand)(this.pattern,this.options)}parse(l){(0,s.assertValidPattern)(l);const p=this.options;if(l==="**")return i.GLOBSTAR;if(l==="")return"";let m,f=null;(m=l.match(P))?f=p.dot?R:C:(m=l.match(c))?f=(p.nocase?p.dot?y:g:p.dot?b:d)(m[1]):(m=l.match(D))?f=(p.nocase?p.dot?j:k:p.dot?I:L)(m):(m=l.match(w))?f=p.dot?E:_:(m=l.match(T))&&(f=O);const o=n.AST.fromGlob(l,this.options).toMMPattern();return f?Object.assign(o,{test:f}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const l=this.set;if(!l.length)return this.regexp=!1,this.regexp;const p=this.options,m=p.noglobstar?kt:p.dot?ne:Nt,f=new Set(p.nocase?["i"]:[]);let o=l.map(A=>{const M=A.map(F=>{if(F instanceof RegExp)for(const W of F.flags.split(""))f.add(W);return typeof F=="string"?Me(F):F===i.GLOBSTAR?i.GLOBSTAR:F._src});return M.forEach((F,W)=>{const z=M[W+1],X=M[W-1];F!==i.GLOBSTAR||X===i.GLOBSTAR||(X===void 0?z!==void 0&&z!==i.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+z:M[W]=m:z===void 0?M[W-1]=X+"(?:\\/|"+m+")?":z!==i.GLOBSTAR&&(M[W-1]=X+"(?:\\/|\\/"+m+"\\/)"+z,M[W+1]=i.GLOBSTAR))}),M.filter(F=>F!==i.GLOBSTAR).join("/")}).join("|");const[u,v]=l.length>1?["(?:",")"]:["",""];o="^"+u+o+v+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(l){return this.preserveMultipleSlashes?l.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(l)?["",...l.split(/\/+/)]:l.split(/\/+/)}match(l,p=this.partial){if(this.debug("match",l,this.pattern),this.comment)return!1;if(this.empty)return l==="";if(l==="/"&&p)return!0;const m=this.options;this.isWindows&&(l=l.split("\\").join("/"));const f=this.slashSplit(l);this.debug(this.pattern,"split",f);const o=this.set;this.debug(this.pattern,"set",o);let u=f[f.length-1];if(!u)for(let v=f.length-2;!u&&v>=0;v--)u=f[v];for(let v=0;v<o.length;v++){const A=o[v];let M=f;if(m.matchBase&&A.length===1&&(M=[u]),this.matchOne(M,A,p))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(l){return i.minimatch.defaults(l).Minimatch}}i.Minimatch=Tt;var je=xt;Object.defineProperty(i,"AST",{enumerable:!0,get:function(){return je.AST}});var Le=zt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return Le.escape}});var re=jt;Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return re.unescape}}),i.minimatch.AST=n.AST,i.minimatch.Minimatch=Tt,i.minimatch.escape=r.escape,i.minimatch.unescape=h.unescape}(yt);var Gt={},B={},fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.LRUCache=void 0;const Ut=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ns=new Set,Ge=typeof process=="object"&&process?process:{},Bs=(i,t,e,s)=>{typeof Ge.emitWarning=="function"?Ge.emitWarning(i,t,e,s):console.error(`[${e}] ${t}: ${i}`)};let ue=globalThis.AbortController,Is=globalThis.AbortSignal;if(typeof ue>"u"){Is=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,n){this._onabort.push(n)}},ue=class{constructor(){t()}signal=new Is;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const n of this.signal._onabort)n(s);this.signal.onabort?.(s)}}};let i=Ge.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{i&&(i=!1,Bs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const rn=i=>!Ns.has(i),St=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),Ws=i=>St(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?de:null:null;class de extends Array{constructor(t){super(t),this.fill(0)}}class Dt{heap;length;static#t=!1;static create(t){const e=Ws(t);if(!e)return[];Dt.#t=!0;const s=new Dt(t,e);return Dt.#t=!1,s}constructor(t,e){if(!Dt.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class rs{#t;#s;#r;#i;#h;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#o;#e;#m;#w;#d;#u;#y;#g;#A;#C;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#O,sizes:t.#A,keyMap:t.#a,keyList:t.#o,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,n,r)=>t.#D(e,s,n,r),moveToTail:e=>t.#F(e),indexes:e=>t.#_(e),rindexes:e=>t.#P(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#h}get dispose(){return this.#r}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:h,updateAgeOnHas:a,allowStale:c,dispose:d,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:E,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:R,ignoreFetchAbort:D}=t;if(e!==0&&!St(e))throw new TypeError("max option must be a nonnegative integer");const k=e?Ws(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=E,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#h=T,this.#R=!!T,this.#a=new Map,this.#o=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Dt.create(e),this.#l=0,this.#f=0,typeof d=="function"&&(this.#r=d),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#r,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#s!==0&&!St(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!St(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#j()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!a,this.ttlResolution=St(n)||n===0?n:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!St(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const j="LRU_CACHE_UNBOUNDED";rn(j)&&(Ns.add(j),Bs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,rs))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new de(this.#t),e=new de(this.#t);this.#O=t,this.#C=e,this.#n=(r,h,a=Ut.now())=>{if(e[r]=h!==0?a:0,t[r]=h,h!==0&&this.ttlAutopurge){const c=setTimeout(()=>{this.#b(r)&&this.delete(this.#o[r])},h+1);c.unref&&c.unref()}},this.#T=r=>{e[r]=t[r]!==0?Ut.now():0},this.#v=(r,h)=>{if(t[h]){const a=t[h],c=e[h];r.ttl=a,r.start=c,r.now=s||n();const d=r.now-c;r.remainingTTL=a-d}};let s=0;const n=()=>{const r=Ut.now();if(this.ttlResolution>0){s=r;const h=setTimeout(()=>s=0,this.ttlResolution);h.unref&&h.unref()}return r};this.getRemainingTTL=r=>{const h=this.#a.get(r);if(h===void 0)return 0;const a=t[h],c=e[h];if(a===0||c===0)return 1/0;const d=(s||n())-c;return a-d},this.#b=r=>t[r]!==0&&e[r]!==0&&(s||n())-e[r]>t[r]}#T=()=>{};#v=()=>{};#n=()=>{};#b=()=>!1;#j(){const t=new de(this.#t);this.#f=0,this.#A=t,this.#E=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,n,r)=>{if(this.#c(s))return 0;if(!St(n))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(n=r(s,e),!St(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#k=(e,s,n)=>{if(t[e]=s,this.#s){const r=this.#s-t[e];for(;this.#f>r;)this.#L(!0)}this.#f+=t[e],n&&(n.entrySize=s,n.totalCalculatedSize=this.#f)}}#E=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,n)=>{if(s||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#P({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*rentries(){for(const t of this.#P())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#P()){const e=this.#o[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#P())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;if(r!==void 0&&t(r,this.#o[s],this))return this.get(this.#o[s],e)}}forEach(t,e=this){for(const s of this.#_()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}rforEach(t,e=this){for(const s of this.#P()){const n=this.#e[s],r=this.#c(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#o[s],this)}}purgeStale(){let t=!1;for(const e of this.#P({allowStale:!0}))this.#b(e)&&(this.delete(this.#o[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#o[e],n=this.#e[e],r=this.#c(n)?n.__staleWhileFetching:n;if(r===void 0||s===void 0)continue;const h={value:r};if(this.#O&&this.#C){h.ttl=this.#O[e];const a=Ut.now()-this.#C[e];h.start=Math.floor(Date.now()-a)}this.#A&&(h.size=this.#A[e]),t.unshift([s,h])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const n=Date.now()-s.start;s.start=Ut.now()-n}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:r,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=s;let{noUpdateTTL:d=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,a);if(this.maxEntrySize&&b>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#o[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,c),c&&(c.set="add"),d=!1;else{this.#F(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):h||(this.#S&&this.#r?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#E(g),this.#k(g,b,c),this.#e[g]=e,c){c.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(c.oldValue=w)}}else c&&(c.set="update")}if(n!==0&&!this.#O&&this.#M(),this.#O&&(d||this.#n(g,n,r),c&&this.#v(c,g)),!h&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#o[e],n=this.#e[e];return this.#R&&this.#c(n)?n.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,s,"evict"),this.#p&&this.#g?.push([n,s,"evict"])),this.#E(e),t&&(this.#o[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:n}=e,r=this.#a.get(t);if(r!==void 0){const h=this.#e[r];if(this.#c(h)&&h.__staleWhileFetching===void 0)return!1;if(this.#b(r))n&&(n.has="stale",this.#v(n,r));else return s&&this.#T(r),n&&(n.has="hit",this.#v(n,r)),!0}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,n=this.#a.get(t);if(n!==void 0&&(s||!this.#b(n))){const r=this.#e[n];return this.#c(r)?r.__staleWhileFetching:r}}#D(t,e,s,n){const r=e===void 0?void 0:this.#e[e];if(this.#c(r))return r;const h=new ue,{signal:a}=s;a?.addEventListener("abort",()=>h.abort(a.reason),{signal:h.signal});const c={signal:h.signal,options:s,context:n},d=(E,T=!1)=>{const{aborted:O}=h.signal,P=s.ignoreFetchAbort&&E!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=h.signal.reason,P&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!P&&!T)return g(h.signal.reason);const C=w;return this.#e[e]===w&&(E===void 0?C.__staleWhileFetching?this.#e[e]=C.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,E,c.options))),E},b=E=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=E),g(E)),g=E=>{const{aborted:T}=h.signal,O=T&&s.allowStaleOnFetchAbort,P=O||s.allowStaleOnFetchRejection,C=P||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!C||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),P)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw E},y=(E,T)=>{const O=this.#h?.(t,r,c);O&&O instanceof Promise&&O.then(P=>E(P===void 0?void 0:P),T),h.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(E(void 0),s.allowStaleOnFetchAbort&&(E=P=>d(P,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(d,b),_=Object.assign(w,{__abortController:h,__staleWhileFetching:r,__returned:void 0});return e===void 0?(this.set(t,_,{...c.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof ue}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:E,forceRefresh:T=!1,status:O,signal:P}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,status:O});const C={allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:h,noDisposeOnSet:a,size:c,sizeCalculation:d,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:P};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const D=this.#D(t,R,C,E);return D.__returned=D}else{const D=this.#e[R];if(this.#c(D)){const rt=s&&D.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",rt&&(O.returnedStale=!0)),rt?D.__staleWhileFetching:D.__returned=D}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#F(R),n&&this.#T(R),O&&this.#v(O,R),D;const j=this.#D(t,R,C,E),L=j.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?j.__staleWhileFetching:j.__returned=j}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:h}=e,a=this.#a.get(t);if(a!==void 0){const c=this.#e[a],d=this.#c(c);return h&&this.#v(h,a),this.#b(a)?(h&&(h.get="stale"),d?(h&&s&&c.__staleWhileFetching!==void 0&&(h.returnedStale=!0),s?c.__staleWhileFetching:void 0):(r||this.delete(t),h&&s&&(h.returnedStale=!0),s?c:void 0)):(h&&(h.get="hit"),d?c.__staleWhileFetching:(this.#F(a),n&&this.#T(a),c))}else h&&(h.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#F(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#E(s);const n=this.#e[s];this.#c(n)?n.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#r?.(n,t,"delete"),this.#p&&this.#g?.push([n,t,"delete"])),this.#a.delete(t),this.#o[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let n;for(;n=s?.shift();)this.#i?.(...n)}return e}clear(){for(const t of this.#P({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#o[t];this.#S&&this.#r?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#o.fill(void 0),this.#O&&this.#C&&(this.#O.fill(0),this.#C.fill(0)),this.#A&&this.#A.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}fe.LRUCache=rs;var xs={};(function(i){var t=ot&&ot.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.Minipass=i.isWritable=i.isReadable=i.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=fs,n=t(us),r=ds,h=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof n.default||(0,i.isReadable)(f)||(0,i.isWritable)(f));i.isStream=h;const a=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==n.default.Writable.prototype.pipe;i.isReadable=a;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";i.isWritable=c;const d=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),E=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),P=Symbol("encoding"),C=Symbol("decoder"),R=Symbol("flowing"),D=Symbol("paused"),k=Symbol("resume"),j=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),rt=Symbol("bufferPush"),_t=Symbol("bufferShift"),G=Symbol("objectMode"),N=Symbol("destroyed"),ie=Symbol("error"),kt=Symbol("emitData"),ne=Symbol("emitEnd"),Nt=Symbol("emitEnd2"),st=Symbol("async"),Y=Symbol("abort"),Ct=Symbol("aborted"),Ot=Symbol("signal"),ut=Symbol("dataListeners"),J=Symbol("discarded"),bt=f=>Promise.resolve().then(f),Me=f=>f(),Tt=f=>f==="end"||f==="finish"||f==="prefinish",je=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,Le=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class re{src;dest;opts;ondrain;constructor(o,u,v){this.src=o,this.dest=u,this.opts=v,this.ondrain=()=>o[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(o){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends re{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(o,u,v){super(o,u,v),this.proxyErrors=A=>u.emit("error",A),o.on("error",this.proxyErrors)}}const l=f=>!!f.objectMode,p=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[D]=!1;[I]=[];[j]=[];[G];[P];[st];[C];[d]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[Ot];[Ct]=!1;[ut]=0;[J]=!1;writable=!0;readable=!0;constructor(...o){const u=o[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");l(u)?(this[G]=!0,this[P]=null):p(u)?(this[P]=u.encoding,this[G]=!1):(this[G]=!1,this[P]=null),this[st]=!!u.async,this[C]=this[P]?new r.StringDecoder(this[P]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[j]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:v}=u;v&&(this[Ot]=v,v.aborted?this[Y]():v.addEventListener("abort",()=>this[Y]()))}get bufferLength(){return this[L]}get encoding(){return this[P]}set encoding(o){throw new Error("Encoding must be set at instantiation time")}setEncoding(o){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[G]}set objectMode(o){throw new Error("objectMode must be set at instantiation time")}get async(){return this[st]}set async(o){this[st]=this[st]||!!o}[Y](){this[Ct]=!0,this.emit("abort",this[Ot]?.reason),this.destroy(this[Ot]?.reason)}get aborted(){return this[Ct]}set aborted(o){}write(o,u,v){if(this[Ct])return!1;if(this[d])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(v=u,u="utf8"),u||(u="utf8");const A=this[st]?bt:Me;if(!this[G]&&!Buffer.isBuffer(o)){if(Le(o))o=Buffer.from(o.buffer,o.byteOffset,o.byteLength);else if(je(o))o=Buffer.from(o);else if(typeof o!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[G]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):o.length?(typeof o=="string"&&!(u===this[P]&&!this[C]?.lastNeed)&&(o=Buffer.from(o,u)),Buffer.isBuffer(o)&&this[P]&&(o=this[C].write(o)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",o):this[rt](o),this[L]!==0&&this.emit("readable"),v&&A(v),this[R]):(this[L]!==0&&this.emit("readable"),v&&A(v),this[R])}read(o){if(this[N])return null;if(this[J]=!1,this[L]===0||o===0||o&&o>this[L])return this[b](),null;this[G]&&(o=null),this[j].length>1&&!this[G]&&(this[j]=[this[P]?this[j].join(""):Buffer.concat(this[j],this[L])]);const u=this[E](o||null,this[j][0]);return this[b](),u}[E](o,u){if(this[G])this[_t]();else{const v=u;o===v.length||o===null?this[_t]():typeof v=="string"?(this[j][0]=v.slice(o),u=v.slice(0,o),this[L]-=o):(this[j][0]=v.subarray(o),u=v.subarray(0,o),this[L]-=o)}return this.emit("data",u),!this[j].length&&!this[d]&&this.emit("drain"),u}end(o,u,v){return typeof o=="function"&&(v=o,o=void 0),typeof u=="function"&&(v=u,u="utf8"),o!==void 0&&this.write(o,u),v&&this.once("end",v),this[d]=!0,this.writable=!1,(this[R]||!this[D])&&this[b](),this}[k](){this[N]||(!this[ut]&&!this[I].length&&(this[J]=!0),this[D]=!1,this[R]=!0,this.emit("resume"),this[j].length?this[T]():this[d]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[D]=!0,this[J]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[D]}[rt](o){this[G]?this[L]+=1:this[L]+=o.length,this[j].push(o)}[_t](){return this[G]?this[L]-=1:this[L]-=this[j][0].length,this[j].shift()}[T](o=!1){do;while(this[O](this[_t]())&&this[j].length);!o&&!this[j].length&&!this[d]&&this.emit("drain")}[O](o){return this.emit("data",o),this[R]}pipe(o,u){if(this[N])return o;this[J]=!1;const v=this[g];return u=u||{},o===e.stdout||o===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,v?u.end&&o.end():(this[I].push(u.proxyErrors?new S(this,o,u):new re(this,o,u)),this[st]?bt(()=>this[k]()):this[k]()),o}unpipe(o){const u=this[I].find(v=>v.dest===o);u&&(this[I].length===1?(this[R]&&this[ut]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(o,u){return this.on(o,u)}on(o,u){const v=super.on(o,u);if(o==="data")this[J]=!1,this[ut]++,!this[I].length&&!this[R]&&this[k]();else if(o==="readable"&&this[L]!==0)super.emit("readable");else if(Tt(o)&&this[g])super.emit(o),this.removeAllListeners(o);else if(o==="error"&&this[w]){const A=u;this[st]?bt(()=>A.call(this,this[w])):A.call(this,this[w])}return v}removeListener(o,u){return this.off(o,u)}off(o,u){const v=super.off(o,u);return o==="data"&&(this[ut]=this.listeners("data").length,this[ut]===0&&!this[J]&&!this[I].length&&(this[R]=!1)),v}removeAllListeners(o){const u=super.removeAllListeners(o);return(o==="data"||o===void 0)&&(this[ut]=0,!this[J]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[j].length===0&&this[d]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(o,...u){const v=u[0];if(o!=="error"&&o!=="close"&&o!==N&&this[N])return!1;if(o==="data")return!this[G]&&!v?!1:this[st]?(bt(()=>this[kt](v)),!0):this[kt](v);if(o==="end")return this[ne]();if(o==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(o==="error"){this[w]=v,super.emit(ie,v);const M=!this[Ot]||this.listeners("error").length?super.emit("error",v):!1;return this[b](),M}else if(o==="resume"){const M=super.emit("resume");return this[b](),M}else if(o==="finish"||o==="prefinish"){const M=super.emit(o);return this.removeAllListeners(o),M}const A=super.emit(o,...u);return this[b](),A}[kt](o){for(const v of this[I])v.dest.write(o)===!1&&this.pause();const u=this[J]?!1:super.emit("data",o);return this[b](),u}[ne](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[st]?(bt(()=>this[Nt]()),!0):this[Nt]())}[Nt](){if(this[C]){const u=this[C].end();if(u){for(const v of this[I])v.dest.write(u);this[J]||super.emit("data",u)}}for(const u of this[I])u.end();const o=super.emit("end");return this.removeAllListeners("end"),o}async collect(){const o=Object.assign([],{dataLength:0});this[G]||(o.dataLength=0);const u=this.promise();return this.on("data",v=>{o.push(v),this[G]||(o.dataLength+=v.length)}),await u,o}async concat(){if(this[G])throw new Error("cannot concat in objectMode");const o=await this.collect();return this[P]?o.join(""):Buffer.concat(o,o.dataLength)}async promise(){return new Promise((o,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",v=>u(v)),this.on("end",()=>o())})}[Symbol.asyncIterator](){this[J]=!1;let o=!1;const u=async()=>(this.pause(),o=!0,{value:void 0,done:!0});return{next:()=>{if(o)return u();const A=this.read();if(A!==null)return Promise.resolve({done:!1,value:A});if(this[d])return u();let M,F;const W=Q=>{this.off("data",z),this.off("end",X),this.off(N,at),u(),F(Q)},z=Q=>{this.off("error",W),this.off("end",X),this.off(N,at),this.pause(),M({value:Q,done:!!this[d]})},X=()=>{this.off("error",W),this.off("data",z),this.off(N,at),u(),M({done:!0,value:void 0})},at=()=>W(new Error("stream destroyed"));return new Promise((Q,Fe)=>{F=Fe,M=Q,this.once(N,at),this.once("error",W),this.once("end",X),this.once("data",z)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[J]=!1;let o=!1;const u=()=>(this.pause(),this.off(ie,u),this.off(N,u),this.off("end",u),o=!0,{done:!0,value:void 0}),v=()=>{if(o)return u();const A=this.read();return A===null?u():{done:!1,value:A}};return this.once("end",u),this.once(ie,u),this.once(N,u),{next:v,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(o){if(this[N])return o?this.emit("error",o):this.emit(N),this;this[N]=!0,this[J]=!0,this[j].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),o?this.emit("error",o):this.emit(N),this}static get isStream(){return i.isStream}}i.Minipass=m})(xs);var on=ot&&ot.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,n)}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),hn=ot&&ot.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),an=ot&&ot.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&on(t,i,e);return hn(t,i),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const $s=fe,pe=Pi,ln=De,cn=an(ke),Ht=ke,fn=Ht.realpathSync.native,me=Ai,zs=xs,qt={lstatSync:Ht.lstatSync,readdir:Ht.readdir,readdirSync:Ht.readdirSync,readlinkSync:Ht.readlinkSync,realpathSync:fn,promises:{lstat:me.lstat,readdir:me.readdir,readlink:me.readlink,realpath:me.realpath}},Gs=i=>!i||i===qt||i===cn?qt:{...qt,...i,promises:{...qt.promises,...i.promises||{}}},Us=/^\\\\\?\\([a-z]:)\\?$/i,un=i=>i.replace(/\//g,"\\").replace(Us,"$1\\"),dn=/[\\\/]/,it=0,Hs=1,qs=2,lt=4,Vs=6,Ys=8,Pt=10,Js=12,nt=15,Vt=~nt,Ue=16,Ks=32,Yt=64,ht=128,ge=256,we=512,Zs=Yt|ht|we,pn=1023,He=i=>i.isFile()?Ys:i.isDirectory()?lt:i.isSymbolicLink()?Pt:i.isCharacterDevice()?qs:i.isBlockDevice()?Vs:i.isSocket()?Js:i.isFIFO()?Hs:it,Xs=new Map,Jt=i=>{const t=Xs.get(i);if(t)return t;const e=i.normalize("NFKD");return Xs.set(i,e),e},Qs=new Map,be=i=>{const t=Qs.get(i);if(t)return t;const e=Jt(i.toLowerCase());return Qs.set(i,e),e};class qe extends $s.LRUCache{constructor(){super({max:256})}}B.ResolveCache=qe;class ti extends $s.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=ti;const ei=Symbol("PathScurry setAsCwd");class Z{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#r;get mode(){return this.#r}#i;get nlink(){return this.#i}#h;get uid(){return this.#h}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#o;get ino(){return this.#o}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#A;get mtime(){return this.#A}#C;get ctime(){return this.#C}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#v;#n;#b;#j;#E;get path(){return(this.parent||this).fullpath()}constructor(t,e=it,s,n,r,h,a){this.name=t,this.#S=r?be(t):Jt(t),this.#n=e&pn,this.nocase=r,this.roots=n,this.root=s||this,this.#b=h,this.#p=a.fullpath,this.#T=a.relative,this.#v=a.relativePosix,this.parent=a.parent,this.parent?this.#t=this.parent.#t:this.#t=Gs(a.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),n=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(n):this.#k(n)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#n&=~Ue,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),n=this.nocase?be(t):Jt(t);for(const c of s)if(c.#S===n)return c;const r=this.parent?this.sep:"",h=this.#p?this.#p+r+t:void 0,a=this.newChild(t,it,{...e,parent:this,fullpath:h});return this.canReaddir()||(a.#n|=ht),s.push(a),a}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#v!==void 0)return this.#v;const t=this.name,e=this.parent;if(!e)return this.#v=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const n=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=n}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?this.#M=`//?/${n}`:this.#M=n}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#n&nt)===it}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#n&nt)===Ys}isDirectory(){return(this.#n&nt)===lt}isCharacterDevice(){return(this.#n&nt)===qs}isBlockDevice(){return(this.#n&nt)===Vs}isFIFO(){return(this.#n&nt)===Hs}isSocket(){return(this.#n&nt)===Js}isSymbolicLink(){return(this.#n&Pt)===Pt}lstatCached(){return this.#n&Ks?this:void 0}readlinkCached(){return this.#j}realpathCached(){return this.#E}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#j)return!0;if(!this.parent)return!1;const t=this.#n&nt;return!(t!==it&&t!==Pt||this.#n&ge||this.#n&ht)}calledReaddir(){return!!(this.#n&Ue)}isENOENT(){return!!(this.#n&ht)}isNamed(t){return this.nocase?this.#S===be(t):this.#S===Jt(t)}async readlink(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#j;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#j=s}catch(e){this.#I(e.code);return}}#N(t){this.#n|=Ue;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#n&ht||(this.#n=(this.#n|ht)&Vt,this.#P())}#P(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#n|=we,this.#L()}#L(){if(this.#n&Yt)return;let t=this.#n;(t&nt)===lt&&(t&=Vt),this.#n=t|Yt,this.#P()}#D(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#n;e|=ge,t==="ENOENT"&&(e|=ht),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Vt),this.#n=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#F(t,e){return this.#U(t,e)||this.#G(t,e)}#G(t,e){const s=He(t),n=this.newChild(t.name,s,{parent:this}),r=n.#n&nt;return r!==lt&&r!==Pt&&r!==it&&(n.#n|=Yt),e.unshift(n),e.provisional++,n}#U(t,e){for(let s=e.provisional;s<e.length;s++){const n=e[s];if((this.nocase?be(t.name):Jt(t.name))===n.#S)return this.#H(t,n,s,e)}}#H(t,e,s,n){const r=e.name;return e.#n=e.#n&Vt|He(t),r!==t.name&&(e.name=t.name),s!==n.provisional&&(s===n.length-1?n.pop():n.splice(s,1),n.unshift(e)),n.provisional++,e}async lstat(){if(!(this.#n&ht))try{return this.#z(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#n&ht))try{return this.#z(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#z(t){const{atime:e,atimeMs:s,birthtime:n,birthtimeMs:r,blksize:h,blocks:a,ctime:c,ctimeMs:d,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:E,nlink:T,rdev:O,size:P,uid:C}=t;this.#g=e,this.#w=s,this.#O=n,this.#y=r,this.#a=h,this.#m=a,this.#C=c,this.#u=d,this.#s=b,this.#l=g,this.#o=y,this.#r=w,this.#A=_,this.#d=E,this.#i=T,this.#f=O,this.#e=P,this.#h=C;const R=He(t);this.#n=this.#n&Vt|R|Ks,R!==it&&R!==lt&&R!==Pt&&(this.#n|=Yt)}#x=[];#$=!1;#q(t){this.#$=!1;const e=this.#x.slice();this.#x.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const r=s.slice(0,s.provisional);e?t(null,r):queueMicrotask(()=>t(null,r));return}if(this.#x.push(t),this.#$)return;this.#$=!0;const n=this.fullpath();this.#t.readdir(n,{withFileTypes:!0},(r,h)=>{if(r)this.#D(r.code),s.provisional=0;else{for(const a of h)this.#F(a,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(n=>s=n);try{for(const n of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#F(n,t);this.#N(t)}catch(n){this.#D(n.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#F(s,t);this.#N(t)}catch(s){this.#D(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#n&Zs)return!1;const t=nt&this.#n;return t===it||t===lt||t===Pt}shouldWalk(t,e){return(this.#n&lt)===lt&&!(this.#n&Zs)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#E)return this.#E;if(!((we|ge|ht)&this.#n))try{const t=this.#t.realpathSync(this.fullpath());return this.#E=this.resolve(t)}catch{this.#B()}}[ei](t){if(t===this)return;const e=new Set([]);let s=[],n=this;for(;n&&n.parent;)e.add(n),n.#T=s.join(this.sep),n.#v=s.join("/"),n=n.parent,s.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#T=void 0,n.#v=void 0,n=n.parent}}B.PathBase=Z;class ee extends Z{sep="\\";splitSep=dn;constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}newChild(t,e=it,s={}){return new ee(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return pe.win32.parse(t).root}getRoot(t){if(t=un(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Ye(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Us,"$1\\"),t===e}}B.PathWin32=ee;class se extends Z{splitSep="/";sep="/";constructor(t,e=it,s,n,r,h,a){super(t,e,s,n,r,h,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=it,s={}){return new se(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=se;class Ve{root;rootPath;roots;cwd;#t;#s;#r;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:n,childrenCacheSize:r=16*1024,fs:h=qt}={}){this.#i=Gs(h),(t instanceof URL||t.startsWith("file://"))&&(t=(0,ln.fileURLToPath)(t));const a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#t=new qe,this.#s=new qe,this.#r=new ti(r);const c=a.substring(this.rootPath.length).split(s);if(c.length===1&&!c[0]&&c.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let d=this.root,b=c.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of c){const E=b--;d=d.child(_,{relative:new Array(E).fill("..").join(g),relativePosix:new Array(E).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=d}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#r}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#t.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpath();return this.#t.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const h=t[r];if(!(!h||h===".")&&(e=e?`${h}/${e}`:h,this.isAbsolute(h)))break}const s=this.#s.get(e);if(s!==void 0)return s;const n=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const n=await t.readdir();return s?n:n.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set,d=(g,y)=>{c.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let E=_.length;if(!E)return y();const T=()=>{--E===0&&y()};for(const O of _)(!r||r(O))&&a.push(s?O:O.fullpath()),n&&O.isSymbolicLink()?O.realpath().then(P=>P?.isUnknown()?P.lstat():P).then(P=>P?.shouldWalk(c,h)?d(P,T):T()):O.shouldWalk(c,h)?d(O,T):T()},!0)},b=t;return new Promise((g,y)=>{d(b,w=>{if(w)return y(w);g(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());const c=new Set([t]);for(const d of c){const b=d.readdirSync();for(const g of b){(!r||r(g))&&a.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(n&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(c,h)&&c.add(y)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e;(!r||r(t))&&(yield s?t:t.fullpath());const a=new Set([t]);for(const c of a){const d=c.readdirSync();for(const b of d){(!r||r(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(n&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(a,h)&&a.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0});(!r||r(t))&&a.write(s?t:t.fullpath());const c=new Set,d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=(T,O,P=!1)=>{if(T)return a.emit("error",T);if(n&&!P){const C=[];for(const R of O)R.isSymbolicLink()&&C.push(R.realpath().then(D=>D?.isUnknown()?D.lstat():D));if(C.length){Promise.all(C).then(()=>_(null,O,!0));return}}for(const C of O)C&&(!r||r(C))&&(a.write(s?C:C.fullpath())||(y=!0));b--;for(const C of O){const R=C.realpathCached()||C;R.shouldWalk(c,h)&&d.push(R)}y&&!a.flowing?a.once("drain",g):E||g()};let E=!0;w.readdirCB(_,!0),E=!1}};return g(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Z||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:h}=e,a=new zs.Minipass({objectMode:!0}),c=new Set;(!r||r(t))&&a.write(s?t:t.fullpath());const d=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=d.shift();if(!w){b===0&&a.end();return}b++,c.add(w);const _=w.readdirSync();for(const E of _)(!r||r(E))&&(a.write(s?E:E.fullpath())||(y=!0));b--;for(const E of _){let T=E;if(E.isSymbolicLink()){if(!(n&&(T=E.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(c,h)&&d.push(T)}}y&&!a.flowing&&a.once("drain",g)};return g(),a}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[ei](e)}}B.PathScurryBase=Ve;class Ye extends Ve{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,pe.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let n=this.cwd;n;n=n.parent)n.nocase=this.nocase}parseRootPath(t){return pe.win32.parse(t).root.toUpperCase()}newRoot(t){return new ee(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Ye;class Je extends Ve{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,pe.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new se(this.rootPath,lt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=Je;class si extends Je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=si,B.Path=process.platform==="win32"?ee:se,B.PathScurry=process.platform==="win32"?Ye:process.platform==="darwin"?si:Je;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Pattern=void 0;const mn=yt,gn=i=>i.length>=1,wn=i=>i.length>=1;class os{#t;#s;#r;length;#i;#h;#l;#f;#a;#o;#e=!0;constructor(t,e,s,n){if(!gn(t))throw new TypeError("empty pattern list");if(!wn(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#r=s,this.#i=n,this.#r===0){if(this.isUNC()){const[r,h,a,c,...d]=this.#t,[b,g,y,w,..._]=this.#s;d[0]===""&&(d.shift(),_.shift());const E=[r,h,a,c,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[E,...d],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[r,...h]=this.#t,[a,...c]=this.#s;h[0]===""&&(h.shift(),c.shift());const d=r+"/",b=a+"/";this.#t=[d,...h],this.#s=[b,...c],this.length=this.#t.length}}}pattern(){return this.#t[this.#r]}isString(){return typeof this.#t[this.#r]=="string"}isGlobstar(){return this.#t[this.#r]===mn.GLOBSTAR}isRegExp(){return this.#t[this.#r]instanceof RegExp}globString(){return this.#l=this.#l||(this.#r===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return this.#h!==void 0?this.#h:this.hasMore()?(this.#h=new os(this.#t,this.#s,this.#r+1,this.#i),this.#h.#o=this.#o,this.#h.#a=this.#a,this.#h.#f=this.#f,this.#h):this.#h=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#r===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#r===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#o!==void 0?this.#o:this.#o=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#r===0?t:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#r===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}Kt.Pattern=os;var vt={},ii={};const ni=typeof process=="object"&&process?process:{stdout:null,stderr:null},bn=fs,ri=us,yn=ds,oi=yn.StringDecoder,pt=Symbol("EOF"),mt=Symbol("maybeEmitEnd"),Et=Symbol("emittedEnd"),ye=Symbol("emittingEnd"),Zt=Symbol("emittedError"),Se=Symbol("closed"),hi=Symbol("read"),ve=Symbol("flush"),ai=Symbol("flushChunk"),tt=Symbol("encoding"),gt=Symbol("decoder"),Ee=Symbol("flowing"),Xt=Symbol("paused"),Lt=Symbol("resume"),x=Symbol("buffer"),ct=Symbol("pipes"),H=Symbol("bufferLength"),Ke=Symbol("bufferPush"),Ze=Symbol("bufferShift"),V=Symbol("objectMode"),$=Symbol("destroyed"),Xe=Symbol("error"),Qe=Symbol("emitData"),li=Symbol("emitEnd"),ts=Symbol("emitEnd2"),wt=Symbol("async"),es=Symbol("abort"),_e=Symbol("aborted"),At=Symbol("signal"),Qt=i=>Promise.resolve().then(i),ci=ot._MP_NO_ITERATOR_SYMBOLS_!=="1",fi=ci&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),ui=ci&&Symbol.iterator||Symbol("iterator not implemented"),Sn=i=>i==="end"||i==="finish"||i==="prefinish",vn=i=>i instanceof ArrayBuffer||typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,En=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i);class di{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[Lt](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class _n extends di{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=n=>e.emit("error",n),t.on("error",this.proxyErrors)}}class hs extends ri{constructor(t){super(),this[Ee]=!1,this[Xt]=!1,this[ct]=[],this[x]=[],this[V]=t&&t.objectMode||!1,this[V]?this[tt]=null:this[tt]=t&&t.encoding||null,this[tt]==="buffer"&&(this[tt]=null),this[wt]=t&&!!t.async||!1,this[gt]=this[tt]?new oi(this[tt]):null,this[pt]=!1,this[Et]=!1,this[ye]=!1,this[Se]=!1,this[Zt]=null,this.writable=!0,this.readable=!0,this[H]=0,this[$]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[x]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ct]}),this[At]=t&&t.signal,this[_e]=!1,this[At]&&(this[At].addEventListener("abort",()=>this[es]()),this[At].aborted&&this[es]())}get bufferLength(){return this[H]}get encoding(){return this[tt]}set encoding(t){if(this[V])throw new Error("cannot set encoding in objectMode");if(this[tt]&&t!==this[tt]&&(this[gt]&&this[gt].lastNeed||this[H]))throw new Error("cannot change encoding");this[tt]!==t&&(this[gt]=t?new oi(t):null,this[x].length&&(this[x]=this[x].map(e=>this[gt].write(e)))),this[tt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[V]}set objectMode(t){this[V]=this[V]||!!t}get async(){return this[wt]}set async(t){this[wt]=this[wt]||!!t}[es](){this[_e]=!0,this.emit("abort",this[At].reason),this.destroy(this[At].reason)}get aborted(){return this[_e]}set aborted(t){}write(t,e,s){if(this[_e])return!1;if(this[pt])throw new Error("write after end");if(this[$])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const n=this[wt]?Qt:r=>r();return!this[V]&&!Buffer.isBuffer(t)&&(En(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):vn(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[V]?(this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[tt]&&!this[gt].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[tt]&&(t=this[gt].write(t)),this.flowing&&this[H]!==0&&this[ve](!0),this.flowing?this.emit("data",t):this[Ke](t),this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing):(this[H]!==0&&this.emit("readable"),s&&n(s),this.flowing)}read(t){if(this[$])return null;if(this[H]===0||t===0||t>this[H])return this[mt](),null;this[V]&&(t=null),this[x].length>1&&!this[V]&&(this.encoding?this[x]=[this[x].join("")]:this[x]=[Buffer.concat(this[x],this[H])]);const e=this[hi](t||null,this[x][0]);return this[mt](),e}[hi](t,e){return t===e.length||t===null?this[Ze]():(this[x][0]=e.slice(t),e=e.slice(0,t),this[H]-=t),this.emit("data",e),!this[x].length&&!this[pt]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[pt]=!0,this.writable=!1,(this.flowing||!this[Xt])&&this[mt](),this}[Lt](){this[$]||(this[Xt]=!1,this[Ee]=!0,this.emit("resume"),this[x].length?this[ve]():this[pt]?this[mt]():this.emit("drain"))}resume(){return this[Lt]()}pause(){this[Ee]=!1,this[Xt]=!0}get destroyed(){return this[$]}get flowing(){return this[Ee]}get paused(){return this[Xt]}[Ke](t){this[V]?this[H]+=1:this[H]+=t.length,this[x].push(t)}[Ze](){return this[V]?this[H]-=1:this[H]-=this[x][0].length,this[x].shift()}[ve](t){do;while(this[ai](this[Ze]())&&this[x].length);!t&&!this[x].length&&!this[pt]&&this.emit("drain")}[ai](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[$])return;const s=this[Et];return e=e||{},t===ni.stdout||t===ni.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ct].push(e.proxyErrors?new _n(this,t,e):new di(this,t,e)),this[wt]?Qt(()=>this[Lt]()):this[Lt]()),t}unpipe(t){const e=this[ct].find(s=>s.dest===t);e&&(this[ct].splice(this[ct].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ct].length&&!this.flowing?this[Lt]():t==="readable"&&this[H]!==0?super.emit("readable"):Sn(t)&&this[Et]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Zt]&&(this[wt]?Qt(()=>e.call(this,this[Zt])):e.call(this,this[Zt])),s}get emittedEnd(){return this[Et]}[mt](){!this[ye]&&!this[Et]&&!this[$]&&this[x].length===0&&this[pt]&&(this[ye]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Se]&&this.emit("close"),this[ye]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==$&&this[$])return;if(t==="data")return!this[V]&&!e?!1:this[wt]?Qt(()=>this[Qe](e)):this[Qe](e);if(t==="end")return this[li]();if(t==="close"){if(this[Se]=!0,!this[Et]&&!this[$])return;const r=super.emit("close");return this.removeAllListeners("close"),r}else if(t==="error"){this[Zt]=e,super.emit(Xe,e);const r=!this[At]||this.listeners("error").length?super.emit("error",e):!1;return this[mt](),r}else if(t==="resume"){const r=super.emit("resume");return this[mt](),r}else if(t==="finish"||t==="prefinish"){const r=super.emit(t);return this.removeAllListeners(t),r}const n=super.emit(t,e,...s);return this[mt](),n}[Qe](t){for(const s of this[ct])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[mt](),e}[li](){this[Et]||(this[Et]=!0,this.readable=!1,this[wt]?Qt(()=>this[ts]()):this[ts]())}[ts](){if(this[gt]){const e=this[gt].end();if(e){for(const s of this[ct])s.dest.write(e);super.emit("data",e)}}for(const e of this[ct])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[V]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[V]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[V]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[V]?Promise.reject(new Error("cannot concat in objectMode")):this[tt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on($,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[fi](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[pt])return e();let r=null,h=null;const a=g=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener($,b),e(),h(g)},c=g=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener($,b),this.pause(),r({value:g,done:!!this[pt]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener($,b),e(),r({done:!0})},b=()=>a(new Error("stream destroyed"));return new Promise((g,y)=>{h=y,r=g,this.once($,b),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:e,return:e,[fi](){return this}}}[ui](){let t=!1;const e=()=>(this.pause(),this.removeListener(Xe,e),this.removeListener($,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const n=this.read();return n===null?e():{value:n}};return this.once("end",e),this.once(Xe,e),this.once($,e),{next:s,throw:e,return:e,[ui](){return this}}}destroy(t){return this[$]?(t?this.emit("error",t):this.emit($),this):(this[$]=!0,this[x].length=0,this[H]=0,typeof this.close=="function"&&!this[Se]&&this.close(),t?this.emit("error",t):this.emit($),this)}static isStream(t){return!!t&&(t instanceof hs||t instanceof ri||t instanceof bn&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}ii.Minipass=hs;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Ignore=void 0;const pi=yt,On=Kt,Tn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Rn{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:n,noglobstar:r,platform:h=Tn}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const a={dot:!0,nobrace:e,nocase:s,noext:n,noglobstar:r,optimizationLevel:2,platform:h,nocomment:!0,nonegate:!0};for(const c of t){const d=new pi.Minimatch(c,a);for(let b=0;b<d.set.length;b++){const g=d.set[b],y=d.globParts[b],w=new On.Pattern(g,y,0,h),_=new pi.Minimatch(w.globString(),a),E=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),E&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,n=t.relative()||".",r=`${n}/`;for(const h of this.relative)if(h.match(n)||h.match(r))return!0;for(const h of this.absolute)if(h.match(e)||h.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const n of this.relativeChildren)if(n.match(s))return!0;for(const n of this.absoluteChildren)n.match(e);return!1}}Oe.Ignore=Rn;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.Processor=ft.SubWalks=ft.MatchRecord=ft.HasWalkedCache=void 0;const mi=yt;class Ce{store;constructor(t=new Map){this.store=t}copy(){return new Ce(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),n=this.store.get(s);n?n.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}ft.HasWalkedCache=Ce;class gi{store=new Map;add(t,e,s){const n=(e?2:0)|(s?1:0),r=this.store.get(t);this.store.set(t,r===void 0?n:n&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}ft.MatchRecord=gi;class wi{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(n=>n.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}ft.SubWalks=wi;class as{hasWalkedCache;matches=new gi;subwalks=new wi;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Ce}processPatterns(t,e){this.patterns=e;const s=e.map(n=>[t,n]);for(let[n,r]of s){this.hasWalkedCache.storeWalked(n,r);const h=r.root(),a=r.isAbsolute()&&this.opts.absolute!==!1;if(h){n=n.resolve(h==="/"&&this.opts.root!==void 0?this.opts.root:h);const g=r.rest();if(g)r=g;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let c,d,b=!1;for(;typeof(c=r.pattern())=="string"&&(d=r.rest());){const g=n.resolve(c);if(g.isUnknown()&&c!=="..")break;n=g,r=d,b=!0}if(c=r.pattern(),d=r.rest(),b){if(this.hasWalkedCache.hasWalked(n,r))continue;this.hasWalkedCache.storeWalked(n,r)}if(typeof c=="string"){if(d)this.subwalks.add(n,r);else{const g=c===".."||c===""||c===".";this.matches.add(n.resolve(c),a,g)}continue}else if(c===mi.GLOBSTAR){(!n.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(n,r);const g=d?.pattern(),y=d?.rest();if(!d||(g===""||g===".")&&!y)this.matches.add(n,a,g===""||g===".");else if(g===".."){const w=n.parent||n;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,a,!0)}}else c instanceof RegExp&&this.subwalks.add(n,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new as(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),n=this.child();for(const r of e)for(const h of s){const a=h.isAbsolute(),c=h.pattern(),d=h.rest();c===mi.GLOBSTAR?n.testGlobstar(r,h,d,a):c instanceof RegExp?n.testRegExp(r,c,d,a):n.testString(r,c,d,a)}return n}testGlobstar(t,e,s,n){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const r=s.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,s.rest(),n);else if(r===".."){const h=t.parent||t;this.subwalks.add(h,s)}else r instanceof RegExp&&this.testRegExp(t,r,s.rest(),n)}}testRegExp(t,e,s,n){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}testString(t,e,s,n){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}}ft.Processor=as,Object.defineProperty(vt,"__esModule",{value:!0}),vt.GlobStream=vt.GlobWalker=vt.GlobUtil=void 0;const Pn=ii,bi=Oe,yi=ft,An=(i,t)=>typeof i=="string"?new bi.Ignore([i],t):Array.isArray(i)?new bi.Ignore(i,t):i;class ss{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#r;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#r=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=An(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#h(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const n=t.isUnknown()||this.opts.stat;return this.matchCheckTest(n?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#r:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const r=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(r+n)}else{const r=this.opts.posix?t.relativePosix():t.relative(),h=this.opts.dotRelative&&!r.startsWith(".."+this.#r)?"."+this.#r:"";this.matchEmit(r?h+r+n:"."+n)}}async match(t,e,s){const n=await this.matchCheck(t,s);n&&this.matchFinish(n,e)}matchSync(t,e,s){const n=this.matchCheckSync(t,s);n&&this.matchFinish(n,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new yi.Processor(this.opts),s)}walkCB2(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirCached();a.calledReaddir()?this.walkCB3(a,c,s,h):a.readdirCB((d,b)=>this.walkCB3(a,b,s,h),!0)}h()}walkCB3(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||(r++,this.match(a,c,d).then(()=>h()));for(const[a,c]of s.subwalks.entries())r++,this.walkCB2(a,c,s.child(),h);h()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new yi.Processor(this.opts),s)}walkCB2Sync(t,e,s,n){if(this.#h(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,n));return}s.processPatterns(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;const c=a.readdirSync();this.walkCB3Sync(a,c,s,h)}h()}walkCB3Sync(t,e,s,n){s=s.filterEntries(t,e);let r=1;const h=()=>{--r===0&&n()};for(const[a,c,d]of s.matches.entries())this.#i(a)||this.matchSync(a,c,d);for(const[a,c]of s.subwalks.entries())r++,this.walkCB2Sync(a,c,s.child(),h);h()}}vt.GlobUtil=ss;class Cn extends ss{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}vt.GlobWalker=Cn;class Mn extends ss{results;constructor(t,e,s){super(t,e,s),this.results=new Pn.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}vt.GlobStream=Mn,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.Glob=void 0;const jn=yt,Te=B,Ln=De,Fn=Kt,Re=vt,Dn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class kn{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Ln.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(c=>c.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(c=>c.includes("/")?c:`./**/${c}`)}if(this.pattern=t,this.platform=e.platform||Dn,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const c=e.platform==="win32"?Te.PathScurryWin32:e.platform==="darwin"?Te.PathScurryDarwin:e.platform?Te.PathScurryPosix:Te.PathScurry;this.scurry=new c(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(c=>new jn.Minimatch(c,n)),[h,a]=r.reduce((c,d)=>(c[0].push(...d.set),c[1].push(...d.globParts),c),[[],[]]);this.patterns=h.map((c,d)=>new Fn.Pattern(c,a[d],0,this.platform))}async walk(){return[...await new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Re.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new Re.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Gt.Glob=kn;var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.hasMagic=void 0;const Nn=yt,Bn=(i,t={})=>{Array.isArray(i)||(i=[i]);for(const e of i)if(new Nn.Minimatch(e,t).hasMagic())return!0;return!1};te.hasMagic=Bn,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.glob=i.hasMagic=i.Glob=i.unescape=i.escape=i.sync=i.iterate=i.iterateSync=i.stream=i.streamSync=i.globIterate=i.globIterateSync=i.globSync=i.globStream=i.globStreamSync=void 0;const t=yt,e=Gt,s=te;function n(w,_={}){return new e.Glob(w,_).streamSync()}i.globStreamSync=n;function r(w,_={}){return new e.Glob(w,_).stream()}i.globStream=r;function h(w,_={}){return new e.Glob(w,_).walkSync()}i.globSync=h;async function a(w,_={}){return new e.Glob(w,_).walk()}function c(w,_={}){return new e.Glob(w,_).iterateSync()}i.globIterateSync=c;function d(w,_={}){return new e.Glob(w,_).iterate()}i.globIterate=d,i.streamSync=n,i.stream=Object.assign(r,{sync:n}),i.iterateSync=c,i.iterate=Object.assign(d,{sync:c}),i.sync=Object.assign(h,{stream:n,iterate:c});var b=yt;Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(i,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Gt;Object.defineProperty(i,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=te;Object.defineProperty(i,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),i.glob=Object.assign(a,{glob:a,globSync:h,sync:i.sync,globStream:r,stream:i.stream,globStreamSync:n,streamSync:i.streamSync,globIterate:d,iterate:i.iterate,globIterateSync:c,iterateSync:i.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),i.glob.glob=i.glob}(Es);var is=Object.defineProperty,In=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyNames,xn=Object.prototype.hasOwnProperty,$n=(i,t)=>{for(var e in t)is(i,e,{get:t[e],enumerable:!0})},zn=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wn(t))!xn.call(i,n)&&n!==e&&is(i,n,{get:()=>t[n],enumerable:!(s=In(t,n))||s.enumerable});return i},Gn=i=>zn(is({},"__esModule",{value:!0}),i),Si={};$n(Si,{default:()=>Hn});var Un=Gn(Si);function Hn(i,t){return t?.allExtensions?i.replace(/\..+$/,""):i.replace(/\.[^.]+$/,"")}var qn=Object.create,Pe=Object.defineProperty,Vn=Object.getOwnPropertyDescriptor,Yn=Object.getOwnPropertyNames,Jn=Object.getPrototypeOf,Kn=Object.prototype.hasOwnProperty,Zn=(i,t)=>{for(var e in t)Pe(i,e,{get:t[e],enumerable:!0})},vi=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Yn(t))!Kn.call(i,n)&&n!==e&&Pe(i,n,{get:()=>t[n],enumerable:!(s=Vn(t,n))||s.enumerable});return i},Ei=(i,t,e)=>(e=i!=null?qn(Jn(i)):{},vi(t||!i||!i.__esModule?Pe(e,"default",{value:i,enumerable:!0}):e,i)),Xn=i=>vi(Pe({},"__esModule",{value:!0}),i),_i={};Zn(_i,{getMonorepoDirpath:()=>er});var Qn=Xn(_i),ns=Ei(ke),Ae=Ei(U),tr=De;function er(i=process.cwd()){i=i.startsWith("file://")?(0,tr.fileURLToPath)(i):i,ns.statSync(i).isFile()&&(i=Ae.default.dirname(i));let t;for(;i!=="/";){const e=ns.existsSync(Ae.default.join(i,"pnpm-workspace.yaml"));if(ns.existsSync(Ae.default.join(i,"pnpm-lock.yaml"))&&(t=i),e)return i;i=Ae.default.dirname(i)}return t}const Ft=U,{globSync:sr}=Es,Oi=Un,{getMonorepoDirpath:ir}=Qn;var nr=function(){const t=ir(__dirname);if(t===void 0)throw new Error("Could not find monorepo directory");const e=s=>`__${s.replaceAll(/[^\w$]/g,"_")}`;return function(s){if(Ft.basename(s).startsWith("__virtual__:")){const n=(Oi.default??Oi)(Ft.basename(s).replace("__virtual__:","")),r=Ft.dirname(s),h=sr(r,{absolute:!0}),a=[];switch(n){case"files":{for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`import * as ${b} from ${JSON.stringify(c)};`)}a.push("export default {");for(const c of h){const d=Ft.relative(t,c),b=e(d);a.push(`${JSON.stringify(d)}: ${b},`)}a.push("};");break}case"matches":{a.push(...h.map(c=>`export * from ${JSON.stringify(c)};`));break}case"filepaths":{a.push("export default {");for(const c of h){const d=Ft.relative(t,c);a.push(`${JSON.stringify(d)}: true,`)}a.push("};");break}default:throw new Error(`Unknown virtual file type: ${n}`)}return a.push("export {};"),a.join(`
+`)}else return readFile(s)}},rr=Ci(nr);module.exports=rr;
+;return module.exports()})({}),
             writeFile: writeFile2,
             watchFile: watchFile2,
             watchDirectory,
             resolvePath: (path) => _path.resolve(path),
-            fileExists,
-            directoryExists,
+            fileExists: ((module) => {"use strict";var t=require("node:path");function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const s=t;var i=function(){return function(r){return s.basename(r).startsWith("__virtual__:")?!0:fileExists(r)}},u=a(i);module.exports=u;
+;return module.exports()})({}),
+            directoryExists: ((module) => {"use strict";var Xs=require("path"),Ve=require("url"),Ye=require("fs"),Qs=require("fs/promises"),Ke=require("events"),Je=require("stream"),Ze=require("string_decoder"),it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ti(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xe={},mt={},ei=Qe;function Qe(r,t,e){r instanceof RegExp&&(r=ts(r,e)),t instanceof RegExp&&(t=ts(t,e));var s=es(r,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+r.length,s[1]),post:e.slice(s[1]+t.length)}}function ts(r,t){var e=t.match(r);return e?e[0]:null}Qe.range=es;function es(r,t,e){var s,i,n,o,c,l=e.indexOf(r),p=e.indexOf(t,l+1),b=l;if(l>=0&&p>0){if(r===t)return[l,p];for(s=[],n=e.length;b>=0&&!c;)b==l?(s.push(b),l=e.indexOf(r,b+1)):s.length==1?c=[s.pop(),p]:(i=s.pop(),i<n&&(n=i,o=p),p=e.indexOf(t,b+1)),b=l<p&&l>=0?l:p;s.length&&(c=[n,o])}return c}var ss=ei,si=ni,is="\0SLASH"+Math.random()+"\0",rs="\0OPEN"+Math.random()+"\0",Oe="\0CLOSE"+Math.random()+"\0",ns="\0COMMA"+Math.random()+"\0",hs="\0PERIOD"+Math.random()+"\0";function Te(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function ii(r){return r.split("\\\\").join(is).split("\\{").join(rs).split("\\}").join(Oe).split("\\,").join(ns).split("\\.").join(hs)}function ri(r){return r.split(is).join("\\").split(rs).join("{").split(Oe).join("}").split(ns).join(",").split(hs).join(".")}function os(r){if(!r)return[""];var t=[],e=ss("{","}",r);if(!e)return r.split(",");var s=e.pre,i=e.body,n=e.post,o=s.split(",");o[o.length-1]+="{"+i+"}";var c=os(n);return n.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),t.push.apply(t,o),t}function ni(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),Lt(ii(r),!0).map(ri)):[]}function hi(r){return"{"+r+"}"}function oi(r){return/^-?0\d/.test(r)}function ai(r,t){return r<=t}function li(r,t){return r>=t}function Lt(r,t){var e=[],s=ss("{","}",r);if(!s)return[r];var i=s.pre,n=s.post.length?Lt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<n.length;o++){var c=i+"{"+s.body+"}"+n[o];e.push(c)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),p=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=l||p,g=s.body.indexOf(",")>=0;if(!b&&!g)return s.post.match(/,.*\}/)?(r=s.pre+"{"+s.body+Oe+s.post,Lt(r)):[r];var y;if(b)y=s.body.split(/\.\./);else if(y=os(s.body),y.length===1&&(y=Lt(y[0],!1).map(hi),y.length===1))return n.map(function(st){return s.pre+y[0]+st});var w;if(b){var _=Te(y[0]),v=Te(y[1]),T=Math.max(y[0].length,y[1].length),O=y.length==3?Math.abs(Te(y[2])):1,A=ai,P=v<_;P&&(O*=-1,A=li);var R=y.some(oi);w=[];for(var F=_;A(F,v);F+=O){var k;if(p)k=String.fromCharCode(F),k==="\\"&&(k="");else if(k=String(F),R){var D=T-k.length;if(D>0){var I=new Array(D+1).join("0");F<0?k="-"+I+k.slice(1):k=I+k}}w.push(k)}}else{w=[];for(var L=0;L<y.length;L++)w.push.apply(w,Lt(y[L],!1))}for(var L=0;L<w.length;L++)for(var o=0;o<n.length;o++){var c=i+w[L]+n[o];(!t||b||c)&&e.push(c)}}return e}var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.assertValidPattern=void 0;const ci=1024*64,fi=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>ci)throw new TypeError("pattern is too long")};Qt.assertValidPattern=fi;var jt={},te={};Object.defineProperty(te,"__esModule",{value:!0}),te.parseClass=void 0;const ui={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ft=r=>r.replace(/[[\]\\-]/g,"\\$&"),di=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),as=r=>r.join(""),pi=(r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],i=[];let n=e+1,o=!1,c=!1,l=!1,p=!1,b=e,g="";t:for(;n<r.length;){const v=r.charAt(n);if((v==="!"||v==="^")&&n===e+1){p=!0,n++;continue}if(v==="]"&&o&&!l){b=n+1;break}if(o=!0,v==="\\"&&!l){l=!0,n++;continue}if(v==="["&&!l){for(const[T,[O,A,P]]of Object.entries(ui))if(r.startsWith(T,n)){if(g)return["$.",!1,r.length-e,!0];n+=T.length,P?i.push(O):s.push(O),c=c||A;continue t}}if(l=!1,g){v>g?s.push(Ft(g)+"-"+Ft(v)):v===g&&s.push(Ft(v)),g="",n++;continue}if(r.startsWith("-]",n+1)){s.push(Ft(v+"-")),n+=2;continue}if(r.startsWith("-",n+1)){g=v,n+=2;continue}s.push(Ft(v)),n++}if(b<n)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,r.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!p){const v=s[0].length===2?s[0].slice(-1):s[0];return[di(v),!1,b-e,!1]}const y="["+(p?"^":"")+as(s)+"]",w="["+(p?"":"^")+as(i)+"]";return[s.length&&i.length?"("+y+"|"+w+")":s.length?y:w,c,b-e,!0]};te.parseClass=pi;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.unescape=void 0;const mi=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Rt.unescape=mi,Object.defineProperty(jt,"__esModule",{value:!0}),jt.AST=void 0;const gi=te,ee=Rt,wi=new Set(["!","?","+","*","@"]),ls=r=>wi.has(r),bi="(?!(?:^|/)\\.\\.?(?:$|/))",se="(?!\\.)",yi=new Set(["[","."]),Si=new Set(["..","."]),Ei=new Set("().*{}+?[]^$\\!"),vi=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Re="[^/]",cs=Re+"*?",fs=Re+"+?";class X{type;#t;#s;#n=!1;#i=[];#o;#l;#f;#a=!1;#h;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#s=!0),this.#o=e,this.#t=this.#o?this.#o.#t:this,this.#h=this.#t===this?s:this.#t.#h,this.#f=this.#t===this?[]:this.#t.#f,t==="!"&&!this.#t.#a&&this.#f.push(this),this.#l=this.#o?this.#o.#i.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(const t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#e=this.#i.map(t=>String(t)).join("")}#w(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#f.pop();){if(t.type!=="!")continue;let e=t,s=e.#o;for(;s;){for(let i=e.#l+1;!s.type&&i<s.#i.length;i++)for(const n of t.#i){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#i[i])}e=s,s=e.#o}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof X&&e.#o===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){const t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#o?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#o?.isStart())return!1;if(this.#l===0)return!0;const t=this.#o;for(let e=0;e<this.#l;e++){const s=t.#i[e];if(!(s instanceof X&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();const t=this.#o?this.#o.#i.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new X(this.type,t);for(const s of this.#i)e.copyIn(s);return e}static#d(t,e,s,i){let n=!1,o=!1,c=-1,l=!1;if(e.type===null){let w=s,_="";for(;w<t.length;){const v=t.charAt(w++);if(n||v==="\\"){n=!n,_+=v;continue}if(o){w===c+1?(v==="^"||v==="!")&&(l=!0):v==="]"&&!(w===c+2&&l)&&(o=!1),_+=v;continue}else if(v==="["){o=!0,c=w,l=!1,_+=v;continue}if(!i.noext&&ls(v)&&t.charAt(w)==="("){e.push(_),_="";const T=new X(v,e);w=X.#d(t,T,w,i),e.push(T);continue}_+=v}return e.push(_),w}let p=s+1,b=new X(null,e);const g=[];let y="";for(;p<t.length;){const w=t.charAt(p++);if(n||w==="\\"){n=!n,y+=w;continue}if(o){p===c+1?(w==="^"||w==="!")&&(l=!0):w==="]"&&!(p===c+2&&l)&&(o=!1),y+=w;continue}else if(w==="["){o=!0,c=p,l=!1,y+=w;continue}if(ls(w)&&t.charAt(p)==="("){b.push(y),y="";const _=new X(w,b);b.push(_),p=X.#d(t,_,p,i);continue}if(w==="|"){b.push(y),y="",g.push(b),b=new X(null,e);continue}if(w===")")return y===""&&e.#i.length===0&&(e.#m=!0),b.push(y),y="",e.push(...g,b),p;y+=w}return e.type=null,e.#s=void 0,e.#i=[t.substring(s-1)],p}static fromGlob(t,e={}){const s=new X(null,void 0,e);return X.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,i,n]=this.toRegExpSource();if(!(i||this.#s||this.#h.nocase&&!this.#h.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const c=(this.#h.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,c),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#h.dot;if(this.#t===this&&this.#w(),!this.type){const l=this.isStart()&&this.isEnd(),p=this.#i.map(w=>{const[_,v,T,O]=typeof w=="string"?X.#y(w,this.#s,l):w.toRegExpSource(t);return this.#s=this.#s||T,this.#n=this.#n||O,_}).join("");let b="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&Si.has(this.#i[0]))){const _=yi,v=e&&_.has(p.charAt(0))||p.startsWith("\\.")&&_.has(p.charAt(2))||p.startsWith("\\.\\.")&&_.has(p.charAt(4)),T=!e&&!t&&_.has(p.charAt(0));b=v?bi:T?se:""}let g="";return this.isEnd()&&this.#t.#a&&this.#o?.type==="!"&&(g="(?:$|\\/)"),[b+p+g,(0,ee.unescape)(p),this.#s=!!this.#s,this.#n]}const s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let n=this.#u(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){const l=this.toString();return this.#i=[l],this.type=null,this.#s=void 0,[l,(0,ee.unescape)(this.toString()),!1,!1]}let o=!s||t||e||!se?"":this.#u(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let c="";if(this.type==="!"&&this.#m)c=(this.isStart()&&!e?se:"")+fs;else{const l=this.type==="!"?"))"+(this.isStart()&&!e&&!t?se:"")+cs+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;c=i+n+l}return[c,(0,ee.unescape)(n),this.#s=!!this.#s,this.#n]}#u(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,i,n,o]=e.toRegExpSource(t);return this.#n=this.#n||o,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#y(t,e,s=!1){let i=!1,n="",o=!1;for(let c=0;c<t.length;c++){const l=t.charAt(c);if(i){i=!1,n+=(Ei.has(l)?"\\":"")+l;continue}if(l==="\\"){c===t.length-1?n+="\\\\":i=!0;continue}if(l==="["){const[p,b,g,y]=(0,gi.parseClass)(t,c);if(g){n+=p,o=o||b,c+=g-1,e=e||y;continue}}if(l==="*"){s&&t==="*"?n+=fs:n+=cs,e=!0;continue}if(l==="?"){n+=Re,e=!0;continue}n+=vi(l)}return[n,(0,ee.unescape)(t),!!e,o]}}jt.AST=X;var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.escape=void 0;const _i=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");kt.escape=_i,function(r){var t=it&&it.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.unescape=r.escape=r.AST=r.Minimatch=r.match=r.makeRe=r.braceExpand=r.defaults=r.filter=r.GLOBSTAR=r.sep=r.minimatch=void 0;const e=t(si),s=Qt,i=jt,n=kt,o=Rt,c=(S,a,d={})=>((0,s.assertValidPattern)(a),!d.nocomment&&a.charAt(0)==="#"?!1:new Et(a,d).match(S));r.minimatch=c;const l=/^\*+([^+@!?\*\[\(]*)$/,p=S=>a=>!a.startsWith(".")&&a.endsWith(S),b=S=>a=>a.endsWith(S),g=S=>(S=S.toLowerCase(),a=>!a.startsWith(".")&&a.toLowerCase().endsWith(S)),y=S=>(S=S.toLowerCase(),a=>a.toLowerCase().endsWith(S)),w=/^\*+\.\*+$/,_=S=>!S.startsWith(".")&&S.includes("."),v=S=>S!=="."&&S!==".."&&S.includes("."),T=/^\.\*+$/,O=S=>S!=="."&&S!==".."&&S.startsWith("."),A=/^\*+$/,P=S=>S.length!==0&&!S.startsWith("."),R=S=>S.length!==0&&S!=="."&&S!=="..",F=/^\?+([^+@!?\*\[\(]*)?$/,k=([S,a=""])=>{const d=st([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},D=([S,a=""])=>{const d=yt([S]);return a?(a=a.toLowerCase(),m=>d(m)&&m.toLowerCase().endsWith(a)):d},I=([S,a=""])=>{const d=yt([S]);return a?m=>d(m)&&m.endsWith(a):d},L=([S,a=""])=>{const d=st([S]);return a?m=>d(m)&&m.endsWith(a):d},st=([S])=>{const a=S.length;return d=>d.length===a&&!d.startsWith(".")},yt=([S])=>{const a=S.length;return d=>d.length===a&&d!=="."&&d!==".."},z=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}};r.sep=z==="win32"?N.win32.sep:N.posix.sep,r.minimatch.sep=r.sep,r.GLOBSTAR=Symbol("globstar **"),r.minimatch.GLOBSTAR=r.GLOBSTAR;const Pt="[^/]"+"*?",Zt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Mt="(?:(?!(?:\\/|^)\\.).)*?",Q=(S,a={})=>d=>(0,r.minimatch)(d,S,a);r.filter=Q,r.minimatch.filter=r.filter;const q=(S,a={})=>Object.assign({},S,a),Ot=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return r.minimatch;const a=r.minimatch;return Object.assign((m,f,h={})=>a(m,f,q(S,h)),{Minimatch:class extends a.Minimatch{constructor(f,h={}){super(f,q(S,h))}static defaults(f){return a.defaults(q(S,f)).Minimatch}},AST:class extends a.AST{constructor(f,h,u={}){super(f,h,q(S,u))}static fromGlob(f,h={}){return a.AST.fromGlob(f,q(S,h))}},unescape:(m,f={})=>a.unescape(m,q(S,f)),escape:(m,f={})=>a.escape(m,q(S,f)),filter:(m,f={})=>a.filter(m,q(S,f)),defaults:m=>a.defaults(q(S,m)),makeRe:(m,f={})=>a.makeRe(m,q(S,f)),braceExpand:(m,f={})=>a.braceExpand(m,q(S,f)),match:(m,f,h={})=>a.match(m,f,q(S,h)),sep:a.sep,GLOBSTAR:r.GLOBSTAR})};r.defaults=Ot,r.minimatch.defaults=r.defaults;const St=(S,a={})=>((0,s.assertValidPattern)(S),a.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,e.default)(S));r.braceExpand=St,r.minimatch.braceExpand=r.braceExpand;const lt=(S,a={})=>new Et(S,a).makeRe();r.makeRe=lt,r.minimatch.makeRe=r.makeRe;const V=(S,a,d={})=>{const m=new Et(a,d);return S=S.filter(f=>m.match(f)),m.options.nonull&&!S.length&&S.push(a),S};r.match=V,r.minimatch.match=r.match;const pt=/[?*]|[+@!]\(.*?\)|\[|\]/,Se=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Et{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(a,d={}){(0,s.assertValidPattern)(a),d=d||{},this.options=d,this.pattern=a,this.platform=d.platform||z,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!d.windowsPathsNoEscape||d.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!d.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!d.nonegate,this.comment=!1,this.empty=!1,this.partial=!!d.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=d.windowsNoMagicRoot!==void 0?d.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const a of this.set)for(const d of a)if(typeof d!="string")return!0;return!1}debug(...a){}make(){const a=this.pattern,d=this.options;if(!d.nocomment&&a.charAt(0)==="#"){this.comment=!0;return}if(!a){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],d.debug&&(this.debug=(...h)=>console.error(...h)),this.debug(this.pattern,this.globSet);const m=this.globSet.map(h=>this.slashSplit(h));this.globParts=this.preprocess(m),this.debug(this.pattern,this.globParts);let f=this.globParts.map((h,u,E)=>{if(this.isWindows&&this.windowsNoMagicRoot){const C=h[0]===""&&h[1]===""&&(h[2]==="?"||!pt.test(h[2]))&&!pt.test(h[3]),M=/^[a-z]:/i.test(h[0]);if(C)return[...h.slice(0,4),...h.slice(4).map(j=>this.parse(j))];if(M)return[h[0],...h.slice(1).map(j=>this.parse(j))]}return h.map(C=>this.parse(C))});if(this.debug(this.pattern,f),this.set=f.filter(h=>h.indexOf(!1)===-1),this.isWindows)for(let h=0;h<this.set.length;h++){const u=this.set[h];u[0]===""&&u[1]===""&&this.globParts[h][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(a){if(this.options.noglobstar)for(let m=0;m<a.length;m++)for(let f=0;f<a[m].length;f++)a[m][f]==="**"&&(a[m][f]="*");const{optimizationLevel:d=1}=this.options;return d>=2?(a=this.firstPhasePreProcess(a),a=this.secondPhasePreProcess(a)):d>=1?a=this.levelOneOptimize(a):a=this.adjascentGlobstarOptimize(a),a}adjascentGlobstarOptimize(a){return a.map(d=>{let m=-1;for(;(m=d.indexOf("**",m+1))!==-1;){let f=m;for(;d[f+1]==="**";)f++;f!==m&&d.splice(m,f-m)}return d})}levelOneOptimize(a){return a.map(d=>(d=d.reduce((m,f)=>{const h=m[m.length-1];return f==="**"&&h==="**"?m:f===".."&&h&&h!==".."&&h!=="."&&h!=="**"?(m.pop(),m):(m.push(f),m)},[]),d.length===0?[""]:d))}levelTwoFileOptimize(a){Array.isArray(a)||(a=this.slashSplit(a));let d=!1;do{if(d=!1,!this.preserveMultipleSlashes){for(let f=1;f<a.length-1;f++){const h=a[f];f===1&&h===""&&a[0]===""||(h==="."||h==="")&&(d=!0,a.splice(f,1),f--)}a[0]==="."&&a.length===2&&(a[1]==="."||a[1]==="")&&(d=!0,a.pop())}let m=0;for(;(m=a.indexOf("..",m+1))!==-1;){const f=a[m-1];f&&f!=="."&&f!==".."&&f!=="**"&&(d=!0,a.splice(m-1,2),m-=2)}}while(d);return a.length===0?[""]:a}firstPhasePreProcess(a){let d=!1;do{d=!1;for(let m of a){let f=-1;for(;(f=m.indexOf("**",f+1))!==-1;){let u=f;for(;m[u+1]==="**";)u++;u>f&&m.splice(f+1,u-f);let E=m[f+1];const C=m[f+2],M=m[f+3];if(E!==".."||!C||C==="."||C===".."||!M||M==="."||M==="..")continue;d=!0,m.splice(f,1);const j=m.slice(0);j[f]="**",a.push(j),f--}if(!this.preserveMultipleSlashes){for(let u=1;u<m.length-1;u++){const E=m[u];u===1&&E===""&&m[0]===""||(E==="."||E==="")&&(d=!0,m.splice(u,1),u--)}m[0]==="."&&m.length===2&&(m[1]==="."||m[1]==="")&&(d=!0,m.pop())}let h=0;for(;(h=m.indexOf("..",h+1))!==-1;){const u=m[h-1];if(u&&u!=="."&&u!==".."&&u!=="**"){d=!0;const C=h===1&&m[h+1]==="**"?["."]:[];m.splice(h-1,2,...C),m.length===0&&m.push(""),h-=2}}}}while(d);return a}secondPhasePreProcess(a){for(let d=0;d<a.length-1;d++)for(let m=d+1;m<a.length;m++){const f=this.partsMatch(a[d],a[m],!this.preserveMultipleSlashes);f&&(a[d]=f,a[m]=[])}return a.filter(d=>d.length)}partsMatch(a,d,m=!1){let f=0,h=0,u=[],E="";for(;f<a.length&&h<d.length;)if(a[f]===d[h])u.push(E==="b"?d[h]:a[f]),f++,h++;else if(m&&a[f]==="**"&&d[h]===a[f+1])u.push(a[f]),f++;else if(m&&d[h]==="**"&&a[f]===d[h+1])u.push(d[h]),h++;else if(a[f]==="*"&&d[h]&&(this.options.dot||!d[h].startsWith("."))&&d[h]!=="**"){if(E==="b")return!1;E="a",u.push(a[f]),f++,h++}else if(d[h]==="*"&&a[f]&&(this.options.dot||!a[f].startsWith("."))&&a[f]!=="**"){if(E==="a")return!1;E="b",u.push(d[h]),f++,h++}else return!1;return a.length===d.length&&u}parseNegate(){if(this.nonegate)return;const a=this.pattern;let d=!1,m=0;for(let f=0;f<a.length&&a.charAt(f)==="!";f++)d=!d,m++;m&&(this.pattern=a.slice(m)),this.negate=d}matchOne(a,d,m=!1){const f=this.options;if(this.isWindows){const J=typeof a[0]=="string"&&/^[a-z]:$/i.test(a[0]),_e=!J&&a[0]===""&&a[1]===""&&a[2]==="?"&&/^[a-z]:$/i.test(a[3]),He=typeof d[0]=="string"&&/^[a-z]:$/i.test(d[0]),Js=!He&&d[0]===""&&d[1]===""&&d[2]==="?"&&typeof d[3]=="string"&&/^[a-z]:$/i.test(d[3]),Dt=_e?3:J?0:void 0,Tt=Js?3:He?0:void 0;if(typeof Dt=="number"&&typeof Tt=="number"){const[qe,Zs]=[a[Dt],d[Tt]];qe.toLowerCase()===Zs.toLowerCase()&&(d[Tt]=qe,Tt>Dt?d=d.slice(Tt):Dt>Tt&&(a=a.slice(Dt)))}}const{optimizationLevel:h=1}=this.options;h>=2&&(a=this.levelTwoFileOptimize(a)),this.debug("matchOne",this,{file:a,pattern:d}),this.debug("matchOne",a.length,d.length);for(var u=0,E=0,C=a.length,M=d.length;u<C&&E<M;u++,E++){this.debug("matchOne loop");var j=d[E],W=a[u];if(this.debug(d,j,W),j===!1)return!1;if(j===r.GLOBSTAR){this.debug("GLOBSTAR",[d,j,W]);var $=u,K=E+1;if(K===M){for(this.debug("** at the end");u<C;u++)if(a[u]==="."||a[u]===".."||!f.dot&&a[u].charAt(0)===".")return!1;return!0}for(;$<C;){var nt=a[$];if(this.debug(`
+globstar while`,a,$,d,K,nt),this.matchOne(a.slice($),d.slice(K),m))return this.debug("globstar found match!",$,C,nt),!0;if(nt==="."||nt===".."||!f.dot&&nt.charAt(0)==="."){this.debug("dot detected!",a,$,d,K);break}this.debug("globstar swallow a segment, and continue"),$++}return!!(m&&(this.debug(`
+>>> no match, partial?`,a,$,d,K),$===C))}let J;if(typeof j=="string"?(J=W===j,this.debug("string match",j,W,J)):(J=j.test(W),this.debug("pattern match",j,W,J)),!J)return!1}if(u===C&&E===M)return!0;if(u===C)return m;if(E===M)return u===C-1&&a[u]==="";throw new Error("wtf?")}braceExpand(){return(0,r.braceExpand)(this.pattern,this.options)}parse(a){(0,s.assertValidPattern)(a);const d=this.options;if(a==="**")return r.GLOBSTAR;if(a==="")return"";let m,f=null;(m=a.match(A))?f=d.dot?R:P:(m=a.match(l))?f=(d.nocase?d.dot?y:g:d.dot?b:p)(m[1]):(m=a.match(F))?f=(d.nocase?d.dot?D:k:d.dot?I:L)(m):(m=a.match(w))?f=d.dot?v:_:(m=a.match(T))&&(f=O);const h=i.AST.fromGlob(a,this.options).toMMPattern();return f?Object.assign(h,{test:f}):h}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const a=this.set;if(!a.length)return this.regexp=!1,this.regexp;const d=this.options,m=d.noglobstar?Pt:d.dot?Zt:Mt,f=new Set(d.nocase?["i"]:[]);let h=a.map(C=>{const M=C.map(j=>{if(j instanceof RegExp)for(const W of j.flags.split(""))f.add(W);return typeof j=="string"?Se(j):j===r.GLOBSTAR?r.GLOBSTAR:j._src});return M.forEach((j,W)=>{const $=M[W+1],K=M[W-1];j!==r.GLOBSTAR||K===r.GLOBSTAR||(K===void 0?$!==void 0&&$!==r.GLOBSTAR?M[W+1]="(?:\\/|"+m+"\\/)?"+$:M[W]=m:$===void 0?M[W-1]=K+"(?:\\/|"+m+")?":$!==r.GLOBSTAR&&(M[W-1]=K+"(?:\\/|\\/"+m+"\\/)"+$,M[W+1]=r.GLOBSTAR))}),M.filter(j=>j!==r.GLOBSTAR).join("/")}).join("|");const[u,E]=a.length>1?["(?:",")"]:["",""];h="^"+u+h+E+"$",this.negate&&(h="^(?!"+h+").+$");try{this.regexp=new RegExp(h,[...f].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(a){return this.preserveMultipleSlashes?a.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(a)?["",...a.split(/\/+/)]:a.split(/\/+/)}match(a,d=this.partial){if(this.debug("match",a,this.pattern),this.comment)return!1;if(this.empty)return a==="";if(a==="/"&&d)return!0;const m=this.options;this.isWindows&&(a=a.split("\\").join("/"));const f=this.slashSplit(a);this.debug(this.pattern,"split",f);const h=this.set;this.debug(this.pattern,"set",h);let u=f[f.length-1];if(!u)for(let E=f.length-2;!u&&E>=0;E--)u=f[E];for(let E=0;E<h.length;E++){const C=h[E];let M=f;if(m.matchBase&&C.length===1&&(M=[u]),this.matchOne(M,C,d))return m.flipNegate?!0:!this.negate}return m.flipNegate?!1:this.negate}static defaults(a){return r.minimatch.defaults(a).Minimatch}}r.Minimatch=Et;var Ee=jt;Object.defineProperty(r,"AST",{enumerable:!0,get:function(){return Ee.AST}});var ve=kt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return ve.escape}});var Xt=Rt;Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return Xt.unescape}}),r.minimatch.AST=i.AST,r.minimatch.Minimatch=Et,r.minimatch.escape=n.escape,r.minimatch.unescape=o.unescape}(mt);var Nt={},B={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.LRUCache=void 0;const Bt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,us=new Set,Ae=typeof process=="object"&&process?process:{},ds=(r,t,e,s)=>{typeof Ae.emitWarning=="function"?Ae.emitWarning(r,t,e,s):console.error(`[${e}] ${t}: ${r}`)};let re=globalThis.AbortController,ps=globalThis.AbortSignal;if(typeof re>"u"){ps=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,i){this._onabort.push(i)}},re=class{constructor(){t()}signal=new ps;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const i of this.signal._onabort)i(s);this.signal.onabort?.(s)}}};let r=Ae.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{r&&(r=!1,ds("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Oi=r=>!us.has(r),gt=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),ms=r=>gt(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?ne:null:null;class ne extends Array{constructor(t){super(t),this.fill(0)}}class Ct{heap;length;static#t=!1;static create(t){const e=ms(t);if(!e)return[];Ct.#t=!0;const s=new Ct(t,e);return Ct.#t=!1,s}constructor(t,e){if(!Ct.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class xe{#t;#s;#n;#i;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#f;#a;#h;#e;#m;#w;#d;#u;#y;#g;#C;#P;#O;#S;#R;#p;static unsafeExposeInternals(t){return{starts:t.#P,ttls:t.#O,sizes:t.#C,keyMap:t.#a,keyList:t.#h,valList:t.#e,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#y,isBackgroundFetch:e=>t.#c(e),backgroundFetch:(e,s,i,n)=>t.#F(e,s,i,n),moveToTail:e=>t.#j(e),indexes:e=>t.#_(e),rindexes:e=>t.#A(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#s}get calculatedSize(){return this.#f}get size(){return this.#l}get fetchMethod(){return this.#o}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:s,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:c,allowStale:l,dispose:p,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:y,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:v,fetchMethod:T,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:R,ignoreFetchAbort:F}=t;if(e!==0&&!gt(e))throw new TypeError("max option must be a nonnegative integer");const k=e?ms(e):Array;if(!k)throw new Error("invalid max value: "+e);if(this.#t=e,this.#s=w,this.maxEntrySize=_||this.#s,this.sizeCalculation=v,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(T!==void 0&&typeof T!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=T,this.#R=!!T,this.#a=new Map,this.#h=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new k(e),this.#w=new k(e),this.#d=0,this.#u=0,this.#y=Ct.create(e),this.#l=0,this.#f=0,typeof p=="function"&&(this.#n=p),typeof b=="function"?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#S=!!this.#n,this.#p=!!this.#i,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!P,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!F,this.maxEntrySize!==0){if(this.#s!==0&&!gt(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!gt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#D()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!c,this.ttlResolution=gt(i)||i===0?i:1,this.ttlAutopurge=!!n,this.ttl=s||0,this.ttl){if(!gt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#t===0&&this.ttl===0&&this.#s===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#s){const D="LRU_CACHE_UNBOUNDED";Oi(D)&&(us.add(D),ds("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,xe))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#M(){const t=new ne(this.#t),e=new ne(this.#t);this.#O=t,this.#P=e,this.#r=(n,o,c=Bt.now())=>{if(e[n]=o!==0?c:0,t[n]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{this.#b(n)&&this.delete(this.#h[n])},o+1);l.unref&&l.unref()}},this.#T=n=>{e[n]=t[n]!==0?Bt.now():0},this.#E=(n,o)=>{if(t[o]){const c=t[o],l=e[o];n.ttl=c,n.start=l,n.now=s||i();const p=n.now-l;n.remainingTTL=c-p}};let s=0;const i=()=>{const n=Bt.now();if(this.ttlResolution>0){s=n;const o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{const o=this.#a.get(n);if(o===void 0)return 0;const c=t[o],l=e[o];if(c===0||l===0)return 1/0;const p=(s||i())-l;return c-p},this.#b=n=>t[n]!==0&&e[n]!==0&&(s||i())-e[n]>t[n]}#T=()=>{};#E=()=>{};#r=()=>{};#b=()=>!1;#D(){const t=new ne(this.#t);this.#f=0,this.#C=t,this.#v=e=>{this.#f-=t[e],t[e]=0},this.#N=(e,s,i,n)=>{if(this.#c(s))return 0;if(!gt(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(s,e),!gt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#k=(e,s,i)=>{if(t[e]=s,this.#s){const n=this.#s-t[e];for(;this.#f>n;)this.#L(!0)}this.#f+=t[e],i&&(i.entrySize=s,i.totalCalculatedSize=this.#f)}}#v=t=>{};#k=(t,e,s)=>{};#N=(t,e,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#A({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#B(e)||((t||!this.#b(e))&&(yield e),e===this.#u));)e=this.#m[e]}#B(t){return t!==void 0&&this.#a.get(this.#h[t])===t}*entries(){for(const t of this.#_())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*rentries(){for(const t of this.#A())this.#e[t]!==void 0&&this.#h[t]!==void 0&&!this.#c(this.#e[t])&&(yield[this.#h[t],this.#e[t]])}*keys(){for(const t of this.#_()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*rkeys(){for(const t of this.#A()){const e=this.#h[t];e!==void 0&&!this.#c(this.#e[t])&&(yield e)}}*values(){for(const t of this.#_())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#A())this.#e[t]!==void 0&&!this.#c(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;if(n!==void 0&&t(n,this.#h[s],this))return this.get(this.#h[s],e)}}forEach(t,e=this){for(const s of this.#_()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}rforEach(t,e=this){for(const s of this.#A()){const i=this.#e[s],n=this.#c(i)?i.__staleWhileFetching:i;n!==void 0&&t.call(e,n,this.#h[s],this)}}purgeStale(){let t=!1;for(const e of this.#A({allowStale:!0}))this.#b(e)&&(this.delete(this.#h[e]),t=!0);return t}dump(){const t=[];for(const e of this.#_({allowStale:!0})){const s=this.#h[e],i=this.#e[e],n=this.#c(i)?i.__staleWhileFetching:i;if(n===void 0||s===void 0)continue;const o={value:n};if(this.#O&&this.#P){o.ttl=this.#O[e];const c=Bt.now()-this.#P[e];o.start=Math.floor(Date.now()-c)}this.#C&&(o.size=this.#C[e]),t.unshift([s,o])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const i=Date.now()-s.start;s.start=Bt.now()-i}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:l}=s;let{noUpdateTTL:p=this.noUpdateTTL}=s;const b=this.#N(t,e,s.size||0,c);if(this.maxEntrySize&&b>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(t),this;let g=this.#l===0?void 0:this.#a.get(t);if(g===void 0)g=this.#l===0?this.#u:this.#y.length!==0?this.#y.pop():this.#l===this.#t?this.#L(!1):this.#l,this.#h[g]=t,this.#e[g]=e,this.#a.set(t,g),this.#m[this.#u]=g,this.#w[g]=this.#u,this.#u=g,this.#l++,this.#k(g,b,l),l&&(l.set="add"),p=!1;else{this.#j(g);const y=this.#e[g];if(e!==y){if(this.#R&&this.#c(y)?y.__abortController.abort(new Error("replaced")):o||(this.#S&&this.#n?.(y,t,"set"),this.#p&&this.#g?.push([y,t,"set"])),this.#v(g),this.#k(g,b,l),this.#e[g]=e,l){l.set="replace";const w=y&&this.#c(y)?y.__staleWhileFetching:y;w!==void 0&&(l.oldValue=w)}}else l&&(l.set="update")}if(i!==0&&!this.#O&&this.#M(),this.#O&&(p||this.#r(g,i,n),l&&this.#E(l,g)),!o&&this.#p&&this.#g){const y=this.#g;let w;for(;w=y?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#l;){const t=this.#e[this.#d];if(this.#L(!0),this.#c(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){const e=this.#d,s=this.#h[e],i=this.#e[e];return this.#R&&this.#c(i)?i.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,s,"evict"),this.#p&&this.#g?.push([i,s,"evict"])),this.#v(e),t&&(this.#h[e]=void 0,this.#e[e]=void 0,this.#y.push(e)),this.#l===1?(this.#d=this.#u=0,this.#y.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#l--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=e,n=this.#a.get(t);if(n!==void 0){const o=this.#e[n];if(this.#c(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(n))i&&(i.has="stale",this.#E(i,n));else return s&&this.#T(n),i&&(i.has="hit",this.#E(i,n)),!0}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,i=this.#a.get(t);if(i!==void 0&&(s||!this.#b(i))){const n=this.#e[i];return this.#c(n)?n.__staleWhileFetching:n}}#F(t,e,s,i){const n=e===void 0?void 0:this.#e[e];if(this.#c(n))return n;const o=new re,{signal:c}=s;c?.addEventListener("abort",()=>o.abort(c.reason),{signal:o.signal});const l={signal:o.signal,options:s,context:i},p=(v,T=!1)=>{const{aborted:O}=o.signal,A=s.ignoreFetchAbort&&v!==void 0;if(s.status&&(O&&!T?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,A&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),O&&!A&&!T)return g(o.signal.reason);const P=w;return this.#e[e]===w&&(v===void 0?P.__staleWhileFetching?this.#e[e]=P.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,v,l.options))),v},b=v=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=v),g(v)),g=v=>{const{aborted:T}=o.signal,O=T&&s.allowStaleOnFetchAbort,A=O||s.allowStaleOnFetchRejection,P=A||s.noDeleteOnFetchRejection,R=w;if(this.#e[e]===w&&(!P||R.__staleWhileFetching===void 0?this.delete(t):O||(this.#e[e]=R.__staleWhileFetching)),A)return s.status&&R.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw v},y=(v,T)=>{const O=this.#o?.(t,n,l);O&&O instanceof Promise&&O.then(A=>v(A===void 0?void 0:A),T),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(v(void 0),s.allowStaleOnFetchAbort&&(v=A=>p(A,!0)))})};s.status&&(s.status.fetchDispatched=!0);const w=new Promise(y).then(p,b),_=Object.assign(w,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,_,{...l.options,status:void 0}),e=this.#a.get(t)):this.#e[e]=_,_}#c(t){if(!this.#R)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof re}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:v,forceRefresh:T=!1,status:O,signal:A}=e;if(!this.#R)return O&&(O.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:O});const P={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:c,size:l,sizeCalculation:p,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:_,ignoreFetchAbort:w,status:O,signal:A};let R=this.#a.get(t);if(R===void 0){O&&(O.fetch="miss");const F=this.#F(t,R,P,v);return F.__returned=F}else{const F=this.#e[R];if(this.#c(F)){const st=s&&F.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",st&&(O.returnedStale=!0)),st?F.__staleWhileFetching:F.__returned=F}const k=this.#b(R);if(!T&&!k)return O&&(O.fetch="hit"),this.#j(R),i&&this.#T(R),O&&this.#E(O,R),F;const D=this.#F(t,R,P,v),L=D.__staleWhileFetching!==void 0&&s;return O&&(O.fetch=k?"stale":"refresh",L&&k&&(O.returnedStale=!0)),L?D.__staleWhileFetching:D.__returned=D}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,c=this.#a.get(t);if(c!==void 0){const l=this.#e[c],p=this.#c(l);return o&&this.#E(o,c),this.#b(c)?(o&&(o.get="stale"),p?(o&&s&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?l.__staleWhileFetching:void 0):(n||this.delete(t),o&&s&&(o.returnedStale=!0),s?l:void 0)):(o&&(o.get="hit"),p?l.__staleWhileFetching:(this.#j(c),i&&this.#T(c),l))}else o&&(o.get="miss")}#I(t,e){this.#w[e]=t,this.#m[t]=e}#j(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#I(this.#w[t],this.#m[t]),this.#I(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){const s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#v(s);const i=this.#e[s];this.#c(i)?i.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#n?.(i,t,"delete"),this.#p&&this.#g?.push([i,t,"delete"])),this.#a.delete(t),this.#h[s]=void 0,this.#e[s]=void 0,s===this.#u?this.#u=this.#w[s]:s===this.#d?this.#d=this.#m[s]:(this.#m[this.#w[s]]=this.#m[s],this.#w[this.#m[s]]=this.#w[s]),this.#l--,this.#y.push(s)}}if(this.#p&&this.#g?.length){const s=this.#g;let i;for(;i=s?.shift();)this.#i?.(...i)}return e}clear(){for(const t of this.#A({allowStale:!0})){const e=this.#e[t];if(this.#c(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#h[t];this.#S&&this.#n?.(e,s,"delete"),this.#p&&this.#g?.push([e,s,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#h.fill(void 0),this.#O&&this.#P&&(this.#O.fill(0),this.#P.fill(0)),this.#C&&this.#C.fill(0),this.#d=0,this.#u=0,this.#y.length=0,this.#f=0,this.#l=0,this.#p&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}ie.LRUCache=xe;var gs={};(function(r){var t=it&&it.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(r,"__esModule",{value:!0}),r.Minipass=r.isWritable=r.isReadable=r.isStream=void 0;const e=typeof process=="object"&&process?process:{stdout:null,stderr:null},s=Ke,i=t(Je),n=Ze,o=f=>!!f&&typeof f=="object"&&(f instanceof m||f instanceof i.default||(0,r.isReadable)(f)||(0,r.isWritable)(f));r.isStream=o;const c=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.pipe=="function"&&f.pipe!==i.default.Writable.prototype.pipe;r.isReadable=c;const l=f=>!!f&&typeof f=="object"&&f instanceof s.EventEmitter&&typeof f.write=="function"&&typeof f.end=="function";r.isWritable=l;const p=Symbol("EOF"),b=Symbol("maybeEmitEnd"),g=Symbol("emittedEnd"),y=Symbol("emittingEnd"),w=Symbol("emittedError"),_=Symbol("closed"),v=Symbol("read"),T=Symbol("flush"),O=Symbol("flushChunk"),A=Symbol("encoding"),P=Symbol("decoder"),R=Symbol("flowing"),F=Symbol("paused"),k=Symbol("resume"),D=Symbol("buffer"),I=Symbol("pipes"),L=Symbol("bufferLength"),st=Symbol("bufferPush"),yt=Symbol("bufferShift"),z=Symbol("objectMode"),N=Symbol("destroyed"),Jt=Symbol("error"),Pt=Symbol("emitData"),Zt=Symbol("emitEnd"),Mt=Symbol("emitEnd2"),Q=Symbol("async"),q=Symbol("abort"),Ot=Symbol("aborted"),St=Symbol("signal"),lt=Symbol("dataListeners"),V=Symbol("discarded"),pt=f=>Promise.resolve().then(f),Se=f=>f(),Et=f=>f==="end"||f==="finish"||f==="prefinish",Ee=f=>f instanceof ArrayBuffer||!!f&&typeof f=="object"&&f.constructor&&f.constructor.name==="ArrayBuffer"&&f.byteLength>=0,ve=f=>!Buffer.isBuffer(f)&&ArrayBuffer.isView(f);class Xt{src;dest;opts;ondrain;constructor(h,u,E){this.src=h,this.dest=u,this.opts=E,this.ondrain=()=>h[k](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(h){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends Xt{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(h,u,E){super(h,u,E),this.proxyErrors=C=>u.emit("error",C),h.on("error",this.proxyErrors)}}const a=f=>!!f.objectMode,d=f=>!f.objectMode&&!!f.encoding&&f.encoding!=="buffer";class m extends s.EventEmitter{[R]=!1;[F]=!1;[I]=[];[D]=[];[z];[A];[Q];[P];[p]=!1;[g]=!1;[y]=!1;[_]=!1;[w]=null;[L]=0;[N]=!1;[St];[Ot]=!1;[lt]=0;[V]=!1;writable=!0;readable=!0;constructor(...h){const u=h[0]||{};if(super(),u.objectMode&&typeof u.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");a(u)?(this[z]=!0,this[A]=null):d(u)?(this[A]=u.encoding,this[z]=!1):(this[z]=!1,this[A]=null),this[Q]=!!u.async,this[P]=this[A]?new n.StringDecoder(this[A]):null,u&&u.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[D]}),u&&u.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[I]});const{signal:E}=u;E&&(this[St]=E,E.aborted?this[q]():E.addEventListener("abort",()=>this[q]()))}get bufferLength(){return this[L]}get encoding(){return this[A]}set encoding(h){throw new Error("Encoding must be set at instantiation time")}setEncoding(h){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[z]}set objectMode(h){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Q]}set async(h){this[Q]=this[Q]||!!h}[q](){this[Ot]=!0,this.emit("abort",this[St]?.reason),this.destroy(this[St]?.reason)}get aborted(){return this[Ot]}set aborted(h){}write(h,u,E){if(this[Ot])return!1;if(this[p])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof u=="function"&&(E=u,u="utf8"),u||(u="utf8");const C=this[Q]?pt:Se;if(!this[z]&&!Buffer.isBuffer(h)){if(ve(h))h=Buffer.from(h.buffer,h.byteOffset,h.byteLength);else if(Ee(h))h=Buffer.from(h);else if(typeof h!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[z]?(this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):h.length?(typeof h=="string"&&!(u===this[A]&&!this[P]?.lastNeed)&&(h=Buffer.from(h,u)),Buffer.isBuffer(h)&&this[A]&&(h=this[P].write(h)),this[R]&&this[L]!==0&&this[T](!0),this[R]?this.emit("data",h):this[st](h),this[L]!==0&&this.emit("readable"),E&&C(E),this[R]):(this[L]!==0&&this.emit("readable"),E&&C(E),this[R])}read(h){if(this[N])return null;if(this[V]=!1,this[L]===0||h===0||h&&h>this[L])return this[b](),null;this[z]&&(h=null),this[D].length>1&&!this[z]&&(this[D]=[this[A]?this[D].join(""):Buffer.concat(this[D],this[L])]);const u=this[v](h||null,this[D][0]);return this[b](),u}[v](h,u){if(this[z])this[yt]();else{const E=u;h===E.length||h===null?this[yt]():typeof E=="string"?(this[D][0]=E.slice(h),u=E.slice(0,h),this[L]-=h):(this[D][0]=E.subarray(h),u=E.subarray(0,h),this[L]-=h)}return this.emit("data",u),!this[D].length&&!this[p]&&this.emit("drain"),u}end(h,u,E){return typeof h=="function"&&(E=h,h=void 0),typeof u=="function"&&(E=u,u="utf8"),h!==void 0&&this.write(h,u),E&&this.once("end",E),this[p]=!0,this.writable=!1,(this[R]||!this[F])&&this[b](),this}[k](){this[N]||(!this[lt]&&!this[I].length&&(this[V]=!0),this[F]=!1,this[R]=!0,this.emit("resume"),this[D].length?this[T]():this[p]?this[b]():this.emit("drain"))}resume(){return this[k]()}pause(){this[R]=!1,this[F]=!0,this[V]=!1}get destroyed(){return this[N]}get flowing(){return this[R]}get paused(){return this[F]}[st](h){this[z]?this[L]+=1:this[L]+=h.length,this[D].push(h)}[yt](){return this[z]?this[L]-=1:this[L]-=this[D][0].length,this[D].shift()}[T](h=!1){do;while(this[O](this[yt]())&&this[D].length);!h&&!this[D].length&&!this[p]&&this.emit("drain")}[O](h){return this.emit("data",h),this[R]}pipe(h,u){if(this[N])return h;this[V]=!1;const E=this[g];return u=u||{},h===e.stdout||h===e.stderr?u.end=!1:u.end=u.end!==!1,u.proxyErrors=!!u.proxyErrors,E?u.end&&h.end():(this[I].push(u.proxyErrors?new S(this,h,u):new Xt(this,h,u)),this[Q]?pt(()=>this[k]()):this[k]()),h}unpipe(h){const u=this[I].find(E=>E.dest===h);u&&(this[I].length===1?(this[R]&&this[lt]===0&&(this[R]=!1),this[I]=[]):this[I].splice(this[I].indexOf(u),1),u.unpipe())}addListener(h,u){return this.on(h,u)}on(h,u){const E=super.on(h,u);if(h==="data")this[V]=!1,this[lt]++,!this[I].length&&!this[R]&&this[k]();else if(h==="readable"&&this[L]!==0)super.emit("readable");else if(Et(h)&&this[g])super.emit(h),this.removeAllListeners(h);else if(h==="error"&&this[w]){const C=u;this[Q]?pt(()=>C.call(this,this[w])):C.call(this,this[w])}return E}removeListener(h,u){return this.off(h,u)}off(h,u){const E=super.off(h,u);return h==="data"&&(this[lt]=this.listeners("data").length,this[lt]===0&&!this[V]&&!this[I].length&&(this[R]=!1)),E}removeAllListeners(h){const u=super.removeAllListeners(h);return(h==="data"||h===void 0)&&(this[lt]=0,!this[V]&&!this[I].length&&(this[R]=!1)),u}get emittedEnd(){return this[g]}[b](){!this[y]&&!this[g]&&!this[N]&&this[D].length===0&&this[p]&&(this[y]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_]&&this.emit("close"),this[y]=!1)}emit(h,...u){const E=u[0];if(h!=="error"&&h!=="close"&&h!==N&&this[N])return!1;if(h==="data")return!this[z]&&!E?!1:this[Q]?(pt(()=>this[Pt](E)),!0):this[Pt](E);if(h==="end")return this[Zt]();if(h==="close"){if(this[_]=!0,!this[g]&&!this[N])return!1;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(h==="error"){this[w]=E,super.emit(Jt,E);const M=!this[St]||this.listeners("error").length?super.emit("error",E):!1;return this[b](),M}else if(h==="resume"){const M=super.emit("resume");return this[b](),M}else if(h==="finish"||h==="prefinish"){const M=super.emit(h);return this.removeAllListeners(h),M}const C=super.emit(h,...u);return this[b](),C}[Pt](h){for(const E of this[I])E.dest.write(h)===!1&&this.pause();const u=this[V]?!1:super.emit("data",h);return this[b](),u}[Zt](){return this[g]?!1:(this[g]=!0,this.readable=!1,this[Q]?(pt(()=>this[Mt]()),!0):this[Mt]())}[Mt](){if(this[P]){const u=this[P].end();if(u){for(const E of this[I])E.dest.write(u);this[V]||super.emit("data",u)}}for(const u of this[I])u.end();const h=super.emit("end");return this.removeAllListeners("end"),h}async collect(){const h=Object.assign([],{dataLength:0});this[z]||(h.dataLength=0);const u=this.promise();return this.on("data",E=>{h.push(E),this[z]||(h.dataLength+=E.length)}),await u,h}async concat(){if(this[z])throw new Error("cannot concat in objectMode");const h=await this.collect();return this[A]?h.join(""):Buffer.concat(h,h.dataLength)}async promise(){return new Promise((h,u)=>{this.on(N,()=>u(new Error("stream destroyed"))),this.on("error",E=>u(E)),this.on("end",()=>h())})}[Symbol.asyncIterator](){this[V]=!1;let h=!1;const u=async()=>(this.pause(),h=!0,{value:void 0,done:!0});return{next:()=>{if(h)return u();const C=this.read();if(C!==null)return Promise.resolve({done:!1,value:C});if(this[p])return u();let M,j;const W=J=>{this.off("data",$),this.off("end",K),this.off(N,nt),u(),j(J)},$=J=>{this.off("error",W),this.off("end",K),this.off(N,nt),this.pause(),M({value:J,done:!!this[p]})},K=()=>{this.off("error",W),this.off("data",$),this.off(N,nt),u(),M({done:!0,value:void 0})},nt=()=>W(new Error("stream destroyed"));return new Promise((J,_e)=>{j=_e,M=J,this.once(N,nt),this.once("error",W),this.once("end",K),this.once("data",$)})},throw:u,return:u,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[V]=!1;let h=!1;const u=()=>(this.pause(),this.off(Jt,u),this.off(N,u),this.off("end",u),h=!0,{done:!0,value:void 0}),E=()=>{if(h)return u();const C=this.read();return C===null?u():{done:!1,value:C}};return this.once("end",u),this.once(Jt,u),this.once(N,u),{next:E,throw:u,return:u,[Symbol.iterator](){return this}}}destroy(h){if(this[N])return h?this.emit("error",h):this.emit(N),this;this[N]=!0,this[V]=!0,this[D].length=0,this[L]=0;const u=this;return typeof u.close=="function"&&!this[_]&&u.close(),h?this.emit("error",h):this.emit(N),this}static get isStream(){return r.isStream}}r.Minipass=m})(gs);var Ti=it&&it.__createBinding||(Object.create?function(r,t,e,s){s===void 0&&(s=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,s,i)}:function(r,t,e,s){s===void 0&&(s=e),r[s]=t[e]}),Ri=it&&it.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Ai=it&&it.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&Ti(t,r,e);return Ri(t,r),t};Object.defineProperty(B,"__esModule",{value:!0}),B.PathScurry=B.Path=B.PathScurryDarwin=B.PathScurryPosix=B.PathScurryWin32=B.PathScurryBase=B.PathPosix=B.PathWin32=B.PathBase=B.ChildrenCache=B.ResolveCache=void 0;const ws=ie,he=Xs,Ci=Ve,Pi=Ai(Ye),It=Ye,Mi=It.realpathSync.native,oe=Qs,bs=gs,Wt={lstatSync:It.lstatSync,readdir:It.readdir,readdirSync:It.readdirSync,readlinkSync:It.readlinkSync,realpathSync:Mi,promises:{lstat:oe.lstat,readdir:oe.readdir,readlink:oe.readlink,realpath:oe.realpath}},ys=r=>!r||r===Wt||r===Pi?Wt:{...Wt,...r,promises:{...Wt.promises,...r.promises||{}}},Ss=/^\\\\\?\\([a-z]:)\\?$/i,Di=r=>r.replace(/\//g,"\\").replace(Ss,"$1\\"),Li=/[\\\/]/,tt=0,Es=1,vs=2,ht=4,_s=6,Os=8,vt=10,Ts=12,et=15,Gt=~et,Ce=16,Rs=32,xt=64,rt=128,ae=256,le=512,As=xt|rt|le,ji=1023,Pe=r=>r.isFile()?Os:r.isDirectory()?ht:r.isSymbolicLink()?vt:r.isCharacterDevice()?vs:r.isBlockDevice()?_s:r.isSocket()?Ts:r.isFIFO()?Es:tt,Cs=new Map,$t=r=>{const t=Cs.get(r);if(t)return t;const e=r.normalize("NFKD");return Cs.set(r,e),e},Ps=new Map,ce=r=>{const t=Ps.get(r);if(t)return t;const e=$t(r.toLowerCase());return Ps.set(r,e),e};class Me extends ws.LRUCache{constructor(){super({max:256})}}B.ResolveCache=Me;class Ms extends ws.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}}B.ChildrenCache=Ms;const Ds=Symbol("PathScurry setAsCwd");class Y{name;root;roots;parent;nocase;#t;#s;get dev(){return this.#s}#n;get mode(){return this.#n}#i;get nlink(){return this.#i}#o;get uid(){return this.#o}#l;get gid(){return this.#l}#f;get rdev(){return this.#f}#a;get blksize(){return this.#a}#h;get ino(){return this.#h}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#w;get atimeMs(){return this.#w}#d;get mtimeMs(){return this.#d}#u;get ctimeMs(){return this.#u}#y;get birthtimeMs(){return this.#y}#g;get atime(){return this.#g}#C;get mtime(){return this.#C}#P;get ctime(){return this.#P}#O;get birthtime(){return this.#O}#S;#R;#p;#M;#T;#E;#r;#b;#D;#v;get path(){return(this.parent||this).fullpath()}constructor(t,e=tt,s,i,n,o,c){this.name=t,this.#S=n?ce(t):$t(t),this.#r=e&ji,this.nocase=n,this.roots=i,this.root=s||this,this.#b=o,this.#p=c.fullpath,this.#T=c.relative,this.#E=c.relativePosix,this.parent=c.parent,this.parent?this.#t=this.parent.#t:this.#t=ys(c.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;const e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#k(i):this.#k(i)}#k(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#b.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#r&=~Ce,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const s=this.children(),i=this.nocase?ce(t):$t(t);for(const l of s)if(l.#S===i)return l;const n=this.parent?this.sep:"",o=this.#p?this.#p+n+t:void 0,c=this.newChild(t,tt,{...e,parent:this,fullpath:o});return this.canReaddir()||(c.#r|=rt),s.push(c),c}relative(){if(this.#T!==void 0)return this.#T;const t=this.name,e=this.parent;if(!e)return this.#T=this.name;const s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#E!==void 0)return this.#E;const t=this.name,e=this.parent;if(!e)return this.#E=this.fullpathPosix();const s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;const t=this.name,e=this.parent;if(!e)return this.#p=this.name;const i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=i}fullpathPosix(){if(this.#M!==void 0)return this.#M;if(this.sep==="/")return this.#M=this.fullpath();if(!this.parent){const i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#M=`//?/${i}`:this.#M=i}const t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#M=s}isUnknown(){return(this.#r&et)===tt}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&et)===Os}isDirectory(){return(this.#r&et)===ht}isCharacterDevice(){return(this.#r&et)===vs}isBlockDevice(){return(this.#r&et)===_s}isFIFO(){return(this.#r&et)===Es}isSocket(){return(this.#r&et)===Ts}isSymbolicLink(){return(this.#r&vt)===vt}lstatCached(){return this.#r&Rs?this:void 0}readlinkCached(){return this.#D}realpathCached(){return this.#v}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#D)return!0;if(!this.parent)return!1;const t=this.#r&et;return!(t!==tt&&t!==vt||this.#r&ae||this.#r&rt)}calledReaddir(){return!!(this.#r&Ce)}isENOENT(){return!!(this.#r&rt)}isNamed(t){return this.nocase?this.#S===ce(t):this.#S===$t(t)}async readlink(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}readlinkSync(){const t=this.#D;if(t)return t;if(this.canReadlink()&&this.parent)try{const e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#D=s}catch(e){this.#I(e.code);return}}#N(t){this.#r|=Ce;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#r&rt||(this.#r=(this.#r|rt)&Gt,this.#A())}#A(){const t=this.children();t.provisional=0;for(const e of t)e.#_()}#B(){this.#r|=le,this.#L()}#L(){if(this.#r&xt)return;let t=this.#r;(t&et)===ht&&(t&=Gt),this.#r=t|xt,this.#A()}#F(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#_():this.children().provisional=0}#c(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#_()}#I(t=""){let e=this.#r;e|=ae,t==="ENOENT"&&(e|=rt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Gt),this.#r=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#j(t,e){return this.#U(t,e)||this.#z(t,e)}#z(t,e){const s=Pe(t),i=this.newChild(t.name,s,{parent:this}),n=i.#r&et;return n!==ht&&n!==vt&&n!==tt&&(i.#r|=xt),e.unshift(i),e.provisional++,i}#U(t,e){for(let s=e.provisional;s<e.length;s++){const i=e[s];if((this.nocase?ce(t.name):$t(t.name))===i.#S)return this.#H(t,i,s,e)}}#H(t,e,s,i){const n=e.name;return e.#r=e.#r&Gt|Pe(t),n!==t.name&&(e.name=t.name),s!==i.provisional&&(s===i.length-1?i.pop():i.splice(s,1),i.unshift(e)),i.provisional++,e}async lstat(){if(!(this.#r&rt))try{return this.#$(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#c(t.code)}}lstatSync(){if(!(this.#r&rt))try{return this.#$(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#c(t.code)}}#$(t){const{atime:e,atimeMs:s,birthtime:i,birthtimeMs:n,blksize:o,blocks:c,ctime:l,ctimeMs:p,dev:b,gid:g,ino:y,mode:w,mtime:_,mtimeMs:v,nlink:T,rdev:O,size:A,uid:P}=t;this.#g=e,this.#w=s,this.#O=i,this.#y=n,this.#a=o,this.#m=c,this.#P=l,this.#u=p,this.#s=b,this.#l=g,this.#h=y,this.#n=w,this.#C=_,this.#d=v,this.#i=T,this.#f=O,this.#e=A,this.#o=P;const R=Pe(t);this.#r=this.#r&Gt|R|Rs,R!==tt&&R!==ht&&R!==vt&&(this.#r|=xt)}#G=[];#x=!1;#q(t){this.#x=!1;const e=this.#G.slice();this.#G.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}const s=this.children();if(this.calledReaddir()){const n=s.slice(0,s.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#G.push(t),this.#x)return;this.#x=!0;const i=this.fullpath();this.#t.readdir(i,{withFileTypes:!0},(n,o)=>{if(n)this.#F(n.code),s.provisional=0;else{for(const c of o)this.#j(c,s);this.#N(s)}this.#q(s.slice(0,s.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#W)await this.#W;else{let s=()=>{};this.#W=new Promise(i=>s=i);try{for(const i of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#j(i,t);this.#N(t)}catch(i){this.#F(i.code),t.provisional=0}this.#W=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#j(s,t);this.#N(t)}catch(s){this.#F(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#r&As)return!1;const t=et&this.#r;return t===tt||t===ht||t===vt}shouldWalk(t,e){return(this.#r&ht)===ht&&!(this.#r&As)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=await this.#t.promises.realpath(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}realpathSync(){if(this.#v)return this.#v;if(!((le|ae|rt)&this.#r))try{const t=this.#t.realpathSync(this.fullpath());return this.#v=this.resolve(t)}catch{this.#B()}}[Ds](t){if(t===this)return;const e=new Set([]);let s=[],i=this;for(;i&&i.parent;)e.add(i),i.#T=s.join(this.sep),i.#E=s.join("/"),i=i.parent,s.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#T=void 0,i.#E=void 0,i=i.parent}}B.PathBase=Y;class Yt extends Y{sep="\\";splitSep=Li;constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}newChild(t,e=tt,s={}){return new Yt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return he.win32.parse(t).root}getRoot(t){if(t=Di(t.toUpperCase()),t===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Le(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Ss,"$1\\"),t===e}}B.PathWin32=Yt;class Kt extends Y{splitSep="/";sep="/";constructor(t,e=tt,s,i,n,o,c){super(t,e,s,i,n,o,c)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=tt,s={}){return new Kt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}B.PathPosix=Kt;class De{root;rootPath;roots;cwd;#t;#s;#n;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:i,childrenCacheSize:n=16*1024,fs:o=Wt}={}){this.#i=ys(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Ci.fileURLToPath)(t));const c=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(c),this.#t=new Me,this.#s=new Me,this.#n=new Ms(n);const l=c.substring(this.rootPath.length).split(s);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let p=this.root,b=l.length-1;const g=e.sep;let y=this.rootPath,w=!1;for(const _ of l){const v=b--;p=p.child(_,{relative:new Array(v).fill("..").join(g),relativePosix:new Array(v).fill("..").join("/"),fullpath:y+=(w?"":g)+_}),w=!0}this.cwd=p}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#n}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#t.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpath();return this.#t.set(e,i),i}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){const o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}const s=this.#s.get(e);if(s!==void 0)return s;const i=this.cwd.resolve(e).fullpathPosix();return this.#s.set(e,i),i}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const i=await t.readdir();return s?i:i.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(i=>i.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set,p=(g,y)=>{l.add(g),g.readdirCB((w,_)=>{if(w)return y(w);let v=_.length;if(!v)return y();const T=()=>{--v===0&&y()};for(const O of _)(!n||n(O))&&c.push(s?O:O.fullpath()),i&&O.isSymbolicLink()?O.realpath().then(A=>A?.isUnknown()?A.lstat():A).then(A=>A?.shouldWalk(l,o)?p(A,T):T()):O.shouldWalk(l,o)?p(O,T):T()},!0)},b=t;return new Promise((g,y)=>{p(b,w=>{if(w)return y(w);g(c)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=[];(!n||n(t))&&c.push(s?t:t.fullpath());const l=new Set([t]);for(const p of l){const b=p.readdirSync();for(const g of b){(!n||n(g))&&c.push(s?g:g.fullpath());let y=g;if(g.isSymbolicLink()){if(!(i&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(l,o)&&l.add(y)}}return c}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield s?t:t.fullpath());const c=new Set([t]);for(const l of c){const p=l.readdirSync();for(const b of p){(!n||n(b))&&(yield s?b:b.fullpath());let g=b;if(b.isSymbolicLink()){if(!(i&&(g=b.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(c,o)&&c.add(g)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0});(!n||n(t))&&c.write(s?t:t.fullpath());const l=new Set,p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=(T,O,A=!1)=>{if(T)return c.emit("error",T);if(i&&!A){const P=[];for(const R of O)R.isSymbolicLink()&&P.push(R.realpath().then(F=>F?.isUnknown()?F.lstat():F));if(P.length){Promise.all(P).then(()=>_(null,O,!0));return}}for(const P of O)P&&(!n||n(P))&&(c.write(s?P:P.fullpath())||(y=!0));b--;for(const P of O){const R=P.realpathCached()||P;R.shouldWalk(l,o)&&p.push(R)}y&&!c.flowing?c.once("drain",g):v||g()};let v=!0;w.readdirCB(_,!0),v=!1}};return g(),c}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Y||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:n,walkFilter:o}=e,c=new bs.Minipass({objectMode:!0}),l=new Set;(!n||n(t))&&c.write(s?t:t.fullpath());const p=[t];let b=0;const g=()=>{let y=!1;for(;!y;){const w=p.shift();if(!w){b===0&&c.end();return}b++,l.add(w);const _=w.readdirSync();for(const v of _)(!n||n(v))&&(c.write(s?v:v.fullpath())||(y=!0));b--;for(const v of _){let T=v;if(v.isSymbolicLink()){if(!(i&&(T=v.realpathSync())))continue;T.isUnknown()&&T.lstatSync()}T.shouldWalk(l,o)&&p.push(T)}}y&&!c.flowing&&c.once("drain",g)};return g(),c}chdir(t=this.cwd){const e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[Ds](e)}}B.PathScurryBase=De;class Le extends De{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,he.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(t){return he.win32.parse(t).root.toUpperCase()}newRoot(t){return new Yt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}B.PathScurryWin32=Le;class je extends De{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,he.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Kt(this.rootPath,ht,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}B.PathScurryPosix=je;class Ls extends je{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}B.PathScurryDarwin=Ls,B.Path=process.platform==="win32"?Yt:Kt,B.PathScurry=process.platform==="win32"?Le:process.platform==="darwin"?Ls:je;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.Pattern=void 0;const Fi=mt,ki=r=>r.length>=1,Ni=r=>r.length>=1;class $e{#t;#s;#n;length;#i;#o;#l;#f;#a;#h;#e=!0;constructor(t,e,s,i){if(!ki(t))throw new TypeError("empty pattern list");if(!Ni(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#s=e,this.#n=s,this.#i=i,this.#n===0){if(this.isUNC()){const[n,o,c,l,...p]=this.#t,[b,g,y,w,..._]=this.#s;p[0]===""&&(p.shift(),_.shift());const v=[n,o,c,l,""].join("/"),T=[b,g,y,w,""].join("/");this.#t=[v,...p],this.#s=[T,..._],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[n,...o]=this.#t,[c,...l]=this.#s;o[0]===""&&(o.shift(),l.shift());const p=n+"/",b=c+"/";this.#t=[p,...o],this.#s=[b,...l],this.length=this.#t.length}}}pattern(){return this.#t[this.#n]}isString(){return typeof this.#t[this.#n]=="string"}isGlobstar(){return this.#t[this.#n]===Fi.GLOBSTAR}isRegExp(){return this.#t[this.#n]instanceof RegExp}globString(){return this.#l=this.#l||(this.#n===0?this.isAbsolute()?this.#s[0]+this.#s.slice(1).join("/"):this.#s.join("/"):this.#s.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new $e(this.#t,this.#s,this.#n+1,this.#i),this.#o.#h=this.#h,this.#o.#a=this.#a,this.#o.#f=this.#f,this.#o):this.#o=null}isUNC(){const t=this.#t;return this.#a!==void 0?this.#a:this.#a=this.#i==="win32"&&this.#n===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){const t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#n===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return this.#h!==void 0?this.#h:this.#h=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#n===0?t:""}checkFollowGlobstar(){return!(this.#n===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#n===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}}zt.Pattern=$e;var wt={},js={};const Fs=typeof process=="object"&&process?process:{stdout:null,stderr:null},Bi=Ke,ks=Je,Ii=Ze,Ns=Ii.StringDecoder,ct=Symbol("EOF"),ft=Symbol("maybeEmitEnd"),bt=Symbol("emittedEnd"),fe=Symbol("emittingEnd"),Ut=Symbol("emittedError"),ue=Symbol("closed"),Bs=Symbol("read"),de=Symbol("flush"),Is=Symbol("flushChunk"),Z=Symbol("encoding"),ut=Symbol("decoder"),pe=Symbol("flowing"),Ht=Symbol("paused"),At=Symbol("resume"),G=Symbol("buffer"),ot=Symbol("pipes"),U=Symbol("bufferLength"),Fe=Symbol("bufferPush"),ke=Symbol("bufferShift"),H=Symbol("objectMode"),x=Symbol("destroyed"),Ne=Symbol("error"),Be=Symbol("emitData"),Ws=Symbol("emitEnd"),Ie=Symbol("emitEnd2"),dt=Symbol("async"),We=Symbol("abort"),me=Symbol("aborted"),_t=Symbol("signal"),qt=r=>Promise.resolve().then(r),Gs=it._MP_NO_ITERATOR_SYMBOLS_!=="1",xs=Gs&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$s=Gs&&Symbol.iterator||Symbol("iterator not implemented"),Wi=r=>r==="end"||r==="finish"||r==="prefinish",Gi=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,xi=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r);class zs{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[At](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class $i extends zs{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=i=>e.emit("error",i),t.on("error",this.proxyErrors)}}class ze extends ks{constructor(t){super(),this[pe]=!1,this[Ht]=!1,this[ot]=[],this[G]=[],this[H]=t&&t.objectMode||!1,this[H]?this[Z]=null:this[Z]=t&&t.encoding||null,this[Z]==="buffer"&&(this[Z]=null),this[dt]=t&&!!t.async||!1,this[ut]=this[Z]?new Ns(this[Z]):null,this[ct]=!1,this[bt]=!1,this[fe]=!1,this[ue]=!1,this[Ut]=null,this.writable=!0,this.readable=!0,this[U]=0,this[x]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[G]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ot]}),this[_t]=t&&t.signal,this[me]=!1,this[_t]&&(this[_t].addEventListener("abort",()=>this[We]()),this[_t].aborted&&this[We]())}get bufferLength(){return this[U]}get encoding(){return this[Z]}set encoding(t){if(this[H])throw new Error("cannot set encoding in objectMode");if(this[Z]&&t!==this[Z]&&(this[ut]&&this[ut].lastNeed||this[U]))throw new Error("cannot change encoding");this[Z]!==t&&(this[ut]=t?new Ns(t):null,this[G].length&&(this[G]=this[G].map(e=>this[ut].write(e)))),this[Z]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[H]}set objectMode(t){this[H]=this[H]||!!t}get async(){return this[dt]}set async(t){this[dt]=this[dt]||!!t}[We](){this[me]=!0,this.emit("abort",this[_t].reason),this.destroy(this[_t].reason)}get aborted(){return this[me]}set aborted(t){}write(t,e,s){if(this[me])return!1;if(this[ct])throw new Error("write after end");if(this[x])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");const i=this[dt]?qt:n=>n();return!this[H]&&!Buffer.isBuffer(t)&&(xi(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gi(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[H]?(this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[Z]&&!this[ut].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[Z]&&(t=this[ut].write(t)),this.flowing&&this[U]!==0&&this[de](!0),this.flowing?this.emit("data",t):this[Fe](t),this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing):(this[U]!==0&&this.emit("readable"),s&&i(s),this.flowing)}read(t){if(this[x])return null;if(this[U]===0||t===0||t>this[U])return this[ft](),null;this[H]&&(t=null),this[G].length>1&&!this[H]&&(this.encoding?this[G]=[this[G].join("")]:this[G]=[Buffer.concat(this[G],this[U])]);const e=this[Bs](t||null,this[G][0]);return this[ft](),e}[Bs](t,e){return t===e.length||t===null?this[ke]():(this[G][0]=e.slice(t),e=e.slice(0,t),this[U]-=t),this.emit("data",e),!this[G].length&&!this[ct]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[ct]=!0,this.writable=!1,(this.flowing||!this[Ht])&&this[ft](),this}[At](){this[x]||(this[Ht]=!1,this[pe]=!0,this.emit("resume"),this[G].length?this[de]():this[ct]?this[ft]():this.emit("drain"))}resume(){return this[At]()}pause(){this[pe]=!1,this[Ht]=!0}get destroyed(){return this[x]}get flowing(){return this[pe]}get paused(){return this[Ht]}[Fe](t){this[H]?this[U]+=1:this[U]+=t.length,this[G].push(t)}[ke](){return this[H]?this[U]-=1:this[U]-=this[G][0].length,this[G].shift()}[de](t){do;while(this[Is](this[ke]())&&this[G].length);!t&&!this[G].length&&!this[ct]&&this.emit("drain")}[Is](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[x])return;const s=this[bt];return e=e||{},t===Fs.stdout||t===Fs.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ot].push(e.proxyErrors?new $i(this,t,e):new zs(this,t,e)),this[dt]?qt(()=>this[At]()):this[At]()),t}unpipe(t){const e=this[ot].find(s=>s.dest===t);e&&(this[ot].splice(this[ot].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);return t==="data"&&!this[ot].length&&!this.flowing?this[At]():t==="readable"&&this[U]!==0?super.emit("readable"):Wi(t)&&this[bt]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Ut]&&(this[dt]?qt(()=>e.call(this,this[Ut])):e.call(this,this[Ut])),s}get emittedEnd(){return this[bt]}[ft](){!this[fe]&&!this[bt]&&!this[x]&&this[G].length===0&&this[ct]&&(this[fe]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ue]&&this.emit("close"),this[fe]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==x&&this[x])return;if(t==="data")return!this[H]&&!e?!1:this[dt]?qt(()=>this[Be](e)):this[Be](e);if(t==="end")return this[Ws]();if(t==="close"){if(this[ue]=!0,!this[bt]&&!this[x])return;const n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[Ut]=e,super.emit(Ne,e);const n=!this[_t]||this.listeners("error").length?super.emit("error",e):!1;return this[ft](),n}else if(t==="resume"){const n=super.emit("resume");return this[ft](),n}else if(t==="finish"||t==="prefinish"){const n=super.emit(t);return this.removeAllListeners(t),n}const i=super.emit(t,e,...s);return this[ft](),i}[Be](t){for(const s of this[ot])s.dest.write(t)===!1&&this.pause();const e=super.emit("data",t);return this[ft](),e}[Ws](){this[bt]||(this[bt]=!0,this.readable=!1,this[dt]?qt(()=>this[Ie]()):this[Ie]())}[Ie](){if(this[ut]){const e=this[ut].end();if(e){for(const s of this[ot])s.dest.write(e);super.emit("data",e)}}for(const e of this[ot])e.end();const t=super.emit("end");return this.removeAllListeners("end"),t}collect(){const t=[];this[H]||(t.dataLength=0);const e=this.promise();return this.on("data",s=>{t.push(s),this[H]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[H]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[H]?Promise.reject(new Error("cannot concat in objectMode")):this[Z]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(x,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[xs](){let t=!1;const e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();const i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[ct])return e();let n=null,o=null;const c=g=>{this.removeListener("data",l),this.removeListener("end",p),this.removeListener(x,b),e(),o(g)},l=g=>{this.removeListener("error",c),this.removeListener("end",p),this.removeListener(x,b),this.pause(),n({value:g,done:!!this[ct]})},p=()=>{this.removeListener("error",c),this.removeListener("data",l),this.removeListener(x,b),e(),n({done:!0})},b=()=>c(new Error("stream destroyed"));return new Promise((g,y)=>{o=y,n=g,this.once(x,b),this.once("error",c),this.once("end",p),this.once("data",l)})},throw:e,return:e,[xs](){return this}}}[$s](){let t=!1;const e=()=>(this.pause(),this.removeListener(Ne,e),this.removeListener(x,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();const i=this.read();return i===null?e():{value:i}};return this.once("end",e),this.once(Ne,e),this.once(x,e),{next:s,throw:e,return:e,[$s](){return this}}}destroy(t){return this[x]?(t?this.emit("error",t):this.emit(x),this):(this[x]=!0,this[G].length=0,this[U]=0,typeof this.close=="function"&&!this[ue]&&this.close(),t?this.emit("error",t):this.emit(x),this)}static isStream(t){return!!t&&(t instanceof ze||t instanceof ks||t instanceof Bi&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}js.Minipass=ze;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.Ignore=void 0;const Us=mt,zi=zt,Ui=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Hi{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:i,noglobstar:n,platform:o=Ui}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const c={dot:!0,nobrace:e,nocase:s,noext:i,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(const l of t){const p=new Us.Minimatch(l,c);for(let b=0;b<p.set.length;b++){const g=p.set[b],y=p.globParts[b],w=new zi.Pattern(g,y,0,o),_=new Us.Minimatch(w.globString(),c),v=y[y.length-1]==="**",T=w.isAbsolute();T?this.absolute.push(_):this.relative.push(_),v&&(T?this.absoluteChildren.push(_):this.relativeChildren.push(_))}}}ignored(t){const e=t.fullpath(),s=`${e}/`,i=t.relative()||".",n=`${i}/`;for(const o of this.relative)if(o.match(i)||o.match(n))return!0;for(const o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const i of this.relativeChildren)if(i.match(s))return!0;for(const i of this.absoluteChildren)i.match(e);return!1}}ge.Ignore=Hi;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.Processor=at.SubWalks=at.MatchRecord=at.HasWalkedCache=void 0;const Hs=mt;class ye{store;constructor(t=new Map){this.store=t}copy(){return new ye(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),i=this.store.get(s);i?i.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}at.HasWalkedCache=ye;class qs{store=new Map;add(t,e,s){const i=(e?2:0)|(s?1:0),n=this.store.get(t);this.store.set(t,n===void 0?i:i&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}}at.MatchRecord=qs;class Vs{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find(i=>i.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}at.SubWalks=Vs;class Ue{hasWalkedCache;matches=new qs;subwalks=new Vs;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new ye}processPatterns(t,e){this.patterns=e;const s=e.map(i=>[t,i]);for(let[i,n]of s){this.hasWalkedCache.storeWalked(i,n);const o=n.root(),c=n.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);const g=n.rest();if(g)n=g;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,p,b=!1;for(;typeof(l=n.pattern())=="string"&&(p=n.rest());){const g=i.resolve(l);if(g.isUnknown()&&l!=="..")break;i=g,n=p,b=!0}if(l=n.pattern(),p=n.rest(),b){if(this.hasWalkedCache.hasWalked(i,n))continue;this.hasWalkedCache.storeWalked(i,n)}if(typeof l=="string"){if(p)this.subwalks.add(i,n);else{const g=l===".."||l===""||l===".";this.matches.add(i.resolve(l),c,g)}continue}else if(l===Hs.GLOBSTAR){(!i.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(i,n);const g=p?.pattern(),y=p?.rest();if(!p||(g===""||g===".")&&!y)this.matches.add(i,c,g===""||g===".");else if(g===".."){const w=i.parent||i;y?this.hasWalkedCache.hasWalked(w,y)||this.subwalks.add(w,y):this.matches.add(w,c,!0)}}else l instanceof RegExp&&this.subwalks.add(i,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Ue(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),i=this.child();for(const n of e)for(const o of s){const c=o.isAbsolute(),l=o.pattern(),p=o.rest();l===Hs.GLOBSTAR?i.testGlobstar(n,o,p,c):l instanceof RegExp?i.testRegExp(n,l,p,c):i.testString(n,l,p,c)}return i}testGlobstar(t,e,s,i){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const n=s.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,s.rest(),i);else if(n===".."){const o=t.parent||t;this.subwalks.add(o,s)}else n instanceof RegExp&&this.testRegExp(t,n,s.rest(),i)}}testRegExp(t,e,s,i){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}testString(t,e,s,i){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}}at.Processor=Ue,Object.defineProperty(wt,"__esModule",{value:!0}),wt.GlobStream=wt.GlobWalker=wt.GlobUtil=void 0;const qi=js,Ys=ge,Ks=at,Vi=(r,t)=>typeof r=="string"?new Ys.Ignore([r],t):Array.isArray(r)?new Ys.Ignore(r,t):r;class Ge{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#s;#n;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#n=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#s=Vi(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#s?.ignored?.(t)}#o(t){return!!this.#s?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?t.lstatSync():t,e)}matchFinish(t,e){if(this.#i(t))return;const s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?this.#n:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+i)}else{const n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#n)?"."+this.#n:"";this.matchEmit(n?o+n+i:"."+i)}}async match(t,e,s){const i=await this.matchCheck(t,s);i&&this.matchFinish(i,e)}matchSync(t,e,s){const i=this.matchCheckSync(t,s);i&&this.matchFinish(i,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new Ks.Processor(this.opts),s)}walkCB2(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirCached();c.calledReaddir()?this.walkCB3(c,l,s,o):c.readdirCB((p,b)=>this.walkCB3(c,b,s,o),!0)}o()}walkCB3(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||(n++,this.match(c,l,p).then(()=>o()));for(const[c,l]of s.subwalks.entries())n++,this.walkCB2(c,l,s.child(),o);o()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new Ks.Processor(this.opts),s)}walkCB2Sync(t,e,s,i){if(this.#o(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,i));return}s.processPatterns(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const c of s.subwalkTargets()){if(this.maxDepth!==1/0&&c.depth()>=this.maxDepth)continue;n++;const l=c.readdirSync();this.walkCB3Sync(c,l,s,o)}o()}walkCB3Sync(t,e,s,i){s=s.filterEntries(t,e);let n=1;const o=()=>{--n===0&&i()};for(const[c,l,p]of s.matches.entries())this.#i(c)||this.matchSync(c,l,p);for(const[c,l]of s.subwalks.entries())n++,this.walkCB2Sync(c,l,s.child(),o);o()}}wt.GlobUtil=Ge;class Yi extends Ge{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}wt.GlobWalker=Yi;class Ki extends Ge{results;constructor(t,e,s){super(t,e,s),this.results=new qi.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}wt.GlobStream=Ki,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.Glob=void 0;const Ji=mt,we=B,Zi=Ve,Xi=zt,be=wt,Qi=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class tr{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Zi.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=t,this.platform=e.platform||Qi,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const l=e.platform==="win32"?we.PathScurryWin32:e.platform==="darwin"?we.PathScurryDarwin:e.platform?we.PathScurryPosix:we.PathScurry;this.scurry=new l(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32",i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(l=>new Ji.Minimatch(l,i)),[o,c]=n.reduce((l,p)=>(l[0].push(...p.set),l[1].push(...p.globParts),l),[[],[]]);this.patterns=o.map((l,p)=>new Xi.Pattern(l,c[p],0,this.platform))}async walk(){return[...await new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new be.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new be.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}Nt.Glob=tr;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.hasMagic=void 0;const er=mt,sr=(r,t={})=>{Array.isArray(r)||(r=[r]);for(const e of r)if(new er.Minimatch(e,t).hasMagic())return!0;return!1};Vt.hasMagic=sr,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.glob=r.hasMagic=r.Glob=r.unescape=r.escape=r.sync=r.iterate=r.iterateSync=r.stream=r.streamSync=r.globIterate=r.globIterateSync=r.globSync=r.globStream=r.globStreamSync=void 0;const t=mt,e=Nt,s=Vt;function i(w,_={}){return new e.Glob(w,_).streamSync()}r.globStreamSync=i;function n(w,_={}){return new e.Glob(w,_).stream()}r.globStream=n;function o(w,_={}){return new e.Glob(w,_).walkSync()}r.globSync=o;async function c(w,_={}){return new e.Glob(w,_).walk()}function l(w,_={}){return new e.Glob(w,_).iterateSync()}r.globIterateSync=l;function p(w,_={}){return new e.Glob(w,_).iterate()}r.globIterate=p,r.streamSync=i,r.stream=Object.assign(n,{sync:i}),r.iterateSync=l,r.iterate=Object.assign(p,{sync:l}),r.sync=Object.assign(o,{stream:i,iterate:l});var b=mt;Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return b.escape}}),Object.defineProperty(r,"unescape",{enumerable:!0,get:function(){return b.unescape}});var g=Nt;Object.defineProperty(r,"Glob",{enumerable:!0,get:function(){return g.Glob}});var y=Vt;Object.defineProperty(r,"hasMagic",{enumerable:!0,get:function(){return y.hasMagic}}),r.glob=Object.assign(c,{glob:c,globSync:o,sync:r.sync,globStream:n,stream:r.stream,globStreamSync:i,streamSync:r.streamSync,globIterate:p,iterate:r.iterate,globIterateSync:l,iterateSync:r.iterateSync,Glob:e.Glob,hasMagic:s.hasMagic,escape:t.escape,unescape:t.unescape}),r.glob.glob=r.glob}(Xe);const{globSync:ir}=Xe;var rr=function(){return function(t){if(directoryExists(t))return!0;const e=t.replace(/\/__virtual__:.*$/,"");return ir(e+"/").length>0}},nr=ti(rr);module.exports=nr;
+;return module.exports()})({}),
             createDirectory(directoryName) {
               if (!nodeSystem.directoryExists(directoryName)) {
                 try {
@@ -41403,7 +41575,20 @@ ${lanes.join("\n")}
         trace(state.host, Diagnostics.Module_name_0_matched_pattern_1, moduleName, matchedPatternText);
       }
       const resolved = forEach(paths[matchedPatternText], (subst) => {
-        const path = matchedStar ? subst.replace("*", matchedStar) : subst;
+        const unreplacedPath = (matchedStar ? subst.replace("*", matchedStar) : subst);
+let path;
+if (unreplacedPath.includes('./<packagePath>')) {
+	path = unreplacedPath.replace('./<packagePath>', getPackagePath(state.requestContainingDirectory))
+} else {
+	path = unreplacedPath
+}
+
+if (path.includes('./<dirname>')) {
+	path = path.replace(
+		'./<dirname>',
+		state.requestContainingDirectory
+	)
+}
         const candidate = normalizePath(combinePaths(baseDirectory, path));
         if (state.traceEnabled) {
           trace(state.host, Diagnostics.Trying_substitution_0_candidate_module_location_Colon_1, subst, path);
@@ -120571,7 +120756,7 @@ ${lanes.join("\n")}
       if (options.composite) {
         const rootPaths = new Set(rootNames.map(toPath3));
         for (const file of files) {
-          if (sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
+          if (!require('path').basename(file.path).startsWith('__virtual__:') && require('path').basename(file.path) !== 'package.json' && sourceFileMayBeEmitted(file, program) && !rootPaths.has(file.path)) {
             addProgramDiagnosticExplainingFile(
               file,
               Diagnostics.File_0_is_not_listed_within_the_file_list_of_project_1_Projects_must_list_all_files_or_use_an_include_pattern,